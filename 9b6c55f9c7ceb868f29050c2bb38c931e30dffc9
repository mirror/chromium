{
  "comments": [
    {
      "key": {
        "uuid": "a4687ce1_dd513afd",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "I don\u0027t see what triggers \"shutdown\" here? You mean \"run until idle\"? That\u0027s a common op and I\u0027m pretty sure we have tests for this already.",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28afc396_d1b3ef1c",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:58:13Z",
      "side": 1,
      "message": "Actually, thought about this some more, run_loop_unittest.cc uses a default MessageLoop, so I guess it\u0027s good to have redundancy here for all MessagePumps (since they often have their own definition of \"idle\").\n\nDid \"idle\" not work properly before this change? (i.e. would this test have passed on its own prior to this CL? if not I\u0027m wondering if this could address https://bugs.chromium.org/p/chromium/issues/detail?id\u003d754703#c6 where it looks like content::RunAllBlockingPoolTasksUntilIdle() fails to reliably flush everything on Android).",
      "parentUuid": "a4687ce1_dd513afd",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfff2b4a_aa901d92",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:18:53Z",
      "side": 1,
      "message": "So I\u0027ve deleted this test, as I think it\u0027s redundant with run_loop_unittest as written, given that it only uses the default message loop type. Perhaps it wouldn\u0027t be redundant if we ran it for each message loop type?\n\nI\u0027ll respond on the bug re RunAllBlockingPoolTasksUntilIdle",
      "parentUuid": "28afc396_d1b3ef1c",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54fd7067_b5c581b7",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:32:48Z",
      "side": 1,
      "message": "Oh and to answer your question, idle did work before this change for non-UI/Java type loops as they use message_pump_default which isn\u0027t broken as far as I know :P",
      "parentUuid": "bfff2b4a_aa901d92",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "369f3000_a1e3fce2",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-18T14:17:00Z",
      "side": 1,
      "message": "I\u0027m going to land as-is, and if we want to add more thorough tests for non-java message loop shutdown I can do that in a followup.",
      "parentUuid": "54fd7067_b5c581b7",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5eaf72d_ec743f03",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-18T15:26:24Z",
      "side": 1,
      "message": "Ah wait, it would have to be a MessageLoopTypedTest to be tested under all pumps. Can we do that? Would that have caught this problem before? If so that\u0027s a good regression test to have?",
      "parentUuid": "369f3000_a1e3fce2",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "621c871f_744a01aa",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1872,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-18T17:27:10Z",
      "side": 1,
      "message": "Will do in followup, I think that\u0027s a good regression test to have.",
      "parentUuid": "b5eaf72d_ec743f03",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f3fdde3_97088744",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1882,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "Not sure why we shouldn\u0027t just rely on regular test timeout (why is this test special?)",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a8dd5e5_a209ee03",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1882,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:18:53Z",
      "side": 1,
      "message": "I\u0027m testing that we don\u0027t wait to run delayed tasks. (Upped the timeout to 1 day, like the equivalent test in run_loop_unittest)",
      "parentUuid": "9f3fdde3_97088744",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "593dc87c_c99cd7e0",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1883,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "s/NOTREACHED()/ADD_FAILURE()/",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ede90f5_c23be464",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1883,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:18:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "593dc87c_c99cd7e0",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6e2916f_0f792035",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1884,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "FromSeconds(5)",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b773bd5c_98a32011",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1884,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:18:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6e2916f_0f792035",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bafa6a24_a9f33be2",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1889,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "RunLoop().RunUntilIdle() here instead of binding |run_loop| only to call QuitWhenidle()",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4e571a0_7e5ac0f8",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1889,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:18:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bafa6a24_a9f33be2",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a79ce91_02aefa85",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1896,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "I see the benefit of this test, but the previous one is merely testing RunUntilIdle() which is thoroughly tested if not here, in run_loop_unittest.cc for sure.",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f79ef379_1a36222c",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1924,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-17T20:26:36Z",
      "side": 1,
      "message": "ditto on the same nits as test above",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8751d0c3_e462e998",
        "filename": "base/message_loop/message_loop_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 1924,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T21:18:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f79ef379_1a36222c",
      "revId": "9b6c55f9c7ceb868f29050c2bb38c931e30dffc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}