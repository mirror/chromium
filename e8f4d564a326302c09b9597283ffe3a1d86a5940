{
  "comments": [
    {
      "key": {
        "uuid": "9e456a1f_80f0abe6",
        "filename": "chrome/browser/devtools/global_confirm_info_bar.cc",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1137015
      },
      "writtenOn": "2017-07-10T21:38:28Z",
      "side": 1,
      "message": "Fixing lint warning while I\u0027m here.",
      "range": {
        "startLine": 7,
        "startChar": 17,
        "endLine": 7,
        "endChar": 0
      },
      "revId": "e8f4d564a326302c09b9597283ffe3a1d86a5940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c6c937b_a5bd2cfe",
        "filename": "chrome/browser/devtools/global_confirm_info_bar.cc",
        "patchSetId": 1
      },
      "lineNbr": 221,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-07-11T17:41:49Z",
      "side": 1,
      "message": "- This is nullptr deferecence, not quite use after free\n- Looking at the code, we only get nullptr if infobars are disabled, we should instead check for that when creating global infobar?",
      "revId": "e8f4d564a326302c09b9597283ffe3a1d86a5940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33ccc2cc_dcd03a29",
        "filename": "chrome/browser/devtools/global_confirm_info_bar.cc",
        "patchSetId": 1
      },
      "lineNbr": 221,
      "author": {
        "id": 1137015
      },
      "writtenOn": "2017-07-11T18:49:43Z",
      "side": 1,
      "message": "The use-after-free was happening with |proxy_ptr|, which is dereferenced first, not with |added_bar|.\n\nI feel like checking for the return value of AddInfoBar() is a bit more future-proof.\nIt doesn\u0027t matter what caused the info bar to not be added, but it\u0027s handled. WDYT?",
      "parentUuid": "8c6c937b_a5bd2cfe",
      "revId": "e8f4d564a326302c09b9597283ffe3a1d86a5940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3df5479a_253b153f",
        "filename": "chrome/browser/devtools/global_confirm_info_bar.cc",
        "patchSetId": 1
      },
      "lineNbr": 221,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2017-07-14T20:58:56Z",
      "side": 1,
      "message": "Yes, do things as you\u0027ve done them here, by checking the AddInfoBar return value directly.  Don\u0027t try to check whether infobars are disabled when creating the global infobar; you don\u0027t know why else AddInfobar() may fail in the future, especially on other platforms as we change the UI.\n\nMake sure users of GlobalInfoBar won\u0027t have problems/leaks if this fails to add an infobar, but the GlobalInfoBar itself doesn\u0027t get cleaned up properly or doesn\u0027t notify someone or something.",
      "parentUuid": "33ccc2cc_dcd03a29",
      "revId": "e8f4d564a326302c09b9597283ffe3a1d86a5940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}