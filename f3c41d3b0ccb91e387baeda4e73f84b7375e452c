{
  "comments": [
    {
      "key": {
        "uuid": "74bbcf49_4bcf8cdd",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "Should this be called bytes_read?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57dfbdf0_9dd7e40b",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 52,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "Don\u0027t use default: label, so the compiler can warn if something wasn\u0027t handled.",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72137fc5_9f662aa2",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "This comment doesn\u0027t seem useful.",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d78be498_c37f325d",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-07-10T04:52:12Z",
      "side": 1,
      "message": "blink::WebVector\u003cBytesChunk\u003e",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7886c7a7_d4112394",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "Hm, would this still cause copy? I think it\u0027s fine to expose std::vector out of blink or add convenient methods there if the current code\u0027s introducing inefficiency.\n\nAlso should we DCHECK reading out data is done at this point?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3734957_5784b727",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 82,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-07-10T04:52:12Z",
      "side": 1,
      "message": "I feel \"blink::WebVector doesn\u0027t have push_back\" doesn\u0027t clearly explain your intention. How about \"... because blink::WebVector is immutable and cannot append data\"?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70fa5f6c_ab5f1325",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 88,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "nit: BundledReceivers, maybe, Receivers and Receiver look too alike",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "793c8141_f1eff5d8",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 133,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "Does this mean we should try to signal an error?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5659eb62_0330dd1d",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 153,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "nit: do running_receivers_.found() and use the iter here and to erase it?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02975981_1986f33c",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 184,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "DCHECK script_data_ doesn\u0027t have url?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32402589_8211c60f",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 200,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-07-10T04:52:12Z",
      "side": 1,
      "message": "Why do you wait in the while loop? Is this a guard for \"spurious wakeup\"? If so, can you add a comment about it?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa0d0cde_405302d8",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 201,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "nit: \u0027is_completed_\u0027 sounds more like \u0027it has completed the work\u0027, while here it seems to mean \u0027there has been something wrong\u0027... should this be rather, say, \u0027connection_closed_\u0027 or something like that?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62317646_c58f070a",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-07-10T04:52:12Z",
      "side": 1,
      "message": "This class would be slightly too big/complicated to keep it as a nested class, so how about moving this into its own file? It\u0027d be helps for writing unit tests and avoiding the number of key types (\"WebServiceWorkerInstalledScriptsManagerImpl::\" is not necessary :)",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13de5de6_1c5244e6",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "Can you describe the flow in more detail. Something like: \"The IO thread adds scripts to the container, and the worker thread takes the scripts.\"\n\nCan there be multiple worker threads? Or each worker thread has one InstalledScriptsManager, and one ScriptContainer?",
      "parentUuid": "62317646_c58f070a",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e155b5a4_eab65735",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "If only the IO thread will call this, can we say that  and DCHECK it to give more constraints to the control flow?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "562b01bb_c8c32203",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "Is Exists only called by the worker thread?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3108503f_abe4d0db",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-07-10T04:52:12Z",
      "side": 1,
      "message": "s/error/an error/",
      "range": {
        "startLine": 32,
        "startChar": 29,
        "endLine": 32,
        "endChar": 30
      },
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75b56322_5f79d707",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "nit: Please explicitly note that this shouldn\u0027t be called on the main thread. Also \u0027error happens\u0027 is a bit vague, could make it clear what\u0027s expected in the case? (E.g. this returns false if the wait finished with an error, in the case no script data may be available for the URL and the caller should... bula bula)",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab49af94_55cb500c",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "It\u0027s probably clear, but I\u0027d like to say this is a blocking wait.",
      "range": {
        "startLine": 32,
        "startChar": 4,
        "endLine": 32,
        "endChar": 5
      },
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e760588_fd542f5e",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-07-10T05:50:37Z",
      "side": 1,
      "message": "Is Take only called by the worker thread?",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54f49313_0af2461c",
        "filename": "content/renderer/service_worker/web_service_worker_installed_scripts_manager_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-07-10T05:35:38Z",
      "side": 1,
      "message": "and waiting_cv_",
      "revId": "f3c41d3b0ccb91e387baeda4e73f84b7375e452c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}