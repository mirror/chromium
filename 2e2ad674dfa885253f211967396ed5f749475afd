{
  "comments": [
    {
      "key": {
        "uuid": "b032f492_2f5a1311",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1203034
      },
      "writtenOn": "2017-10-10T07:26:29Z",
      "side": 1,
      "message": "Since \"gerrit:current_user\" is not working like \"gerrit:change_owner\" (for now), we don\u0027t know who is accessing a change in prolog rules.\n\nThus, the rules are defining how a change could be submittable rather than who can submit it. Anyone with \u0027Submit\u0027 permission can submit a change once it\u0027s submittable no matter who creates it.\n\nIn v1, a change will be submittable:\n\n1- If it\u0027s created by FindIt, it\u0027s \u0027on-master\u0027 and \u0027pure-revert\u0027.\n2- If it\u0027s not created by FindIt, it has \u0027Code-Review +1\u0027.\n\n\nThe rules LGTM. But I think the commit message needs to be adjusted. \n\nBy the way, how do you think if a change is created by FindIt but someone else pushes a new patch set to it? The change can still meet condition 1-.",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db58f879_d6713f08",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1002882
      },
      "writtenOn": "2017-10-10T07:56:53Z",
      "side": 1,
      "message": "\u003e By the way, how do you think if a change is created by FindIt but someone else pushes a new patch set to it? The change can still meet condition 1-.\n\nI might be wrong, but IIUC when someone else pushes a new patch set to a revert change created by Findit, Findit\u0027s change is not any more a pure revert of the reverted change referred to by the revert_of field, and as a result it is not submittable.",
      "parentUuid": "b032f492_2f5a1311",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "154b3c30_92a1113a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1171339
      },
      "writtenOn": "2017-10-10T08:00:24Z",
      "side": 1,
      "message": "\u003e I might be wrong, but IIUC when someone else pushes a new patch set to a revert change created by Findit, Findit\u0027s change is not any more a pure revert of the reverted change referred to by the revert_of field, and as a result it is not submittable.\n\nThat depends on what the user pushed. E.g. The change is still a pure revert if the new PS just rebases it. But I think this is intended.",
      "parentUuid": "db58f879_d6713f08",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "deb09214_7217a065",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1203034
      },
      "writtenOn": "2017-10-10T08:00:57Z",
      "side": 1,
      "message": "Not really. If FindIt creates a change A which reverts change B. Then someone else pushes a new patch set to A with a revert of C. Change A is still a pure-revert but with different content.",
      "parentUuid": "db58f879_d6713f08",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3034f347_adaa6661",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1171339
      },
      "writtenOn": "2017-10-10T08:09:50Z",
      "side": 1,
      "message": "\u003e Change A is still a pure-revert but with different content.\n\nNo. \u0027revertOf\u0027 is immutable, so it can\u0027t be changed after change creation. Hence \u0027pureRevert\u0027 woudl return false in this case.",
      "parentUuid": "deb09214_7217a065",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d125a3bb_7235e399",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1002882
      },
      "writtenOn": "2017-10-10T08:11:31Z",
      "side": 1,
      "message": "In this case Changcheng mentioned, the revert_of field in A points to B instead of C, and I thought that would fail the pure-revert validation.\n\nIf this is not the case, we might have to revisit the design, because there might be a potential security hole here.\n\nCould you help confirm?",
      "parentUuid": "deb09214_7217a065",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1cf6c86_42650a11",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1171339
      },
      "writtenOn": "2017-10-10T08:12:47Z",
      "side": 1,
      "message": "See my previous comment :)",
      "parentUuid": "d125a3bb_7235e399",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8926df1_0a2e7cfc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1002882
      },
      "writtenOn": "2017-10-10T08:15:10Z",
      "side": 1,
      "message": "Many thanks Patrick and Changcheng for your help!\n\nIt seems we are all good with this v1 submit rule expect the CL description should be updated to be more accurate.",
      "parentUuid": "d125a3bb_7235e399",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a48960d3_51bd2fb4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1203034
      },
      "writtenOn": "2017-10-10T08:15:28Z",
      "side": 1,
      "message": "+1 for Patrick\u0027s answer.",
      "parentUuid": "e1cf6c86_42650a11",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f5a3009_a283189a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 1,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2017-10-10T17:24:07Z",
      "side": 1,
      "message": "Thank you so much for your comments!",
      "parentUuid": "a48960d3_51bd2fb4",
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54a999df_dd14bf12",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 14,
      "author": {
        "id": 1002882
      },
      "writtenOn": "2017-10-10T06:47:08Z",
      "side": 1,
      "message": "typo",
      "range": {
        "startLine": 14,
        "startChar": 42,
        "endLine": 14,
        "endChar": 50
      },
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fab8741_2c897723",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 14,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2017-10-10T17:24:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54a999df_dd14bf12",
      "range": {
        "startLine": 14,
        "startChar": 42,
        "endLine": 14,
        "endChar": 50
      },
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0820e07_b333d8ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1203034
      },
      "writtenOn": "2017-10-10T07:26:29Z",
      "side": 1,
      "message": "nit:s/user/users",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fe65b9b_02ceb44b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2017-10-10T17:24:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e0820e07_b333d8ee",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b89dee13_425fabc6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1002882
      },
      "writtenOn": "2017-10-10T06:47:08Z",
      "side": 1,
      "message": "nit: itself",
      "range": {
        "startLine": 19,
        "startChar": 59,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ae2ed54_012d9dc2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2017-10-10T17:24:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b89dee13_425fabc6",
      "range": {
        "startLine": 19,
        "startChar": 59,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "2e2ad674dfa885253f211967396ed5f749475afd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}