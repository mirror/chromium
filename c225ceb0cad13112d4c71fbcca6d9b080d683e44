{
  "comments": [
    {
      "key": {
        "uuid": "3fa6f16c_d250f6af",
        "filename": "chrome/browser/password_manager/password_manager_util_win.cc",
        "patchSetId": 7
      },
      "lineNbr": 456,
      "author": {
        "id": 1160859
      },
      "writtenOn": "2017-09-01T02:17:42Z",
      "side": 1,
      "message": "I think this check is failing and ERROR_ACCOUNT_RESTRICTION is not being handled correctly.\n\nsee https://bugs.chromium.org/p/chromium/issues/detail?id\u003d347825\n\nthe MSDN article states \"The size includes the terminating null character\" so it\u0027s possible this is actually \u00271\u0027 on empty password.",
      "range": {
        "startLine": 456,
        "startChar": 43,
        "endLine": 456,
        "endChar": 71
      },
      "revId": "c225ceb0cad13112d4c71fbcca6d9b080d683e44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76efbf58_46d8f3fc",
        "filename": "chrome/browser/password_manager/password_manager_util_win.cc",
        "patchSetId": 7
      },
      "lineNbr": 456,
      "author": {
        "id": 1000389
      },
      "writtenOn": "2017-09-01T14:14:13Z",
      "side": 1,
      "message": "Thanks Will, let me cook up a CL to fix this.",
      "parentUuid": "3fa6f16c_d250f6af",
      "range": {
        "startLine": 456,
        "startChar": 43,
        "endLine": 456,
        "endChar": 71
      },
      "revId": "c225ceb0cad13112d4c71fbcca6d9b080d683e44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c36ea81_e3027449",
        "filename": "chrome/browser/password_manager/password_manager_util_win.cc",
        "patchSetId": 7
      },
      "lineNbr": 456,
      "author": {
        "id": 1000389
      },
      "writtenOn": "2017-09-01T15:16:36Z",
      "side": 1,
      "message": "Hmmm, not quite that easy.  Because the code does not specify CRED_PACK_PROTECTED_CREDENTIALS, the password returned by CredUnPackAuthenticationBuffer() is encrypted.  This means that an empty password typed into the prompt does not result in an empty password string.  For example, when I type nothing in the prompt, the return string password is 37 character long (including null):\n\n    @@D\\a\\b\\f\\n\\rQAAAAA8qUBAAAAAAgsBRqGMLwEDD\n\nI\u0027m not sure we should use CRED_PACK_PROTECTED_CREDENTIALS just to handle this case.  I\u0027ll keep looking.",
      "parentUuid": "76efbf58_46d8f3fc",
      "range": {
        "startLine": 456,
        "startChar": 43,
        "endLine": 456,
        "endChar": 71
      },
      "revId": "c225ceb0cad13112d4c71fbcca6d9b080d683e44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51c11ac7_c6816308",
        "filename": "chrome/browser/password_manager/password_manager_util_win.cc",
        "patchSetId": 7
      },
      "lineNbr": 456,
      "author": {
        "id": 1160859
      },
      "writtenOn": "2017-09-01T16:37:20Z",
      "side": 1,
      "message": "I recommend trying to just remove the password length check entirely. If ERROR_ACCOUNT_RESTRICTION is being returned, then the password is \u0027correct\u0027 and that\u0027s all we care about.\n\np.s. my previous comment (which I deleted) commented on the password possibly being encrypted and thus not zero length, but I deleted it... doh!",
      "parentUuid": "6c36ea81_e3027449",
      "range": {
        "startLine": 456,
        "startChar": 43,
        "endLine": 456,
        "endChar": 71
      },
      "revId": "c225ceb0cad13112d4c71fbcca6d9b080d683e44",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}