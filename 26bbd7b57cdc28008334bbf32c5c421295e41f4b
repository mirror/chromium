{
  "comments": [
    {
      "key": {
        "uuid": "e2a67bfc_3b11d2ea",
        "filename": "chrome/browser/ui/views/frame/immersive_mode_controller_ash.cc",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-26T23:02:02Z",
      "side": 1,
      "message": "Do you really need to cache this? In the one place you use it could you instead call native_window_-\u003eGetRootWindow()?",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 21
      },
      "revId": "26bbd7b57cdc28008334bbf32c5c421295e41f4b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ea79ea3_66239c48",
        "filename": "chrome/browser/ui/views/frame/immersive_mode_controller_ash.cc",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1115904
      },
      "writtenOn": "2017-09-27T00:05:31Z",
      "side": 1,
      "message": "A previous version did. Removed this now that the timing is slightly different.",
      "parentUuid": "e2a67bfc_3b11d2ea",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 21
      },
      "revId": "26bbd7b57cdc28008334bbf32c5c421295e41f4b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ce5acfd_69677f11",
        "filename": "chrome/browser/ui/views/frame/immersive_mode_controller_ash.cc",
        "patchSetId": 2
      },
      "lineNbr": 370,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-26T23:02:02Z",
      "side": 1,
      "message": "How come you call FullscreenStateChanged rather than SetEnabled(false)?",
      "range": {
        "startLine": 370,
        "startChar": 6,
        "endLine": 370,
        "endChar": 45
      },
      "revId": "26bbd7b57cdc28008334bbf32c5c421295e41f4b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e28f8539_51243c2e",
        "filename": "chrome/browser/ui/views/frame/immersive_mode_controller_ash.cc",
        "patchSetId": 2
      },
      "lineNbr": 370,
      "author": {
        "id": 1115904
      },
      "writtenOn": "2017-09-27T00:05:31Z",
      "side": 1,
      "message": "FullscreenStateChanged is a superset. It calls back to SetEnabled(false) based on the current url policy (and it looks like just calling SetEnabled() here is wrong because it doesn\u0027t check that policy, isn\u0027t updating things like bubble location, calling BrowserObserver methods, etc.).\n\nIt\u0027s also the older method of doing this. The block which calls FullscreenStateChanged() is the original way of doing this and dates back to 2013. Directly calling SetEnabled() locally was added as part of getting Immersive mode to not crash, circa early 2017, and per the dcheck, only happens in mash.",
      "parentUuid": "8ce5acfd_69677f11",
      "range": {
        "startLine": 370,
        "startChar": 6,
        "endLine": 370,
        "endChar": 45
      },
      "revId": "26bbd7b57cdc28008334bbf32c5c421295e41f4b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}