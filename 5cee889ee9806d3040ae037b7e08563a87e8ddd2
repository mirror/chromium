{
  "comments": [
    {
      "key": {
        "uuid": "3c409c11_38edf760",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 325,
      "author": {
        "id": 1109584
      },
      "writtenOn": "2017-11-06T22:55:14Z",
      "side": 1,
      "message": "This should be handled by the FromUIEvent above.",
      "range": {
        "startLine": 325,
        "startChar": 47,
        "endLine": 325,
        "endChar": 58
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65dd619d_e8f07d7c",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 325,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-07T00:05:23Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3c409c11_38edf760",
      "range": {
        "startLine": 325,
        "startChar": 47,
        "endLine": 325,
        "endChar": 58
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88e22ca5_85e8b032",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 339,
      "author": {
        "id": 1109584
      },
      "writtenOn": "2017-11-06T22:55:14Z",
      "side": 1,
      "message": "IIRC yes, as DOM only expects it to be true on down events, and windows also delivers it on key releases",
      "range": {
        "startLine": 339,
        "startChar": 54,
        "endLine": 339,
        "endChar": 67
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "daa8c56e_32d7bb5c",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 339,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-07T00:05:23Z",
      "side": 1,
      "message": "Ah, my question was whether we need to do anything to correct for FromUiEvent\u0027s value for kIsAutoRepeat - IIUC we have:\n\n- FromUiEvent will set kIsAutoRepeat based on the ui::Event flags, which have repeat set based on the sequence of input events (see https://cs.chromium.org/chromium/src/ui/events/event.cc?gsn\u003dIsRepeated\u0026l\u003d1153).\n- Windows supplies an explicit \"is repeat\" indicator.\n\nSo two questions:\n1. Can ui::Event end up with EF_IS_REPEAT set on events that we wouldn\u0027t want kIsAutoRepeat set on?\n2. Can we just move this lParam-based logic into ui::Event to drive EF_IS_REPEAT, instead of putting it in this layer, or do we expect that to break other things? :)",
      "parentUuid": "88e22ca5_85e8b032",
      "range": {
        "startLine": 339,
        "startChar": 54,
        "endLine": 339,
        "endChar": 67
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89b21cbb_d3aaf58c",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 339,
      "author": {
        "id": 1109584
      },
      "writtenOn": "2017-11-07T23:12:53Z",
      "side": 1,
      "message": "1) I don\u0027t think that ui::Event will add EF_IS_REPEAT on events which we don\u0027t care about. It already exits early for released.\n\n2) This \u0027should\u0027 be safe to move to KeyEvent::IsRepeated, though I\u0027d recommend just having it an OS_WIN block like here. I am not aware of other platforms that send that matching bit, but I could be mistaken, and something might break.",
      "parentUuid": "daa8c56e_32d7bb5c",
      "range": {
        "startLine": 339,
        "startChar": 54,
        "endLine": 339,
        "endChar": 67
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d09f56e_f8bb78d0",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 339,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-08T01:44:44Z",
      "side": 1,
      "message": "Re #1: OK, so IIUC what you\u0027re saying is that this code should be fine as-is, i.e. with IsAutoRepeat set either if Windows says it\u0027s a repeat, OR ui::Events say so.\n\nRe #2: I\u0027m happy to move this into ui::Events IsRepeated initialization in an OS_WIN block; I\u0027d prefer to do that so that we have ui::Events as the bit doing the platform integration, and WebInputEvents just adapting for any webby quirks that we need to cope with.",
      "parentUuid": "89b21cbb_d3aaf58c",
      "range": {
        "startLine": 339,
        "startChar": 54,
        "endLine": 339,
        "endChar": 67
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc3af917_a09e2599",
        "filename": "ui/events/blink/web_input_event.cc",
        "patchSetId": 3
      },
      "lineNbr": 339,
      "author": {
        "id": 1109584
      },
      "writtenOn": "2017-11-08T15:30:09Z",
      "side": 1,
      "message": "#1 correct\n#2 sgtm I definitely support having more logic in one place!",
      "parentUuid": "8d09f56e_f8bb78d0",
      "range": {
        "startLine": 339,
        "startChar": 54,
        "endLine": 339,
        "endChar": 67
      },
      "revId": "5cee889ee9806d3040ae037b7e08563a87e8ddd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}