{
  "comments": [
    {
      "key": {
        "uuid": "a85a26bc_0ccdd399",
        "filename": "chrome/browser/media/webrtc/media_stream_devices_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 441,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-09-19T13:32:44Z",
      "side": 1,
      "message": "This one makes the media stream bubble (I think that\u0027s what it\u0027s called - the cam icon on the right in the omnibox) show the right thing. Probably also affects some other places, which is prooobably what we want?",
      "range": {
        "startLine": 441,
        "startChar": 36,
        "endLine": 441,
        "endChar": 0
      },
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fd5d684_d229f0a1",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-09-20T01:50:28Z",
      "side": 1,
      "message": "nit: no {} needed",
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4578304f_7080d96c",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-09-20T10:00:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1fd5d684_d229f0a1",
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90d42465_7f91b2fb",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 529,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-09-19T13:32:44Z",
      "side": 1,
      "message": "Any idea how I can find out?",
      "range": {
        "startLine": 529,
        "startChar": 48,
        "endLine": 529,
        "endChar": 0
      },
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "279a085f_89247b6f",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 529,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-09-20T01:50:28Z",
      "side": 1,
      "message": "It shouldn\u0027t be needed here but maybe we should do the conversion for consistency.",
      "parentUuid": "90d42465_7f91b2fb",
      "range": {
        "startLine": 529,
        "startChar": 48,
        "endLine": 529,
        "endChar": 0
      },
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "258ca1f3_9f1f8fc4",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 529,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-09-20T10:00:12Z",
      "side": 1,
      "message": "I\u0027m pretty sure it does matter, but I don\u0027t know which is correct: In OnContentSettingChanged, we check the requesting_origin against primary_pattern. I don\u0027t know if primary_pattern refers to the actual or the canonical origin, but if we use the wrong one then it won\u0027t match even when it should.\nI\u0027ll investigate more and see if I can trigger this code path.",
      "parentUuid": "279a085f_89247b6f",
      "range": {
        "startLine": 529,
        "startChar": 48,
        "endLine": 529,
        "endChar": 0
      },
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11ba6af1_6b08cdee",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 529,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-09-20T15:41:51Z",
      "side": 1,
      "message": "I\u0027ve checked that OnContentSettingChanged does get called for the canonical origin, so we do need the GetCanonicalOrigin call here. (Haven\u0027t found a way to test that, though.)",
      "parentUuid": "258ca1f3_9f1f8fc4",
      "range": {
        "startLine": 529,
        "startChar": 48,
        "endLine": 529,
        "endChar": 0
      },
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c15d8bc_33eb44cc",
        "filename": "chrome/browser/permissions/permission_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 529,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-09-21T02:03:59Z",
      "side": 1,
      "message": "That seems right. The patterns come from content settings, which would be the google eTLD+1.\n\nWhat I meant earlier by \"it shouldn\u0027t be needed\" is that I think this function is used by the permissions API to detect changes to the permission status and that probably isn\u0027t ever used by the NTP. But I agree that it\u0027s probably better to have it anyway.",
      "parentUuid": "11ba6af1_6b08cdee",
      "range": {
        "startLine": 529,
        "startChar": 48,
        "endLine": 529,
        "endChar": 0
      },
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "76c1b79d_d93acebc",
        "filename": "chrome/browser/permissions/permission_manager.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-09-20T01:50:28Z",
      "side": 1,
      "message": "nit: please add a comment about what this does\nnit: this could be static",
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bdd05ad_f3263f02",
        "filename": "chrome/browser/permissions/permission_manager.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-09-20T10:00:12Z",
      "side": 1,
      "message": "Comment added, to the best of my understanding. Improvements welcome :)\n\nIt can\u0027t be static because it needs |profile_| to get the Google base URL.",
      "parentUuid": "76c1b79d_d93acebc",
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1ef0e12_55978dca",
        "filename": "chrome/browser/permissions/permission_manager.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-09-21T02:03:59Z",
      "side": 1,
      "message": "Ah right, that makes sense. Thanks for the detailed comment.",
      "parentUuid": "9bdd05ad_f3263f02",
      "revId": "644c6f5d350b1b3072070e223ffe83de43ccd7f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}