{
  "comments": [
    {
      "key": {
        "uuid": "905fdbc9_17fa6b3e",
        "filename": "base/task_scheduler/scheduler_single_thread_task_runner_manager.cc",
        "patchSetId": 24
      },
      "lineNbr": 304,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2017-09-20T18:49:51Z",
      "side": 1,
      "message": "This is also unsafe after SchedulerSingleThreadTaskRunnerManager destruction. Add:\n\nif (!g_manager_is_alive)\n  return false;",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9175f64a_0fc5ef0d",
        "filename": "base/task_scheduler/scheduler_single_thread_task_runner_manager.cc",
        "patchSetId": 24
      },
      "lineNbr": 304,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-09-20T20:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "905fdbc9_17fa6b3e",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fbe7d2c_c1021cee",
        "filename": "base/task_scheduler/scheduler_single_thread_task_runner_manager.cc",
        "patchSetId": 24
      },
      "lineNbr": 377,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2017-09-20T18:49:51Z",
      "side": 1,
      "message": "ReleaseSharedSchedulerWorkers(), called in JoinForTesting(), releases shared single-threaded SchedulerWorkers and thus invalidates SingleThreadTaskRunners before ~SchedulerSingleThreadTaskRunnerManager.\n\nrobliao@: What\u0027s the purpose of ReleaseSharedSchedulerWorkers()?\n\nNote: We can land this CL without addressing this comment.",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00624ab4_647aed21",
        "filename": "base/task_scheduler/scheduler_worker_pool.cc",
        "patchSetId": 24
      },
      "lineNbr": 21,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2017-09-20T18:49:51Z",
      "side": 1,
      "message": "before any pool is started\n\nTasks can be posted before the pools are started and this isn\u0027t a problem.",
      "range": {
        "startLine": 21,
        "startChar": 39,
        "endLine": 21,
        "endChar": 66
      },
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76b2e4ef_bb9b817c",
        "filename": "base/task_scheduler/scheduler_worker_pool.cc",
        "patchSetId": 24
      },
      "lineNbr": 21,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-09-20T20:08:39Z",
      "side": 1,
      "message": "No, posting tasks would also be a problem as this is saying there isn\u0027t a race with the read of this variable in PostTask() (regardless of whether the pool is started).",
      "parentUuid": "00624ab4_647aed21",
      "range": {
        "startLine": 21,
        "startChar": 39,
        "endLine": 21,
        "endChar": 66
      },
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71c3ea83_e540078e",
        "filename": "base/task_scheduler/task_scheduler.h",
        "patchSetId": 24
      },
      "lineNbr": 171,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2017-09-20T18:49:51Z",
      "side": 1,
      "message": "Could this change and changes to chrome/browser/browser_process_impl_unittest.cc go in a separate CL?",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd241f56_392c5b78",
        "filename": "base/task_scheduler/task_scheduler.h",
        "patchSetId": 24
      },
      "lineNbr": 171,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-09-20T20:08:39Z",
      "side": 1,
      "message": "Perhaps but this CL is what enables removal of FILE thread from browser_process_impl_unittest.cc (which in turn forces this API change). I could split them but I don\u0027t think complexity is high enough and it\u0027s already been reviewed so meh...",
      "parentUuid": "71c3ea83_e540078e",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c0f8be0_a1007e48",
        "filename": "chrome/browser/browser_process_impl_unittest.cc",
        "patchSetId": 24
      },
      "lineNbr": 38,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-09-20T19:05:17Z",
      "side": 1,
      "message": "StartWithDefaultParams?",
      "range": {
        "startLine": 38,
        "startChar": 20,
        "endLine": 38,
        "endChar": 25
      },
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21e86b0a_693171d7",
        "filename": "chrome/browser/browser_process_impl_unittest.cc",
        "patchSetId": 24
      },
      "lineNbr": 38,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-09-20T19:58:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c0f8be0_a1007e48",
      "range": {
        "startLine": 38,
        "startChar": 20,
        "endLine": 38,
        "endChar": 25
      },
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7ad4bfd_7724ad1c",
        "filename": "chrome/test/base/chrome_unit_test_suite.cc",
        "patchSetId": 24
      },
      "lineNbr": 10,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-09-20T19:05:17Z",
      "side": 1,
      "message": "Also delete.",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d5e7f2a_82abffae",
        "filename": "chrome/test/base/chrome_unit_test_suite.cc",
        "patchSetId": 24
      },
      "lineNbr": 10,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-09-20T19:58:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a7ad4bfd_7724ad1c",
      "revId": "f53be4caf2a74edd8a9bf9b629a9c0043e8d4efe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}