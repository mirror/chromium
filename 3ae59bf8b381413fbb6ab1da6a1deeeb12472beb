{
  "comments": [
    {
      "key": {
        "uuid": "f7e80df5_d32dce46",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessConnection.java",
        "patchSetId": 5
      },
      "lineNbr": 53,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-06-26T17:12:11Z",
      "side": 1,
      "message": "nit: keep the old name? \"stopped\" kinda implies stopped by client\n\nalso specify if this is called when onChildStartFailed. I think the answer is yes",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae6d5501_e2a19043",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessConnection.java",
        "patchSetId": 5
      },
      "lineNbr": 53,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-06-26T18:10:08Z",
      "side": 1,
      "message": "Changed back the name.\nThis is not called after onChildStartFailed, since onChildStartFailed is called if the service is already bound to some other client, so we don\u0027t control the service lice-cycle, the already bound client does. (I added a comment to onChildStartFailed).",
      "parentUuid": "f7e80df5_d32dce46",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5812026d_64edf4a7",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessConnection.java",
        "patchSetId": 5
      },
      "lineNbr": 305,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-06-26T17:12:11Z",
      "side": 1,
      "message": "this is now synchronous, the stop can happen before the corresponding connection state is even set in allocator/helper, which can probably lead to problems",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b759146_5eab747f",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessConnection.java",
        "patchSetId": 5
      },
      "lineNbr": 305,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-06-26T18:10:08Z",
      "side": 1,
      "message": "Are you sure? ChildConnectionAllocator.allocate() starts the connection right before returning it, after setting mChildProcessConnections so I think it should be fine.\nAnd CPLH used to call start right after allocating the connection, so that would have been similar as far as I can tell.",
      "parentUuid": "5812026d_64edf4a7",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d953ddf_4cbccad3",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessConnection.java",
        "patchSetId": 5
      },
      "lineNbr": 305,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-06-26T18:22:32Z",
      "side": 1,
      "message": "\u003e Are you sure? ChildConnectionAllocator.allocate() starts the connection right before returning it, after setting mChildProcessConnections so I think it should be fine.\n\nThat\u0027s exactly the problematic case in my mind. CPHL (or SpareConnection) has the childdied callback called before it even got the return value from allocate, so now can it clean anything up?\n\n\u003e And CPLH used to call start right after allocating the connection, so that would have been similar as far as I can tell.",
      "parentUuid": "0b759146_5eab747f",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2800271e_002cad52",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessConnection.java",
        "patchSetId": 5
      },
      "lineNbr": 305,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-06-26T22:26:17Z",
      "side": 1,
      "message": "You are right, for the spare connection it\u0027s going to be a problem.\nI changed to posting the callbacks.\nAnd I added extensive unit-testing to the class for good measure.",
      "parentUuid": "5d953ddf_4cbccad3",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0da5a56_9b3c63bb",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessLauncherHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 160,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-06-26T17:12:11Z",
      "side": 1,
      "message": "don\u0027t need this anymore?",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ab1e3b7_0ddc2000",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessLauncherHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 160,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-06-26T18:10:08Z",
      "side": 1,
      "message": "Removed.",
      "parentUuid": "e0da5a56_9b3c63bb",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3dc5240_41eb34f8",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessLauncherHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 418,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-06-26T17:12:11Z",
      "side": 1,
      "message": "why is the pid !\u003d 0 check no longer needed?",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74818e91_ba67913b",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ChildProcessLauncherHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 418,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-06-26T18:10:08Z",
      "side": 1,
      "message": "Brought it back (in onChildProcessDied)",
      "parentUuid": "c3dc5240_41eb34f8",
      "revId": "3ae59bf8b381413fbb6ab1da6a1deeeb12472beb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}