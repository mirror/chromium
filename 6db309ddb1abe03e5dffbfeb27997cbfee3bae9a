{
  "comments": [
    {
      "key": {
        "uuid": "394f032b_b34248dc",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_gcm_app_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "OnTokenRetrieved? (To me, it sounds weird without a verb)",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6e3ee04_05cf0e19",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_gcm_app_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "394f032b_b34248dc",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e141556_856e8aef",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_gcm_app_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "Similarly, OnTokenValidated?\n\nAlso, the separate OnSuccessful method seems weird to me. It sounds like validation should imply success.\nMaybe have a single metrics::OnTokenValidated method that takes both the time and the result?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8321a2a2_14d5808f",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_gcm_app_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "First, done.\n\nSecond, I feel like recording time between validations should not be affected by whether the token is received. Do you disagree with this? Obviously, I do not have much experience and it is difficult for me to decide which set of metrics is viable.\n\nHowever, for recording token validness, it is necessary to received a token.",
      "parentUuid": "4e141556_856e8aef",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ad87b31_0b6ac8f6",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_gcm_app_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-25T08:41:43Z",
      "side": 1,
      "message": "That comment wasn\u0027t necessarily about which histograms we record, but more about the \"API\" that\u0027s exposed for metrics. If I had to implement this, I\u0027d be confused about when I\u0027m supposed to call OnTokenValidation and/or OnSuccessfulTokenValidation. So my suggestion was to merge the two into one method that takes all of the arguments, and then within that method decide which histograms to record.",
      "parentUuid": "8321a2a2_14d5808f",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5d56dc7_4d35de70",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_gcm_app_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T15:56:22Z",
      "side": 1,
      "message": "Done\n\nvoid OnTokenValidated(const base::TimeDelta\u0026 time_since_last_validation,\n                      base::Optional\u003cbool\u003e was_token_valid_before_validation)",
      "parentUuid": "3ad87b31_0b6ac8f6",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77bc2d17_fff09694",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_metrics.cc",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "Do we really need an exact histogram for the sizes? That seems excessive, and very wasteful in terms of memory.",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5233ac81_3f94970c",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_metrics.cc",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "Done.\n\nI stopped recording characters altogether.\nWe could probably do this on the server.",
      "parentUuid": "77bc2d17_fff09694",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d36e7222_4595aeff",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_metrics.h",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "size_t?\nAlso, why \"our\"?\ns/characters_count/size_bytes/?",
      "range": {
        "startLine": 18,
        "startChar": 57,
        "endLine": 18,
        "endChar": 0
      },
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c847fa2_05e52ec7",
        "filename": "components/ntp_snippets/breaking_news/breaking_news_metrics.h",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "I stopped recording characters.\n\nIn M62 we just care about quantity, so I record whether there was our payload at all.\n\n\"Our\" because a message is just a dictionary and I am checking for our key, it may have other keys.",
      "parentUuid": "d36e7222_4595aeff",
      "range": {
        "startLine": 18,
        "startChar": 57,
        "endLine": 18,
        "endChar": 0
      },
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30942b0c_f178aae2",
        "filename": "components/ntp_snippets/status.h",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "nit: This line break looks very weird. Maybe move the comments to separate lines?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33a894e4_fe164167",
        "filename": "components/ntp_snippets/status.h",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30942b0c_f178aae2",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3a936c8_b9d7d2f6",
        "filename": "components/ntp_snippets/status.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "That\u0027ll be 3, i.e. one more than the actual max status count.\nSTATUS_CODE_COUNT?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "293284eb_ed4073f4",
        "filename": "components/ntp_snippets/status.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b3a936c8_b9d7d2f6",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eea0fe3f_16bf0997",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 1
      },
      "lineNbr": 5927,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "\"Token was and still is valid\", or just \"Token was revalidated\"?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a36c1952_9ae58d20",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 1
      },
      "lineNbr": 5927,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "Done.\n\n\"Token was and still is valid\"",
      "parentUuid": "eea0fe3f_16bf0997",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cc1cb46b_a98cf7ce",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46693,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "\"The result of a subscription request for breaking news at the content suggestions server\"?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e3251c9_93931d70",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46693,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "Done.\n\nSame for unsubscription.",
      "parentUuid": "cc1cb46b_a98cf7ce",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "451229bf_02100ded",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46706,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "This isn\u0027t very clear to me. When do we receive a token for validation?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62601983_0a491cc1",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46706,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "During the validation we ask InstanceID for a token asynchronously.\nIt may either give us a token or an error.\n\nAlso we ask InstanceID for a token when we have no token at all (e.g. on the first run). I refer to this as \"retrieving a token outside of a validation\".",
      "parentUuid": "451229bf_02100ded",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120ca71b_a38d2139",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46716,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "Similar here, what does it mean to \"receive a token\"?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4e6247d_7720802c",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46716,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "See explanation above, I tried to rephrase the text.",
      "parentUuid": "120ca71b_a38d2139",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "515a7e13_847ef11f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46737,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-08-24T15:40:15Z",
      "side": 1,
      "message": "When wouldn\u0027t a token be retrieved?",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45290d84_e8b106f5",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 46737,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-08-25T06:45:40Z",
      "side": 1,
      "message": "When an error happens.\n\nI changed the sentence to say \n\"\nThis recorded\n    only for validations where no error occured and the token was actually retrieved.\n\"",
      "parentUuid": "515a7e13_847ef11f",
      "revId": "6db309ddb1abe03e5dffbfeb27997cbfee3bae9a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}