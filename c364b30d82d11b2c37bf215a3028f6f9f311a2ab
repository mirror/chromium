{
  "comments": [
    {
      "key": {
        "uuid": "d1bffe15_24b11027",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 168,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "nit: DCHECK_EQ",
      "range": {
        "startLine": 168,
        "startChar": 2,
        "endLine": 168,
        "endChar": 8
      },
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e59e97b_0ca70fc4",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 168,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d1bffe15_24b11027",
      "range": {
        "startLine": 168,
        "startChar": 2,
        "endLine": 168,
        "endChar": 8
      },
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5e40d13_5182e39c",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 602,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "nit: we can:\nstd::unique_ptr\u003cv8::ScriptCompiler::CachedData\u003e cached_data \u003d v8::ScriptCompiler::CreateCodeCache(...);",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49845a39_17605f0a",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 602,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a5e40d13_5182e39c",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "046651ae_69c88a2d",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 605,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "The code block here and in CompileAndProduceCache() are mostly duplicated.\nIt\u0027 fine with me leaving this as-is, because we might change the code structure further on the way of code cache experiments, and we can clean this up later.\nLeaving a TODO comment might be helpful.",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af1ffe03_1608b45e",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 605,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "046651ae_69c88a2d",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6415f859_304a0800",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 655,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "nit: previously kNoCacheBecauseNoResource was used (in V8ScriptRunner::CompileScript)?\n\nEither value is fine with me. If we want to be more consistent, it might be better to call V8ScriptRunner::GetCompileOptions() here (which results in kNoCompileOptions and kNoCacheBecauseNoResource because currently all |source_code| doesn\u0027t have cache handlers).",
      "range": {
        "startLine": 655,
        "startChar": 31,
        "endLine": 655,
        "endChar": 47
      },
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ee207b3_9f38fb9d",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunner.cpp",
        "patchSetId": 9
      },
      "lineNbr": 655,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "As you say, I think it is better to call GetCompileOptions. Updated it to call GetCompileOptions. Added a DCHECK to check we don\u0027t produce cache here.",
      "parentUuid": "6415f859_304a0800",
      "range": {
        "startLine": 655,
        "startChar": 31,
        "endLine": 655,
        "endChar": 47
      },
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9db4a4cb_5fe47acf",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 153,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "Having comments like those in V8ScriptRunnerTest.produceAndConsumeCodeOption might be helpful.",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c29a93bc_38f7987f",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 153,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9db4a4cb_5fe47acf",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e292ddc_97be021d",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 168,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "The same as my comment at Line 189, if we want to test that the CompileScript() at Line 166 consumes the code cache.",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbf26470_c109d648",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 168,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e292ddc_97be021d",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c448537_f51ea661",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 179,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "How about also adding\nEXPECT_FALSE(cache_handler-\u003eGetCachedMetadata(TagForCodeCache(cache_handler)));\nhere to explicitly test that the code cache is not yet created here and will be actually created in the next CompileScript() below?",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a710e46a_06f8b371",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 179,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c448537_f51ea661",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c18189a_cca1063e",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 189,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2018-01-21T23:45:01Z",
      "side": 1,
      "message": "This doesn\u0027t look like checking that CompileScript() consumed the code cache.\nChecking that GetCompileOptions() (before CompileScript()) returns v8::ScriptCompiler::kConsumeCodeCache might be better.",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d07fcbf5_a89da30d",
        "filename": "third_party/WebKit/Source/bindings/core/v8/V8ScriptRunnerTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 189,
      "author": {
        "id": 1145189
      },
      "writtenOn": "2018-01-22T16:26:23Z",
      "side": 1,
      "message": "Done. In a different cl, I will also extend checking if GetCompileOptions is producing the correct options for other cases as well or atleast add a different test to test GetCompileOptions.",
      "parentUuid": "2c18189a_cca1063e",
      "revId": "c364b30d82d11b2c37bf215a3028f6f9f311a2ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}