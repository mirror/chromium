{
  "comments": [
    {
      "key": {
        "uuid": "c5396761_f0eb92bc",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 3
      },
      "lineNbr": 283,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-10-20T15:29:09Z",
      "side": 1,
      "message": "Unfortunately, this code can\u0027t be moved onDetachedFromWindow as doing so produces IllegalStateException: \"Activity has been destroyed\" from dialog dismissal code.",
      "range": {
        "startLine": 283,
        "startChar": 0,
        "endLine": 283,
        "endChar": 50
      },
      "revId": "a12c21eda0852f848158adfdd6767ada64481db1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6aad1cd_8f38360c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/ConfirmSyncDataStateMachine.java",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-10-20T15:29:09Z",
      "side": 1,
      "message": "This method can be unified with ConfirmSyncDataStateMachineDelegate.dismissDialog, but it would require moving ConfirmImportSyncDataDialog and ConfirmManagedSyncDataDialog management to ConfirmSyncDataStateMachineDelegate. I would like to to that in a separate CL as this one will be merged back to M-63.",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 125,
        "endChar": 43
      },
      "revId": "a12c21eda0852f848158adfdd6767ada64481db1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1cd0998c_b50b02b5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/ConfirmSyncDataStateMachineDelegate.java",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-10-20T15:29:09Z",
      "side": 1,
      "message": "DialogFragment is \"the intended way\" of dialog management that is lifecycle-aware, so I\u0027ve used it here. There\u0027s also an added benefit of automatic state saving/restoring, although I would need to reimplement AccountSigninView to use it.",
      "range": {
        "startLine": 53,
        "startChar": 0,
        "endLine": 53,
        "endChar": 71
      },
      "revId": "a12c21eda0852f848158adfdd6767ada64481db1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbb952bc_bfd0cc42",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/ConfirmSyncDataStateMachineDelegate.java",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-10-20T17:04:00Z",
      "side": 1,
      "message": "You could maybe extract this to a shared method that takes a dialog tag and a newly created DialogFragment (and refactor the two dialog fragments to have a shared base class).",
      "range": {
        "startLine": 139,
        "startChar": 8,
        "endLine": 146,
        "endChar": 45
      },
      "revId": "a12c21eda0852f848158adfdd6767ada64481db1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d439ade_32644cff",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/ConfirmSyncDataStateMachineDelegate.java",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-10-24T21:21:18Z",
      "side": 1,
      "message": "I\u0027m not sure I understand which methods you would put in that base class. setListener methods accept different types in different dialogs, so it would require a generic base class.\nHowever, extracting common stuff from showXXXDialog methods is a great idea. I\u0027ve added showAllowingStateLoss and two static create methods that also set listeners (I\u0027ve tried adding constructors, but it made Lint unhappy). Do you see any other ways to improve this code?",
      "parentUuid": "cbb952bc_bfd0cc42",
      "range": {
        "startLine": 139,
        "startChar": 8,
        "endLine": 146,
        "endChar": 45
      },
      "revId": "a12c21eda0852f848158adfdd6767ada64481db1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}