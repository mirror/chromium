{
  "comments": [
    {
      "key": {
        "uuid": "7edafa56_442a621a",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1123071
      },
      "writtenOn": "2017-12-28T00:34:16Z",
      "side": 1,
      "message": "ToHTMLFrameOwnerElement(node) can also return null if node is a remote frame.\n\nWe should probably deal with that as well. Can you adjust the code?",
      "range": {
        "startLine": 290,
        "startChar": 16,
        "endLine": 290,
        "endChar": 20
      },
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3062760b_a2f3aa7e",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-12-28T00:36:32Z",
      "side": 1,
      "message": "Maybe leave a TODO?\n\nAn alternate change would be in the calling code in content/renderer, where it wouldn\u0027t call FromFrameOwnerElement() if result IsNull(). (I don\u0027t know if that would work ... but it feels like it should?)",
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9594c6f_1458c083",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1163594
      },
      "writtenOn": "2017-12-28T00:45:58Z",
      "side": 1,
      "message": "This doesn\u0027t quite work. The private node here is not exposed outside of the Blink unless I go and change that as well.",
      "parentUuid": "3062760b_a2f3aa7e",
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8deb2541_68167f9b",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1163594
      },
      "writtenOn": "2017-12-28T00:45:58Z",
      "side": 1,
      "message": "Can you elaborate a little more on how you suggest to change this? That might be another failure. Sure. But that is not something that is happening here in this scenario in the bug. As the node itself will be always local to the frame in the hit-testing API but it might contain a remote frame. If you still want me to handle that case as well I can just move that ToHTMLFrameOwnerElement before this check as well. Would that be alright?",
      "parentUuid": "7edafa56_442a621a",
      "range": {
        "startLine": 290,
        "startChar": 16,
        "endLine": 290,
        "endChar": 20
      },
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7f3de7a_d8556fcb",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1123071
      },
      "writtenOn": "2017-12-28T00:56:04Z",
      "side": 1,
      "message": "Actually I don\u0027t see where the code I was looking is anymore. Looking at other usages it seems ok.",
      "parentUuid": "8deb2541_68167f9b",
      "range": {
        "startLine": 290,
        "startChar": 16,
        "endLine": 290,
        "endChar": 20
      },
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c33410c_b90cf592",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1163594
      },
      "writtenOn": "2017-12-28T01:12:23Z",
      "side": 1,
      "message": "TODO Added.",
      "parentUuid": "a9594c6f_1458c083",
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eaed41a2_7102f132",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-12-28T02:07:40Z",
      "side": 1,
      "message": "I was referring to using WebhitTestResult::IsNull(), before calling GetNode().",
      "parentUuid": "5c33410c_b90cf592",
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51bbe7b4_487c090c",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1163594
      },
      "writtenOn": "2017-12-28T19:49:16Z",
      "side": 1,
      "message": "The IsNull on WebhitTestResult object does not apply here since as far as I see that is not what is null. If that was the case the crash would have happened earlier in GetWidgetRoutingIdAtPoint.\nhttps://cs.chromium.org/chromium/src/content/renderer/input/render_widget_input_handler.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d166\n\nBut your suggestion made me take another look at WebNode and I realized there is indeed an IsNull function on that as well which I missed before. I can use that in the content/renderer.\nHowever when result_node.IsNull() is true I\u0027m not sure how I can get the routing id there. Because the WebNode is null there is no document associated and GetDocument() function here \nhttps://cs.chromium.org/chromium/src/content/renderer/input/render_widget_input_handler.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d176\n\nand then that would crash. Do you have any suggestions on what to return when result_node.IsNull() is true in GetWidgetRoutingIdAtPoint?",
      "parentUuid": "eaed41a2_7102f132",
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d153fdb_3352ebf2",
        "filename": "third_party/WebKit/Source/core/exported/WebFrame.cpp",
        "patchSetId": 1
      },
      "lineNbr": 290,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-12-29T02:56:27Z",
      "side": 1,
      "message": "Ah, thanks for looking into that.\n\nFor a null node, I think it\u0027d make sense to use the main-frame as the target. So it should return the routing id of that. I was going to suggest returning |widget_-\u003erouting_id()|, but the Frame vs. Widget difference is not very clear to me, and it looks like the routing-id we send from GetWidgetRoutingIdAtPoint() is actually the routing-id of a frame. So ... we probably need to find the \u0027main frame\u0027 of |widget_|, and return the routing-id of that. I am hoping there\u0027s a way to do that.",
      "parentUuid": "51bbe7b4_487c090c",
      "revId": "e99ab7a0a3ccc6eee4c76cb5840dd0b558cb107a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}