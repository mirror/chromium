{
  "comments": [
    {
      "key": {
        "uuid": "d07b0b3a_3869f85b",
        "filename": "content/browser/renderer_host/compositor_impl_android.cc",
        "patchSetId": 4
      },
      "lineNbr": 645,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-09-18T16:35:39Z",
      "side": 0,
      "message": "Is it ok to remove this logic?",
      "revId": "f3421d838b3f7863b06f5a6371325a01a7893a96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f37adc3e_25d65a5d",
        "filename": "content/browser/renderer_host/compositor_impl_android.cc",
        "patchSetId": 4
      },
      "lineNbr": 645,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-09-18T19:20:35Z",
      "side": 0,
      "message": "To be honest, I don\u0027t know but it seems like an old hack. I haven\u0027t followed through all the refactoring to determine the origin of this.\n\nIf it has a transparent background, then it won\u0027t put in background quads and the background color doesn\u0027t matter, I think.\n\nIf it has non-transparent then it will initially use black quads, then switch to white 500ms later. I was hoping aelias@ could help me here because I\u0027m wondering if we actually still care about this?\n\nWhat\u0027s behind CompositorImpl? Isn\u0027t this the LayerTreeHost of the \"Browser UI\"?",
      "parentUuid": "d07b0b3a_3869f85b",
      "revId": "f3421d838b3f7863b06f5a6371325a01a7893a96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee840f03_c3ebfd4e",
        "filename": "content/browser/renderer_host/compositor_impl_android.cc",
        "patchSetId": 4
      },
      "lineNbr": 645,
      "author": {
        "id": 1115852
      },
      "writtenOn": "2017-09-18T22:47:00Z",
      "side": 0,
      "message": "It was added less than a year ago in https://codereview.chromium.org/2507143002 and was a compromise to solve bugs in both fullscreen enter/exit cases and tablet tab close cases.  This is a brittle area with little test coverage and a lot of use cases, so it seems unsafe to remove.\n\nIf your main goal is to clean up CC, I suggest preserving CompositorImpl::SetHasTransparentBackground() for now.  This will protect you from getting your patch reverted.  I agree this hack should eventually be removed but I\u0027d rather it be separated out into another bug to be assigned to a flicker expert like steimel@ or khushalsagar@ who knows the cases to test and pitfalls to avoid.",
      "parentUuid": "f37adc3e_25d65a5d",
      "revId": "f3421d838b3f7863b06f5a6371325a01a7893a96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d5fd1ac_6c32c26d",
        "filename": "content/browser/renderer_host/compositor_impl_android.cc",
        "patchSetId": 9
      },
      "lineNbr": 636,
      "author": {
        "id": 1115852
      },
      "writtenOn": "2017-09-19T01:02:36Z",
      "side": 0,
      "message": "I\u0027m still worried that this may cause breakage because this doesn\u0027t look equivalent to the previous approach.  It used to immediately change the transparency (keeping old background color), then 500 milliseconds later change the background color.\n\nFor entering transparency, I think it would be closer to the old approach to simply change the color to transparent anyway.  And keep the delayed action only for !transparent case.\n\nSince it seems hard to make this change obviously no-op, I\u0027d suggest getting an Android tablet and at least doing a quick smoke test that you don\u0027t see white (or webcontent) flashes when entering/exiting fullscreen video nor black flashes when closing a Clank tablet tab, which were the two bugs this hack addressed.",
      "revId": "f3421d838b3f7863b06f5a6371325a01a7893a96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}