{
  "comments": [
    {
      "key": {
        "uuid": "dabee3cc_5e6649b1",
        "filename": "chrome/browser/android/history/browsing_history_bridge.cc",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-08-21T20:50:17Z",
      "side": 1,
      "message": "Prior to the change in crbug.com/738627, we used Profile#getLastUsedProfile() and passed a Profile object from Java to this C++ class. #getLastUsedProfile() was returning the regular profile even when the incognito profile was in use.\n\nI did a quick test to confirm that this is still an issue on Android (it is). It appears that desktop (Linux) always opens history in a regular tab (even if chrome://history is entered in the URL bar on an incognito tab), so there\u0027s no need to copy the logic there. I\u0027m not sure if this will affect iOS or not.",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 14
      },
      "revId": "bbc7b0086d03f3ca0219ab2e5d26491d41a58a05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98a4d3ca_e5c87058",
        "filename": "chrome/browser/android/history/browsing_history_bridge.cc",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1153420
      },
      "writtenOn": "2017-08-21T21:14:16Z",
      "side": 1,
      "message": "That\u0027s bizarre how chrome://history gets pulled into a normal window on desktop. Thanks for the background! Updated this comment.",
      "parentUuid": "dabee3cc_5e6649b1",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 14
      },
      "revId": "bbc7b0086d03f3ca0219ab2e5d26491d41a58a05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "52ba7abe_5d1890fd",
        "filename": "chrome/browser/android/history/browsing_history_bridge.cc",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-22T09:29:17Z",
      "side": 1,
      "message": "iOS only allows the user to see the history via settings (disconnected from a tab) or from a non-incognito tab. If navigation is done via settings, then the tab is open in the BrowserState associated to the tab open when settings where used (so either incognito or non-incognito). If open from a tab, then it is using the BrowserState of the tab (so non-incognito).\n\niOS never uses a global-like object to find the BrowserState, so there is no corresponding method and this does not affect iOS.",
      "parentUuid": "98a4d3ca_e5c87058",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 14
      },
      "revId": "bbc7b0086d03f3ca0219ab2e5d26491d41a58a05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71da0ebb_7a24d491",
        "filename": "chrome/browser/android/history/browsing_history_bridge.cc",
        "patchSetId": 12
      },
      "lineNbr": 156,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-08-21T20:50:17Z",
      "side": 1,
      "message": "Should this return the profile that was used to create services above?",
      "range": {
        "startLine": 156,
        "startChar": 25,
        "endLine": 156,
        "endChar": 43
      },
      "revId": "bbc7b0086d03f3ca0219ab2e5d26491d41a58a05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17698886_7a584259",
        "filename": "chrome/browser/android/history/browsing_history_bridge.cc",
        "patchSetId": 12
      },
      "lineNbr": 156,
      "author": {
        "id": 1153420
      },
      "writtenOn": "2017-08-21T21:14:16Z",
      "side": 1,
      "message": "Yes! You\u0027re very much correct, thank you, done.",
      "parentUuid": "71da0ebb_7a24d491",
      "range": {
        "startLine": 156,
        "startChar": 25,
        "endLine": 156,
        "endChar": 43
      },
      "revId": "bbc7b0086d03f3ca0219ab2e5d26491d41a58a05",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}