{
  "comments": [
    {
      "key": {
        "uuid": "4a2b2c13_9f493f11",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.cc",
        "patchSetId": 1
      },
      "lineNbr": 185,
      "author": {
        "id": 1211635
      },
      "writtenOn": "2017-12-09T22:15:19Z",
      "side": 1,
      "message": "As mentioned in the other comment, mus (without viz) is not going to use viz-hit-test for now. I think you can check for \"enable-viz\" [1] instead.\n\n[1] https://cs.chromium.org/chromium/src/components/viz/common/switches.cc?type\u003dcs\u0026q\u003denable%5C-viz\u0026sq\u003dpackage:chromium\u0026l\u003d20",
      "range": {
        "startLine": 185,
        "startChar": 6,
        "endLine": 185,
        "endChar": 16
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2db132ca_dd31ff52",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1211635
      },
      "writtenOn": "2017-12-09T22:15:19Z",
      "side": 1,
      "message": "Yea there\u0027s one HTQ for every accelerated widget. It looks like the HTQ should be associated to the ui::Compositor\u0027s FrameSinkId [1], Kyle, is it possible to get that from here somehow? I was looking at how it\u0027s wired up but didn\u0027t find a clear way to get it.\n\n[1] https://cs.chromium.org/chromium/src/content/browser/compositor/viz_process_transport_factory.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d435",
      "range": {
        "startLine": 195,
        "startChar": 40,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad9b26da_e2c79284",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1146978
      },
      "writtenOn": "2017-12-11T17:03:11Z",
      "side": 1,
      "message": "Does RWHI/RWHV have a link back to the ui::Compositor? You can get the FrameSinkId from the Compositor. Otherwise we can try to do a reverse lookup in HostFrameSinkManager, but that gets messy if something is embedded twice?",
      "parentUuid": "2db132ca_dd31ff52",
      "range": {
        "startLine": 195,
        "startChar": 40,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "074f23d1_86535422",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1146978
      },
      "writtenOn": "2017-12-11T19:17:27Z",
      "side": 1,
      "message": "Thinking about this a little more, is this the right place to do the event targeting at all? I thought that all targeting for a top level window should happen via HitTestQuery, which I guess means RenderWidgetHostInputEventRouter wouldn\u0027t be necessary anymore?",
      "parentUuid": "ad9b26da_e2c79284",
      "range": {
        "startLine": 195,
        "startChar": 40,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77c783f4_3ce507bb",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1001433
      },
      "writtenOn": "2017-12-14T18:44:56Z",
      "side": 1,
      "message": "Correct, I think the eventual plan is to entirely remove RenderWidgetHostInputEventRouter, and everything it does will be replicated in Viz. My understanding is that this is a shorter term goal to use Viz hit testing for OOPIFs, because OOPIFs are on Stable channel already and this resolves some of the existing bugs that we have from quad-based hit testing.\n\nI think RenderWidgetHostViews can supply a pointer to the ui::Compositor here. Getting the coordinates right might be a bit hacky but I will upload a new CL soon.",
      "parentUuid": "074f23d1_86535422",
      "range": {
        "startLine": 195,
        "startChar": 40,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad29aa16_e7473e9b",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.h",
        "patchSetId": 1
      },
      "lineNbr": 196,
      "author": {
        "id": 1211635
      },
      "writtenOn": "2017-12-09T22:15:19Z",
      "side": 1,
      "message": "This is not needed since we are getting the HTQ from HostFrameSinkManager?",
      "range": {
        "startLine": 196,
        "startChar": 37,
        "endLine": 196,
        "endChar": 52
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e680ef98_385e5d5e",
        "filename": "content/browser/renderer_host/render_widget_host_input_event_router.h",
        "patchSetId": 1
      },
      "lineNbr": 196,
      "author": {
        "id": 1001433
      },
      "writtenOn": "2017-12-14T18:44:56Z",
      "side": 1,
      "message": "Yeah that was vestigial from an earlier revision, thanks.",
      "parentUuid": "ad29aa16_e7473e9b",
      "range": {
        "startLine": 196,
        "startChar": 37,
        "endLine": 196,
        "endChar": 52
      },
      "revId": "23d1c20607d381154fd7e89337c4f090508016de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}