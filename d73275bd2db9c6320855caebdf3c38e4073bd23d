{
  "comments": [
    {
      "key": {
        "uuid": "0006912d_5c9ee0d1",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2018-02-02T20:08:39Z",
      "side": 1,
      "message": "To maintain full code coverage, generate_buildbot_json_unittest.py in this same directory will have to be modified to have at least one case where use_multi_dimension_trigger_script is used. Can you please add one, and also install the Python coverage module (\"pip install coverage\", I think) and make sure that generate_buildbot_json_coveragetest.py passes?",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce8928e9_f79a236b",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2018-02-02T20:18:52Z",
      "side": 1,
      "message": "Can we specify this in the swarming properties for the 10.9 bot, so that it\u0027s still only in one place, but not have to modify the script?",
      "parentUuid": "0006912d_5c9ee0d1",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6373f8c_3139dc5f",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2018-02-03T00:05:29Z",
      "side": 1,
      "message": "I think it\u0027s best to add support to the generate_buildbot_json.py script. Otherwise syntax errors will be possible in the JSON that specifies the multiple dimensions. I added similar support to src/content/test/gpu/generate_buildbot_json.py and was planning to add essentially this code when merging the two scripts.",
      "parentUuid": "ce8928e9_f79a236b",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "916ec951_96aaf99b",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2018-02-03T02:10:02Z",
      "side": 1,
      "message": "Thanks for the instructions!\n\nI added 2 tests for the multi dimension tests in generate_buildbot_json_unittest.py (will upload in the next patch). And run with generate_buildbot_json_coveragetest.py (don\u0027t know that before!). It didn\u0027t output any failure, which supposed to be passed?",
      "parentUuid": "d6373f8c_3139dc5f",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a6aac60_68191e12",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2018-02-03T02:20:03Z",
      "side": 1,
      "message": "Yes, it\u0027ll print output and exit(1) if there isn\u0027t 100% code coverage. Thanks for testing. You can also verify that your new tests are working by commenting them out in the unit test and then running the coverage test, which should fail.",
      "parentUuid": "916ec951_96aaf99b",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f94d59b5_17af2bf2",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2018-02-03T02:30:41Z",
      "side": 1,
      "message": "Just commented a test out and run coverage test again, and yeah, it failed as:\n    Name                        Stmts   Miss  Cover   Missing\n    ---------------------------------------------------------\n    generate_buildbot_json.py     362      1    99%   380\n\nwhich proved the tests coverage in this CL should be sufficient. Thanks again!",
      "parentUuid": "5a6aac60_68191e12",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ada2934e_e3fddb53",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 445,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2018-02-02T03:40:16Z",
      "side": 1,
      "message": "Since the tester \u0027Mac10.9 Tests\u0027 has 3 types of test suites: \"gtest_tests\", \"isolated_scripts\" and \"scripts\". I added \u0027add_common_test_properties\u0027 function to 3 generate_*_test: generate_gtest, generate_isolated_script_test and generate_script_test. Please correct me if I was wrong.",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95460e8e_b704ce6c",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 445,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2018-02-02T20:08:39Z",
      "side": 1,
      "message": "This sounds fine in general. There\u0027s one issue though: script tests don\u0027t run on Swarming. That\u0027s visible for example here:\n  https://ci.chromium.org/buildbot/chromium.mac/Mac10.9%20Tests/53516\n\nby looking at the \"webkit_lint\" step.\n\nSo let\u0027s just remove the add_common_test_properties from generate_script_test. That step will run on the bot that\u0027s triggering the rest of the Swarming jobs.",
      "parentUuid": "ada2934e_e3fddb53",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22b2b559_805ba936",
        "filename": "testing/buildbot/generate_buildbot_json.py",
        "patchSetId": 1
      },
      "lineNbr": 445,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2018-02-03T02:10:02Z",
      "side": 1,
      "message": "You are right, thanks for the explanation with link! Since the \u0027scripts\u0027 tests are not running on swarming, will remove the step for script tests.",
      "parentUuid": "95460e8e_b704ce6c",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9498b4b7_e9fdc096",
        "filename": "testing/buildbot/waterfalls.pyl",
        "patchSetId": 1
      },
      "lineNbr": 1560,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2018-02-02T20:08:39Z",
      "side": 1,
      "message": "Looking at one recent example job from Mac10.9 Tests:\nhttps://chromium-swarm.appspot.com/task?id\u003d3b70c4a92bce1710\u0026refresh\u003d10\u0026show_raw\u003d1\n\nIt looks like the Swarming dimensions also included:\n  \"cpu\": \"x86-64\"\n\nWould it be best to add that to both of these, or is it redundant / unnecessary?",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58daa464_6c9c4c57",
        "filename": "testing/buildbot/waterfalls.pyl",
        "patchSetId": 1
      },
      "lineNbr": 1560,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2018-02-03T02:10:02Z",
      "side": 1,
      "message": "Checked the bot list, seems like both the 10.9 and 10.13 bots have cpu verison \u0027x86-64\u0027. Not sure if adding it is necessary, but it won\u0027t be harmful to have it. Will change that in next patch.\n\nJust noticed that \"Mac-10.9\" bots all have \"gpu\" as \"none\", but \"Mac-10.13\" bots \"gpu\" should be \"8086:0a2e\". Will correct it, sorry about the mistake.",
      "parentUuid": "9498b4b7_e9fdc096",
      "revId": "d73275bd2db9c6320855caebdf3c38e4073bd23d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}