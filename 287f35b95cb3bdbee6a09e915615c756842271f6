{
  "comments": [
    {
      "key": {
        "uuid": "290b3155_d30501f2",
        "filename": "chrome/browser/chrome_content_browser_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 3014,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-09-13T16:28:25Z",
      "side": 1,
      "message": "Sorry, looks like I changed this out from underneath you during one of your rebases.  The value is just the string; if you want a sandbox type other than utility (i.e. failry strict sandboxing), this now goes into the manifest itself.",
      "range": {
        "startLine": 3014,
        "startChar": 1,
        "endLine": 3014,
        "endChar": 2
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "056b9003_ea88bb09",
        "filename": "chrome/browser/chrome_content_browser_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 3014,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "290b3155_d30501f2",
      "range": {
        "startLine": 3014,
        "startChar": 1,
        "endLine": 3014,
        "endChar": 2
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85e3690e_1452a5ce",
        "filename": "chrome/browser/chrome_content_browser_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 3018,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-09-13T16:28:25Z",
      "side": 1,
      "message": "See above.",
      "range": {
        "startLine": 3018,
        "startChar": 1,
        "endLine": 3018,
        "endChar": 2
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdae49db_bd17a2c7",
        "filename": "chrome/browser/chrome_content_browser_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 3018,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "85e3690e_1452a5ce",
      "range": {
        "startLine": 3018,
        "startChar": 1,
        "endLine": 3018,
        "endChar": 2
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d4aa966_e454d84f",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "Coincidentally, I\u0027m working on a pair of CLs that will move this over to the UI thread (And significantly refactor this class, though Mojoifying the consumer end, so it can be used with the network service, rather than at the utility process end of things, so while there are a lot of conflicts, most shouldn\u0027t be functional...hopefully).  This change will make that a little simpler.",
      "range": {
        "startLine": 23,
        "startChar": 29,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc50089b_407649fe",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-13T19:27:59Z",
      "side": 1,
      "message": "As we\u0027re moving the utility process shutdown logic out of this class, I no longer care if this lands before or after my CL (Which no longer has the tests I was concerned about having).",
      "parentUuid": "0d4aa966_e454d84f",
      "range": {
        "startLine": 23,
        "startChar": 29,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffab9380_d914130a",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cc50089b_407649fe",
      "range": {
        "startLine": 23,
        "startChar": 29,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15438392_62c17666",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0d4aa966_e454d84f",
      "range": {
        "startLine": 23,
        "startChar": 29,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0c7a702_ad79a949",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "// namespace",
      "range": {
        "startLine": 28,
        "startChar": 1,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c920ae62_f38954d6",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0c7a702_ad79a949",
      "range": {
        "startLine": 28,
        "startChar": 1,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa3d1c28_504033fd",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 99,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "Do we have any tests that destroy and re-create a factory?  I\u0027m not seeing any.  I don\u0027t want to land anything in this space without them, as I don\u0027t feel that we can be sure this CL works without them.  Coincidentally, I\u0027m adding some in my CL (And hopefully they\u0027ll still work with this one, without any changes).\n\nAlso, will this shut down the utility process?  I\u0027m assuming it will?",
      "range": {
        "startLine": 99,
        "startChar": 28,
        "endLine": 99,
        "endChar": 0
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11b27ee1_fd5cb770",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 99,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "I don\u0027t think we have such tests, especially given that this class is a singleton.\nIf you have tests written for this, do you want me to wait for your CL to land?\n\nThe utility process is going away when all the interface ptrs to this service have been released.",
      "parentUuid": "aa3d1c28_504033fd",
      "range": {
        "startLine": 99,
        "startChar": 28,
        "endLine": 99,
        "endChar": 0
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaba3ee5_0ed7be89",
        "filename": "chrome/browser/net/chrome_mojo_proxy_resolver_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 99,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-10-04T20:36:38Z",
      "side": 1,
      "message": "So there are two concerns:\n\n1)  Do we kill the process when we shouldn\u0027t (i.e., we have PRoxyResolvers, but call this method anyways).  I think with the service API, we\u0027ll keep the service alive in that case, anyways, though there\u0027s still a problem with creating multiple services instead of just reusing the old one, if we incorrectly destroy the ResolverFactory.  No idea if the new factory would be in the same process or not.\n\n2)  We keep this process alive when we should not.  We use a PAC for a while, then stop using one for a while (Maybe because the network changed).  Do we correctly shut down the service in this case?\n\nBoth cases depend on the timer / proxy count logic, and have no tests, which seems pretty concerning.  I had some tests which worked with the old code, but I suspect they don\u0027t work with the new code (They relied on making secret ProxyResolver connections to the factory, untracked by this class, and watching when they were closed.  But I think the service would now keep those connections alive).\n\nAll code should be tested, so I\u0027d really like some integration tests for this (I\u0027m concerned about unit tests not giving sufficient coverage, particularly when the network stack finally goes out of process).",
      "parentUuid": "11b27ee1_fd5cb770",
      "range": {
        "startLine": 99,
        "startChar": 28,
        "endLine": 99,
        "endChar": 0
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1906f78b_f2ab8fb7",
        "filename": "net/proxy/mojo_proxy_resolver_factory_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 15,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "I don\u0027t think we want net/ to depend on services/.  Can we move this out of net/, particularly given that net/ doesn\u0027t even use this service?",
      "range": {
        "startLine": 15,
        "startChar": 35,
        "endLine": 15,
        "endChar": 41
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa9cf3a2_ab821fea",
        "filename": "net/proxy/mojo_proxy_resolver_factory_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 15,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "This was moved to its own service as discussed, services/proxy_resolver.",
      "parentUuid": "1906f78b_f2ab8fb7",
      "range": {
        "startLine": 15,
        "startChar": 35,
        "endLine": 15,
        "endChar": 41
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6882124d_de6c9a87",
        "filename": "net/proxy/mojo_proxy_resolver_factory_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "Can we document this class?",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 35
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f51a0ea_72ffb79f",
        "filename": "net/proxy/mojo_proxy_resolver_factory_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "By having it in the services/proxy_resolver, I think it\u0027s now clearer that it is the interface implementation. (like is done for all other services)",
      "parentUuid": "6882124d_de6c9a87",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 35
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43823620_9f8d839c",
        "filename": "net/proxy/mojo_proxy_resolver_factory_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "What is a ServiceContextRef?  It doesn\u0027t look to be documented.",
      "range": {
        "startLine": 23,
        "startChar": 39,
        "endLine": 23,
        "endChar": 56
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5954d31a_51cb7fca",
        "filename": "net/proxy/mojo_proxy_resolver_factory_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "I think it\u0027s now more explicit that it\u0027s under service manager.",
      "parentUuid": "43823620_9f8d839c",
      "range": {
        "startLine": 23,
        "startChar": 39,
        "endLine": 23,
        "endChar": 56
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f9fba45_178f8256",
        "filename": "net/proxy/mojo_proxy_resolver_factory_manifest.json",
        "patchSetId": 8
      },
      "lineNbr": 2,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-09-11T18:53:17Z",
      "side": 1,
      "message": "so is this a privileged interface in any sense?  Would we expect any other service to be able to connect to it?",
      "range": {
        "startLine": 2,
        "startChar": 3,
        "endLine": 2,
        "endChar": 38
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1d6a9f4_be0224b9",
        "filename": "net/proxy/mojo_proxy_resolver_factory_service.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-09-11T18:47:22Z",
      "side": 1,
      "message": "Again, can we document all these?  We have something like two dozen classes named Proxy[Resolver|Factory|Service|Client|Request]*, and they\u0027re very hard to keep straight.",
      "range": {
        "startLine": 17,
        "startChar": 40,
        "endLine": 17,
        "endChar": 47
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e10bcee_69ed8ef8",
        "filename": "net/proxy/mojo_proxy_resolver_factory_service.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1002246
      },
      "writtenOn": "2017-10-04T00:59:27Z",
      "side": 1,
      "message": "Hopefully it should be more obvious now that it\u0027s in services/proxy_resolver.",
      "parentUuid": "f1d6a9f4_be0224b9",
      "range": {
        "startLine": 17,
        "startChar": 40,
        "endLine": 17,
        "endChar": 47
      },
      "revId": "287f35b95cb3bdbee6a09e915615c756842271f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}