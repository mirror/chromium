{
  "comments": [
    {
      "key": {
        "uuid": "cdc0ccaf_f54f4c26",
        "filename": "cc/paint/discardable_image_map.h",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-30T21:08:08Z",
      "side": 1,
      "message": "How would this be used?",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 50
      },
      "revId": "c257374bd58a7e386283e0a763debdc80d19a89d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4128a5dc_4ae82bf1",
        "filename": "cc/paint/discardable_image_map.h",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-08-30T23:47:23Z",
      "side": 1,
      "message": "Each time we get a new recording, the animation system will copy the updated metadata from this image. Specifically:\n\nFrameMetadata (for frame complete and duration state).\nRepetitionPolicy (for how many loops of the animation to make).\n\nThe Layer will register itself for each animated image it receives in a recording, and unregisters images from the previous recording once they are updated.",
      "parentUuid": "cdc0ccaf_f54f4c26",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 50
      },
      "revId": "c257374bd58a7e386283e0a763debdc80d19a89d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a7bd6af_c04be028",
        "filename": "cc/paint/discardable_image_map.h",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-31T22:28:26Z",
      "side": 1,
      "message": "\u003e Each time we get a new recording, the animation system will copy the updated metadata from this image. Specifically:\n\u003e \n\u003e FrameMetadata (for frame complete and duration state).\n\u003e RepetitionPolicy (for how many loops of the animation to make).\n\nDoes that mean you only need these two things and not the full PaintImage?\n\n\u003e \n\u003e The Layer will register itself for each animated image it receives in a recording, and unregisters images from the previous recording once they are updated.\n\nWhere will the layer register itself? Are you talking about cc::Layer here? Could you link to the document describing this design, maybe it\u0027s clearer there what this is trying to accomplish.\n\nMy hesitation here is that this feels like a convenient, but ultimately not the best, place to gather this information. If we don\u0027t care about the location of this image within the layer, nor do we care about the scale at which it appears, then it should be gathered earlier in the stack (ie at record time maybe?) Or maybe Blink can supply a set of animated images along with a recording.",
      "parentUuid": "4128a5dc_4ae82bf1",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 50
      },
      "revId": "c257374bd58a7e386283e0a763debdc80d19a89d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4e27503_5aaab660",
        "filename": "cc/paint/paint_image_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-30T21:08:08Z",
      "side": 1,
      "message": "nit: Might as well keep this in the #if block.",
      "revId": "c257374bd58a7e386283e0a763debdc80d19a89d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}