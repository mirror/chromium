{
  "comments": [
    {
      "key": {
        "uuid": "067ac93e_e81f2c10",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2018-01-09T02:00:54Z",
      "side": 1,
      "message": "nit: please add a comment that these are also used for UMA so that we have some safeguard against the two files getting out of sync.",
      "range": {
        "startLine": 61,
        "startChar": 3,
        "endLine": 61,
        "endChar": 66
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ff3a530_649df39d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1227244
      },
      "writtenOn": "2018-01-09T18:28:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "067ac93e_e81f2c10",
      "range": {
        "startLine": 61,
        "startChar": 3,
        "endLine": 61,
        "endChar": 66
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ecd5626e_33ad1126",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2018-01-09T02:00:54Z",
      "side": 1,
      "message": "Should we record an enum value for UMA not enabled? How about for tablets? Or for Chrome Home not being enabled at all?\n\nAlso, do we want to log something when the infobar is shown, but hidden behind other infobars? Or can\u0027t be shown because of the current tab is in the background?\n\nLooking back through this code again, I think it\u0027s possible that a user qualifies, downloads the survey successfully but can\u0027t be shown the survey right away. If the user comes back the next day, rolls again and doesn\u0027t qualify, we may never show them the survey. We should probably be skipping the once per day/number rolling filter if we have already a downloaded survey waiting to be shown.",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 73
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d27ab24a_ef109cd0",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1227244
      },
      "writtenOn": "2018-01-09T18:28:59Z",
      "side": 1,
      "message": "The purpose of adding these metrics was to track numbers that were unavailable via UMA. Since we can filter out UMA not enabled, tablets, and CH-disabled devices, we shouldn\u0027t need to add them.\n\nI agree with your point about the user missing out. I\u0027ll add a TODO for that.",
      "parentUuid": "ecd5626e_33ad1126",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 73
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc620482_afbf89c3",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2018-01-09T18:44:43Z",
      "side": 1,
      "message": "If we\u0027re trying to figure out why fewer users are seeing/responding to the survey than expected, then I think we have to capture users who couldn\u0027t be shown the infobar. We should at the very least capture that in our histogram so that we the relative importance of addressing the TODO you added.\n\nHave we looked at the DownloadResponseCode histogram to determine how often we\u0027re requesting a download?",
      "parentUuid": "d27ab24a_ef109cd0",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 73
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c17ce82_702af0dc",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1227244
      },
      "writtenOn": "2018-01-10T00:34:39Z",
      "side": 1,
      "message": "Talked offline. I\u0027ll add metrics to track the number of infobars displayed \u0026 indirectly closed (e.g. from navigation away from the current website). The TODO will come in a CL soon.",
      "parentUuid": "dc620482_afbf89c3",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 73
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1c025a1_017658af",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 244,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2018-01-09T02:00:54Z",
      "side": 1,
      "message": "nit: I would create a helper method that logs this histogram, e.g.\n\nrecordSurveyFilteringResult(int value) {\n ...\n}",
      "range": {
        "startLine": 242,
        "startChar": 11,
        "endLine": 244,
        "endChar": 69
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ad03d2c_9428bab8",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/survey/ChromeHomeSurveyController.java",
        "patchSetId": 4
      },
      "lineNbr": 244,
      "author": {
        "id": 1227244
      },
      "writtenOn": "2018-01-09T18:28:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1c025a1_017658af",
      "range": {
        "startLine": 242,
        "startChar": 11,
        "endLine": 244,
        "endChar": 69
      },
      "revId": "9a72c559aac6d601528e8df5631322371969260f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}