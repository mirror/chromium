{
  "comments": [
    {
      "key": {
        "uuid": "55703a10_8dbf4c3c",
        "filename": "components/download/content/internal/download_driver_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 155,
      "author": {
        "id": 1145120
      },
      "writtenOn": "2017-09-13T23:46:09Z",
      "side": 1,
      "message": "We also need to persist this post_body in leveldb. \n\nHowever it feels like this is only meant for uploading strings and not files.\nAre files convertible to strings?\n\nAlso I think we would need a stream if the files are bigger than a few MB?\n\nIn that case we have to get a UploadDataStream from the client and set it on URLRequest.\nnet::URLRequest::set_upload(std::unique_ptr\u003cUploadDataStream\u003e upload)\n\nFor that, we would have to add this field in DownloadURLParameters and probably make some changes in this function.\nhttps://cs.chromium.org/chromium/src/content/browser/download/download_utils.cc?rcl\u003dc6f0b5099fb2f3207dbdd919211943677c2f5068\u0026l\u003d236",
      "revId": "4c8dda6131d0dd0411152133a59e0aa26873d07c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc1d9848_8f42591f",
        "filename": "components/download/content/internal/download_driver_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 155,
      "author": {
        "id": 1197289
      },
      "writtenOn": "2017-09-14T00:54:50Z",
      "side": 1,
      "message": "Agreed, it probably depends on how large the body is. Does background fetch will upload large files?\n\nstd::string is basically a buffer. We can read file to it, but need to be careful about the memory it used.",
      "parentUuid": "55703a10_8dbf4c3c",
      "revId": "4c8dda6131d0dd0411152133a59e0aa26873d07c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4d3d124_aed9807a",
        "filename": "components/download/content/internal/download_driver_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 155,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-14T20:55:30Z",
      "side": 1,
      "message": "I think it might make more sense to always ask the client for the body.  bgfetch will have to persist it anyway for their own queuing, so maybe we could send back the id and ask for the body stream on start.  I don\u0027t know what that means for resumption though, although resumption with uploads is a concept we still need to think through.",
      "parentUuid": "cc1d9848_8f42591f",
      "revId": "4c8dda6131d0dd0411152133a59e0aa26873d07c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}