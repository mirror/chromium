{
  "comments": [
    {
      "key": {
        "uuid": "73408853_60d66921",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 226,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "nit: I think Ted\u0027s recommendation was that we create our own state controller that sequences events rather than relying on the serial executor for sequencing. Can the TODO b something like, e.g. \"Create a state controller to sequence events rather than relying on the SERIAL_EXECUTOR\".\n\nAlso, I don\u0027t know that your\u0027e on the hook to do the work, so perhaps it\u0027s better to file an untriaged bug that Ted can triage?",
      "range": {
        "startLine": 226,
        "startChar": 23,
        "endLine": 226,
        "endChar": 72
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c5e0c6a_2979b949",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 226,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-19T15:27:04Z",
      "side": 1,
      "message": "Indeed",
      "parentUuid": "73408853_60d66921",
      "range": {
        "startLine": 226,
        "startChar": 23,
        "endLine": 226,
        "endChar": 72
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae0102a3_f53bbee1",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 226,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Got it, thanks for clarification!",
      "parentUuid": "9c5e0c6a_2979b949",
      "range": {
        "startLine": 226,
        "startChar": 23,
        "endLine": 226,
        "endChar": 72
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57486984_467d5d36",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 235,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "nit: how about just mergeFileName since this variable is only used for this one loop?",
      "range": {
        "startLine": 235,
        "startChar": 24,
        "endLine": 235,
        "endChar": 41
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67453301_edc1a79c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 235,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57486984_467d5d36",
      "range": {
        "startLine": 235,
        "startChar": 24,
        "endLine": 235,
        "endChar": 41
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2197ebf_07a77f14",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 238,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-19T15:27:04Z",
      "side": 1,
      "message": "startFetchTabListTask never returns null, so this is likely unneeded.",
      "range": {
        "startLine": 238,
        "startChar": 28,
        "endLine": 238,
        "endChar": 32
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06804950_1c950211",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 238,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "This is the null check in the old version of the code: https://codesearch.chromium.org/chromium/src/chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java?rcl\u003d2bdaf0af5e6ab06707931b0c1f8a79635219c024\u0026l\u003d378. I think it should never return null and want to double check is it possible executeOnExecutor could return null?",
      "parentUuid": "b2197ebf_07a77f14",
      "range": {
        "startLine": 238,
        "startChar": 28,
        "endLine": 238,
        "endChar": 32
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "795812f5_bc4f874b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 240,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-19T15:27:04Z",
      "side": 1,
      "message": "I think the right side can be \"\u003d new Pair\u003c\u003e(task, mayMergedFileName);\", but I think using .create is potentially clearer",
      "range": {
        "startLine": 240,
        "startChar": 57,
        "endLine": 240,
        "endChar": 58
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3efb8986_79dccf14",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 240,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "795812f5_bc4f874b",
      "range": {
        "startLine": 240,
        "startChar": 57,
        "endLine": 240,
        "endChar": 58
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00cef880_7f758718",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 242,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-19T15:27:04Z",
      "side": 1,
      "message": "instead of using the constructor, is it possible to do:\n\nmPrefetchTabListToMergeTasks.add(Pair.create(task, mayMergedFileName));\n\nI hope it does the generic handling for you to make this less verbose.",
      "range": {
        "startLine": 242,
        "startChar": 20,
        "endLine": 242,
        "endChar": 48
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a6f07d4_56a1e664",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 242,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "00cef880_7f758718",
      "range": {
        "startLine": 242,
        "startChar": 20,
        "endLine": 242,
        "endChar": 48
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea92029f_941b556d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 397,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "nit: Let\u0027s move this after the if (stream \u003d\u003d null) check and add some blank lines after stream \u003d\u003d null, e.g.\n\n...\nstream \u003d task.get()\nif (stream \u003d\u003d null) continue;\n\nlogExecutionTime(..)\n....",
      "range": {
        "startLine": 397,
        "startChar": 20,
        "endLine": 397,
        "endChar": 74
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a0c8aa9_1f34b33b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 397,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea92029f_941b556d",
      "range": {
        "startLine": 397,
        "startChar": 20,
        "endLine": 397,
        "endChar": 74
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e70bf7c5_18d71fa9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 407,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-19T15:27:04Z",
      "side": 1,
      "message": "Replace\n.size() \u003e 0\n\nwith\n!isEmpty()\n\nWe save a whole character :-P!",
      "range": {
        "startLine": 407,
        "startChar": 20,
        "endLine": 407,
        "endChar": 36
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe06428a_8f66c9c4",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 407,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e70bf7c5_18d71fa9",
      "range": {
        "startLine": 407,
        "startChar": 20,
        "endLine": 407,
        "endChar": 36
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28d48be3_da0cbee5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 446,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "nit: add a blank line after this one to break up the code block a bit",
      "range": {
        "startLine": 446,
        "startChar": 16,
        "endLine": 446,
        "endChar": 45
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "008844a9_820fdf13",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 446,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28d48be3_da0cbee5",
      "range": {
        "startLine": 446,
        "startChar": 16,
        "endLine": 446,
        "endChar": 45
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d789ad4_c00a8082",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 1273,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:26:24Z",
      "side": 1,
      "message": "A note on thread safety from our discussion yesterday. I *think* that we should be OK here even though we\u0027re not actually accessing mMergedFileNames using thread-safe constructs.\n\nOn the UI thread, when we populate mMergeFileNames, we setMergeInProgress(true). Once this is set, #loadState and #mergeState will return early until it is set back to false. This method doesn\u0027t get called with a file name that will cause wasMergeFile to be true until all merged tabs are loaded, so we won\u0027t setMergeInProgress back to true until mMergeFileNames is empty again.",
      "range": {
        "startLine": 1273,
        "startChar": 43,
        "endLine": 1273,
        "endChar": 59
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa6e1eb2_43c74edc",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabPersistentStore.java",
        "patchSetId": 10
      },
      "lineNbr": 1273,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0d789ad4_c00a8082",
      "range": {
        "startLine": 1273,
        "startChar": 43,
        "endLine": 1273,
        "endChar": 59
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3cb2bdd8_0ea2a7ce",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/browseractions/BrowserActionActivityTest.java",
        "patchSetId": 10
      },
      "lineNbr": 483,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "nit: This shouldn\u0027t be needed since #createSecondChromeTabbedActivity() calls this method now",
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cccb41b5_2a5d8517",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/browseractions/BrowserActionActivityTest.java",
        "patchSetId": 10
      },
      "lineNbr": 483,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3cb2bdd8_0ea2a7ce",
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7147f82b_43441b7f",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/browseractions/BrowserActionActivityTest.java",
        "patchSetId": 10
      },
      "lineNbr": 493,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "nit: Can we make this more descriptive? e.g. cta2ActivityTabUrl",
      "range": {
        "startLine": 493,
        "startChar": 15,
        "endLine": 493,
        "endChar": 26
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76fc8aa5_56eb08f8",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/browseractions/BrowserActionActivityTest.java",
        "patchSetId": 10
      },
      "lineNbr": 493,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7147f82b_43441b7f",
      "range": {
        "startLine": 493,
        "startChar": 15,
        "endLine": 493,
        "endChar": 26
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "215b2b3b_37caaa81",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/browseractions/BrowserActionActivityTest.java",
        "patchSetId": 10
      },
      "lineNbr": 562,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-19T15:12:22Z",
      "side": 1,
      "message": "It\u0027d be good to share this with the TabModelMergingTest somehow e.g. public static method. As a follow-up, maybe we should look at creating another *TestUtil.java class to provide this method and createSecondChromeTabbedActivity.",
      "range": {
        "startLine": 562,
        "startChar": 19,
        "endLine": 562,
        "endChar": 51
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f4c91f4_d7c72800",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/browseractions/BrowserActionActivityTest.java",
        "patchSetId": 10
      },
      "lineNbr": 562,
      "author": {
        "id": 1161045
      },
      "writtenOn": "2017-10-19T22:18:47Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "215b2b3b_37caaa81",
      "range": {
        "startLine": 562,
        "startChar": 19,
        "endLine": 562,
        "endChar": 51
      },
      "revId": "b5164519fd2103963902c4b26d5fb59e76198d4e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}