{
  "comments": [
    {
      "key": {
        "uuid": "23112eb9_48682adc",
        "filename": "ui/base/ime/input_method_chromeos.cc",
        "patchSetId": 7
      },
      "lineNbr": 335,
      "author": {
        "id": 1003013
      },
      "writtenOn": "2017-09-14T05:23:20Z",
      "side": 1,
      "message": "Can you please work through the following Chinese Pinyin case and see whether your change can work well?\n\nCase: input Chinese Period \"。\".\nSteps:\n1) Activate Chinese Pinyin input method.\n2) Put focus into an input field.\n3) Press \".\" key.\nExpect result:\n1) \"。\" is input into the input field.\n2) The web page can receive these events sequentially:\n   - keydown, keyCode\u003d190\n   - keypress, charCode\u003d12290\n   - beforeinput\n   - input\n   - keyup, keyCode\u003d190\n\nPer my understanding of your change:\n1) \".\" key is pressed, DispatchKeyEvent will invoke the IME extension.\n2) ProcessKeyEventDone is invoked after the turn around from the IME extension.\n3) ProcessKeyEventPostIME is invoked with handled \u003d\u003d true.\n4) Original: ProcessFilteredKeyPressEvent is invoked to produce \"keydown, keyCode\u003d190\", and the following ProcessInputMethodResult is invoked to produce \"keypress, charCode\u003d12290\".\n   Your change: ProcessFilteredKeyPressEvent is invoked to produce \"keydown, keyCode\u003d190\", but who can produce \"keypress, charCode\u003d12290\"?",
      "range": {
        "startLine": 335,
        "startChar": 11,
        "endLine": 335,
        "endChar": 39
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76cf7fad_0ad209e5",
        "filename": "ui/base/ime/input_method_chromeos.cc",
        "patchSetId": 7
      },
      "lineNbr": 335,
      "author": {
        "id": 1229390
      },
      "writtenOn": "2017-09-19T00:30:14Z",
      "side": 1,
      "message": "Thanks Shu Chen. How can I print out the charCode from |event|? I\u0027m only able to print out keyCode \u003d 190 by using event-\u003ekey_code()? I\u0027m trying to reproduce your case by printing the log out and comparing between the original and the patch. Chrome simulator doesn\u0027t support \"。\" for pinyin method, even though I selected pinyin, so I need to do this on chromeos laptop.",
      "parentUuid": "23112eb9_48682adc",
      "range": {
        "startLine": 335,
        "startChar": 11,
        "endLine": 335,
        "endChar": 39
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29fd2e62_32990125",
        "filename": "ui/base/ime/input_method_chromeos.cc",
        "patchSetId": 7
      },
      "lineNbr": 335,
      "author": {
        "id": 1003013
      },
      "writtenOn": "2017-09-20T02:41:28Z",
      "side": 1,
      "message": "Chrome simulator should work. Please make sure you\u0027ve copied the extension contents to /usr/share/chromeos-assets/input_methods/input_tools/.\nWhat\u0027s more, please build your chrome binary with:\n  is_official_build \u003d true\n  is_chrome_branded \u003d true",
      "parentUuid": "76cf7fad_0ad209e5",
      "range": {
        "startLine": 335,
        "startChar": 11,
        "endLine": 335,
        "endChar": 39
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24f91de0_6f876429",
        "filename": "ui/base/ime/input_method_chromeos.cc",
        "patchSetId": 7
      },
      "lineNbr": 335,
      "author": {
        "id": 1229390
      },
      "writtenOn": "2017-09-20T15:02:31Z",
      "side": 1,
      "message": "I\u0027m still unable to get the \"。\" in chrome simulator after copying this folder input_tools over with extra flags is_official_build and is_chrome_branded. The candidate popup list is still able to display as expected with this build though as you showed me before. My current gn args are\n\nis_official_build \u003d true\nis_chrome_branded \u003d true\nis_debug \u003d false\nuse_goma \u003d true\nis_asan \u003d false\ndcheck_always_on \u003d true\ntarget_os \u003d \"chromeos\"\nuse_ozone \u003d true\nozone_auto_platforms \u003d false\nozone_platform_x11 \u003d true\nenable_nacl\u003dtrue #assert for cros",
      "parentUuid": "29fd2e62_32990125",
      "range": {
        "startLine": 335,
        "startChar": 11,
        "endLine": 335,
        "endChar": 39
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b075d55_30bde05b",
        "filename": "ui/base/ime/input_method_chromeos.cc",
        "patchSetId": 7
      },
      "lineNbr": 335,
      "author": {
        "id": 1229390
      },
      "writtenOn": "2017-09-20T15:08:22Z",
      "side": 1,
      "message": "I realize I was running in mash world. The pinyin dot is correctly shown in non-mash as you describe. I\u0027ll file a bug for this, thanks!",
      "parentUuid": "24f91de0_6f876429",
      "range": {
        "startLine": 335,
        "startChar": 11,
        "endLine": 335,
        "endChar": 39
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1566c44_b890ee05",
        "filename": "ui/base/ime/input_method_chromeos.h",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1003013
      },
      "writtenOn": "2017-09-14T05:23:20Z",
      "side": 1,
      "message": "This overload method seems tricky. Please make InputMethodBase::DispatchKeyEventPostIME() a virtual and make this an override.",
      "range": {
        "startLine": 60,
        "startChar": 27,
        "endLine": 60,
        "endChar": 50
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "789341ac_f72cd59e",
        "filename": "ui/base/ime/input_method_chromeos.h",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1229390
      },
      "writtenOn": "2017-09-19T22:24:01Z",
      "side": 1,
      "message": "I move this method to InputMethodBase::DispatchKeyEventPostIME() so no need to override it here.",
      "parentUuid": "e1566c44_b890ee05",
      "range": {
        "startLine": 60,
        "startChar": 27,
        "endLine": 60,
        "endChar": 50
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b262109e_a9803806",
        "filename": "ui/base/ime/input_method_chromeos.h",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1003013
      },
      "writtenOn": "2017-09-20T02:41:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "789341ac_f72cd59e",
      "range": {
        "startLine": 60,
        "startChar": 27,
        "endLine": 60,
        "endChar": 50
      },
      "revId": "ccad71108899ce073ae0638560e9a5fb677c2100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}