{
  "comments": [
    {
      "key": {
        "uuid": "866a7bc0_6a7a4ce8",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T15:58:00Z",
      "side": 1,
      "message": "Add a comment for this:\n\n// Registers a factory to create WebRTC data channels handlers.",
      "range": {
        "startLine": 95,
        "startChar": 7,
        "endLine": 95,
        "endChar": 28
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed94a117_336c6ebf",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-06-28T18:37:23Z",
      "side": 1,
      "message": "I believe based on our discussion yesterday, this change is not necessary anymore. (Forwarding callbacks from ChromotingHost to ClientSession seems redundant: you need to register them anyway, directly in ClientSession would be cleaner.)",
      "parentUuid": "866a7bc0_6a7a4ce8",
      "range": {
        "startLine": 95,
        "startChar": 7,
        "endLine": 95,
        "endChar": 28
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a18b5834_cad37a01",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T19:07:10Z",
      "side": 1,
      "message": "An argument in favor of this is that it enables the host to register a factory based on policy (this would be useful for something like SecurityKey).  I don\u0027t feel strongly on whether it should be introduced in this CL or later (i.e. when needed).",
      "parentUuid": "ed94a117_336c6ebf",
      "range": {
        "startLine": 95,
        "startChar": 7,
        "endLine": 95,
        "endChar": 28
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "389eccbb_4d36c000",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-06-28T20:59:28Z",
      "side": 1,
      "message": "But AFAIK, everything in ChromotingHost can be accessed directly or indirectly in ClientSession. And not like HostExtension, DataChannelManager does not need to be initialized in session negotiation stage: all optional data channels are created after ClientSession has been created.",
      "parentUuid": "a18b5834_cad37a01",
      "range": {
        "startLine": 95,
        "startChar": 7,
        "endLine": 95,
        "endChar": 28
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "711154d2_a11976a7",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T21:33:05Z",
      "side": 1,
      "message": "The ChromotingHost does not know about policies either.  \n\nAs I said above, I\u0027m fine removing it for this CL, but I could see a case where we would want to create and register a factory based on the machine\u0027s policies.  In fact I\u0027m pretty sure we will want to do that for File Transfer as well.\n\nWe can easily add this later when we get closer to having an impl.",
      "parentUuid": "389eccbb_4d36c000",
      "range": {
        "startLine": 95,
        "startChar": 7,
        "endLine": 95,
        "endChar": 28
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17fe3bb1_b9a67d14",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "711154d2_a11976a7",
      "range": {
        "startLine": 95,
        "startChar": 7,
        "endLine": 95,
        "endChar": 28
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4163df43_b8cafd49",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T15:58:00Z",
      "side": 1,
      "message": "nit: You could make an aliased type for this, it is a bit long and is used several times.",
      "range": {
        "startLine": 186,
        "startChar": 14,
        "endLine": 187,
        "endChar": 76
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cb057a4_7a69e8e9",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4163df43_b8cafd49",
      "range": {
        "startLine": 186,
        "startChar": 14,
        "endLine": 187,
        "endChar": 76
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43616f81_3acf0f38",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-06-28T16:01:41Z",
      "side": 1,
      "message": "Any reason not to use std::map for this?",
      "range": {
        "startLine": 188,
        "startChar": 30,
        "endLine": 188,
        "endChar": 0
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a710db1_161fd6f4",
        "filename": "remoting/host/chromoting_host.h",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "I chose this vector because its the same as the one in DataChannelManager: https://cs.chromium.org/chromium/src/remoting/protocol/data_channel_manager.h?l\u003d41\nI can see why std::map makes more sense though.",
      "parentUuid": "43616f81_3acf0f38",
      "range": {
        "startLine": 188,
        "startChar": 30,
        "endLine": 188,
        "endChar": 0
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae45ff9d_2a5aff56",
        "filename": "remoting/host/client_session.h",
        "patchSetId": 1
      },
      "lineNbr": 261,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T15:58:00Z",
      "side": 1,
      "message": "Can you move this up to ~line 238 (just under the extension manager)?  They are loosely related so I think it would be good for them to be in close proximity of each other.",
      "range": {
        "startLine": 261,
        "startChar": 31,
        "endLine": 261,
        "endChar": 52
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed3f69cf_a2b2d55e",
        "filename": "remoting/host/client_session.h",
        "patchSetId": 1
      },
      "lineNbr": 261,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae45ff9d_2a5aff56",
      "range": {
        "startLine": 261,
        "startChar": 31,
        "endLine": 261,
        "endChar": 52
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "932a3221_b7fbd7a4",
        "filename": "remoting/host/remoting_me2me_host.cc",
        "patchSetId": 1
      },
      "lineNbr": 1436,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T15:58:00Z",
      "side": 1,
      "message": "You can remove this test handler : )",
      "range": {
        "startLine": 1436,
        "startChar": 12,
        "endLine": 1436,
        "endChar": 29
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c807041f_ac63df1b",
        "filename": "remoting/host/remoting_me2me_host.cc",
        "patchSetId": 1
      },
      "lineNbr": 1436,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "932a3221_b7fbd7a4",
      "range": {
        "startLine": 1436,
        "startChar": 12,
        "endLine": 1436,
        "endChar": 29
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8aa93ff1_f22404b8",
        "filename": "remoting/protocol/connection_to_client.h",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T15:58:00Z",
      "side": 1,
      "message": "Can you forward declare MessagePipe instead of including the header (similar to how DesktopCapturer is done below)?  In Chromium fwd declares are preferred over including the header in .h files.",
      "range": {
        "startLine": 12,
        "startChar": 28,
        "endLine": 12,
        "endChar": 42
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df8f036f_784d74d7",
        "filename": "remoting/protocol/connection_to_client.h",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8aa93ff1_f22404b8",
      "range": {
        "startLine": 12,
        "startChar": 28,
        "endLine": 12,
        "endChar": 42
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0cc1eb73_54a8d3bb",
        "filename": "remoting/protocol/connection_to_client.h",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T15:58:00Z",
      "side": 1,
      "message": "Can we drop the WebRTC name from the comment and method name?  In the future, the plans are to remove the ICE connection code and only use WebRTC so we can keep the handler name generic.",
      "range": {
        "startLine": 60,
        "startChar": 25,
        "endLine": 60,
        "endChar": 31
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6ce1490_9567b46c",
        "filename": "remoting/protocol/connection_to_client.h",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-06-28T18:37:23Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "0cc1eb73_54a8d3bb",
      "range": {
        "startLine": 60,
        "startChar": 25,
        "endLine": 60,
        "endChar": 31
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47fcd8cb_78df6e66",
        "filename": "remoting/protocol/connection_to_client.h",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e6ce1490_9567b46c",
      "range": {
        "startLine": 60,
        "startChar": 25,
        "endLine": 60,
        "endChar": 31
      },
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b18af64f_9669886f",
        "filename": "remoting/protocol/webrtc_connection_to_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-06-28T18:37:23Z",
      "side": 1,
      "message": "I would suggest to use this pattern\nif (name \u003d\u003d event_dispatcher_-\u003echannel_name() ...) {\n  event_dispatcher_-\u003eInit(...);\n  return\n}\n\nevent_handler_-\u003eOnIncomingWebrtcDataChannel(name, std::move(pipe));",
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f868ebfd_95448b16",
        "filename": "remoting/protocol/webrtc_connection_to_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-28T19:07:10Z",
      "side": 1,
      "message": "Actually, we could take this one step further and move the EventDispatcher creation logic into factory which is provided to the DataChannelManager.  That way the code would look like this:\nevent_handler_-\u003eOnIncomingDataChannel(name, std::move(pipe));\n\nAnd your CL would include an example usage of the DCM.  WDYT?",
      "parentUuid": "b18af64f_9669886f",
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07ca2e15_08551cdb",
        "filename": "remoting/protocol/webrtc_connection_to_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-06-29T19:33:16Z",
      "side": 1,
      "message": "If the EventDispatcher is created by a static factory method, would it be somehow tied to the lifetime of the MessagePipe? Would WebrtcConnectionToClient no longer have event_dispatcher_? If so, how could it access the EventDispatcher in methods other than this one?",
      "parentUuid": "f868ebfd_95448b16",
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3efc1594_fdeccec7",
        "filename": "remoting/protocol/webrtc_connection_to_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-06-29T19:53:35Z",
      "side": 1,
      "message": "At the point I made the comment I was thinking this class would have access to the DCM, but that is no longer the case, sorry for any confusion : (",
      "parentUuid": "07ca2e15_08551cdb",
      "revId": "1b6376ceda726dfe1f3c8908fc994bbbfff8555b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}