{
  "comments": [
    {
      "key": {
        "uuid": "8d664020_d2ce5dca",
        "filename": "ui/android/java/src/org/chromium/ui/resources/dynamics/ViewResourceAdapter.java",
        "patchSetId": 5
      },
      "lineNbr": 118,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-12T17:52:05Z",
      "side": 1,
      "message": "I think we use null pretty often to force a full redraw, and I don\u0027t think we want to drop the bitmap in that case.\n\nI think we\u0027ll want a separate method that gives the signal to drop any cached resources instead of relying on invalidate.",
      "revId": "501e9d572a4d140ccf8f19e9f1fa84641d2e99d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8379c764_a4dd9496",
        "filename": "ui/android/java/src/org/chromium/ui/resources/dynamics/ViewResourceAdapter.java",
        "patchSetId": 5
      },
      "lineNbr": 118,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-10-13T14:51:05Z",
      "side": 1,
      "message": "Done, but out of curiosity, why don\u0027t we want to drop the bitmap if the whole region is dirty? To avoid memory churn?",
      "parentUuid": "8d664020_d2ce5dca",
      "revId": "501e9d572a4d140ccf8f19e9f1fa84641d2e99d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e1b5cb6_8d48301c",
        "filename": "ui/android/java/src/org/chromium/ui/resources/dynamics/ViewResourceAdapter.java",
        "patchSetId": 5
      },
      "lineNbr": 118,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-13T23:03:28Z",
      "side": 1,
      "message": "If I recall, even creating the bitmap wasn\u0027t free in terms of CPU time either.  I guess it would be good to verify that though.  The memory spikes are a primary concern though.\n\nEven calling Bitmap#recycle() isn\u0027t immediate so you\u0027d likely be paying a 2x overhead for bitmap sizes if you were do to this often.\n\nhttps://developer.android.com/reference/android/graphics/Bitmap.html#recycle()",
      "parentUuid": "8379c764_a4dd9496",
      "revId": "501e9d572a4d140ccf8f19e9f1fa84641d2e99d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a9b0714_dc8a5da4",
        "filename": "ui/android/java/src/org/chromium/ui/resources/dynamics/ViewResourceAdapter.java",
        "patchSetId": 5
      },
      "lineNbr": 118,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-10-16T15:28:57Z",
      "side": 1,
      "message": "AFAIK, a garbage collection will be run after the memory signal has been processed (so that dropping references is actually effective in freeing up memory), so assuming that that happens every time, we would at least not accumulate memory for that long (and only if the resource is requested again before the GC happens).",
      "parentUuid": "4e1b5cb6_8d48301c",
      "revId": "501e9d572a4d140ccf8f19e9f1fa84641d2e99d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}