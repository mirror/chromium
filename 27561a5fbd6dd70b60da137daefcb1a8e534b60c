{
  "comments": [
    {
      "key": {
        "uuid": "ee347ee3_66974f48",
        "filename": "chrome/browser/ui/views/find_bar_host.cc",
        "patchSetId": 8
      },
      "lineNbr": 347,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2017-10-03T21:40:37Z",
      "side": 1,
      "message": "This comment is redundant.",
      "range": {
        "startLine": 347,
        "startChar": 14,
        "endLine": 347,
        "endChar": 24
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "663c19d2_bd45b5d2",
        "filename": "chrome/browser/ui/views/find_bar_host.cc",
        "patchSetId": 8
      },
      "lineNbr": 347,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-04T18:32:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee347ee3_66974f48",
      "range": {
        "startLine": 347,
        "startChar": 14,
        "endLine": 347,
        "endChar": 24
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1ae1f4f_185d2831",
        "filename": "chrome/browser/ui/views/frame/browser_view_layout.cc",
        "patchSetId": 8
      },
      "lineNbr": 209,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2017-10-03T21:40:37Z",
      "side": 1,
      "message": "browser_view_?",
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "530bdbf5_09c7beeb",
        "filename": "chrome/browser/ui/views/frame/browser_view_layout.cc",
        "patchSetId": 8
      },
      "lineNbr": 209,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-04T18:32:29Z",
      "side": 1,
      "message": "browser_view_ is a views::ClientView, not a BrowserView. browser_view_ is poorly named.",
      "parentUuid": "b1ae1f4f_185d2831",
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea0599dc_51be6a76",
        "filename": "chrome/browser/ui/views/frame/browser_view_layout.cc",
        "patchSetId": 8
      },
      "lineNbr": 244,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2017-10-03T21:40:37Z",
      "side": 1,
      "message": "I really dislike that this is lining up the find bar with the omnibox \"on accident.\" If we make the find bar a proper bubble like Evan suggested, I assume we get the proper alignment for free. Can we do that instead?",
      "range": {
        "startLine": 244,
        "startChar": 6,
        "endLine": 244,
        "endChar": 20
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6924bff6_1b684ee9",
        "filename": "chrome/browser/ui/views/frame/browser_view_layout.cc",
        "patchSetId": 8
      },
      "lineNbr": 244,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-04T18:32:29Z",
      "side": 1,
      "message": "Is there a metric that describes the widget drop-shadow width? I\u0027m pretty sure that\u0027s why there is the need for this.",
      "parentUuid": "ea0599dc_51be6a76",
      "range": {
        "startLine": 244,
        "startChar": 6,
        "endLine": 244,
        "endChar": 20
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f30ed46_25740175",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-10-03T17:41:06Z",
      "side": 1,
      "message": "If we\u0027re making the find bar look like all the other bubbles (and it seems like we are, wrt alignment, lack of arrow, border, etc.) wouldn\u0027t you want to turn the find bar into an actual bubble? That way the animations look the same whether you press ctrl+f or ctrl+d.",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6e0a9ff_03210984",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-03T17:50:03Z",
      "side": 1,
      "message": "The difference here is that the find bar icon *isn\u0027t* displayed when the find-bar isn\u0027t visible. There would be nothing to click on to open the bubble. Also, clicking on it again, should not close the find-in-page dialog.",
      "parentUuid": "1f30ed46_25740175",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d47248e_f34ca9f5",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-10-03T17:59:12Z",
      "side": 1,
      "message": "That is true of the majority of icons, e.g. zoom, passwords, etc. --- the bookmark bubble is the exception that is always visible.\n\nMaking this a real bubble not only gives us consistency, it allows us to delete a grip of code that\u0027s only relevant to the find bar.\n\n(And I don\u0027t feel strongly but I\u0027d expect clicking on the find icon to close the bar. That\u0027s how the other bubbles work, and it could even mean we don\u0027t need the [x] any more.)",
      "parentUuid": "b6e0a9ff_03210984",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "740397f9_f8cc0c51",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-03T18:10:42Z",
      "side": 1,
      "message": "I\u0027d brought up the whole click icon to close issue and the UX folks wanted the behavior to remain the same as before.\n\nWe can look into using a real bubble once this phase of the Harmony project is complete.",
      "parentUuid": "1d47248e_f34ca9f5",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eda53e9e_ae615f99",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-10-03T18:50:52Z",
      "side": 1,
      "message": "According to my understanding of Harmony, one of the primary goals is to unify the behavior and appearance of secondary UI throughout Chrome. This is conspicuously different from the other bubble icon views (as demonstrated by this entire class being nearly a no-op). Moving the find bar from its current location to underneath the omnibox places it in an uncanny valley. I don\u0027t see why making this bubble behave like all the other bubbles is desirable to punt.",
      "parentUuid": "740397f9_f8cc0c51",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef74101b_b3cf013e",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-03T18:59:34Z",
      "side": 1,
      "message": "The project has been broken up into a couple of phases. We\u0027re in the first phase right now. The second phase will focus more on the portions of the UI that were pushed out of phase 1. Additionally, the second phase will begin to better address future maintainability. I see this as fitting the phase 2 portion of the project better.\n\nI\u0027d considered not even creating a subclass of BubbleIconView(). When I looked at it, I concluded that the functionality of BubbleIconView had nearly all of what is needed for the icon display. Only a couple of virtuals needed to be overridden to get that. Even if the find in page dialog were made into a bubble, this class would be nearly the same.",
      "parentUuid": "eda53e9e_ae615f99",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3adb4034_8c3c8701",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2017-10-03T21:40:37Z",
      "side": 1,
      "message": "I do think the find bar should be a bubble in principle. And if it lets us get rid of the stuff in BrowserViewLayout then I think it\u0027s worth the time to do it properly.\n\nIf the UX folks are saying they don\u0027t want clicking the icon to close the bar and that\u0027s in disagreement with all other bubbles, I would push back about that.",
      "parentUuid": "ef74101b_b3cf013e",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec20b1be_5bcf6228",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-04T18:32:29Z",
      "side": 1,
      "message": "The find bar is much more persistent than most other views. No amount of clicking or focus changes will dismiss it. Only clicking the close(x) or hitting escape (and only if it\u0027s focused) will close it. I think the UX folks are looking to preserve that behavior.\n\nMany (most? all?) of the bubble will be dismissed if they lose focus or, as I mentioned, when the icon is clicked again. Where does the bubble go when the OmniBox is hidden by policy or other? I\u0027m concerned that we\u0027ll be fighting the inherent behavior of the bubbles.\n\nOn principal, I\u0027m not disagreeing here. I\u0027m only bringing up the potential pitfalls by going to a bubble and what I think is the viewpoint of the UX team.",
      "parentUuid": "3adb4034_8c3c8701",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e2ad911_1a99087d",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-10-04T21:37:46Z",
      "side": 1,
      "message": "\u003e The find bar is much more persistent than most other views. No amount of clicking or focus changes will dismiss it. Only clicking the close(x) or hitting escape (and only if it\u0027s focused) will close it. I think the UX folks are looking to preserve that behavior.\n\u003e \n\u003e Many (most? all?) of the bubble will be dismissed if they lose focus or, as I mentioned, when the icon is clicked again.\n\nClicking the icon definitely should remove the bubble (and I\u0027m happy to discuss with UX about that) but regardless, overriding that behavior is no doubt easy. I also think it is easy to control whether bubbles dismiss when they lose focus. See BubbleDialogDelegate::close_on_deactivate_\n\n\u003e Where does the bubble go when the OmniBox is hidden by policy or other? I\u0027m concerned that we\u0027ll be fighting the inherent behavior of the bubbles.\n\nWhen the omnibox is hidden? Is that possible?",
      "parentUuid": "ec20b1be_5bcf6228",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c898608_ea93ef0f",
        "filename": "chrome/browser/ui/views/location_bar/find_bar_icon.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-05T13:50:15Z",
      "side": 1,
      "message": "I explicitly asked about the issue of clicking the icon to close the find bar. See it and the response: https://bugs.chromium.org/p/chromium/issues/detail?id\u003d651643#c32\n\n\u003e When the omnibox is hidden? Is that possible?\n\nI\u0027m assuming that it\u0027s possible since in BrowserViewLayout there are several locations which check whether it is present: browser_-\u003eSupportsWindowFeature(Browser::FEATURE_LOCATIONBAR); This is why the changes try and revert to the previous behavior if the OmniBox isn\u0027t present. This is also why I\u0027m a little skeptical about making this a bubble strictly tied to the OmniBox.\n\nThere are some cases where a popup (shudder) can be presented without an OmniBox... yet it\u0027s still searchable. Ctrl+F still works. Where does the find bar and the icon go in that case?",
      "parentUuid": "0e2ad911_1a99087d",
      "range": {
        "startLine": 18,
        "startChar": 9,
        "endLine": 18,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c09f7a4_519d6f16",
        "filename": "chrome/browser/ui/views/location_bar/location_bar_view.cc",
        "patchSetId": 8
      },
      "lineNbr": 234,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-10-03T17:41:06Z",
      "side": 1,
      "message": "one wonders why these two (zoom and pw) don\u0027t set visibility to false.",
      "range": {
        "startLine": 234,
        "startChar": 2,
        "endLine": 234,
        "endChar": 38
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1455698b_b6a13f54",
        "filename": "chrome/browser/ui/views/location_bar/location_bar_view.cc",
        "patchSetId": 8
      },
      "lineNbr": 234,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-03T17:50:03Z",
      "side": 1,
      "message": "That\u0027s handled in RrefreshManagePasswordsIconView().",
      "parentUuid": "9c09f7a4_519d6f16",
      "range": {
        "startLine": 234,
        "startChar": 2,
        "endLine": 234,
        "endChar": 38
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d27ea65_c207f2f0",
        "filename": "chrome/browser/ui/views/location_bar/location_bar_view.cc",
        "patchSetId": 8
      },
      "lineNbr": 250,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-10-03T17:41:06Z",
      "side": 1,
      "message": "optional: the penny pincher in me wants to see this stanza turned into a lambda",
      "range": {
        "startLine": 250,
        "startChar": 2,
        "endLine": 250,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0468ba92_e4edf8aa",
        "filename": "chrome/browser/ui/views/location_bar/location_bar_view.cc",
        "patchSetId": 8
      },
      "lineNbr": 250,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-03T17:50:03Z",
      "side": 1,
      "message": "Could probably just call RefreshFindBarIcon() here... Although that\u0027s a lot of machinations just to set visible to false... and we already know it\u0027s not visible at this point.",
      "parentUuid": "1d27ea65_c207f2f0",
      "range": {
        "startLine": 250,
        "startChar": 2,
        "endLine": 250,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f1fc5ba_39e42582",
        "filename": "chrome/browser/ui/views/location_bar/location_bar_view.cc",
        "patchSetId": 8
      },
      "lineNbr": 250,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2017-10-03T21:40:37Z",
      "side": 1,
      "message": "I agree with Evan, add a helper AddIcon function or something so all of these are one line instead of four.",
      "parentUuid": "0468ba92_e4edf8aa",
      "range": {
        "startLine": 250,
        "startChar": 2,
        "endLine": 250,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd31030e_54c81dd1",
        "filename": "chrome/browser/ui/views/location_bar/location_bar_view.cc",
        "patchSetId": 8
      },
      "lineNbr": 250,
      "author": {
        "id": 1161819
      },
      "writtenOn": "2017-10-04T18:32:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5f1fc5ba_39e42582",
      "range": {
        "startLine": 250,
        "startChar": 2,
        "endLine": 250,
        "endChar": 16
      },
      "revId": "27561a5fbd6dd70b60da137daefcb1a8e534b60c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}