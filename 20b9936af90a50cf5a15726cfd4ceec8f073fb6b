{
  "comments": [
    {
      "key": {
        "uuid": "539ae11b_044f6038",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 26,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "Return a unique_ptr to make ownership clear.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 14
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c990ee0a_9001ca77",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 26,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "539ae11b_044f6038",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 14
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e2e5827_e41cc021",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 54,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "You should show the popup *after* you set opacity and bounds. Otherwise you run the risk of flicker.",
      "range": {
        "startLine": 54,
        "startChar": 2,
        "endLine": 54,
        "endChar": 17
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "583083b1_f7c51198",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 54,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e2e5827_e41cc021",
      "range": {
        "startLine": 54,
        "startChar": 2,
        "endLine": 54,
        "endChar": 17
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78e40a3b_f882e8cc",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 56,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "initial_offset.",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 19
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd57a5fb_44cc721a",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 56,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "Obsolete. Going back to SlideAnimation now.",
      "parentUuid": "78e40a3b_f882e8cc",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 19
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfaf3014_22623244",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "Does this really do what you want on windows/linux? I think this will immediately set the bounds on windows/linux.",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9001cc93_bc476420",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-08T00:12:52Z",
      "side": 1,
      "message": "This does what I want on Linux. However I tried this on Mac and it doesn\u0027t work... Bounds will be immediately set.\n\nI also tried calling GetLayer()-\u003eSetBounds() but then the animation doesn\u0027t show up at all... I have no idea why they don\u0027t have consistent behavior...",
      "parentUuid": "dfaf3014_22623244",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "beda7b18_dc74eb6a",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-09-08T03:37:55Z",
      "side": 1,
      "message": "oh, I didn\u0027t realize this was an animation when I commented earlier. Perhaps what you want is to set the final bounds on the widget and add a translation to the layer (which is animated).",
      "parentUuid": "9001cc93_bc476420",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73595629_d68d53e3",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-08T14:42:21Z",
      "side": 1,
      "message": "Whether you get the behavior you want really depends upon the NativeWidget type that is picked up. I suspect on mac you get a top level NativeWidget implementation, hence the bounds changing immediately. I also suspect that on windows you\u0027ll get a top level NativeWidget, which means the bounds are set immediately.\n\nEvan, I don\u0027t think animating the layer will work well as the if the layer goes outside the bounds of the nativewidget it\u0027ll be clipped.",
      "parentUuid": "beda7b18_dc74eb6a",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30ae2e92_c744cca6",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-09-08T15:52:08Z",
      "side": 1,
      "message": "\u003e Evan, I don\u0027t think animating the layer will work well as the if the layer goes outside the bounds of the nativewidget it\u0027ll be clipped.\n\nThat may not be a bad thing given that this only shows when fullscreen and is clipped by the bounds of the display anyway (assuming the widget extends to the top of the screen).",
      "parentUuid": "73595629_d68d53e3",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6be550e_d81d1d45",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-08T20:50:53Z",
      "side": 1,
      "message": "Sorry if I wasn\u0027t clear. I\u0027m referring to the layer from the popup getting clipped by the bounds of the location set on the popup, not the bounds of the browser\u0027s widget (parent_widget_).",
      "parentUuid": "30ae2e92_c744cca6",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ef1b974_5395c2ec",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 65,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "I\u0027m using SlideAnimation now. This works on both Mac and Linux.",
      "parentUuid": "b6be550e_d81d1d45",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 51
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8937cadf_46caaca0",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 83,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "initial_offset",
      "range": {
        "startLine": 83,
        "startChar": 6,
        "endLine": 83,
        "endChar": 19
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89cb4c99_174ed073",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 83,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "Obsolete.",
      "parentUuid": "8937cadf_46caaca0",
      "range": {
        "startLine": 83,
        "startChar": 6,
        "endLine": 83,
        "endChar": 19
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30a2f8ae_dfe3a950",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 89,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "no {}",
      "range": {
        "startLine": 89,
        "startChar": 4,
        "endLine": 89,
        "endChar": 19
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bf2b375_e38cb5c9",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 89,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "Obsolete. We return in the block.",
      "parentUuid": "30a2f8ae_dfe3a950",
      "range": {
        "startLine": 89,
        "startChar": 4,
        "endLine": 89,
        "endChar": 19
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a48e57cf_b1572846",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 99,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "What is parent_widget_? Do you know it\u0027s entirely on screen?",
      "range": {
        "startLine": 99,
        "startChar": 2,
        "endLine": 99,
        "endChar": 55
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97e2c9bb_b93b5cd3",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 99,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-08T00:12:52Z",
      "side": 1,
      "message": "It is just the widget of BrowserView.\n\nThis doesn\u0027t seem to work on Mac though... Mac uses ExclusiveAccessController instead of BrowserView. It has a NativeView but calling GetWidgetForNativeView on it will always return nullptr. Looks like I\u0027ll need to pass in gfx::NativeView instead of views::Widget and pass in the parent bounds on screen separately...",
      "parentUuid": "a48e57cf_b1572846",
      "range": {
        "startLine": 99,
        "startChar": 2,
        "endLine": 99,
        "endChar": 55
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a74aa92_98301446",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 99,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-09-08T03:37:55Z",
      "side": 1,
      "message": "it might be easier not to add a new widget but just to add a view to an existing hierarchy. It\u0027s hard to tell what\u0027s going on here because the code you\u0027re adding isn\u0027t exercised afaict.",
      "parentUuid": "97e2c9bb_b93b5cd3",
      "range": {
        "startLine": 99,
        "startChar": 2,
        "endLine": 99,
        "endChar": 55
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5646c520_141f4904",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 99,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-08T21:01:41Z",
      "side": 1,
      "message": "Is is possible to add a views::View to a native view (NSView)?\n\nI\u0027m basically trying to add the indicator to the BrowserWindow or something... Mac doesn\u0027t seem to use BrowserView for BrowserWindow. It uses a BrowserWindowController that gives native view. The ExclusiveAccessBubble shows the exit instruction by adding a widget onto the native view and gets the parent bounds from ExclusiveAccessBubbleViewsContext::GetClientAreaBoundsInScreen(). I feel like that may be what we need to do...",
      "parentUuid": "7a74aa92_98301446",
      "range": {
        "startLine": 99,
        "startChar": 2,
        "endLine": 99,
        "endChar": 55
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "218bd538_8d3981ef",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 99,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-08T21:23:25Z",
      "side": 1,
      "message": "At this time mac doesn\u0027t use views in the browser window, so I suspect this would be difficult. tapted could tell you for sure.\n\nI think using a Widget is the easiest cross platform choice. My recommendation is animate the bounds directly, which should work everywhere. By that I mean run your own animation and on each tick reset the bounds. We this else where already.",
      "parentUuid": "5646c520_141f4904",
      "range": {
        "startLine": 99,
        "startChar": 2,
        "endLine": 99,
        "endChar": 55
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a39e57cb_8e6c025c",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.cc",
        "patchSetId": 15
      },
      "lineNbr": 99,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "Going back to the SlideAnimation implementation :-|",
      "parentUuid": "218bd538_8d3981ef",
      "range": {
        "startLine": 99,
        "startChar": 2,
        "endLine": 99,
        "endChar": 55
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16e67a66_cd84b3cc",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.h",
        "patchSetId": 15
      },
      "lineNbr": 42,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-09-07T21:02:00Z",
      "side": 1,
      "message": "Why do you need to control animation? When will you pass in false?",
      "range": {
        "startLine": 42,
        "startChar": 12,
        "endLine": 42,
        "endChar": 25
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a95cfe50_f29e415b",
        "filename": "chrome/browser/ui/views/exit_fullscreen_indicator.h",
        "patchSetId": 15
      },
      "lineNbr": 42,
      "author": {
        "id": 1152109
      },
      "writtenOn": "2017-09-11T19:40:17Z",
      "side": 1,
      "message": "According to the spec, we hide the indicator without animation once the ESC key is held for 1000ms, and we hide it with animation if the user releases the key before the 1000ms timeout.",
      "parentUuid": "16e67a66_cd84b3cc",
      "range": {
        "startLine": 42,
        "startChar": 12,
        "endLine": 42,
        "endChar": 25
      },
      "revId": "20b9936af90a50cf5a15726cfd4ceec8f073fb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}