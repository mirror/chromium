{
  "comments": [
    {
      "key": {
        "uuid": "44b587f7_bff87431",
        "filename": "third_party/WebKit/LayoutTests/vr/latest/events_deviceconnect.html",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-09-20T22:20:58Z",
      "side": 1,
      "message": "I thought testharness.js gets angry if asserts aren\u0027t wrapped in a test step?",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 17
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb8051a3_cfd12d0b",
        "filename": "third_party/WebKit/LayoutTests/vr/latest/events_deviceconnect.html",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-20T22:22:11Z",
      "side": 1,
      "message": "I think they\u0027re a noop if not wrapped in a test step...",
      "parentUuid": "44b587f7_bff87431",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 17
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45cb3438_a598950f",
        "filename": "third_party/WebKit/LayoutTests/vr/latest/events_deviceconnect.html",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1111944
      },
      "writtenOn": "2017-09-21T21:59:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb8051a3_cfd12d0b",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 17
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1fb62d5f_600191cc",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.cpp",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-20T22:43:07Z",
      "side": 1,
      "message": "Can we move display_info into the VRDevice constructor so that we don\u0027t leave a bunch of members uninitialized when creating the VRDevice?",
      "range": {
        "startLine": 130,
        "startChar": 13,
        "endLine": 130,
        "endChar": 29
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac50abd2_13213b5c",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.cpp",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1111944
      },
      "writtenOn": "2017-09-21T21:59:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1fb62d5f_600191cc",
      "range": {
        "startLine": 130,
        "startChar": 13,
        "endLine": 130,
        "endChar": 29
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b156d67_c83b0141",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.cpp",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-20T22:43:07Z",
      "side": 1,
      "message": "So calling this here when the devices aren\u0027t finished syncing always felt strange to me, and maybe we want to change these semantics with WebVR 2.0.\n\nIt feels wrong that in response to getDevices we fire a bunch of deviceconnect events for devices that we\u0027re about to return from getDevices. It feels like we should only fire deviceconnect for new devices that connect after VR has initialized that the page should be made aware of. Now the page would probably have to do something like de-dup the devices they see in deviceconnect with the ones they get from getDevices, which feels gross.",
      "range": {
        "startLine": 134,
        "startChar": 2,
        "endLine": 135,
        "endChar": 71
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "121b4039_ec815d75",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.cpp",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1111944
      },
      "writtenOn": "2017-09-21T21:08:40Z",
      "side": 1,
      "message": "I\u0027ve actually had discussions with Mr. Doob within the last couple of weeks where he expressed a desire to have deviceconnect fire for every device at least once per page regardless of if it had been connected before or not. (It may not be \"new\", but it\u0027s new to you.) This is how the gamepad API works, FWIW.\n\nI tend to think that pages will either pay attention to the events or the poll exclusively, and not a whole lot in between.",
      "parentUuid": "7b156d67_c83b0141",
      "range": {
        "startLine": 134,
        "startChar": 2,
        "endLine": 135,
        "endChar": 71
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45b7f596_4c27fbcb",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.cpp",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-21T21:30:55Z",
      "side": 1,
      "message": "\u003e I tend to think that pages will either pay attention to the events or the poll exclusively, and not a whole lot in between.\n\nThat sounds bad, and I think we should discourage it. Only polling is bad because polling is just bad and we shouldn\u0027t encourage it :P Why would we want folks to poll for devices on every vsync, or some arbitrary interval? It\u0027s unnecessary work.\n\nOnly paying attention to events is also weird. I get why registering an event handler like vrdisplayconnect initializes VR and triggers vrdisplayconnect, but that just feels like a hacky solution.\n\nReally, it just feels like we have two confusingly different ways of doing the exact same thing, and I think we should either pick one of the two to support, or just not call displayconnect for initialization and force pages to do the correct thing that\u0027s harder to get wrong.\n\nThis is probably the wrong place for this discussion though...",
      "parentUuid": "121b4039_ec815d75",
      "range": {
        "startLine": 134,
        "startChar": 2,
        "endLine": 135,
        "endChar": 71
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce6e0e50_d4db521c",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-20T22:43:07Z",
      "side": 1,
      "message": "nit: I don\u0027t think this using declaration is very useful. Would prefer if we just used the exact type in the one spot it\u0027s used.",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 22,
        "endChar": 26
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59d95233_e4ce18f2",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1111944
      },
      "writtenOn": "2017-09-21T21:59:51Z",
      "side": 1,
      "message": "Ah, missed this in my last pass. I\u0027ll refactor it out before landing.",
      "parentUuid": "ce6e0e50_d4db521c",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 22,
        "endChar": 26
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "098142e4_d597bda5",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1111944
      },
      "writtenOn": "2017-09-21T22:29:35Z",
      "side": 1,
      "message": "Okay, took another pass at this and made the entirety of the promise tracking significantly simpler. (Previous code was copied from WebVR 1 path which I did when I was young and stupid a whole ~1.5 years ago.)",
      "parentUuid": "59d95233_e4ce18f2",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 22,
        "endChar": 26
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6508304_17cdf6ae",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VR.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-21T22:32:33Z",
      "side": 1,
      "message": "Oh, that\u0027s much better! Nice.",
      "parentUuid": "098142e4_d597bda5",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 22,
        "endChar": 26
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53cc052c_52959ed8",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VRDevice.cpp",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-09-20T22:43:07Z",
      "side": 1,
      "message": "Can we add a test for this and requestSession? We probably just want to make sure they\u0027re properly rejected for now.",
      "range": {
        "startLine": 62,
        "startChar": 24,
        "endLine": 62,
        "endChar": 39
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9718e20f_aee65553",
        "filename": "third_party/WebKit/Source/modules/vr/latest/VRDevice.cpp",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1111944
      },
      "writtenOn": "2017-09-21T21:59:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "53cc052c_52959ed8",
      "range": {
        "startLine": 62,
        "startChar": 24,
        "endLine": 62,
        "endChar": 39
      },
      "revId": "f5d4078179fffe2a198f01623b2880e443ec8046",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}