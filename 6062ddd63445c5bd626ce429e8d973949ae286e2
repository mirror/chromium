{
  "comments": [
    {
      "key": {
        "uuid": "20e3d285_af98e83c",
        "filename": "chrome/browser/ui/views/autofill/save_card_bubble_views_browsertest_base.cc",
        "patchSetId": 1
      },
      "lineNbr": 444,
      "author": {
        "id": 1123929
      },
      "writtenOn": "2017-12-20T19:37:03Z",
      "side": 1,
      "message": "I think you could factor out the clicking logic in ClickOnDialogViewWithIdAndWait into a new ClickOnDialogView(views::View*) and have\n\n- your tests call ClickOnDialogView(save_card_bubble_views-\u003eGetBubbleFrameView()-\u003eGetCloseButtonForTest()) instead of this function\n- ClickOnDialogViewWithIdAndWait call ClickOnDialogView(FindViewInBubbleById(view_id))\n\nThis way you\u0027re not shortcutting through to the pressed handler directly and reducing the duplicated \"click on this view\" logic. WDYT?",
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a48d35b8_9925efda",
        "filename": "chrome/browser/ui/views/autofill/save_card_bubble_views_browsertest_base.cc",
        "patchSetId": 1
      },
      "lineNbr": 444,
      "author": {
        "id": 1171614
      },
      "writtenOn": "2017-12-20T20:38:11Z",
      "side": 1,
      "message": "I like it!  I didn\u0027t think this would work because tapted@ recommended -\u003eButtonPressed() on the BubbleFrameView, but it looks like Mathieu\u0027s MouseEvent code still works with it.\n\nI\u0027m hitting a weird snag, though.  In order to call GetBubbleFrameView() I had to add to add SaveCardBubbleViewsBrowserTestBase as a friend of SaveCardBubbleViews.  However, moving the line  you suggest into the actual test class still throws the exact same \"You can\u0027t access this, it\u0027s protected\" error, *even* if I add SaveCardBubbleViewsFullFormBrowserTest as a friend of SaveCardBubbleViews.  Any idea why that might be the case?  Until then, I can\u0027t seem to get rid of ClickCloseButton() entirely...",
      "parentUuid": "20e3d285_af98e83c",
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82d99252_422c7c76",
        "filename": "chrome/browser/ui/views/autofill/save_card_bubble_views_browsertest_base.cc",
        "patchSetId": 1
      },
      "lineNbr": 444,
      "author": {
        "id": 1123929
      },
      "writtenOn": "2017-12-20T20:45:29Z",
      "side": 1,
      "message": "Sweet!\n\nYou probably want to replace your friend declaration with the FRIEND_TEST_ALL_PREFIXES macro: https://cs.chromium.org/chromium/src/base/gtest_prod_util.h?rcl\u003d369fae2d336df5c39ecf26e9f896e54ab1e2bdbf\u0026l\u003d21. That\u0027s because a gtest test case is actually a subclass of the test fixture, so class generated for the test case must be added as a friend.",
      "parentUuid": "a48d35b8_9925efda",
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3cc1c947_04379b04",
        "filename": "chrome/browser/ui/views/autofill/save_card_bubble_views_browsertest_base.cc",
        "patchSetId": 1
      },
      "lineNbr": 444,
      "author": {
        "id": 1171614
      },
      "writtenOn": "2017-12-20T21:36:02Z",
      "side": 1,
      "message": "Aha, so that\u0027s what the macro is for.  It worked, thanks!",
      "parentUuid": "82d99252_422c7c76",
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a36d39c_8bd86c5a",
        "filename": "components/test/data/autofill/credit_card_upload_form_address_and_cc.html",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-12-20T19:17:14Z",
      "side": 1,
      "message": "is this going to cause issues in a few years or when run on a system with a system clock set a few years ahead?",
      "range": {
        "startLine": 75,
        "startChar": 62,
        "endLine": 75,
        "endChar": 66
      },
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9530c0cc_6b30f82a",
        "filename": "components/test/data/autofill/credit_card_upload_form_address_and_cc.html",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1123929
      },
      "writtenOn": "2017-12-20T19:37:03Z",
      "side": 1,
      "message": "Yeah, sebsg@ fixed some similar issues very recently in https://chromium-review.googlesource.com/c/chromium/src/+/809724. Any chance we can use a similar change here?",
      "parentUuid": "2a36d39c_8bd86c5a",
      "range": {
        "startLine": 75,
        "startChar": 62,
        "endLine": 75,
        "endChar": 66
      },
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57e19d2b_73009a33",
        "filename": "components/test/data/autofill/credit_card_upload_form_address_and_cc.html",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1171614
      },
      "writtenOn": "2017-12-20T20:38:11Z",
      "side": 1,
      "message": "Good point; fixed.  I\u0027m going to go fix our test site with this, too...",
      "parentUuid": "9530c0cc_6b30f82a",
      "range": {
        "startLine": 75,
        "startChar": 62,
        "endLine": 75,
        "endChar": 66
      },
      "revId": "6062ddd63445c5bd626ce429e8d973949ae286e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}