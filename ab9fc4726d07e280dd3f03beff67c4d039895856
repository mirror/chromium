{
  "comments": [
    {
      "key": {
        "uuid": "b5879f16_c0723de7",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 82,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Can you please move mArePersonalizedPromosEnabled initialization before this line and check this field here?",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 82,
        "endChar": 83
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c67cc641_8278ae19",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 110,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Can you please reorganize this a bit (see next comment for more context on mWasDismissed):\n\nif (mWasDismissed) {\n    mSigninObserver \u003d null;\n    mProfileDataCache \u003d null;\n    mSigninPromoController \u003d null;\n    setVisibilityInternal(false);\n    return;\n}\n\nif (mArePersonalizedPromosEnabled) {\n    ...\n} else {\n    ...\n}",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7263b19_df082170",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 137,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "TBH, I don\u0027t like new conditions, sorry. They are redundant - if mSigninPromoController isn\u0027t null, then mArePersonalizedPromosEnabled must be true. In the following equation mDismissed is a value of mDismissed when constructor was invoked:\n\nmSigninPromoController !\u003d null \u0026\u0026 mArePersonalizedEnabled ≡\n(!mDismissed \u0026\u0026 mArePersonalizedEnabled) \u0026\u0026 mArePersonalizedEnabled ≡\n!mDismissed \u0026\u0026 mArePersonalizedEnabled\n\nHowever, if promo was dismissed before SignInPromo was created, then this method should never be called at all. So can we instead introduce final mWasDismissed boolean and rewrite this method in a following way:\n\nassert !mWasDismissed;\nif (mArePersonalizedPromosEnabled) {\n    return new ...;\n}\n...",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 137,
        "endChar": 78
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04ef86ae_936af5ac",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 147,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 147,
        "startChar": 0,
        "endLine": 147,
        "endChar": 78
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eeb6df8c_310ef56f",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 186,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 186,
        "startChar": 0,
        "endLine": 186,
        "endChar": 78
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "466ecdda_26a6fb12",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 211,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 211,
        "startChar": 0,
        "endLine": 211,
        "endChar": 78
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9085842_5073c345",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 239,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 239,
        "startChar": 0,
        "endLine": 239,
        "endChar": 82
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71113c48_ab862287",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/SignInPromo.java",
        "patchSetId": 9
      },
      "lineNbr": 254,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-08-25T12:07:34Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 254,
        "endChar": 82
      },
      "revId": "ab9fc4726d07e280dd3f03beff67c4d039895856",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}