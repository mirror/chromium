{
  "comments": [
    {
      "key": {
        "uuid": "91ce14f0_e53ce4be",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitializationActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-12-11T21:48:03Z",
      "side": 1,
      "message": "Can this new DeX bug apply to Android versions prior to N?",
      "range": {
        "startLine": 113,
        "startChar": 51,
        "endLine": 113,
        "endChar": 67
      },
      "revId": "9643e2a6166742f1a818ccf1ce7b0f828b53d411",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2decb6b_8f1a7b04",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitializationActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-12-12T01:19:53Z",
      "side": 1,
      "message": "AFAICT, DeX first appeared with Android N.",
      "parentUuid": "91ce14f0_e53ce4be",
      "range": {
        "startLine": 113,
        "startChar": 51,
        "endLine": 113,
        "endChar": 67
      },
      "revId": "9643e2a6166742f1a818ccf1ce7b0f828b53d411",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0c0aeb8_50dfe74c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitializationActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-12-12T21:29:32Z",
      "side": 1,
      "message": "Okay. I have some apprehension around applying an override configuration to all devices instead of just tablets.. but I can\u0027t think of any reason why it\u0027s a bad idea or find any emails/notes from the original implementation. I suspect the tablet restriction is because only tablets needed to be restricted.\n\nDoes this override mean that when switching to/from DeX we retain whatever layout we started with (phone or tablet)?\n\nAnother interesting test would be launching Chrome in multi-window mode and changing the display size in Android settings in the other window. I think it\u0027s probably \"easiest\" if we restart Chrome\u0027s process when a density/display change causes the isTablet threshold to be crossed.. but as long as we don\u0027t crash I think we\u0027re fine since it\u0027s not a typical use case.",
      "parentUuid": "f2decb6b_8f1a7b04",
      "range": {
        "startLine": 113,
        "startChar": 51,
        "endLine": 113,
        "endChar": 67
      },
      "revId": "9643e2a6166742f1a818ccf1ce7b0f828b53d411",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f8b2a5a_2d4c5c61",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitializationActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-12-13T14:48:33Z",
      "side": 1,
      "message": "When switching in/out of DeX mode, it appears as though our Activity is being restarted already (it re-inflates). So tabs appear when DeX is entered, and tabs disappear when going back to phone.\n\nThe odd thing (the bug) is that when leaving DeX, and after having rotated, the Activity\u0027s configuration thinks it\u0027s still in tablet mode, but the Application\u0027s configuration correctly reports that it\u0027s back in phone mode.\n\nBefore my previous change, we were setting the global state based on the most recently inflated activity\u0027s context, so if we went back to that behavior, we\u0027d be getting a tabstrip on the phone after leaving DeX. So, instead, I\u0027m having the activity take the value reported from the application\u0027s configuration.",
      "parentUuid": "a0c0aeb8_50dfe74c",
      "range": {
        "startLine": 113,
        "startChar": 51,
        "endLine": 113,
        "endChar": 67
      },
      "revId": "9643e2a6166742f1a818ccf1ce7b0f828b53d411",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}