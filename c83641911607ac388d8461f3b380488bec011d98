{
  "comments": [
    {
      "key": {
        "uuid": "a06bff72_5071ef44",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T00:10:22Z",
      "side": 1,
      "message": "Style nit: Should this be |SetSeed| (capital S)?",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00981be4_d6a62d0e",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-11T01:29:16Z",
      "side": 1,
      "message": "I was trying to fit in with the ranval stuff, but perhaps that is copied verbatim from its use in tcmalloc. I\u0027ll change this to conform to Chromium style. Done.",
      "parentUuid": "a06bff72_5071ef44",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5e798f6_2b8cbc7b",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-10T20:42:24Z",
      "side": 1,
      "message": "A friend at lunch mentioned that we might not want this for WebView. Is that built with OFFICIAL_BUILD or do we need to broaden the #if ?",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0afdd291_ed7cf1cb",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1160859
      },
      "writtenOn": "2017-10-10T21:26:00Z",
      "side": 1,
      "message": "(hello from the peanut gallery!)\n\nandroid webview artifacts are here -\u003e http://shortn/_zsjpsv5wiz and the \u0027gn-args-passed.txt\u0027 contains the GN flags and I see:\n\nis_official_build \u003d true\n\nso I think they are built with official build",
      "parentUuid": "d5e798f6_2b8cbc7b",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b88bf252_2407682f",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-10T21:27:47Z",
      "side": 1,
      "message": "Thank you!",
      "parentUuid": "0afdd291_ed7cf1cb",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "affe0095_5b334a49",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T00:10:22Z",
      "side": 1,
      "message": "I think we need randomization for WebView, at least in production.\n\nI also wonder if we should reverse the logic, such that |setSeed| is a no-op in all builds except Debug builds. I\u0027m thinking of e.g. Linux distributions shipping Chromium, Opera, Brave, and others who ship production builds of Chromium code but who might or might not set OFFICIAL_BUILD.",
      "parentUuid": "b88bf252_2407682f",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68110983_ef420e32",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-11T01:29:16Z",
      "side": 1,
      "message": "My comment was a little confusing - I meant that we want WebView to behave like branded Chrome.\n\nAs far as disabling this, I\u0027m balancing the needs of the V8 team vs. Chrome - I\u0027m happy to make this a debug only feature, if V8 can live with that. Michael, Ulan?",
      "parentUuid": "affe0095_5b334a49",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "725f37c4_970a32fa",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1131764
      },
      "writtenOn": "2017-10-11T07:29:56Z",
      "side": 1,
      "message": "Please make it also work in Release mode as fuzzers often are release mode only and debug mode is too slow.",
      "parentUuid": "68110983_ef420e32",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56968e2f_3d83fd71",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-11T20:35:02Z",
      "side": 1,
      "message": "Looking at the usage of the GN flag is_official_build, it seems like this should be set for any browser being shipped to customers. Here\u0027s one example:\n\nhttps://cs.chromium.org/chromium/src/BUILD.gn?rcl\u003d7d4a863400ce78eac96848e4319dc4a1ceb05f36\u0026l\u003d39\n\nSo making it a No-op only for official builds does seem sufficient. I\u0027ve switched the #if back.\n\nChris, WDYT?",
      "parentUuid": "725f37c4_970a32fa",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "414d8b73_fb4364a6",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2017-10-11T23:54:12Z",
      "side": 1,
      "message": "We learned the hard way from some recent TLS 1.3 woes that most downstream embedders are building without is_official_build set. (And thus getting every experiment enabled!) We don\u0027t really make this information that easy to find. FUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION might be safer? It sounds like exactly what this sort of thing is meant for.\n\nhttps://llvm.org/docs/LibFuzzer.html#fuzzer-friendly-build-mode\nhttps://cs.chromium.org/chromium/src/build/config/sanitizers/BUILD.gn?rcl\u003da07811eefeb4dff823c4d7dbdcd4e6404986ab13\u0026l\u003d523\n\nOr perhaps we should put an end to embedders not setting is_official_build entirely, though we\u0027d probably have to be really really loud about that.",
      "parentUuid": "56968e2f_3d83fd71",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b87c2b4d_8a37b985",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-12T19:23:54Z",
      "side": 1,
      "message": "It\u0027s not really just for fuzzers. The V8 team relies on predictability to debug issues involving running JS code with 100\u0027s of MB of garbage collected heap. So probably a name like \u0027is_unsafe_developer_build\u0027 is appropriate.",
      "parentUuid": "414d8b73_fb4364a6",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 28
      },
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c0a517a_7b8deb47",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T00:10:22Z",
      "side": 1,
      "message": "Is there a benefit to having a separate |setSeed| function?",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "306d442b_5b08c519",
        "filename": "base/allocator/partition_allocator/address_space_randomization.cc",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-11T01:29:16Z",
      "side": 1,
      "message": "It seems better to keep knowledge of the internals of ranctx together. However, I can accomplish that by moving this function up there (and eliminating setSeed.)",
      "parentUuid": "7c0a517a_7b8deb47",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4fe00c9_abe271d4",
        "filename": "base/allocator/partition_allocator/address_space_randomization_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T00:10:22Z",
      "side": 1,
      "message": "Nit: Maybe name this \"Unpredictable\", to more obviously mirror \"Predictable\"?",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cef2050_2f9c1a7a",
        "filename": "base/allocator/partition_allocator/address_space_randomization_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-11T01:29:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4fe00c9_abe271d4",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "428e2fdf_4f6cf3cc",
        "filename": "base/allocator/partition_allocator/address_space_randomization_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T00:10:22Z",
      "side": 1,
      "message": "It might be a good idea to assert the comment here, too:\n\n  #if defined(OS_WIN) \u0026\u0026 defined(ARCH_CPU_32_BITS)\n    EXPECT_EQ(nullptr, base::GetRandomPageBase());\n    return;\n  #else\n    EXPECT_NE(nullptr, base::GetRandomPageBase());\n  #endif",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6e941ff_bf493d10",
        "filename": "base/allocator/partition_allocator/address_space_randomization_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1001213
      },
      "writtenOn": "2017-10-11T01:29:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "428e2fdf_4f6cf3cc",
      "revId": "c83641911607ac388d8461f3b380488bec011d98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}