{
  "comments": [
    {
      "key": {
        "uuid": "473e77e8_5951110e",
        "filename": "media/midi/task_service.cc",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2017-08-25T05:15:32Z",
      "side": 1,
      "message": "In the scenario below, you\u0027ll wait for tasks bound to an old instance. That was also the case before.\n\nT1: BindInstance\nT1: UnbindInstance / lines 48-56\nT2: BindInstance\nT1: PostBoundTask\nT3: RunTask \nT1: UnbindInstance / lines 57-65 -\u003e Waits for tasks associated with the second bind when it should only be waiting for tasks associated with the first bind.\n\nIf possible, you could add a sequence checker in BindInstance/UnbindInstance to show that we don\u0027t have to worry about this race.",
      "range": {
        "startLine": 58,
        "startChar": 2,
        "endLine": 63,
        "endChar": 34
      },
      "revId": "74bda01315f21bb2d40ff4aad870e14ff4dc4fdf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3279c5d_8cf9c816",
        "filename": "media/midi/task_service.cc",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1002172
      },
      "writtenOn": "2017-08-25T06:08:56Z",
      "side": 1,
      "message": "This class assumes all BindInstance and UnbindInstance calls happen on the same thread.\n\nSo, if we want a strict check, how about holding default_task_runner_ even after UnbindInstance, and checking if all UnbindInsntance calls and following BindInstance calls happen on the same thread?",
      "parentUuid": "473e77e8_5951110e",
      "range": {
        "startLine": 58,
        "startChar": 2,
        "endLine": 63,
        "endChar": 34
      },
      "revId": "74bda01315f21bb2d40ff4aad870e14ff4dc4fdf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "178fd612_d6f4444f",
        "filename": "media/midi/task_service.cc",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-08-25T18:35:05Z",
      "side": 1,
      "message": "We can go with sequence checker for BindInstance/UnbindInstance for the same effect. That will go in this CL (https://chromium-review.googlesource.com/c/chromium/src/+/636189) for topicality.",
      "parentUuid": "a3279c5d_8cf9c816",
      "range": {
        "startLine": 58,
        "startChar": 2,
        "endLine": 63,
        "endChar": 34
      },
      "revId": "74bda01315f21bb2d40ff4aad870e14ff4dc4fdf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "efef4cd5_266aba6a",
        "filename": "media/midi/task_service.h",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2017-08-25T05:15:32Z",
      "side": 1,
      "message": "variable",
      "range": {
        "startLine": 82,
        "startChar": 20,
        "endLine": 82,
        "endChar": 28
      },
      "revId": "74bda01315f21bb2d40ff4aad870e14ff4dc4fdf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1db01f58_98279ede",
        "filename": "media/midi/task_service.h",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-08-25T18:35:05Z",
      "side": 1,
      "message": "Fixed by removing the redundant description.",
      "parentUuid": "efef4cd5_266aba6a",
      "range": {
        "startLine": 82,
        "startChar": 20,
        "endLine": 82,
        "endChar": 28
      },
      "revId": "74bda01315f21bb2d40ff4aad870e14ff4dc4fdf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}