{
  "comments": [
    {
      "key": {
        "uuid": "acaf3a16_2e1b0bd6",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-21T16:52:41Z",
      "side": 1,
      "message": "Please help update this, s/histograms.xml/enums.xml/",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a25c5442_40b17006",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1003189
      },
      "writtenOn": "2017-06-28T22:27:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "acaf3a16_2e1b0bd6",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ef56d60_c60dce7b",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-20T18:21:23Z",
      "side": 1,
      "message": "+isherman: These enums are never used so we are removing them. Can we just remove it from here and in histograms.xml?",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22eb3dc7_0c1c67f9",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-06-20T20:47:18Z",
      "side": 1,
      "message": "Please just mark the histogram as \u003cobsolete\u003e, unless there were literally no samples emitted to it, for any version of Chrome.  If the histogram literally never got any data that was uploaded to the server, then it\u0027s ok to delete the metadata from the XML files.  Otherwise, it\u0027s good to preserve that metadata, so that already-uploaded data is still viewable.\n\nIt\u0027s fine to delete this enum from the C++ code, though, if it is unused.",
      "parentUuid": "7ef56d60_c60dce7b",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72687e04_c1dfe4b8",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-21T16:52:41Z",
      "side": 1,
      "message": "Sorry I wasn\u0027t clear in the original question. We are not removing the UMA and all the enums. Instead, we are removing 3 enums in the C++ code and AFAICT these values were pretty much never used.\n\nIn this case, can we update enums.xml and remove the unused enums? Basically removing value 5, 6 and 7 from the list: https://cs.chromium.org/chromium/src/tools/metrics/histograms/enums.xml?rcl\u003d98deed067c4ca1bcf28f34d9f784b576e5796c38\u0026l\u003d3919",
      "parentUuid": "22eb3dc7_0c1c67f9",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c86d0f66_7291b2e7",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-06-21T17:05:11Z",
      "side": 1,
      "message": "I see.  In that case, there is not much need to change enums.xml; you can add \" (deprecated)\" as a suffix for the entries if you\u0027d like to.\n\nNote that removing the items from the middle of the list would cause issues: in data from older versions, bucket 3 would mean one thing; in newer versions, it would mean a different things.  Because histogram data is persisted, it is important never to change the semantics of a given serialized value; otherwise deserialization becomes quite hard.  (We could instead version the serialized data, and deserialize according to version, but we do not do that, as it\u0027s more complex.)",
      "parentUuid": "72687e04_c1dfe4b8",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a51da21d_43a8981b",
        "filename": "media/blink/cdm_result_promise_helper.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1003189
      },
      "writtenOn": "2017-06-28T22:27:03Z",
      "side": 1,
      "message": "Added (deprecated) to the 3 values no longer used.\n\nAlso want to note that although the code used INVALID_ACCESS_ERROR, it was always reported to JavaScript as TYPE_ERROR. This is just renaming it to match what users see.",
      "parentUuid": "c86d0f66_7291b2e7",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97cff61e_d314306c",
        "filename": "media/cdm/cdm_adapter.cc",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-20T18:21:23Z",
      "side": 1,
      "message": "Can you file a bug about removing CDM_8 support and add link here?",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91a08a6d_cefcac1f",
        "filename": "media/cdm/cdm_adapter.cc",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1003189
      },
      "writtenOn": "2017-06-28T22:27:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "97cff61e_d314306c",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "931daa16_ccc16327",
        "filename": "media/cdm/ppapi/ppapi_cdm_adapter.cc",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-20T18:21:23Z",
      "side": 1,
      "message": "ditto",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3b37f26_9b594720",
        "filename": "media/cdm/ppapi/ppapi_cdm_adapter.cc",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1003189
      },
      "writtenOn": "2017-06-28T22:27:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "931daa16_ccc16327",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "909c3fde_e37d4fff",
        "filename": "media/remoting/proto_enum_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 485,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-20T18:21:23Z",
      "side": 1,
      "message": "+miu: These enums are being deprecated. Do you know what\u0027s the proper way of removing them from the protobuf?",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eabdaa15_832a86ae",
        "filename": "media/remoting/proto_enum_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 485,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2017-06-21T03:27:26Z",
      "side": 1,
      "message": "I think it\u0027d be sufficient to add the deprecated attribute on the enum values in the media/remoting/rpc.proto file. Meaning:\n\n  enum CdmException {\n    ...\n    INVALID_ACCESS_ERROR \u003d 2 [deprecated\u003dtrue];\n    ...\n    UNKNOWN_ERROR \u003d 4 [deprecated\u003dtrue];\n    ...and so on...\n  }\n\nThe protobuf documentation only discusses using the \"deprecated\" attribute on type fields, so I\u0027m not certain that the above will work. If you get a compile error, it would be sufficient to just add EOL comments instead, like:\n\n  enum CdmException {\n    ...\n    INVALID_ACCESS_ERROR \u003d 2;  // DEPRECATED\n    ...\n    UNKNOWN_ERROR \u003d 4;  // DEPRECATED\n    ...and so on...\n  }",
      "parentUuid": "909c3fde_e37d4fff",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bda8b720_882cdac2",
        "filename": "media/remoting/proto_enum_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 485,
      "author": {
        "id": 1003189
      },
      "writtenOn": "2017-06-28T22:27:03Z",
      "side": 1,
      "message": "[deprecated\u003dtrue] appears to work. Done.",
      "parentUuid": "eabdaa15_832a86ae",
      "revId": "39ec880f3f935e4b3a7c7daeeafec2608e67bbd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}