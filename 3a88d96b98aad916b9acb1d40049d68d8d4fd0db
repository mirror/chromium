{
  "comments": [
    {
      "key": {
        "uuid": "8fbf8691_e4e8f337",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 282,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-05-29T05:13:46Z",
      "side": 1,
      "message": "We need to trace creation_callback_ .\n\nvisitor-\u003eTrace(creation_callback_);",
      "range": {
        "startLine": 282,
        "startChar": 13,
        "endLine": 282,
        "endChar": 21
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04df279e_ebcd96d0",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 282,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-05-29T06:47:56Z",
      "side": 1,
      "message": "The GC plugin should be able to catch this programming error.\n\n+keishi +sigbjornf",
      "parentUuid": "8fbf8691_e4e8f337",
      "range": {
        "startLine": 282,
        "startChar": 13,
        "endLine": 282,
        "endChar": 21
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ded1891d_e6083a91",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 282,
      "author": {
        "id": 1116047
      },
      "writtenOn": "2017-05-29T08:05:57Z",
      "side": 1,
      "message": "Added missing Trace().",
      "parentUuid": "04df279e_ebcd96d0",
      "range": {
        "startLine": 282,
        "startChar": 13,
        "endLine": 282,
        "endChar": 21
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7528edd3_5e7e7d50",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 321,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-05-29T05:13:46Z",
      "side": 1,
      "message": "I\u0027m not sure passing nullptr as the receiver object is right. It seems that we currently pass undefined as the receiver. Maybe passing nullptr is fine.",
      "range": {
        "startLine": 321,
        "startChar": 27,
        "endLine": 321,
        "endChar": 34
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6dff0391_1e7e8a49",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 321,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-05-29T06:47:56Z",
      "side": 1,
      "message": "How is the receiver object used in the callback function?",
      "parentUuid": "7528edd3_5e7e7d50",
      "range": {
        "startLine": 321,
        "startChar": 27,
        "endLine": 321,
        "endChar": 34
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d55fefdc_af6a3a7d",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 321,
      "author": {
        "id": 1116047
      },
      "writtenOn": "2017-05-29T08:05:57Z",
      "side": 1,
      "message": "The first argument of call() of a generated callback function is |ScriptWrappable*|.  So we have no ways to specify Undefined as a receiver here.\nI couldn\u0027t find how Null/Undefined receiver is handled in V8.\n\nBTW, why the generated call() has the ScriptWrappeble argument?",
      "parentUuid": "6dff0391_1e7e8a49",
      "range": {
        "startLine": 321,
        "startChar": 27,
        "endLine": 321,
        "endChar": 34
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b6bf185_8c13b2f6",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 321,
      "author": {
        "id": 1116047
      },
      "writtenOn": "2017-05-29T08:36:46Z",
      "side": 1,
      "message": "\u003e BTW, why the generated call() has the ScriptWrappeble argument?\n\nOk, I understand.  Some specifications specify what should be |this| explicitly.  However, Web SQL Database specification doesn\u0027t.",
      "parentUuid": "d55fefdc_af6a3a7d",
      "range": {
        "startLine": 321,
        "startChar": 27,
        "endLine": 321,
        "endChar": 34
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21bb6761_697ff367",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 321,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-05-29T08:41:26Z",
      "side": 1,
      "message": "What object is used as |this| when we pass nullptr?",
      "parentUuid": "7b6bf185_8c13b2f6",
      "range": {
        "startLine": 321,
        "startChar": 27,
        "endLine": 321,
        "endChar": 34
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dbacb107_413d2f73",
        "filename": "third_party/WebKit/Source/modules/webdatabase/Database.cpp",
        "patchSetId": 5
      },
      "lineNbr": 321,
      "author": {
        "id": 1002507
      },
      "writtenOn": "2017-05-29T08:51:56Z",
      "side": 1,
      "message": "If the current implementation is passing |undefined| in as the receiver object, then passing |nullptr| as the receiver object is just fine and it should behave the same.\n\nEvery function takes the receiver object when it\u0027s called.  So, whenever you invoke a function (including callback functions), you need to pass the receiver object.  The receiver object is referenced as |this| in the function.  It totally depends on the function for what |this| will be used.\n\nThe receiver object can be any ES Object, so not necessarily need to be a ScriptWrappable.  However, do we want to pass any other object so far?\n\nIf you passed |nullptr| as the receiver object, ToV8(nullptr) is used as the receiver object.  ToV8(nullptr) returns v8::Null(isolate) i.e. |null| in ECMAScript.  ECMAScript has a rule to convert |null| or |undefined| into the \"global this value\" in case of the receiver object of a function call.  So |this| will be the global proxy (i.e. |window|).  This is a reasonable choice when you don\u0027t have any other appropriate object for |this|.",
      "parentUuid": "d55fefdc_af6a3a7d",
      "range": {
        "startLine": 321,
        "startChar": 27,
        "endLine": 321,
        "endChar": 34
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "463dd728_103f20b6",
        "filename": "third_party/WebKit/Source/modules/webdatabase/DatabaseManager.cpp",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-05-29T05:13:46Z",
      "side": 1,
      "message": "nit: Remove this include?",
      "range": {
        "startLine": 34,
        "startChar": 21,
        "endLine": 34,
        "endChar": 31
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9324f48_8f2dae86",
        "filename": "third_party/WebKit/Source/modules/webdatabase/DatabaseManager.cpp",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1116047
      },
      "writtenOn": "2017-05-29T08:05:57Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "463dd728_103f20b6",
      "range": {
        "startLine": 34,
        "startChar": 21,
        "endLine": 34,
        "endChar": 31
      },
      "revId": "3a88d96b98aad916b9acb1d40049d68d8d4fd0db",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}