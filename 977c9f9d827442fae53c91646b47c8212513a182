{
  "comments": [
    {
      "key": {
        "uuid": "69fc5c55_51a567d6",
        "filename": "third_party/WebKit/LayoutTests/shadow-dom/ua/summary-details-and-ua-shadow.html",
        "patchSetId": 24
      },
      "lineNbr": 25,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "You can use assert_true()",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65365cf8_8c4e6914",
        "filename": "third_party/WebKit/LayoutTests/shadow-dom/ua/summary-details-and-ua-shadow.html",
        "patchSetId": 24
      },
      "lineNbr": 25,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "69fc5c55_51a567d6",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "60ff9240_36740975",
        "filename": "third_party/WebKit/LayoutTests/shadow-dom/ua/summary-details-distribution-expected.html",
        "patchSetId": 24
      },
      "lineNbr": 5,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "Nit: unnecessary double quote?",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9a6e73f_b982c44e",
        "filename": "third_party/WebKit/LayoutTests/shadow-dom/ua/summary-details-distribution-expected.html",
        "patchSetId": 24
      },
      "lineNbr": 5,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "No, this is expected - the span\u0027s shadow content is `\"\u003cslot\u003e\u003c/slot\u003e\"` and\n\"Apple\" (text node) is assigned to the slot.",
      "parentUuid": "60ff9240_36740975",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e17d663b_7d06ddd1",
        "filename": "third_party/WebKit/Source/core/dom/SlotAssignment.cpp",
        "patchSetId": 24
      },
      "lineNbr": 242,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "I am a little worrying about code duplication of this function with ResolveAssignment(), seeing that the similar structure appears in both functions with a little difference.\n\nCould you improve that by something like the following?\n\n  for (Node\u0026 child : NodeTraversal::ChildrenOf(owner_-\u003ehost())) {\n    if (!child.IsSlotable()) {\n      child.LazyReattachIfAttached();\n      continue;\n    }\n    if (HTMLSlotElement* slot \u003d ..... // FildSlotByName or FindSlotInUserAgentShadow \n      slot-\u003eAppendAssignedNode(child);\n    else\n      child.LazyReattachIfAttached();",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "805b4e61_67367265",
        "filename": "third_party/WebKit/Source/core/dom/SlotAssignment.cpp",
        "patchSetId": 24
      },
      "lineNbr": 242,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e17d663b_7d06ddd1",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "693ee36f_4234fcf9",
        "filename": "third_party/WebKit/Source/core/dom/SlotAssignment.cpp",
        "patchSetId": 24
      },
      "lineNbr": 279,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "It looks we are looking up a hash table N (\u003d\u003d the number of children) times for the *same* key in one ResolveAssignment().\n\nIt would be better to look up a hash table only once for two kinds of slots in one ResolveAssignment operation.",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0186caa3_37225d44",
        "filename": "third_party/WebKit/Source/core/dom/SlotAssignment.cpp",
        "patchSetId": 24
      },
      "lineNbr": 279,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "It is a real concern for \u003cselect\u003e - \u003coption\u003e, which may contain 1000s of \u003coption\u003es.\nAdded 2 members (which add 2 extra pointers to each instance) to cache the two slots -\nwhat do you think?",
      "parentUuid": "693ee36f_4234fcf9",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3e35122_fe4d25f8",
        "filename": "third_party/WebKit/Source/core/dom/SlotAssignment.cpp",
        "patchSetId": 24
      },
      "lineNbr": 279,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-10T09:28:16Z",
      "side": 1,
      "message": "I didn\u0027t mean to use member variables. :(\nI meant to use two local variables (stack allocated) before iterating children.",
      "parentUuid": "0186caa3_37225d44",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae7ece5a_f4c0c2ab",
        "filename": "third_party/WebKit/Source/core/dom/SlotAssignment.cpp",
        "patchSetId": 24
      },
      "lineNbr": 279,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T10:36:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b3e35122_fe4d25f8",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1e9e203_4190efb8",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 45,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "Neither this class nor AssignmentFilter have any member variables.\n\nGiven that, I don\u0027t think we need AssignmentFilter. A simple lambda expression, instead of AssignmentFilter::CanAssign(), would serve well, I think.",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "094092f6_a143d0a9",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 45,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Changed to just a function.\nI think we can make this a lambda expression, but isn\u0027t it better we have a name for it?",
      "parentUuid": "e1e9e203_4190efb8",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9641b74_d4bd70c9",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 45,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-10T09:28:16Z",
      "side": 1,
      "message": "A function would be better.\n\nBTW, I would suggest another option.\n\nInstead of storing callback for each slot, we can decide which function we should call only based on shadow host\u0027s element type. We don\u0027t need to store callback for each slot.\n\ne.g.\n\n\nif host\u0027s type \u003d\u003d detail:\n  call isFirstSummary(children)\nelse if host\u0027s type \u003d\u003d xxx:\n  call isXXXX(chidren)",
      "parentUuid": "094092f6_a143d0a9",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df0e8af8_685012ec",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 45,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T10:36:01Z",
      "side": 1,
      "message": "Hmm, that would save memory for holding the function pointer (# of slots to\n1 per shadow root), but it would require changing SlotAssignment each time new kind of\nUA shadow is added, and it may distribute the implementation for e.g. \u003cdetails\u003e into\nHTMLDetailsElement.cpp and SlotAssignment.cpp.\n\nInstead, how about adding RegisterCustomAssignCallback() to ShadowRoot or SlotAssignment?\nThis way we can save some memory, while the implementations keep decentralized.\n\n(at this point, \u003cdetails\u003e \u003coptgroup\u003e \u003cselect\u003e are the only users of this custom assignment,\nso it isn\u0027t a big issue for now)",
      "parentUuid": "b9641b74_d4bd70c9",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67618af3_5d892be8",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 45,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-10T13:23:37Z",
      "side": 1,
      "message": "Given there are only 3 elements, introducing RegisterCusomAssignCallback sounds over-engineering to me.\nI prefer a simple solution which can work. The implementation can be defined in each element\u0027s *.cpp as a static member function.",
      "parentUuid": "df0e8af8_685012ec",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1c52a81_787225c7",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 45,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-11T02:53:31Z",
      "side": 1,
      "message": "I see, we can change the code in the future when it becomes relevant, but for now we can do\nwith the simplest implementation.",
      "parentUuid": "67618af3_5d892be8",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2cfc33fb_9a768feb",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 54,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "Two comments:\n\n1. Could you extract L54-L60 as a function and name it? That would make this more readable.\n\ne.g. IsFirstHTMLSummaryElement or anything better.\n\n2. I think this can be more simple:\n\nif (node.parentElement() \u0026\u0026 node \u003d\u003d Traversal\u003cHTMLSummaryElement\u003e::firstChild(node.parentElement()))",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f707f8d_d6cf2c83",
        "filename": "third_party/WebKit/Source/core/html/HTMLDetailsElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 54,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2cfc33fb_9a768feb",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d49929c_4043b11c",
        "filename": "third_party/WebKit/Source/core/html/HTMLSlotElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 185,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "Can\u0027t we have IsInUserAgentShadowRoot?\n\nI am too lazy to confirm whether we already have it or not in Node. :)",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0d4e89b_a347c414",
        "filename": "third_party/WebKit/Source/core/html/HTMLSlotElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 185,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d49929c_4043b11c",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9760640_2d7d3b8b",
        "filename": "third_party/WebKit/Source/core/html/HTMLSlotElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 497,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "Could you share your thought briefly here?\nYou tried to return earlier? e.g. in DOM mutations?\n\nI appreciate if you could note what you have investigated here so that the goal of this TODO would become clear to us.",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3504eb5_8903f724",
        "filename": "third_party/WebKit/Source/core/html/HTMLSlotElement.cpp",
        "patchSetId": 24
      },
      "lineNbr": 497,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b9760640_2d7d3b8b",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "49cf7b70_a3218d8d",
        "filename": "third_party/WebKit/Source/core/html/HTMLSlotElement.h",
        "patchSetId": 24
      },
      "lineNbr": 135,
      "author": {
        "id": 1115903
      },
      "writtenOn": "2018-01-09T08:46:21Z",
      "side": 1,
      "message": "A pair of \"Filtered\" and \"Fallback\" might not sound a good name to me. It would be better to avoid to use \"Fallback\" because it is already used in another meaning in the slot assignments world.\n\nAlso, it might be better to avoid *filter* because filter is sometimes a confusing name.\ne.g. It is unclear whether it includes or excludes something if a *filter function* returns true.\n\nHow about UserAgentCustomAssignSlot and UserAgentDefaultSlot or anything better names?",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19477a1b_c60f6e80",
        "filename": "third_party/WebKit/Source/core/html/HTMLSlotElement.h",
        "patchSetId": 24
      },
      "lineNbr": 135,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2018-01-10T08:07:35Z",
      "side": 1,
      "message": "Thanks for the suggestion, took the names: UserAgent{CustomAssign,Default}Slot.\nPrefixing \"UserAgent\" suggests that it should be used for UA shadows.",
      "parentUuid": "49cf7b70_a3218d8d",
      "revId": "977c9f9d827442fae53c91646b47c8212513a182",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}