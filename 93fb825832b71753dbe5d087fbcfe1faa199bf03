{
  "comments": [
    {
      "key": {
        "uuid": "b7850b07_8011075c",
        "filename": "media/mojo/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 141,
      "author": {
        "id": 1120879
      },
      "writtenOn": "2017-11-20T21:30:35Z",
      "side": 1,
      "message": "Not that this CL was created slightly before my unit test refactor (https://chromium-review.googlesource.com/c/chromium/src/+/777409).\n\nAssuming that lands first (forcing you to merge), this should probably move into services/BUILD.gn, and be part of the media_mojo_unittests target. Is there a reason it should be a separate target?",
      "range": {
        "startLine": 141,
        "startChar": 6,
        "endLine": 141,
        "endChar": 47
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0a7ea72_14776713",
        "filename": "media/mojo/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 141,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-20T23:21:21Z",
      "side": 1,
      "message": "\u003e Not that this CL was created slightly before my unit test refactor (https://chromium-review.googlesource.com/c/chromium/src/+/777409).\n\u003e \n\u003e Assuming that lands first (forcing you to merge), this should probably move into services/BUILD.gn, and be part of the media_mojo_unittests target. Is there a reason it should be a separate target?\n\nNo reason at all and indeed it\u0027s better to merge it in\nmedia_mojo_unittests. Done.",
      "parentUuid": "b7850b07_8011075c",
      "range": {
        "startLine": 141,
        "startChar": 6,
        "endLine": 141,
        "endChar": 47
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe12949e_db1e7837",
        "filename": "media/mojo/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 141,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-20T23:30:28Z",
      "side": 1,
      "message": "It seems this test is not enabled on any bots? If it\u0027s part of media_mojo_unittests as suggested by sandersd, it\u0027ll be run on bots automatically.",
      "parentUuid": "b7850b07_8011075c",
      "range": {
        "startLine": 141,
        "startChar": 6,
        "endLine": 141,
        "endChar": 47
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41e2c4be_ab860ee9",
        "filename": "media/mojo/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 141,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-21T00:22:28Z",
      "side": 1,
      "message": "PS8 merges it into media_mojo_unittests.",
      "parentUuid": "fe12949e_db1e7837",
      "range": {
        "startLine": 141,
        "startChar": 6,
        "endLine": 141,
        "endChar": 47
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "139fbc02_3eb5d448",
        "filename": "media/mojo/clients/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-20T23:30:28Z",
      "side": 1,
      "message": "Sorry I have a long standing task to rename this target, e.g. to media_player_clients, so that we can have better visibility rules. It\u0027ll also be easier for security owners to review because it\u0027ll be more clear which client/service run in which process.\n\nFor now, can you put these two files in a separate target?",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fe84a59_8437a73a",
        "filename": "media/mojo/clients/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-21T00:22:28Z",
      "side": 1,
      "message": "I have a pending TODO to rename them to\n mojo_jpeg_decode_accelerator.{cc,h} \n-- and the corresponding ones in //media/mojo/services to\n mojo_jpeg_decode_accelerator_service.{cc,h}\n\nbut to simplify reviews and merges I kept the\nnames in this CL.",
      "parentUuid": "139fbc02_3eb5d448",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2e59c7e_6d45e318",
        "filename": "media/mojo/clients/BUILD.gn",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-21T01:07:45Z",
      "side": 1,
      "message": "Yes, renaming in a separate CL sgtm. But still can we put these two files in a separate target, so that we can have cleaner visibility rules?",
      "parentUuid": "3fe84a59_8437a73a",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae4c3d6_af22edb6",
        "filename": "media/mojo/clients/gpu_jpeg_decode_accelerator_host.h",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-20T23:30:28Z",
      "side": 1,
      "message": "Is Jpeg decode always tied to the GPU? ISTM that this class will provide the ability to host a remote (mojo based) JDA. So I can see that it\u0027s tied to mojo, but not necessarily tied to GPU. Does that make sense?\n\nSimilarly, it seems JpegDecodeAccelerator should just be JpegDecoder?\n\nThese can be in separate CLs, but if you agree, we should add file bug and add TODO to track the work.",
      "range": {
        "startLine": 22,
        "startChar": 28,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "335e0248_a78c931f",
        "filename": "media/mojo/clients/gpu_jpeg_decode_accelerator_host.h",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-21T00:22:28Z",
      "side": 1,
      "message": "\u003e Is Jpeg decode always tied to the GPU? \nCorrect.\n\n\u003e ISTM that this class will provide the ability to host a remote (mojo\n\u003e based) JDA. So I can see that it\u0027s tied to mojo, but not necessarily \n\u003e tied to GPU. Does that make sense?\n\nYeah, the TODO is incorrect, the rename here should be\n MojoJpegDecodeAccelerator\n(talking to //media/mojo/services MojoJpegDecodeAccelerator).\n\n\u003e \n\u003e Similarly, it seems JpegDecodeAccelerator should just be JpegDecoder?\n\u003e \n\u003e These can be in separate CLs, but if you agree, we should add file bug and add TODO to track the work.\n\nI\u0027m not against this new naming set, i.e.\n JpegDecodeAccelerator and JpegDecodeAcceleratorService.\n\nWhatever is the custom of the folder and, if possible,\nof the //services area. I\u0027d keep the accelerator though,\nbecause there\u0027s unaccelerated versions in use (in Skia).\n\nWhichever way we can do it in a follow up CL and just\nreuse the TODO and bug. WDYT?",
      "parentUuid": "fae4c3d6_af22edb6",
      "range": {
        "startLine": 22,
        "startChar": 28,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf54656e_ea40f6a8",
        "filename": "media/mojo/clients/gpu_jpeg_decode_accelerator_host.h",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-21T01:07:45Z",
      "side": 1,
      "message": "\u003e \u003e Is Jpeg decode always tied to the GPU? \n\u003e Correct.\n\u003e \n\u003e \u003e ISTM that this class will provide the ability to host a remote (mojo\n\u003e \u003e based) JDA. So I can see that it\u0027s tied to mojo, but not necessarily \n\u003e \u003e tied to GPU. Does that make sense?\n\u003e \n\u003e Yeah, the TODO is incorrect, the rename here should be\n\u003e  MojoJpegDecodeAccelerator\n\u003e (talking to //media/mojo/services MojoJpegDecodeAccelerator).\n\u003e \n\u003e \u003e \n\u003e \u003e Similarly, it seems JpegDecodeAccelerator should just be JpegDecoder?\n\u003e \u003e \n\u003e \u003e These can be in separate CLs, but if you agree, we should add file bug and add TODO to track the work.\n\u003e \n\u003e I\u0027m not against this new naming set, i.e.\n\u003e  JpegDecodeAccelerator and JpegDecodeAcceleratorService.\n\u003e \n\u003e Whatever is the custom of the folder and, if possible,\n\u003e of the //services area. I\u0027d keep the accelerator though,\n\u003e because there\u0027s unaccelerated versions in use (in Skia).\n\u003e \n\u003e Whichever way we can do it in a follow up CL and just\n\u003e reuse the TODO and bug. WDYT?\n\nYeah, a follow up CL is always fine :)\n\nAbout \"accelerator\":\n1. Your mojom file, jpeg_decoder.mojom, should be consistent with the main interface in the file...\n2. Typically we treat mojom interface/client/service as a pure transport layer, so it doesn\u0027t care whether the actual implementation is hardware-backed or not. The new video_decoder.mojom follows the same idea and will replace media::VDA interface. So let me ask this question: Is it possible to host a software-based jpeg decoder using jpeg_decoder.mojom? If the answer is no, which means that this specific interface is designed exclusively for hardware-based jpeg decoder, then it\u0027s okay to keep the \"accelerator\" part. Otherwise, we should probably just make the name as generic as possible, e.g. JpegDecoder.",
      "parentUuid": "335e0248_a78c931f",
      "range": {
        "startLine": 22,
        "startChar": 28,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "143c9532_b75761f4",
        "filename": "media/mojo/interfaces/jpeg_decoder.mojom",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-20T23:30:28Z",
      "side": 1,
      "message": "also rename this (in a separate CL is okay)?",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47903fd7_41d48ed2",
        "filename": "media/mojo/interfaces/jpeg_decoder.mojom",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-21T00:22:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "143c9532_b75761f4",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17f2f03e_696adc17",
        "filename": "media/mojo/services/gpu_jpeg_decode_accelerator_factory_provider.h",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-20T23:30:28Z",
      "side": 1,
      "message": "This class seems to have nothing to do with mojo, maybe it should be in media/video where we have the JDA interface?\n\nOr, shall we have a media/jpeg folder for JDA related stuff, since JEPG is not video? But I might be missing some earlier discussions.",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f6aa4a9_92aea289",
        "filename": "media/mojo/services/gpu_jpeg_decode_accelerator_factory_provider.h",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-21T00:22:28Z",
      "side": 1,
      "message": "\u003e This class seems to have nothing to do with mojo, maybe it should be in media/video where we have the JDA interface?\n\nHmmm you\u0027re right, I think it should go into //media/gpu\nbut be renamed so it\u0027s similar to the existing\n//media/gpu/video_{decode,encode}_accelerator_factory.{cc,h}.\nWill do: crbug.com/787176\n\n\u003e \n\u003e Or, shall we have a media/jpeg folder for JDA related stuff, since JEPG is not video? But I might be missing some earlier discussions.\n\nI guess it\u0027s related to video because it\u0027s used for \ndecoding MJPEG :-)",
      "parentUuid": "17f2f03e_696adc17",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e44d4b60_916cf247",
        "filename": "media/mojo/services/gpu_jpeg_decode_accelerator_factory_provider.h",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-11-21T01:07:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3f6aa4a9_92aea289",
      "revId": "93fb825832b71753dbe5d087fbcfe1faa199bf03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}