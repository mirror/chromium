{
  "comments": [
    {
      "key": {
        "uuid": "cb022d24_27f75309",
        "filename": "third_party/WebKit/LayoutTests/http/tests/wasm/wasm_indexeddb_test.js",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1001349
      },
      "writtenOn": "2017-05-05T19:59:05Z",
      "side": 1,
      "message": "We should assert the specific type of exception i.e. assert_equals(error.name, \u0027DataCloneError\u0027)",
      "range": {
        "startLine": 76,
        "startChar": 37,
        "endLine": 76,
        "endChar": 47
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca52fec2_1d63136f",
        "filename": "third_party/WebKit/LayoutTests/http/tests/wasm/wasm_indexeddb_test.js",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-05-05T21:29:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb022d24_27f75309",
      "range": {
        "startLine": 76,
        "startChar": 37,
        "endLine": 76,
        "endChar": 47
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0b21d90_bc6ac205",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 448,
      "author": {
        "id": 1001349
      },
      "writtenOn": "2017-05-05T19:59:05Z",
      "side": 1,
      "message": "Why introduce {} here? (not required for single-line bodies, last I checked?)",
      "range": {
        "startLine": 448,
        "startChar": 20,
        "endLine": 448,
        "endChar": 21
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0eb0b12a_f67982e7",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 448,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-05-05T21:29:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0b21d90_bc6ac205",
      "range": {
        "startLine": 448,
        "startChar": 20,
        "endLine": 448,
        "endChar": 21
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ffb10f7_86a79d4f",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1001349
      },
      "writtenOn": "2017-05-05T19:59:05Z",
      "side": 1,
      "message": "My initial reaction: \"Where is the check for secure context???\"\n\nCan you add a comment that \"inline_wasm_\" implies a secure context, therefore (!inline_wasm_ \u0026\u0026 for_storage_) is not secure (and thus we have chrome-specific behavior for now, link to tracking crbug etc)\n\n(What do you think about renaming write_wasm_to_stream and inline_wasm_ to for_secure_context, or is it going to be used in other ways? it looks like that\u0027s the only use of it now.)",
      "range": {
        "startLine": 451,
        "startChar": 6,
        "endLine": 451,
        "endChar": 18
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9acaee83_ae1074af",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-05-05T21:29:04Z",
      "side": 1,
      "message": "Done, but rephrased a bit.\n\nI think the secure/insecure thing is a higher layer concern. Here, we just know about inline/transfer.\n\nAn alternative would be to add an option saying \"deny wasm\" and have IDB set that - we\u0027d still throw here, though (since IDB won\u0027t know there\u0027s any wasm in the object graph to serialize). The state space would be large, hence my preference to not add this extra bool. \n\nThe comment about the behavioral difference would go where we make the decision (IDB side) I can follow up with that - we don\u0027t have a crbug tracking the desire to bridge behaviors (I\u0027m assuming that\u0027s the crbug you\u0027re thinking about), because this goal has been expressed recently.",
      "parentUuid": "5ffb10f7_86a79d4f",
      "range": {
        "startLine": 451,
        "startChar": 6,
        "endLine": 451,
        "endChar": 18
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c47be7b6_81142795",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 451,
      "author": {
        "id": 1001349
      },
      "writtenOn": "2017-05-06T00:13:54Z",
      "side": 1,
      "message": "Well, that makes sense, except here we have code that throws with the message explicitly about non-secure contexts. So I\u0027d expect the comment to explain why the message is so explicit. \n\nRe: crbug - yes, exactly.",
      "parentUuid": "9acaee83_ae1074af",
      "range": {
        "startLine": 451,
        "startChar": 6,
        "endLine": 451,
        "endChar": 18
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69592e7b_501807b4",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 457,
      "author": {
        "id": 1001349
      },
      "writtenOn": "2017-05-05T19:59:05Z",
      "side": 1,
      "message": "The security team prefers \"non-secure contexts\" (\"insecure\" has an alternate meaning in English)",
      "range": {
        "startLine": 457,
        "startChar": 44,
        "endLine": 457,
        "endChar": 52
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3a52ed9_9d8b9f39",
        "filename": "third_party/WebKit/Source/bindings/core/v8/serialization/V8ScriptValueSerializer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 457,
      "author": {
        "id": 1125279
      },
      "writtenOn": "2017-05-05T21:29:04Z",
      "side": 1,
      "message": "Oh.. true! :)",
      "parentUuid": "69592e7b_501807b4",
      "range": {
        "startLine": 457,
        "startChar": 44,
        "endLine": 457,
        "endChar": 52
      },
      "revId": "c4891dc7dc6153921eaf6642bff4b1da88d0dab6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}