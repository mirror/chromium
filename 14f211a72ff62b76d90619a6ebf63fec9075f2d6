{
  "comments": [
    {
      "key": {
        "uuid": "e8e725a1_d82f2db6",
        "filename": "third_party/WebKit/Source/modules/canvas2d/CanvasRenderingContext2DTest.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1339,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2017-08-25T11:18:52Z",
      "side": 1,
      "message": "Is my understanding correct that the tolerance needs to be 5 because it was 11 here and the error in the conversion can be high?",
      "range": {
        "startLine": 1339,
        "startChar": 40,
        "endLine": 1339,
        "endChar": 42
      },
      "revId": "14f211a72ff62b76d90619a6ebf63fec9075f2d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6240b097_fcffbb5f",
        "filename": "third_party/WebKit/Source/modules/canvas2d/CanvasRenderingContext2DTest.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1339,
      "author": {
        "id": 1203794
      },
      "writtenOn": "2017-08-25T14:50:21Z",
      "side": 1,
      "message": "Yes, it seems to be the case. This also might mean that there is a bug somewhere in Skia conversion pipeline. 93,,,11 unpremul must convert to 4,,,11 premul and then 92,,,11 unpremul. But somewhere in the code path 255/11\u003d23.38 changes to 22 and the final unpremul output changes to 88,,,11. My initial guess is that we have multiple round of conversions and something wrong is happening somewhere, may be due to using SkImage::makeSubset() or similar API along with ColorSpaceXformCanvas() in the code. I\u0027ll follow this up with Brian after I reproduce the exact sequence of Skia calls that cause this issue in a fiddle.",
      "parentUuid": "e8e725a1_d82f2db6",
      "range": {
        "startLine": 1339,
        "startChar": 40,
        "endLine": 1339,
        "endChar": 42
      },
      "revId": "14f211a72ff62b76d90619a6ebf63fec9075f2d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}