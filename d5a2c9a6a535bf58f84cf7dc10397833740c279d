{
  "comments": [
    {
      "key": {
        "uuid": "fa952d43_2d8a9be7",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 317,
      "author": {
        "id": 1002911
      },
      "writtenOn": "2017-11-29T22:31:35Z",
      "side": 1,
      "message": "will this also work for content:// ?\nOr is that going to be solved separately?",
      "range": {
        "startLine": 317,
        "startChar": 50,
        "endLine": 317,
        "endChar": 59
      },
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9593aa39_a630ac14",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 317,
      "author": {
        "id": 1115922
      },
      "writtenOn": "2017-11-30T21:50:29Z",
      "side": 1,
      "message": "We will have a separate logic to handle file and content URL.",
      "parentUuid": "fa952d43_2d8a9be7",
      "range": {
        "startLine": 317,
        "startChar": 50,
        "endLine": 317,
        "endChar": 59
      },
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c617138_767753e5",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 317,
      "author": {
        "id": 1002911
      },
      "writtenOn": "2017-12-01T18:12:45Z",
      "side": 1,
      "message": "I think we spoke about it: This will not have to happen for content:// because we never attempt a URL replacement...\n\nIf we wanted to relate it to the item we know to make assertion whether it has been modified or not in OIB, we could still do the digest verification, but I don\u0027t expect you to do it here.\n\nWe can talk about it thou.",
      "parentUuid": "9593aa39_a630ac14",
      "range": {
        "startLine": 317,
        "startChar": 50,
        "endLine": 317,
        "endChar": 59
      },
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "408514ef_4dc75c3f",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 317,
      "author": {
        "id": 1115922
      },
      "writtenOn": "2017-12-06T01:58:00Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5c617138_767753e5",
      "range": {
        "startLine": 317,
        "startChar": 50,
        "endLine": 317,
        "endChar": 59
      },
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35542d3a_0c801240",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 474,
      "author": {
        "id": 1002911
      },
      "writtenOn": "2017-11-29T22:31:35Z",
      "side": 1,
      "message": "This is only true for temporary pages, where we don\u0027t save the digest.\n\nFor user requested pages, you might already have lost the trust in the page and removed the digest...",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61fc7e67_ef4f99a6",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 474,
      "author": {
        "id": 1115922
      },
      "writtenOn": "2017-11-30T21:50:29Z",
      "side": 1,
      "message": "We could either have a flag in OfflinePageItem to tell if it is trusted or not. Or more simply, we can check if the offline file resides in the internal directory. If you feel OK with the 2nd approach, I am going to add that check.",
      "parentUuid": "35542d3a_0c801240",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2de8c99_f58cdb28",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 474,
      "author": {
        "id": 1002911
      },
      "writtenOn": "2017-12-01T18:12:45Z",
      "side": 1,
      "message": "Trusted means:\n* temporary (therefore stored internally) OR\n* permanent, with matching digest if stored externally, OR\n* permanent stored internally (old item, not upgraded yet).\n\nCan you make it work?",
      "parentUuid": "61fc7e67_ef4f99a6",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2dba568_b84bda92",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 474,
      "author": {
        "id": 1115922
      },
      "writtenOn": "2017-12-06T01:58:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e2de8c99_f58cdb28",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48dfdb40_70e2eca3",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 510,
      "author": {
        "id": 1002911
      },
      "writtenOn": "2017-11-29T22:31:35Z",
      "side": 1,
      "message": "this seems to be providing only a single page, which was OK until now, but I think we may have multiple options (some could be not trusted, while some others are trusted.)\n\nWould it make sense to get a list of items ordered by preference here?",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f964eaa_d6998110",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 510,
      "author": {
        "id": 1115922
      },
      "writtenOn": "2017-11-30T21:50:29Z",
      "side": 1,
      "message": "This is only used to serve trusted offline pages.",
      "parentUuid": "48dfdb40_70e2eca3",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b5033e3_aa93babf",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 510,
      "author": {
        "id": 1002911
      },
      "writtenOn": "2017-12-01T18:12:45Z",
      "side": 1,
      "message": "We can have more than 1 like that, therefore my question.\nIf we give only one to the interceptor, say a publicly stored permanent page (downloaded by the user earlier) and it fails digest, we will not redirect, even thou there might be a last_n, or prefetched copy in OPM.\n\nThis is the case I am thinking off.\n\nUntil now there was no problem, because every page is considered trusted, and we are changing that.",
      "parentUuid": "2f964eaa_d6998110",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ffecf5f_1330e767",
        "filename": "chrome/browser/offline_pages/offline_page_request_job.cc",
        "patchSetId": 2
      },
      "lineNbr": 510,
      "author": {
        "id": 1115922
      },
      "writtenOn": "2017-12-06T01:58:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2b5033e3_aa93babf",
      "revId": "d5a2c9a6a535bf58f84cf7dc10397833740c279d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}