{
  "comments": [
    {
      "key": {
        "uuid": "a57c6565_ee387d1d",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 338,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:11:02Z",
      "side": 1,
      "message": "with the new signals, you don\u0027t need to do this lazily.",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79e6f199_ab5ae1ad",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 405,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:11:02Z",
      "side": 1,
      "message": "And no lookup by wc will be necessary.",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c1d58b6_f4cceb7c",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 405,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-09-21T16:30:51Z",
      "side": 1,
      "message": "My understanding from your comments about sessions is:\n\n  . There will be a DevToolsSession, which has-a:\n      - UberDispatcher\n      - map\u003cWebContents \u003d\u003e PageHandler\u003e\n  . ChromeDevToolsManagerDelegate has-a:\n      - map\u003csession_id \u003d\u003e DevToolsSession\u003e\n\nSo we will still need the lookup from WebContents, right?",
      "parentUuid": "79e6f199_ab5ae1ad",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b728b3ac_2a2d8253",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 405,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:53:05Z",
      "side": 1,
      "message": "- There will be a DevToolsSession, which has-a:\n  - UberDispatcher [YES]\n  - map\u003cWebContents \u003d\u003e PageHandler\u003e [NO, session has one handler of a kind, belonging to WC]\n- ChromeDevToolsManagerDelegate has-a\n  - map\u003csession_id \u003d\u003e DevToolsSession\u003e [YES, and this mapping dictates attribution to WC]",
      "parentUuid": "7c1d58b6_f4cceb7c",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d178249f_cffde19a",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 405,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-09-21T19:01:27Z",
      "side": 1,
      "message": "Looks like we can have multiple DevToolsAgentHost with the same session_id, which ends up clobbering the wrong DevToolsSession. Does this need to be:\n  map\u003cpair\u003cDevToolsAgentHost*, session_id\u003e \u003d\u003e DevToolsSession\u003e",
      "parentUuid": "b728b3ac_2a2d8253",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5410639_8984da56",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 405,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-09-21T19:12:59Z",
      "side": 1,
      "message": "I have gone ahead and made this change. PTAL.",
      "parentUuid": "d178249f_cffde19a",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1934665a_871bc767",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.cc",
        "patchSetId": 11
      },
      "lineNbr": 405,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T21:35:03Z",
      "side": 1,
      "message": "Ah-oh, Dima, do you know why?\n\nI would go ahead and make https://cs.chromium.org/chromium/src/content/browser/devtools/devtools_agent_host_impl.h?sq\u003dpackage:chromium\u0026l\u003d83 static. There is no point for clients to suffer this way.",
      "parentUuid": "b5410639_8984da56",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dc236b6_8c60a54c",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.h",
        "patchSetId": 11
      },
      "lineNbr": 82,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:11:02Z",
      "side": 1,
      "message": "We now have a concept of sessions, multiple clients can connect to chrome for debugging at a time. We create this \u0027session\u0027 per client attached, session owns dispatcher, there is a set of handler per dispatcher. https://chromium-review.googlesource.com/c/chromium/src/+/677299 adds notifications about the sessions, so you could rebaseline on top of it and create a \u0027session\u0027 object upon session created. That object would hold your dispatcher and handlers.",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "528e67ab_f565ff97",
        "filename": "chrome/browser/devtools/chrome_devtools_manager_delegate.h",
        "patchSetId": 11
      },
      "lineNbr": 83,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:11:02Z",
      "side": 1,
      "message": "You would also have multiple of these per web contents. Also, your target will not always be web contents (shared workers)",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bd760f5_71ef25b3",
        "filename": "chrome/browser/devtools/protocol/page_handler.cc",
        "patchSetId": 11
      },
      "lineNbr": 9,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:11:02Z",
      "side": 1,
      "message": "This looks so good!",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2964b76f_68ceeeda",
        "filename": "chrome/browser/devtools/protocol/page_handler.cc",
        "patchSetId": 11
      },
      "lineNbr": 20,
      "author": {
        "id": 1115999
      },
      "writtenOn": "2017-09-21T16:11:02Z",
      "side": 1,
      "message": "Will this forgive you zero contents?",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e515432_9b5e0e55",
        "filename": "chrome/browser/devtools/protocol/page_handler.cc",
        "patchSetId": 11
      },
      "lineNbr": 20,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-09-21T16:30:51Z",
      "side": 1,
      "message": "We DCHECK() in the ctor that |web_contents_| is non-null.",
      "parentUuid": "2964b76f_68ceeeda",
      "revId": "5d5b3645f4c076c5136469177bde0fe8cdd1a6ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}