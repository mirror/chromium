{
  "comments": [
    {
      "key": {
        "uuid": "fa2f6b3b_50fb66a2",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1000678
      },
      "writtenOn": "2018-01-09T21:56:04Z",
      "side": 1,
      "message": "Rather than firing HIT_TEST_RESULT and then handling it, would it\nmake more sense to just fire an event that implies moving ChromeVox\nfocus to that point unambiguously?\n\nIntuitively, I think EventType.SCROLLED_TO_ANCHOR is actually a\ngood semantic fit. That\u0027s kind of what focus recovery is doing,\nright? It\u0027s analogous to how the browser restores your scroll\noffset when you switch back to a tab.",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4b523bc_6c6e4562",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1001986
      },
      "writtenOn": "2018-01-09T22:29:05Z",
      "side": 1,
      "message": "I much rather not confuse unrelated events.\nI don\u0027t see how scrolling to an anchor relates to focus recovery.\nSeems better to be unambiguous about what the event is.",
      "parentUuid": "fa2f6b3b_50fb66a2",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d880d94_d134656d",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1001986
      },
      "writtenOn": "2018-01-09T22:37:05Z",
      "side": 1,
      "message": "Also, to be clear:\n- this isn\u0027t scrolling (just updating ChromeVox\u0027s range)\n- the target isn\u0027t always an anchor\n\nAs background, I did also try focus, and selection events, but those events come with special handling. At the very least, we don\u0027t generate output for them because |eventFrom| is \u0027action\u0027.",
      "parentUuid": "e4b523bc_6c6e4562",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39e6a63c_f34b1639",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1001986
      },
      "writtenOn": "2018-01-09T22:42:50Z",
      "side": 1,
      "message": "Alternatively, I can rename HIT_TEST_RESULT to FOCUS_RECOVERY, if you want something more semanticly meaningful and accurate.",
      "parentUuid": "0d880d94_d134656d",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe7200c7_46ce6fe1",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1000678
      },
      "writtenOn": "2018-01-10T20:37:37Z",
      "side": 1,
      "message": "The reason I think SCROLLED_TO_ANCHOR is similar:\n\n* Despite the name it really just means the sequential focus navigation point has changed. It has more to do with that than scrolling, the event is just named that for historical reasons\n* It can be fired on any node, not just something focusable\n* It\u0027s fired automatically when you load a web page that has a fragment\n* ChromeVox ought to sync its range to a node when SCROLLED_TO_ANCHOR\n  is fired on it",
      "parentUuid": "39e6a63c_f34b1639",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "784fd4c6_0d600833",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1001986
      },
      "writtenOn": "2018-01-11T00:24:54Z",
      "side": 1,
      "message": "I\u0027m still not understanding why you want to conflate those events.\n\nScrolled to anchor has specific behaviors from Blink. I see no reason to conflate those with ChromeVox\u0027s purposes.\n\nchromeVox already follows  in page link targets for anchors, so observing this event would actually cause duplicate output (and that\u0027s why we\u0027re not currently observing it).",
      "parentUuid": "fe7200c7_46ce6fe1",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a2fc153_1a6361ed",
        "filename": "chrome/browser/resources/chromeos/chromevox/cvox2/background/desktop_automation_handler.js",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1001986
      },
      "writtenOn": "2018-01-11T00:40:28Z",
      "side": 1,
      "message": "* It\u0027s fired automatically when you load a web page that has a fragment\n\nThis will cause all sorts of unexpected behavior.\n\nIt took some amount of fine tuning to get focus recovery to work *after* a load complete and to respect scenarios where users start tabbing before hand. It also took a while to get the startup, alt-tabbing, and back/forward navigation cases to all work. I\u0027m just not convinced throwing in this event will help, just for the sake of the api.\n\nI\u0027ll investigate plumbing hrough a callback for AutomationNode.hitTest instead, since that\u0027s in truth, what we need here.",
      "parentUuid": "784fd4c6_0d600833",
      "revId": "c4503242f697671fddc73710d056b3d1c17c11d4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}