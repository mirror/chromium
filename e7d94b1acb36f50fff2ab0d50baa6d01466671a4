{
  "comments": [
    {
      "key": {
        "uuid": "3fe12f3d_ac24936d",
        "filename": "content/browser/renderer_host/p2p/socket_dispatcher_host.cc",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1002888
      },
      "writtenOn": "2017-12-08T19:40:41Z",
      "side": 0,
      "message": "It sounds like neither \"constructive\" (e.g. initiating connections to servers) nor \"destructive\"  (e.g. disconnecting existing connections) actions are taken, so updating the network list should just be done ASAP whenever a network change occurs.  I\u0027d recommend changing this from \"\u003d\u003d\" to \"!\u003d\" so that it\u0027s triggered whenever an offline event occurs (i.e. CONNECTION_NONE is broadcast) or an online event occurs (i.e. CONNECTION_NONE followed by !CONNECTION_NONE is broadcast).",
      "range": {
        "startLine": 165,
        "startChar": 11,
        "endLine": 165,
        "endChar": 0
      },
      "revId": "e7d94b1acb36f50fff2ab0d50baa6d01466671a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f7df311_4598afbb",
        "filename": "content/browser/renderer_host/p2p/socket_dispatcher_host.cc",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1116023
      },
      "writtenOn": "2017-12-08T21:51:43Z",
      "side": 0,
      "message": "We also want to update the list when a second network interface is brought up when the system is online. Will we get net::NetworkChangeNotifier::CONNECTION_NONE notification in that case?",
      "parentUuid": "3fe12f3d_ac24936d",
      "range": {
        "startLine": 165,
        "startChar": 11,
        "endLine": 165,
        "endChar": 0
      },
      "revId": "e7d94b1acb36f50fff2ab0d50baa6d01466671a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca9b4707_531e98e8",
        "filename": "content/browser/renderer_host/p2p/socket_dispatcher_host.cc",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1002888
      },
      "writtenOn": "2017-12-11T15:11:57Z",
      "side": 0,
      "message": "Yes, every online (i.e. !\u003dCONNECTION_NONE) signal is preceeded by an offline (i.e. \u003d\u003dCONNECTION_NONE) signal.",
      "parentUuid": "2f7df311_4598afbb",
      "range": {
        "startLine": 165,
        "startChar": 11,
        "endLine": 165,
        "endChar": 0
      },
      "revId": "e7d94b1acb36f50fff2ab0d50baa6d01466671a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49850c07_a3850546",
        "filename": "content/browser/renderer_host/p2p/socket_dispatcher_host.cc",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1116023
      },
      "writtenOn": "2017-12-11T19:42:30Z",
      "side": 0,
      "message": "I see. That seems suboptimal as the offline signal is emitted even when system is not actually offline, so some observers would disconnect even when it\u0027s not necessary.\n\nJust to make sure I understand the expected behavior, what\u0027s expected sequence of signals in the following 3 scenarios:\n 1. WiFi and Etherenet connected, then user disconnects WiFi.\n 2. WiFi is connected, then user connects Ethernet.\n 3. There are two active Ethernet connections, user disconnects one of them.\n 3. There is one active Ethernet connection, user connects second one.\n\nDo we expected CONNECTION_NONE followed by CONNECTION_ETHERNET in all 3 scenarios?",
      "parentUuid": "ca9b4707_531e98e8",
      "range": {
        "startLine": 165,
        "startChar": 11,
        "endLine": 165,
        "endChar": 0
      },
      "revId": "e7d94b1acb36f50fff2ab0d50baa6d01466671a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c032a66_b3de1497",
        "filename": "content/browser/renderer_host/p2p/socket_dispatcher_host.cc",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1002888
      },
      "writtenOn": "2017-12-15T15:19:43Z",
      "side": 0,
      "message": "\u003e I see. That seems suboptimal as the offline signal is emitted even when system is not actually offline, so some observers would disconnect even when it\u0027s not necessary.\n\nObservers are only meant to take action when type is either \u003d\u003d CONNECTION_NON or !\u003d CONNECTION_NONE.  See original design doc from 5 years ago: https://docs.google.com/document/d/1ch22_dRHPQJ9QArFMmWl_UyVpl-EDXA0PdljGh2kDF0/edit?usp\u003dsharing\n\n\u003e Just to make sure I understand the expected behavior, what\u0027s expected sequence of signals in the following 3 scenarios:\n\u003e  1. WiFi and Etherenet connected, then user disconnects WiFi.\n\u003e  2. WiFi is connected, then user connects Ethernet.\n\u003e  3. There are two active Ethernet connections, user disconnects one of them.\n\u003e  3. There is one active Ethernet connection, user connects second one.\n\u003e \n\u003e Do we expected CONNECTION_NONE followed by CONNECTION_ETHERNET in all 3 scenarios?\n\nYes.",
      "parentUuid": "49850c07_a3850546",
      "range": {
        "startLine": 165,
        "startChar": 11,
        "endLine": 165,
        "endChar": 0
      },
      "revId": "e7d94b1acb36f50fff2ab0d50baa6d01466671a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}