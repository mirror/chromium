{
  "comments": [
    {
      "key": {
        "uuid": "dc7e245a_dffc447a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "/sys can be replaced with sysfs.",
      "range": {
        "startLine": 9,
        "startChar": 21,
        "endLine": 9,
        "endChar": 25
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e114ccd7_8de4b498",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "Please provide the link to the Zram change in the commit message.",
      "range": {
        "startLine": 9,
        "startChar": 50,
        "endLine": 9,
        "endChar": 62
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f40d1cac_06dbcd44",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "Please provide the TEST\u003d field.",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ecfc984_bc426ccc",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 5
      },
      "lineNbr": 486,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "The return value is not used currently.",
      "range": {
        "startLine": 486,
        "startChar": 12,
        "endLine": 486,
        "endChar": 16
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8acf4f3c_904c3033",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 946,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "This example line alone doesn\u0027t help understanding entries in mm_stat, maybe you can list the name for each entry and provide link to the zram kernel documentation.\nex: orig_data_size compr_data_size mem_used_total mem_limit mem_used_max same_pages pages_compacted",
      "range": {
        "startLine": 946,
        "startChar": 5,
        "endLine": 946,
        "endChar": 54
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "890a6145_bda94899",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 946,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T03:58:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8acf4f3c_904c3033",
      "range": {
        "startLine": 946,
        "startChar": 5,
        "endLine": 946,
        "endChar": 54
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90a01873_cfaa6fec",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 971,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "As mm_stat, consider provide kernel documentation link and names of each entry.",
      "range": {
        "startLine": 971,
        "startChar": 5,
        "endLine": 971,
        "endChar": 61
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae44e5ec_c8268c9c",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 971,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T03:58:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "90a01873_cfaa6fec",
      "range": {
        "startLine": 971,
        "startChar": 5,
        "endLine": 971,
        "endChar": 61
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8833576c_09dddf99",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1011,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-12T22:45:43Z",
      "side": 1,
      "message": "On pre 3.18 kernels, instead of always trying the 3.18+ method, which will fail. Why not have:\n\nstatic base::Optional\u003cbool\u003e use_new_zram_interface;\nif (!use_new_zram_interface.has_value()) {\n  // call uname() to set |use_new_zram_interface|\n}\n\nif (use_new_zram_interface) {\n  ...\n} else {\n  ...\n}",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5525d29_faf3f462",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1011,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-13T08:50:57Z",
      "side": 1,
      "message": "Cool!\nBut it seems like some kernel 3.18 still using old version of zRam,\nso use uname() may cause problem.\nMaybe I can check if the file exists once and set |use_new_zram_interface| ?",
      "parentUuid": "8833576c_09dddf99",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "939d89c5_d19b5944",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1011,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Do you know why the kernel version is not a reliable signal for determining which zram interface to use?",
      "parentUuid": "a5525d29_faf3f462",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f80e748_85f8bfef",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1011,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T03:58:12Z",
      "side": 1,
      "message": "Since Upstream kernel 3.18 does not have this patch(https://chromium-review.googlesource.com/c/508043/), I do not know whether all Cros 3.18 have this patch.\nI think it is safer by checking the file existence than checking the kernel version.",
      "parentUuid": "939d89c5_d19b5944",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5288b6d8_b814ecb2",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1011,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-17T23:56:01Z",
      "side": 1,
      "message": "Thanks for the context. So it looks like the Chrome OS kernel cherrypicked a CL from the 4.11 vanilla kernel. https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id\u003dc87d1655\n\nLet\u0027s check with Douglas and get an answer to the question of whether it is safe to assume all ChromeOS 3.18 kernels have the cherrypicked CL or not.",
      "parentUuid": "6f80e748_85f8bfef",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99f9f46c_8b00ad2a",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1011,
      "author": {
        "id": 1000107
      },
      "writtenOn": "2017-07-19T15:24:25Z",
      "side": 1,
      "message": "Hi.  We (and most Linux distributions) backport patches from newer versions of the kernel all the time.  Sometimes this is to fix bugs.  Sometimes this is to get new features.  Sometimes this is just to make some future patch easier to apply.  In general keying off a kernel version isn\u0027t the best thing to do--it\u0027s better to just see if the new file exists.  If it does, use the new file.\n\nIn the case of zRAM we\u0027ve been doing active development in 3.18 and 4.4 trying to make zRAM work better.  We wanted some of the upstream fixes and performance improvements and it was easier to get those fixes by first picking the patch which removes the old (deprecated) sysfs interface.  I changed the one place that I was aware of that depended on this, but clearly I wasn\u0027t aware of all the places.  Sorry!  :(\n\n...if nothing else, though, we we would have discovered this problem next time we did a kernel uprev.  Getting the backport just gives us a head start on it.",
      "parentUuid": "5288b6d8_b814ecb2",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3e7f9aa_b403f3e8",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1014,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-12T22:45:43Z",
      "side": 1,
      "message": "Declare the 2 variables separately.",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e145539a_c470963d",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1014,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-13T08:57:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3e7f9aa_b403f3e8",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c8ce80c_3d1ad31e",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1016,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-12T22:45:43Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecf83725_ab8e9d41",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1016,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-13T08:57:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c8ce80c_3d1ad31e",
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bb18190_3ee8305a",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1027,
      "author": {
        "id": 1179424
      },
      "writtenOn": "2017-07-12T10:02:45Z",
      "side": 1,
      "message": "Maybe you shall set SwapInfo\u0027s data to 0 on every failed case.",
      "range": {
        "startLine": 1027,
        "startChar": 13,
        "endLine": 1027,
        "endChar": 18
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4247fe37_60b9e004",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 5
      },
      "lineNbr": 1027,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2bb18190_3ee8305a",
      "range": {
        "startLine": 1027,
        "startChar": 13,
        "endLine": 1027,
        "endChar": 18
      },
      "revId": "f1c5ff1cd247956c44d09d66f678365ad3b66800",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}