{
  "comments": [
    {
      "key": {
        "uuid": "d2196e28_3f78b4a0",
        "filename": "DEPS",
        "patchSetId": 5
      },
      "lineNbr": 1205,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "Unfortunately, this can\u0027t land until we resolve https://bugs.chromium.org/p/chromium/issues/detail?id\u003d789809",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2930790_04150f7c",
        "filename": "DEPS",
        "patchSetId": 5
      },
      "lineNbr": 1205,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "I see. Removed the CIPD download logic out of this CL and split to a new one:\nhttps://chromium-review.googlesource.com/c/chromium/src/+/807594\n\nWon\u0027t land that cl until the bug fixed.",
      "parentUuid": "d2196e28_3f78b4a0",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f9d303f_ada05b91",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "This should live somewhere else. Perhaps a subdirectory of //tools/android?",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad9fb168_58812174",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f9d303f_ada05b91",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80e4d394_f42637c6",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 67,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "Hrm -- is there a way we can handle this without requiring manual acceptance here?",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8c4bfd8_e5cc7a23",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 67,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Yes! I did more research on it and found https://stackoverflow.com/a/493399\n\nThe following worked well:\n\n    while True:\n      next_char \u003d p.stdout.read(1)\n      if not next_char:\n        break\n      sys.stdout.write(next_char)\n      sys.stdout.flush()",
      "parentUuid": "80e4d394_f42637c6",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4e44f94_65063466",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "nit: if we have to keep the manual acceptance logic, this break should be on its own line.",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d53c3dc8_7a97e2f6",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "You may find this easier to deal with if you split this into two functions: one that implements the logic and has fully qualified arguments, and one that simply unmarshals those objects from the Namespace from argparse. Splitting like this, particularly if you make the first function public, would let you potentially reuse some common logic in the internal equivalent.",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1ec085b_ec2f958b",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Makes sense! I will split it in next patch.",
      "parentUuid": "d53c3dc8_7a97e2f6",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b58d8dc_3074d9ff",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 99,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "Use argparse.add_mutually_exclusive_group with required\u003dTrue: https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.add_mutually_exclusive_group",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e967206_6a75004b",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 99,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Thanks for the tip! This way is pretty better and cleaner.",
      "parentUuid": "3b58d8dc_3074d9ff",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f1d0dc9_a4d5a93a",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "nit: debugging statement?",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a46e0a4_c4481ed6",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Haaa, you are right :p",
      "parentUuid": "6f1d0dc9_a4d5a93a",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fca9cbfb_2129cfe9",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-02T03:29:09Z",
      "side": 1,
      "message": "Also, is \u0027$UPDATE_SCRIPT_PATH download --sdk-version\u003dOMR1\u0027 downloading all packages of \u0027OMR1\u0027? Should the packages names be locate-at/hardcoded in the file like :\n  OMR1_PACKAGES \u003d [\n    \u0027build-tools;27.0.1\u0027,\n    \u0027emulator\u0027,\n    \u0027extras\u0027,\n    \u0027platform-tools\u0027,\n    \u0027platforms;android-27\u0027,\n    \u0027tools\u0027\n  ]\n\n, or set these variable in gn files like config.gni?\n\nNote that downloading from \u0027sdkmanager\u0027 will only download packages\u0027 latest version, and we cannot choose each package version. Though some of packages would have name by adding \u0027version\u0027, e.g. \u0027build-tools;27.0.1\u0027, \u0027platforms;android-27\u0027 that we discussed about, but others are simple name.\n\nThat\u0027s why I think should define a OMR1_PACKAGES to list exact package names we want for OMR1.",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c86e65c_a87007b2",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-02T03:29:09Z",
      "side": 1,
      "message": "In the doc, there is a function\n  $UPDATE_SCRIPT_PATH download/package --sdk-version\u003dOMR1 \n\nShould it be downloaded-to/package-from a specific named directory, like //third_party/android_sdk/public/OMR1, which contains all the deps:\n  //third_party/android_sdk/public/OMR1/build-tools\n  //third_party/android_sdk/public/OMR1/emulator\n  ...\n\nor just locate at /public and not specify \u0027OMR1\u0027 like\n  //third_party/android_sdk/public/build-tools\n  //third_party/android_sdk/public/emulator\n  ...\n\n?",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 123,
        "endChar": 11
      },
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f9ceb25_2b023e1d",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "My inclination is that the public SDK shouldn\u0027t have a version in the path.",
      "parentUuid": "7c86e65c_a87007b2",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 123,
        "endChar": 11
      },
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c34d2a8b_f3c2dbf2",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "I\u0027m wondering if we should allow users to specify either:\n\n- specific packages\n- latest\n\nand that\u0027s it. If a user asks for latest, for the packages that have names that include a version, we take what looks like the highest version.",
      "parentUuid": "fca9cbfb_2129cfe9",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79b86abc_ad43cadb",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "As discussed offline we can now support the latest version for group of packages, since users rarely request to download specific sdk versions. If users later need to explicitly (old) sdk versions, like \u0027P\u0027 or \u0027OMR1\u0027, I am able to add related function and lists of packages specified for those versions.\n\nIn the script I am hardcoding the packages names, see _DEFAULT_DOWNLOAD_PACKAGES. It will involve manually updating the package name including a version in the future.",
      "parentUuid": "c34d2a8b_f3c2dbf2",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "127bd0e2_2ebb588e",
        "filename": "build/args/android/sdk/sdk_update_script.py",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2f9ceb25_2b023e1d",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 123,
        "endChar": 11
      },
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d25b6a04_c1db4139",
        "filename": "build/args/android/sdk/sources.ensure",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "Is this the most recently released set of public sources?",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47a31769_876377f9",
        "filename": "build/args/android/sdk/sources.ensure",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "I thought we haven\u0027t ready to update it yet since I noticed //third_party/android-tools/adk recent version is still \u0027android-25\u0027...\n\nJust checked the latest released public sources version is \u0027sources;android-26\u0027. If we can do it now, I will update it to the new version.",
      "parentUuid": "d25b6a04_c1db4139",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c286e3e_c7433b7e",
        "filename": "third_party/.gitignore",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "How did you get your files uploaded with this...?\n\nI think this will ignore everything in //third_party/android_sdk. That works for android_tools because android_tools is its own repository; that\u0027s not the case here.",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf3f3f33_cc9da07a",
        "filename": "third_party/.gitignore",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Thanks for the explanation! I thought the /android_sdk should have same configs, so was shamefully copying these from /android_tools...",
      "parentUuid": "0c286e3e_c7433b7e",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ad07995_1e736c9d",
        "filename": "third_party/android_sdk/OWNERS",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-04T22:31:21Z",
      "side": 1,
      "message": "This shouldn\u0027t have * OWNERS. Maybe the existing owners of //third_party/android_tools plus you?",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "315297e2_e3b92ac1",
        "filename": "third_party/android_sdk/OWNERS",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-06T03:35:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ad07995_1e736c9d",
      "revId": "c48f3eeeb91a846acbb8848726e22cf40a75163b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}