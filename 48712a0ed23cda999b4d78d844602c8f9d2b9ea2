{
  "comments": [
    {
      "key": {
        "uuid": "e8f748fb_24f07e33",
        "filename": "ash/app_list/app_list_presenter_delegate.cc",
        "patchSetId": 5
      },
      "lineNbr": 247,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-09T23:01:46Z",
      "side": 1,
      "message": "What is special about a y location of 0?\n\nI don\u0027t think I understand the bug enough to know if this is the right fix. Shouldn\u0027t you be verifying the bounds every time the app list is shown? What happens if the bounds of the display change? You would need to reevaluate in that case too.",
      "range": {
        "startLine": 247,
        "startChar": 9,
        "endLine": 247,
        "endChar": 48
      },
      "revId": "48712a0ed23cda999b4d78d844602c8f9d2b9ea2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88ff7021_27e52c74",
        "filename": "ash/app_list/app_list_presenter_delegate.cc",
        "patchSetId": 5
      },
      "lineNbr": 247,
      "author": {
        "id": 1206539
      },
      "writtenOn": "2017-08-09T23:17:37Z",
      "side": 1,
      "message": "I can comment this to make it clearer. A y position of 0 corresponds with the widget being fullscreen. Theoretically it shouldn\u0027t ever be PEEKING at the same time, but due to this bug it is possible.\n\nUnfortunately we couldn\u0027t find the root cause easily (I\u0027ve had this bug for ~3 weeks) because there are multiple code paths that can result in the state changing, so this is really just a temporary hack to get a fix in for M61. It also makes it rather difficult to test.\n\nI can discuss this with you over hangouts if you\u0027d like, as that might be easier.",
      "parentUuid": "e8f748fb_24f07e33",
      "range": {
        "startLine": 247,
        "startChar": 9,
        "endLine": 247,
        "endChar": 48
      },
      "revId": "48712a0ed23cda999b4d78d844602c8f9d2b9ea2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d01a844_712593b2",
        "filename": "ash/app_list/app_list_presenter_delegate.cc",
        "patchSetId": 5
      },
      "lineNbr": 247,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-10T17:19:58Z",
      "side": 1,
      "message": "Doesn\u0027t y\u003d\u003d0 corresonding to fullscreen really depend upon the display? Not all displays have a y-origin of 0.\n\nI\u0027m not for hacking solutions like this, I would prefer you find the fix and then worry about merging it back.",
      "parentUuid": "88ff7021_27e52c74",
      "range": {
        "startLine": 247,
        "startChar": 9,
        "endLine": 247,
        "endChar": 48
      },
      "revId": "48712a0ed23cda999b4d78d844602c8f9d2b9ea2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f7f6643_73168c25",
        "filename": "ash/app_list/app_list_presenter_delegate.cc",
        "patchSetId": 5
      },
      "lineNbr": 247,
      "author": {
        "id": 1206539
      },
      "writtenOn": "2017-08-10T18:34:07Z",
      "side": 1,
      "message": "I agree with you and especially given that this change appears to be breaking some unrelated tests, I think the risk of proceeding with a half baked fix is way too high.\n\nI will continue to dig :)\n\nAs an aside, is there anywhere I can read about how screen coordinates work or what the model for displays is? I see https://www.chromium.org/developers/design-documents/blink-coordinate-spaces for instance, but this doesn\u0027t appear helpful. As a relative newcomer to this codebase, I don\u0027t quite understand some of these APIs; for instance, GetWindowBoundsInScreen says it returns the bounds of the Widget in screen coordinates, and I\u0027ve seen it used for things similar to this, but my understanding is clearly incorrect here.",
      "parentUuid": "1d01a844_712593b2",
      "range": {
        "startLine": 247,
        "startChar": 9,
        "endLine": 247,
        "endChar": 48
      },
      "revId": "48712a0ed23cda999b4d78d844602c8f9d2b9ea2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}