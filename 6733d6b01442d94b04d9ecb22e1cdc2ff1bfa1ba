{
  "comments": [
    {
      "key": {
        "uuid": "eff7e98f_013d2fc3",
        "filename": "chrome/browser/ui/passwords/password_manager_porter_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 184,
      "author": {
        "id": 1002541
      },
      "writtenOn": "2017-11-09T09:05:08Z",
      "side": 1,
      "message": "We should not need any named BrowserThreads, so perhaps ScopedTaskEnvironment is enough? In that case, ScopedTaskEnvironment::RunUntilIdle() should likely replace RunLoop().RunUntilIdle(). See https://chromium.googlesource.com/chromium/src/+/master/docs/task_scheduler_migration.md for some background.",
      "range": {
        "startLine": 184,
        "startChar": 11,
        "endLine": 184,
        "endChar": 34
      },
      "revId": "6733d6b01442d94b04d9ecb22e1cdc2ff1bfa1ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed474651_4cf7d775",
        "filename": "chrome/browser/ui/passwords/password_manager_porter_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 184,
      "author": {
        "id": 1168044
      },
      "writtenOn": "2017-11-09T10:21:07Z",
      "side": 1,
      "message": "If I replace TestBrowserThreadBundle with ScopedTaskEnvironment, the tests crash when mojo stuff are destroyed. I\u0027d rather let it be for now.\n\nAlso, TestBrowserThreadBundle and ScopedTaskEnvironment can\u0027t exist next to each other, despite the documentation saying otherwise.",
      "parentUuid": "eff7e98f_013d2fc3",
      "range": {
        "startLine": 184,
        "startChar": 11,
        "endLine": 184,
        "endChar": 34
      },
      "revId": "6733d6b01442d94b04d9ecb22e1cdc2ff1bfa1ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87906193_d3c8fd38",
        "filename": "chrome/browser/ui/passwords/password_manager_porter_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 184,
      "author": {
        "id": 1002541
      },
      "writtenOn": "2017-11-09T10:27:34Z",
      "side": 1,
      "message": "Fair enough, but could you please at least document the issue with mojo crashes as the reason to use the bundle in a code comment?\n\n(I once used TestBrowserThreadBundle and ScopedTaskEnvironment together, and it worked. The order of construction mattered, though. Looking at test_browser_thread_bundle.h, it seems that the environment is contained in the bundle now, so maybe that replaced the ability to use both. If you feel generous, submitting a CL to fix the documentation and asking gab@ for review would be a nice thing to do.)",
      "parentUuid": "ed474651_4cf7d775",
      "range": {
        "startLine": 184,
        "startChar": 11,
        "endLine": 184,
        "endChar": 34
      },
      "revId": "6733d6b01442d94b04d9ecb22e1cdc2ff1bfa1ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}