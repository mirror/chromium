{
  "comments": [
    {
      "key": {
        "uuid": "72508292_9eb85769",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_utils.h",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1112850
      },
      "writtenOn": "2017-07-17T16:59:54Z",
      "side": 1,
      "message": "Why do we need a new file for this? I think it should be fine to just keep it in its original file, right?",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "720a5611_79fec0f5",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_utils.h",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-17T17:40:29Z",
      "side": 1,
      "message": "The check can no longer live inside /service/resource_coordinator/* because it is not sufficient to say that the resource_coordinator service is not just enabled if the kGlobalResourceCoordinator feature is enabled. The ServiceManager itself must have a valid context whose code lives inside content/.\n\nIt might be better to move this code to content because WebKit code cannot execute code in /chrome based on my understanding. The BlinkResourceCoordinatorInterface and its derived classes will need to call this.",
      "parentUuid": "72508292_9eb85769",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85f0b087_072abf4f",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_utils.h",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-07-17T17:58:23Z",
      "side": 1,
      "message": "Move it back to the feature file. Are you sure Blink can include content/?",
      "parentUuid": "720a5611_79fec0f5",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8af0abb_829d1e41",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_utils.h",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-17T18:37:32Z",
      "side": 1,
      "message": "Here was my rationale for this file. Please feel free to clarify any misunderstandings I have:\n\n(1) ResourceCoordinator should enabled when both the feature flag is enabled and when there is a ServiceManagerContext available to connect to it through. If only the feature flag is check this will crash during tests.\n\n(2) Checking for whether the ServiceManagerContext is available is performed by content::ServiceManagerConnection::GetForProcess(). My understanding is that files under content/* are not accessible from the services/ directory. If this is true then for this check to be correct and compile it cannot be in a file within services/*.\n\n(3) Blink can include content/*, but this file is currently under chrome/*. That is why my previous comment suggested moving it to be under content/* instead.",
      "parentUuid": "85f0b087_072abf4f",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7710e9ac_8a5864e4",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_utils.h",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-07-17T20:10:41Z",
      "side": 1,
      "message": "Could we check the connection where tab_coordinator is created? Maybe we can delay the creation of WebContentsResourceCoordinator by creating it inside tab_resource_coordinator() https://cs.chromium.org/chromium/src/chrome/browser/resource_coordinator/resource_coordinator_web_contents_observer.h?l\u003d28? And do the check like:\n\ncontent::ServiceManagerConnection* connection \u003d\n    content::ServiceManagerConnection::GetForProcess();\nservice_manager::Connector* connector \u003d\n    connection ? connection-\u003eGetConnector() : nullptr;\nif (!connector)\n  return nullptr;\n\nWould this approach help us pass the test? we can do null check when we call tab_resource_coordinator().\n\nThere is a Blink platform/ and Blink core, Blink core can\u0027t use content/, and even base/. I believe we have plan to let Blink platform/ use content/ so that it serves as a layer, but I don\u0027t think we are using content/ except for testing.",
      "parentUuid": "a8af0abb_829d1e41",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "026e432d_faa5b832",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_utils.h",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-17T20:53:03Z",
      "side": 1,
      "message": "Creating the tab_resource_coordinator is not the only point of failure. This failure will also happen when any ResourceCoordinatorInterface is created (e.g. the frame_resource_coordinator and process_resource_coordinator in ResourceCoordinatorWebContentsObserver::DidFinishNavigation).\n\nI\u0027ll go ahead and move this function back to services/*, but I will keep the ServiceManagerConnection check in ResourceCoordinatorWebContentsObserver::IsEnabled as this is was the LGTMed approach by zhenw@, rockot@. The Blink-side integration can be handled in your follow up CL.",
      "parentUuid": "7710e9ac_8a5864e4",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d82159b_de5e2e4c",
        "filename": "chrome/browser/resource_coordinator/tab_manager_grc_tab_signal_observer.cc",
        "patchSetId": 16
      },
      "lineNbr": 16,
      "author": {
        "id": 1112850
      },
      "writtenOn": "2017-07-17T16:59:54Z",
      "side": 1,
      "message": "Is this line for debugging only and will be removed before submitting?",
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35e46824_b54710f1",
        "filename": "chrome/browser/resource_coordinator/tab_manager_grc_tab_signal_observer.cc",
        "patchSetId": 16
      },
      "lineNbr": 16,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-17T17:40:29Z",
      "side": 1,
      "message": "Done -- yes, my apologies.",
      "parentUuid": "4d82159b_de5e2e4c",
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ca25439_25e4f553",
        "filename": "third_party/WebKit/Source/platform/instrumentation/resource_coordinator/FrameResourceCoordinator.cpp",
        "patchSetId": 16
      },
      "lineNbr": 20,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-07-17T17:12:56Z",
      "side": 1,
      "message": "Please update the comment to\n// TODO(lpy) crbug.com/743314, enabled once \u0027Shadow Page\u0027 case is resolved correctly.",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 62
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef031ceb_7fc956a2",
        "filename": "third_party/WebKit/Source/platform/instrumentation/resource_coordinator/FrameResourceCoordinator.cpp",
        "patchSetId": 16
      },
      "lineNbr": 20,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-17T17:40:29Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "3ca25439_25e4f553",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 62
      },
      "revId": "e417d00b9148f690127ed755e955a71fd2369e3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}