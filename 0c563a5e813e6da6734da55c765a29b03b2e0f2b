{
  "comments": [
    {
      "key": {
        "uuid": "d380b00a_d2fc017a",
        "filename": "components/sync_preferences/pref_service_syncable.cc",
        "patchSetId": 6
      },
      "lineNbr": 97,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-08-28T20:08:07Z",
      "side": 1,
      "message": "Another place to put data validation would be inside |RegisterOverlayPref|, but it may be too late there. (And it doesn\u0027t do anything now.) (For example, the char* is already turned into a const string\u0026 at that point.)",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a56f8ae_5ee4a793",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-08-28T20:08:07Z",
      "side": 1,
      "message": "Do you need to do any validation here? Is literally any vector of char* acceptable here, or are there any limits? (E.g. the size of the vector, values of char*s, lexical structure of the pointed-to strings, et c.)",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37558960_d54094ae",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-08-29T05:28:02Z",
      "side": 1,
      "message": "I don\u0027t know. Apart from the uniqueness and non-empty DCHECKs in OverlayUserPrefStore::RegisterOverlayPref(), I don\u0027t think there\u0027s any validation of these names.",
      "parentUuid": "5a56f8ae_5ee4a793",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ca49209_f7d28966",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-08-31T01:56:13Z",
      "side": 1,
      "message": "Do we need any validation, though? For example, what processes do this service\u0027s callers run in? Can a low-privilege process, like a web contents renderer, cause the Prefs service\u0027s host process to crash (for example)?",
      "parentUuid": "37558960_d54094ae",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35d7e905_af7741f1",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-08-31T02:20:28Z",
      "side": 1,
      "message": "This codepath isn\u0027t exposed over IPC. All the inputs to this constructor come from the browser.\n\nPrefs is currently only exposed to mash, which seems like a high-privilege process (not that it can provide values to use here).",
      "parentUuid": "0ca49209_f7d28966",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c766aa2f_f5b99f2e",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-08-31T17:56:12Z",
      "side": 1,
      "message": "I\u0027m sorry; I guess I am really confused. When an interface is defined in a .mojom, that means it is available as an IPC endpoint. (Right?) So even if you intend to only ever call it from within the same process, as an IPC security reviewer I have to assume surprising things can happen. We currently don\u0027t have a nice/obvious/declarative way to assert that \"only foo can call this\".",
      "parentUuid": "35d7e905_af7741f1",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8451451f_ec8facce",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1002808
      },
      "writtenOn": "2017-08-31T18:13:38Z",
      "side": 1,
      "message": "I really don\u0027t understand the question here. These inputs are not provided by any IPC.",
      "parentUuid": "c766aa2f_f5b99f2e",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7e30635_66ca4633",
        "filename": "services/preferences/pref_store_manager_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-08-31T21:55:16Z",
      "side": 1,
      "message": "I don\u0027t see a programmatic guarantee of that security-relevant assertion.",
      "parentUuid": "8451451f_ec8facce",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10bd6ac2_5d3df3ee",
        "filename": "services/preferences/public/cpp/pref_service_main.cc",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1002808
      },
      "writtenOn": "2017-08-31T18:17:26Z",
      "side": 1,
      "message": "On a totally unrelated note, I am surprised and confused about why this is in the public client library.",
      "revId": "0c563a5e813e6da6734da55c765a29b03b2e0f2b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}