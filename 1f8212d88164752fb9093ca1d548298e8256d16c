{
  "comments": [
    {
      "key": {
        "uuid": "eb0ca6ff_68c3dabe",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-06-16T00:13:17Z",
      "side": 1,
      "message": "I worry that there may be attempts to show these dialogs really early in the startup procedure, or not on the UI thread. Windows degenerates into using a native message box in those cases. I think it\u0027s reasonable to do the same on Mac, and show an NSAlert.\n\nThat would involve copying some logic, like\n\nif (base::MessageLoopForUI::IsCurrent() \u0026\u0026\n      base::RunLoop::IsRunningOnCurrentThread() \u0026\u0026\n      ResourceBundle::HasSharedInstance()...\n\nThat last check might be redundant with IsSeondaryUiMaterial, but it\u0027s coincidence, and we eventually want to delete MaterialDesignController when MD is default.\n\n(it is, however, probably safe to skip ui::MaterialDesignController::is_mode_initialized() since it will just mean include_secnodary_ui is false).",
      "range": {
        "startLine": 21,
        "startChar": 36,
        "endLine": 21,
        "endChar": 57
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa3d37f8_be26fe8d",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb0ca6ff_68c3dabe",
      "range": {
        "startLine": 21,
        "startChar": 36,
        "endLine": 21,
        "endChar": 57
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f93e396f_3637d19a",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-06-16T00:13:17Z",
      "side": 1,
      "message": "nit: `no else after return`",
      "range": {
        "startLine": 24,
        "startChar": 4,
        "endLine": 24,
        "endChar": 8
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32c6fcf3_7a3fcc14",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f93e396f_3637d19a",
      "range": {
        "startLine": 24,
        "startChar": 4,
        "endLine": 24,
        "endChar": 8
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5eee1a42_444ff014",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-06-16T00:13:17Z",
      "side": 1,
      "message": "This is only called from under ASH - can we just remove the implementation? If someone tries to use it they will get a link error rather than something silent",
      "range": {
        "startLine": 61,
        "startChar": 5,
        "endLine": 61,
        "endChar": 27
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21aed69f_3c2408db",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5eee1a42_444ff014",
      "range": {
        "startLine": 61,
        "startChar": 5,
        "endLine": 61,
        "endChar": 27
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ccdcbe3_762e10a5",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-06-16T00:13:17Z",
      "side": 1,
      "message": "nit:  // namespace chrome   modulo peter\u0027s comments about not having the namespace at all :)",
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5a6e3f9_0c06df0a",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_bridge_views.mm",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "These functions already existed in namespace chrome, so I\u0027m going to leave them there.",
      "parentUuid": "3ccdcbe3_762e10a5",
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c84e85a_4dc46dff",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_cocoa.mm",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-06-16T00:13:17Z",
      "side": 1,
      "message": "Since there\u0027s a wrapper anyway, it\u0027s probably nicer to remove the |title| argument from ShowMessageBoxCocoa and mention at the callsite that ShowMessageBoxCocoa doesn\u0027t support titles\n\nEdit: nor does it support |parent| -- that arg can be removed too.",
      "range": {
        "startLine": 31,
        "startChar": 38,
        "endLine": 31,
        "endChar": 39
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aa92e67_5c6f72d7",
        "filename": "chrome/browser/ui/cocoa/simple_message_box_cocoa.mm",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c84e85a_4dc46dff",
      "range": {
        "startLine": 31,
        "startChar": 38,
        "endLine": 31,
        "endChar": 39
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "029a619f_f8ee6b01",
        "filename": "chrome/browser/ui/views/simple_message_box_views.cc",
        "patchSetId": 2
      },
      "lineNbr": 169,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-06-16T00:13:17Z",
      "side": 1,
      "message": "we need to avoid MODAL_TYPE_SYSTEM on Mac. Currently that\u0027s inferred by not having a parent window. Which (weirdly) ui::MODAL_TYPE_WINDOW is fine with doing and I wrote tests for. So, I think we can do another #ifdef thing here.\n\nBut to avoid the dialog getting lost, we probably also want after line 250 something like\n\n  Widget* widget \u003d constrained_window::CreateBrowserModalDialogViews(dialog, parent);\n\n#ifdef (OS_MACOSX)\n  // Mac does not support system modal dialogs. Make the widget always on top to\n  // avoid other Chrome dialogs being raised on top of the dialog in this case.\n  if (!parent)\n    widget-\u003eSetAlwaysOnTop(true);\n#endif\n\n  widget-\u003eShow();",
      "range": {
        "startLine": 169,
        "startChar": 32,
        "endLine": 169,
        "endChar": 49
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b7883c3_4e4bee48",
        "filename": "chrome/browser/ui/views/simple_message_box_views.cc",
        "patchSetId": 2
      },
      "lineNbr": 169,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "029a619f_f8ee6b01",
      "range": {
        "startLine": 169,
        "startChar": 32,
        "endLine": 169,
        "endChar": 49
      },
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5296da99_d5975b6f",
        "filename": "chrome/browser/ui/views/simple_message_box_views.h",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2017-06-15T22:40:22Z",
      "side": 1,
      "message": "New uses of the chrome:: namespace are banned (we\u0027re trying to kill that namespace); try to find a different way to do this than a global function.  For example, hoist SimpleMessageBoxViews\u0027 declaration to this file and have a public static Show() method; find an existing more narrow namespace to put this under; change the namespace for the stuff in simple_message_box.h to something more specific and add this to that; or move this declaration to that file under some kind of #if TOOLKIT_VIEWS.\n\nNone of these are perfect; I\u0027d probably do the first.",
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fd4040f_a47dbe96",
        "filename": "chrome/browser/ui/views/simple_message_box_views.h",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-06-23T20:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5296da99_d5975b6f",
      "revId": "1f8212d88164752fb9093ca1d548298e8256d16c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}