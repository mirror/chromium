{
  "comments": [
    {
      "key": {
        "uuid": "e4f31137_4bf340ed",
        "filename": "extensions/browser/content_hash_reader.cc",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-12-05T16:24:08Z",
      "side": 1,
      "message": "ContentVerification actually does a lot of work (e.g., even just checking if the path exists can be expensive).  Can we move this relative_path_ check significantly higher in the execution flow to save a bunch of unnecessary cost?",
      "revId": "f4ec5736070ad3e4fc6fb5258e11cb06b8293398",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a01a0e6b_b6f462da",
        "filename": "extensions/browser/content_hash_reader.cc",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1223356
      },
      "writtenOn": "2017-12-05T16:42:19Z",
      "side": 1,
      "message": "We could indeed move the check up the execution flow. For example, we could avoid creating the ContentVerifyJob for empty relative_path_.\n\nHowever, the unit tests for content_verify_job are way better than the alternatives, so I\u0027m leaning towards this solution for the quick fix. We can revisit a more permanent solution in a follow-up CL.",
      "parentUuid": "e4f31137_4bf340ed",
      "revId": "f4ec5736070ad3e4fc6fb5258e11cb06b8293398",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3fd0755_488016b0",
        "filename": "extensions/browser/content_hash_reader.cc",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-12-05T16:55:56Z",
      "side": 1,
      "message": "I\u0027d be fine putting this logic in the content_verify_job and keeping that as a unittest (e.g., just early out of the job before any \"real\" work is done), but I can understand the desire to keep this small (especially since it will need to be merged).  For this CL, let\u0027s:\na) at least put the relative_path_.empty() check before base::PathExists.  Super low hanging fruit, and actually quite significant.\nb) add a TODO to improve it by hoisting it up higher.",
      "parentUuid": "a01a0e6b_b6f462da",
      "revId": "f4ec5736070ad3e4fc6fb5258e11cb06b8293398",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}