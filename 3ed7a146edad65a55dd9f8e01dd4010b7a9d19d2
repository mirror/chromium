{
  "comments": [
    {
      "key": {
        "uuid": "d08bdeb1_5d7aae08",
        "filename": "base/process/launch_fuchsia.cc",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-10-21T00:06:41Z",
      "side": 0,
      "message": "Launchpad moved from the LP_CLONE_FDIO_CWD flag to an explicit function-call to have the same effect; presumably we need to add some new code here to call that?",
      "revId": "3ed7a146edad65a55dd9f8e01dd4010b7a9d19d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "523fb3d1_e429ee5a",
        "filename": "base/process/launch_fuchsia.cc",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1116023
      },
      "writtenOn": "2017-10-21T00:14:05Z",
      "side": 0,
      "message": "As far as I can tell there was no separate function call. Instead PWD env var is used to get CWD relative to root, see https://fuchsia.googlesource.com/zircon/+/e41908e821a46d4b71630011c2b87bc8e95422ce\nWe already set PWD above.",
      "parentUuid": "d08bdeb1_5d7aae08",
      "revId": "3ed7a146edad65a55dd9f8e01dd4010b7a9d19d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ecee9fc_9fcdf058",
        "filename": "base/process/launch_fuchsia.cc",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-10-21T00:31:42Z",
      "side": 0,
      "message": "We only set PWD here in the case of the caller having explicitly specified a |current_directory| that they want the child process to use.\n\nHave you run this change through base_unittests? I\u0027d expect it to break the TestLauncher itself, if nothing else.",
      "parentUuid": "523fb3d1_e429ee5a",
      "revId": "3ed7a146edad65a55dd9f8e01dd4010b7a9d19d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62c98449_18f125fd",
        "filename": "base/process/launch_fuchsia.cc",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-10-21T00:39:00Z",
      "side": 0,
      "message": "OK, it looks like the Fuchsia-side change is basically to default to \"/\" within the child\u0027s root namespace, as the CWD, unless PWD is set in the environment - this will cause confusion if we e.g. copy base_unittests into /system and then run:\n\ncd /system/\nbase_unittests\n\nsince all the child processes of base_unittests will have a CWD of \"/\" rather than \"/system/\"",
      "parentUuid": "4ecee9fc_9fcdf058",
      "revId": "3ed7a146edad65a55dd9f8e01dd4010b7a9d19d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79454433_6e876038",
        "filename": "base/process/launch_fuchsia.cc",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1116023
      },
      "writtenOn": "2017-10-21T00:44:26Z",
      "side": 0,
      "message": "Thanks for catching this. working on a fix. Will make sure base_unittests still pass",
      "parentUuid": "62c98449_18f125fd",
      "revId": "3ed7a146edad65a55dd9f8e01dd4010b7a9d19d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}