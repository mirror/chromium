{
  "comments": [
    {
      "key": {
        "uuid": "bf5c532d_94de83c3",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 15
      },
      "lineNbr": 317,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "may have been aborted",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd6e7e0e_71d0d013",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 15
      },
      "lineNbr": 317,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bf5c532d_94de83c3",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a468840_519ed056",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 15
      },
      "lineNbr": 329,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "Non-S13nServiceWorker:",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d07fa399_337e9aa6",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 15
      },
      "lineNbr": 329,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9a468840_519ed056",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d4a9e6b_5031dfa1",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 15
      },
      "lineNbr": 330,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "As discussed offline, I\u0027m not sure this is right: the current non-S13nServiceWorker code aborts the callbacks when the service worker is destroyed. I think this patch should keep the current non-S13nSW behavior when S13nSW is disabled, and it can incrementally change the S13nSW behavior when S13nSW is enabled.\n\nMy question was about the \"kill on timeout\" flag in ServiceWorkerVersion. This patch isn\u0027t implementing \"kill on timeout\" for S13nSW which is fine (we can do it in a later patch). But we should try to not change the non-S13nSW behavior.",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "799b3ea6_930f7575",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 15
      },
      "lineNbr": 330,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Thanks, I\u0027ve misread your comment.\nUpdated it as follows:\nNon-S13nSW: registers the abort callback but it\u0027s called only when the worker is shutted down.\nS13nSW: registers it and calls abort, and also the worker should be terminated at the moment (not yet for shutting down).",
      "parentUuid": "9d4a9e6b_5031dfa1",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5acf744c_38ecb957",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 37,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "\"all of the |abort_callbacks|s\" or just \"all |abort_callbacks|s\"",
      "range": {
        "startLine": 37,
        "startChar": 15,
        "endLine": 37,
        "endChar": 18
      },
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a383e69_9298b8ca",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 37,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5acf744c_38ecb957",
      "range": {
        "startLine": 37,
        "startChar": 15,
        "endLine": 37,
        "endChar": 18
      },
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a9d843f_7f87ca64",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 49,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "See the class comment",
      "range": {
        "startLine": 49,
        "startChar": 8,
        "endLine": 49,
        "endChar": 11
      },
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21cb0277_417fa5a6",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 49,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a9d843f_7f87ca64",
      "range": {
        "startLine": 49,
        "startChar": 8,
        "endLine": 49,
        "endChar": 11
      },
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19c4f16a_a22e41d2",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 71,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "For event timeouts. (for consistency with above).\n\n\"all of the timeout times\" or just \"all timeout times\". But this is a bit hard to understand, since the reader doesn\u0027t know \"all\" is meaning \"both inflight events and settled events.\". Suggest:\n\nContains both inflight and settled events. If an |event_id| does not exist in |abort_callbacks_|, the event already finished successfully.",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cf0a20f_766f0603",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 71,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19c4f16a_a22e41d2",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe36821e_caac465d",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 72,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "\"timed out event id\" -\u003e \"event id\"",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dec9d1ad_98ca1792",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 72,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fe36821e_caac465d",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f75f7013_82b8217b",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 77,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-11-27T07:53:06Z",
      "side": 1,
      "message": "Mention that this is the time the service worker started being idle:\n\nFor idle timeoust. The time the service worker started having no inflight events, or null if there are inflight events.",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac2742dc_ea680b05",
        "filename": "content/renderer/service_worker/service_worker_timeout_timer.h",
        "patchSetId": 15
      },
      "lineNbr": 77,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-11-27T08:37:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f75f7013_82b8217b",
      "revId": "d2f0f97b68519f66514c127c00b07e11916c3bbd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}