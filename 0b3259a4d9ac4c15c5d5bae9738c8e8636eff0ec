{
  "comments": [
    {
      "key": {
        "uuid": "e2b25480_b7989bb7",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "FYI, we are moving away from BrowserThread. See\n\nhttps://chromium.googlesource.com/chromium/src/+/lkcr/docs/task_scheduler_migration.md#BrowserThreads",
      "range": {
        "startLine": 23,
        "startChar": 31,
        "endLine": 23,
        "endChar": 48
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb3e1158_5cd83876",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "When can this happen? If it should not happen, shall we DCHECK?",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1160dbd8_86b027cc",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 49,
        "startChar": 31,
        "endLine": 49,
        "endChar": 44
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6396eecc_bfbf13a5",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.h",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: , and",
      "range": {
        "startLine": 17,
        "startChar": 55,
        "endLine": 17,
        "endChar": 56
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2bf4918_31e4ea49",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.h",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "OOC, what is this filter about?\n\nDoes it make sense to typedef base::RepeatingCallback\u003cbool(const GURL\u0026 url)\u003e to a named callback type for better readability?",
      "range": {
        "startLine": 18,
        "startChar": 7,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b173e7c7_0e82e456",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.h",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-08-08T20:39:14Z",
      "side": 1,
      "message": "Filter is defined in https://cs.chromium.org/chromium/src/chrome/browser/browsing_data/chrome_browsing_data_remover_delegate.cc?q\u003dchrome/browser/browsing_data/chrome_browsing_data_remover_delegate.cc\u0026l\u003d436\n\nI just copy the logic since the other data remover respect |filter|.\n\nJohn, any idea?",
      "parentUuid": "f2bf4918_31e4ea49",
      "range": {
        "startLine": 18,
        "startChar": 7,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32c979e9_2e9cddbf",
        "filename": "chrome/browser/media/android/cdm/media_drm_license_manager.h",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T20:53:44Z",
      "side": 1,
      "message": "I see. Then feel free to keep it without the typedef. But please document it here.\n\nIn the future we might want to introduce a callback type and consolidate all filter related code to use the new type, which IMHO will make the coder easier to read.",
      "parentUuid": "b173e7c7_0e82e456",
      "range": {
        "startLine": 18,
        "startChar": 7,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3aad5c09_337d469a",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Note for myself and jrummell@, who will finish the review of this CL. This runs in the browser process and we are dealing with the Preference file which in theory could be corrupted, also we are dealing with a lot of pointers. We need to make sure we never crash the browser process.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db9f338c_e2b0a7dc",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Here and below, as we are adding more helper functions, it\u0027s getting harder to read. Add comments for each function?",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57b35b4d_02a47fb3",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: to be consistent, no need for curly braces",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3a7bcdf_d26a4d9d",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "In theory this could return an empty Time object which means \"not initialized\", shall we return false in this case?\n\nhttps://cs.chromium.org/chromium/src/base/time/time.h?rcl\u003de370649715157a2327383df4c9716246d7bf83fc\u0026l\u003d510",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aba9558e_349f5f57",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 132,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: here and everywhere else, no need to use curly brace",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ae3be7d_1987176f",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "ditto. This could return an empty Time object which means \"not initialized\", shall we return false in this case?\n\nhttps://cs.chromium.org/chromium/src/base/time/time.h?rcl\u003de370649715157a2327383df4c9716246d7bf83fc\u0026l\u003d510",
      "range": {
        "startLine": 140,
        "startChar": 31,
        "endLine": 140,
        "endChar": 42
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "031912db_572e2e50",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "To be consistent, s/sessions/sessions_dict, see line 388",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71fcc59e_5e1af889",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 157,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: s/session/sessions",
      "range": {
        "startLine": 157,
        "startChar": 27,
        "endLine": 157,
        "endChar": 34
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74f714e8_2c82d47c",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 161,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: This is a bit hard to read and is used multiple times in this function. Can we use a alias name to improve readability? e.g.\n\nstd::string\u0026 session_id \u003d origin_it-\u003efirst;",
      "range": {
        "startLine": 161,
        "startChar": 33,
        "endLine": 161,
        "endChar": 48
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3730822f_7768c27a",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: Returns a list of origin IDs to unprovision.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "609071db_127635e3",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 199,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: origins",
      "range": {
        "startLine": 199,
        "startChar": 27,
        "endLine": 199,
        "endChar": 33
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3537732_3038e89e",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 204,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "This is a bit hard to read and is used multiple times in this function. Can we use a alias name to improve readability, e.g.\n\nStringPiece\u0026 origin \u003d origin_it-\u003efirst;",
      "range": {
        "startLine": 204,
        "startChar": 35,
        "endLine": 204,
        "endChar": 51
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc4fd3c9_a0a31c94",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 204,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Is it possible for the filter to be null? If not, DCHECK?",
      "range": {
        "startLine": 204,
        "startChar": 8,
        "endLine": 204,
        "endChar": 14
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c557100_17c6fef9",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 209,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: Here and elsewhere, add a LOG where we see data corruption (which should not happen in normal cases). The error message associated with the LOGs can also serve as comments that help improve readability.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ce2bcaf_486a4adc",
        "filename": "components/cdm/browser/media_drm_storage_impl.h",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: , and",
      "range": {
        "startLine": 37,
        "startChar": 59,
        "endLine": 37,
        "endChar": 60
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a873cb9_f470de38",
        "filename": "components/cdm/browser/media_drm_storage_impl.h",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: Returns a list of origin IDs under which all the licenses are cleared.",
      "range": {
        "startLine": 40,
        "startChar": 5,
        "endLine": 40,
        "endChar": 25
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e185e38c_5635b9f7",
        "filename": "components/cdm/browser/media_drm_storage_impl.h",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Add unit tests for this function.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "682735e1_6344c15e",
        "filename": "media/base/android/media_drm_bridge.cc",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Document what the string is.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87f151dd_4b8d3008",
        "filename": "media/base/android/media_drm_bridge.h",
        "patchSetId": 3
      },
      "lineNbr": 113,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Update this TODO?",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d7873f8_e1e4ec01",
        "filename": "media/base/android/media_drm_bridge.h",
        "patchSetId": 3
      },
      "lineNbr": 118,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Document that |create_fetcher_cb| can be null.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cea1b585_3c8e3212",
        "filename": "media/base/android/media_drm_bridge.h",
        "patchSetId": 3
      },
      "lineNbr": 147,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "nit: This function",
      "range": {
        "startLine": 147,
        "startChar": 60,
        "endLine": 147,
        "endChar": 73
      },
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "857c7208_39c23feb",
        "filename": "media/base/android/media_drm_bridge.h",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-08-08T18:13:35Z",
      "side": 1,
      "message": "Document whether, and if so, when |origin_id| can be empty.",
      "revId": "0b3259a4d9ac4c15c5d5bae9738c8e8636eff0ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}