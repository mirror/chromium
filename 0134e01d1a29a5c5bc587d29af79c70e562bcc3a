{
  "comments": [
    {
      "key": {
        "uuid": "bb2440ad_cf72a3e0",
        "filename": "content/browser/renderer_host/media/media_stream_dispatcher_host.cc",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1143639
      },
      "writtenOn": "2018-01-31T15:48:00Z",
      "side": 1,
      "message": "nit: you accidentally removed __func__.\nFeel free to remove the whole DVLOG statement (applies to all other DVLOG statements in this file)",
      "range": {
        "startLine": 110,
        "startChar": 13,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "0134e01d1a29a5c5bc587d29af79c70e562bcc3a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e08b5ca_9426ba47",
        "filename": "content/browser/renderer_host/media/media_stream_dispatcher_host.cc",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1120018
      },
      "writtenOn": "2018-02-01T10:05:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb2440ad_cf72a3e0",
      "range": {
        "startLine": 110,
        "startChar": 13,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "0134e01d1a29a5c5bc587d29af79c70e562bcc3a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62ed25d9_1e39273d",
        "filename": "content/renderer/media/media_stream_video_capturer_source.cc",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1120018
      },
      "writtenOn": "2018-01-31T14:27:56Z",
      "side": 1,
      "message": "How do we initialize |render_frame_id_| for this constructor?\nDo you see a better alternative for getting a RenderFrame in this class?",
      "range": {
        "startLine": 163,
        "startChar": 40,
        "endLine": 163,
        "endChar": 41
      },
      "revId": "0134e01d1a29a5c5bc587d29af79c70e562bcc3a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1de50e6_b0680692",
        "filename": "content/renderer/media/media_stream_video_capturer_source.cc",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1143639
      },
      "writtenOn": "2018-01-31T15:48:00Z",
      "side": 1,
      "message": "You can do the following to initialize |render_frame_id_| here:\n\nblink::WebLocalFrame* web_frame \u003d \n    blink::WebLocalFrame::FrameForCurrentContext();\nRenderFrame* render_frame \u003d RenderFrame::FromWebFrame(web_frame);\nrender_frame_id_ \u003d render_frame ? render_frame-\u003eGetRoutingID() : \n                                  MSG_ROUTING_NONE;\n\nThis should fix most/all of the failed browser tests.",
      "parentUuid": "62ed25d9_1e39273d",
      "range": {
        "startLine": 163,
        "startChar": 40,
        "endLine": 163,
        "endChar": 41
      },
      "revId": "0134e01d1a29a5c5bc587d29af79c70e562bcc3a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3aa45d4_fc6f7a2e",
        "filename": "content/renderer/media/media_stream_video_capturer_source.cc",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1120018
      },
      "writtenOn": "2018-02-01T10:05:10Z",
      "side": 1,
      "message": "\u003e You can do the following to initialize |render_frame_id_| here:\n\u003e \n\u003e blink::WebLocalFrame* web_frame \u003d \n\u003e     blink::WebLocalFrame::FrameForCurrentContext();\n\u003e RenderFrame* render_frame \u003d RenderFrame::FromWebFrame(web_frame);\n\u003e render_frame_id_ \u003d render_frame ? render_frame-\u003eGetRoutingID() : \n\u003e                                   MSG_ROUTING_NONE;\n\nDone.\n\n\u003e This should fix most/all of the failed browser tests.\n\nThe browser tests failures were related to the lifetime of MSDH. MediaStreamManager::CancelAllRequests() needs to be get called\nprior to MediaStreamManager::WillDestroyCurrentMessageLoop(). In ps1, CancelAllRequests() was called from MSDH\u0027s dtor. But, since StrongBinding does not guarantee MSDH\u0027s destruction, CancelAllRequests() was not getting called resulting in these browser tests failures. Moved MSDH ownership to RenderFrameHostImpl, similar to as it was earlier in RenderProcessHostImpl.",
      "parentUuid": "b1de50e6_b0680692",
      "range": {
        "startLine": 163,
        "startChar": 40,
        "endLine": 163,
        "endChar": 41
      },
      "revId": "0134e01d1a29a5c5bc587d29af79c70e562bcc3a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}