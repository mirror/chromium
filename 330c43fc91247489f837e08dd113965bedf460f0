{
  "comments": [
    {
      "key": {
        "uuid": "56edfe32_ca01d45b",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 32,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "You might check whether this leaves blob, filesystem, and view-source URLs in history (e.g., blob:http://example.com/..., or view-source:http://example.com).  That would probably be unexpected.\n\nIs there a strong reason to leave chrome://, chrome-extension://, etc in the session history, or should we just clear anything that matches the time frame?",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "176bed83_acb489c0",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 32,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "Hm, that is a good question. I will remove this check because chrome:// urls could contain history related data like chrome://settings/cookies/detail?site\u003dgoogle.com.\n\nThat means that the Clear Browsing Data dialog can\u0027t navigate back anymore but that shouldn\u0027t be an issue as it will always come from chrome://settings anyway.",
      "parentUuid": "56edfe32_ca01d45b",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13da345e_b2ded627",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 35,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "This name seems confusing if it\u0027s comparing full URLs rather than origins.",
      "range": {
        "startLine": 35,
        "startChar": 5,
        "endLine": 35,
        "endChar": 18
      },
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38adfd3e_d0127a3b",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 35,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "Fixed",
      "parentUuid": "13da345e_b2ded627",
      "range": {
        "startLine": 35,
        "startChar": 5,
        "endLine": 35,
        "endChar": 18
      },
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e174f7a0_b05b4b21",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 57,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "I\u0027d suggest checking with an Android Chrome reviewer.  Maybe tedchoc@ would know.",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdb96965_a2930926",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 66,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "Did you try DiscardNonCommittedEntries?  That seems like it should address this TODO.",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3707986_4026e38c",
        "filename": "chrome/browser/browsing_data/navigation_entry_remover.cc",
        "patchSetId": 19
      },
      "lineNbr": 66,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "That sounds great. I added this call, thanks.\nI think there is still a case where last_committed_entry_index_ is -1, which would lead to CanPruneAllButLastCommitted() \u003d\u003d false. So I will leave the check here.",
      "parentUuid": "fdb96965_a2930926",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "770ffe53_6bd81695",
        "filename": "chrome/browser/sessions/session_service.cc",
        "patchSetId": 19
      },
      "lineNbr": 385,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "Don\u0027t forget about this.  :)",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7be535c0_6a767557",
        "filename": "chrome/browser/sessions/session_service.cc",
        "patchSetId": 19
      },
      "lineNbr": 385,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "Yes, I still need to figure out how to update sessions correctly. I will add a TODO to the CL description to not forget about this.",
      "parentUuid": "770ffe53_6bd81695",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2244f72_33efe8d6",
        "filename": "chrome/browser/sessions/session_service.cc",
        "patchSetId": 19
      },
      "lineNbr": 385,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-30T14:22:55Z",
      "side": 1,
      "message": "I changed SessionService to update the indices. Someone who knows the code will have to take a look and see if it makes sense.\nI wonder if it would be easier to not call NotifyPrunedEntries() during the deletions at all and just call SessionService::ResetFromCurrentBrowsers() after all deletions are done. SessionService::ScheduleCommand seems to be doing this from time to time anyway. That would simplify this a lot.",
      "parentUuid": "7be535c0_6a767557",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bace30c_fd46d261",
        "filename": "chrome/browser/sessions/session_service.cc",
        "patchSetId": 19
      },
      "lineNbr": 385,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-30T17:47:54Z",
      "side": 1,
      "message": "It looks like SessionService::ResetFromCurrentBrowsers() is the only way to properly remove tab history from sessions because otherwise session_service_commands keeps a log of changes that would reveal previously visited sites.\nI should probably just remove all events that I send to SessionService and call Reset once at the end.",
      "parentUuid": "a2244f72_33efe8d6",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e856c4d5_fa757a84",
        "filename": "chrome/browser/sessions/session_service.cc",
        "patchSetId": 19
      },
      "lineNbr": 385,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-31T16:37:44Z",
      "side": 1,
      "message": "I added a separate event for deletions to NavigationController and SessionService will schedule a reset to properly remove session data",
      "parentUuid": "4bace30c_fd46d261",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2435d444_ab4b85c3",
        "filename": "components/browsing_data/core/features.cc",
        "patchSetId": 19
      },
      "lineNbr": 1,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "nit: 2018, here and anywhere else",
      "range": {
        "startLine": 1,
        "startChar": 13,
        "endLine": 1,
        "endChar": 18
      },
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1995d5e9_e30678c8",
        "filename": "components/browsing_data/core/features.cc",
        "patchSetId": 19
      },
      "lineNbr": 1,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2435d444_ab4b85c3",
      "range": {
        "startLine": 1,
        "startChar": 13,
        "endLine": 1,
        "endChar": 18
      },
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34527762_68235980",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 19
      },
      "lineNbr": 1742,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "It wasn\u0027t immediately clear what entries_front and entries_back meant.  Maybe entries_before and entries_after in this context, or something closer to entries_removed_from_{front,back}?",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4b79215_bc03cdad",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 19
      },
      "lineNbr": 1742,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "I renamed the variables and added a comment",
      "parentUuid": "34527762_68235980",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86e4041d_ecf62ba1",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 19
      },
      "lineNbr": 1753,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "Should we do the notification before the SetHistoryOffsetAndLength call as in the new PruneNavigationEntries method below?  Or vice versa (i.e., notify after the SetHistoryOffsetAndLength call below)?\n\nThose would be more consistent, in case the notify methods were to send things to the renderer which might act differently whether or not the offset and length have been updated.",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "424d5a4c_d13f2de5",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 19
      },
      "lineNbr": 1753,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "I changed the below method to call SetHistoryOffsetAndLength() before NotifyPrunedEntries().",
      "parentUuid": "86e4041d_ecf62ba1",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb8167f2_c9851173",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 19
      },
      "lineNbr": 1753,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-31T16:37:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "424d5a4c_d13f2de5",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be197e6a_0167cc8e",
        "filename": "content/public/browser/navigation_details.h",
        "patchSetId": 19
      },
      "lineNbr": 82,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "nit: Update comment.",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfc7c171_03832bce",
        "filename": "content/public/browser/navigation_details.h",
        "patchSetId": 19
      },
      "lineNbr": 82,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be197e6a_0167cc8e",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b154ad1_8ecd8f5c",
        "filename": "content/public/browser/navigation_details.h",
        "patchSetId": 19
      },
      "lineNbr": 85,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "nit: Add \"if |position| is BACK or FRONT,\"",
      "range": {
        "startLine": 85,
        "startChar": 5,
        "endLine": 85,
        "endChar": 28
      },
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3607863a_496e0a74",
        "filename": "content/public/browser/navigation_details.h",
        "patchSetId": 19
      },
      "lineNbr": 85,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b154ad1_8ecd8f5c",
      "range": {
        "startLine": 85,
        "startChar": 5,
        "endLine": 85,
        "endChar": 28
      },
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "691e11e9_f963581c",
        "filename": "content/test/data/browsing_data/site_data.html",
        "patchSetId": 19
      },
      "lineNbr": 117,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2018-01-26T00:52:05Z",
      "side": 1,
      "message": "I might be missing something-- where\u0027s the call to this?",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2408405d_586efeb9",
        "filename": "content/test/data/browsing_data/site_data.html",
        "patchSetId": 19
      },
      "lineNbr": 117,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T15:08:15Z",
      "side": 1,
      "message": "This function is called by BrowsingDataRemoverBrowserTest::SetDataForType(\"History\"), which is called from BrowsingDataRemoverBrowserTest.HistoryDeletion. \nI added a comment to this file as I agree, that is very difficult to find the place where this is called.",
      "parentUuid": "691e11e9_f963581c",
      "revId": "330c43fc91247489f837e08dd113965bedf460f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}