{
  "comments": [
    {
      "key": {
        "uuid": "42278db0_86def054",
        "filename": "content/browser/service_worker/service_worker_installed_scripts_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 425,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-22T05:58:06Z",
      "side": 1,
      "message": "This looks OK, but I\u0027d also like to explicitly protect the registration inside DeleteVersion() because I don\u0027t think all callers of DeleteVersion() correctly protect it like this. DeleteVersion() already partially protects the registration during the database access. How about expanding it up to the entire function, that is, putting |scoped_refptr\u003cSWRegistration\u003e protect(this)| at the begenning of DeleteVersion() and binding it with the callback of ServiceWorkerStorage::DeleteRegistration?",
      "revId": "a8ad4a5103137c5d2fdb01fbb28952cb1c483d74",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}