{
  "comments": [
    {
      "key": {
        "uuid": "43a916c3_0ff021e7",
        "filename": "chrome/browser/ui/cocoa/passwords/save_pending_password_view_controller.mm",
        "patchSetId": 18
      },
      "lineNbr": 136,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "That\u0027s a strange piece of code. If !visible then you should just populate the field with ***. If it\u0027s visible then you call TryToViewPasswords",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 136,
        "endChar": 11
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "061db891_db01663d",
        "filename": "chrome/browser/ui/cocoa/passwords/save_pending_password_view_controller.mm",
        "patchSetId": 18
      },
      "lineNbr": 136,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e That\u0027s a strange piece of code. If !visible then you should just populate the field with ***. If it\u0027s visible then you call TryToViewPasswords\n\nRemoved \"!\" before |visible|.\n|visible| is new state. If a user tries to reveal the password and it is not allowed, then the password shouldn\u0027t be revealed.",
      "parentUuid": "43a916c3_0ff021e7",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 136,
        "endChar": 11
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74bfa6b5_c27b5915",
        "filename": "chrome/browser/ui/cocoa/passwords/save_pending_password_view_controller.mm",
        "patchSetId": 18
      },
      "lineNbr": 207,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "The condition is reversed here. Have you tested on Mac at all?",
      "range": {
        "startLine": 207,
        "startChar": 8,
        "endLine": 207,
        "endChar": 54
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0e344f8_d60fe69f",
        "filename": "chrome/browser/ui/cocoa/passwords/save_pending_password_view_controller.mm",
        "patchSetId": 18
      },
      "lineNbr": 207,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "74bfa6b5_c27b5915",
      "range": {
        "startLine": 207,
        "startChar": 8,
        "endLine": 207,
        "endChar": 54
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9ef7a14_71ed12b0",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 294,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "This should also be true when PasswordIsRevealedByDefault() is true.",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 294,
        "endChar": 32
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee6f48bd_547b3ae2",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 294,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e This should also be true when PasswordIsRevealedByDefault() is true.\n\nDisagree. After timeout, password revealing should require re-auth again. So, this variable should be true. \n\nThe case is weird, but this variable defines whether revealing this password needs special treatment.",
      "parentUuid": "f9ef7a14_71ed12b0",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 294,
        "endChar": 32
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f8da68c_51b0ecab",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 294,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-07T00:51:05Z",
      "side": 1,
      "message": "Thus, after automatic password submission it doesn\u0027t require any reauth ever. However, in this scenario where user reauthenticated once, you\u0027ll require him to reauth again at random point in time. Does it look consistent to you?\n\nI already said at some point that I\u0027m against any sort of timeouts for the bubble. The one implemented currently (bound to the tab) makes the least sense out of all options to me.\nThe desired behavior:\n- somehow bubble opens. At the creation time we determine if the reauth will be needed or not (automatic submission, manual fallback without autofilled values, reopened after reauth) for the lifetime of the bubble.\nThere are other more complex options: reauth every time for controversial bubbles (manual bubble, manual fallback with existing credentials), timeout per bubble. However, I don\u0027t any value in those approaches.",
      "parentUuid": "ee6f48bd_547b3ae2",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 294,
        "endChar": 32
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b16d509_8acf6144",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 565,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "I would make it the task of this function to reveal the password instead of returning a boolean and delegating it to the caller. Otherwise, the password is revealed in case of a reauth but not if a reauth is not needed.",
      "range": {
        "startLine": 565,
        "startChar": 9,
        "endLine": 565,
        "endChar": 38
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a558e45_fccd6d45",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 565,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e I would make it the task of this function to reveal the password instead of returning a boolean and delegating it to the caller. Otherwise, the password is revealed in case of a reauth but not if a reauth is not needed.\n\nNot sure I understand. Actual revealing happens in bubble_view. Do you propose to expose |password_viewing_is_locked_| to the bubble view?",
      "parentUuid": "8b16d509_8acf6144",
      "range": {
        "startLine": 565,
        "startChar": 9,
        "endLine": 565,
        "endChar": 38
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fed214d_50c99672",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 570,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "Can we pull this value on creation and return a const member here instead?",
      "range": {
        "startLine": 570,
        "startChar": 9,
        "endLine": 570,
        "endChar": 63
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b66aeb7e_069162a5",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 570,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T07:57:33Z",
      "side": 1,
      "message": "\u003e Can we pull this value on creation and return a const member here instead?\n\nI have to clear |password_is_revealed_by_default_| after bubble reopening. \nOtherwise, if a user passes re-auth, closes the bubble, opens the bubble, then the password will be always revealed because password_is_revealed_by_default_ is true and we cannot change it.",
      "parentUuid": "4fed214d_50c99672",
      "range": {
        "startLine": 570,
        "startChar": 9,
        "endLine": 570,
        "endChar": 63
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaa26412_5747e656",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.cc",
        "patchSetId": 18
      },
      "lineNbr": 570,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-07T00:51:05Z",
      "side": 1,
      "message": "So the answer to my question is \"Yes, we can\" ;-)\nYou can still clear the value after bubble opening in the controller.",
      "parentUuid": "b66aeb7e_069162a5",
      "range": {
        "startLine": 570,
        "startChar": 9,
        "endLine": 570,
        "endChar": 63
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "832bf772_96e2eb8c",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 144,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "inconsistent naming \"*View*Passwords\" vs \"Is*Revealed*\". Note that a user can \"view\" a password but the bubble can only \"display\" it.\n\nMy proposal:\n\n// Reveals passwords unless the access is locked. In that case, the method\n// triggers a re-authentication and re-opens the bubble. For this re-opened\n// bubble, the password will be revealed if the re-auth was successful.\n// Returns whether the passwords can be revealed.\nbool RevealPasswords();",
      "range": {
        "startLine": 144,
        "startChar": 7,
        "endLine": 144,
        "endChar": 25
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af33e968_5653e663",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 144,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "I wonder whether this should be really const.",
      "range": {
        "startLine": 144,
        "startChar": 28,
        "endLine": 144,
        "endChar": 33
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ff2c0a7_7bf77389",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 144,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "That comment is confusing. It should return \u0027true\u0027 if the password can be shown right now. If it returns \u0027false\u0027 then the bubble and the model are already destroyed. It should be emphasized in the comment. I\u0027m fine with the name RevealPasswords().",
      "parentUuid": "832bf772_96e2eb8c",
      "range": {
        "startLine": 144,
        "startChar": 7,
        "endLine": 144,
        "endChar": 25
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64c4c131_ccd0e51b",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 144,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e That comment is confusing. It should return \u0027true\u0027 if the password can be shown right now. If it returns \u0027false\u0027 then the bubble and the model are already destroyed. It should be emphasized in the comment. I\u0027m fine with the name RevealPasswords().\n\nRenamed to RevealPasswords. Added a comment about the returned value.",
      "parentUuid": "2ff2c0a7_7bf77389",
      "range": {
        "startLine": 144,
        "startChar": 7,
        "endLine": 144,
        "endChar": 25
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3306826b_27e1964e",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 144,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e I wonder whether this should be really const.\n\nRemoved. It changes |delegate_|",
      "parentUuid": "af33e968_5653e663",
      "range": {
        "startLine": 144,
        "startChar": 28,
        "endLine": 144,
        "endChar": 33
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39a7ace9_439a6ba9",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 147,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "const",
      "range": {
        "startLine": 147,
        "startChar": 36,
        "endLine": 147,
        "endChar": 37
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae55b192_9771a9d9",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 147,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "Word order: IsPasswordRevealedByDefault()\n\nbetter: IsPasswordRevealedWhenOpened()",
      "range": {
        "startLine": 147,
        "startChar": 7,
        "endLine": 147,
        "endChar": 34
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "569775a2_a7f8e87c",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 147,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e const\n\nDisagree. It calls non-const delegate_-\u003eIsPasswordRevealedWhenOpened. \n\ndelegate_-\u003eIsPasswordRevealedWhenOpened is non-const because the method should clear the flag. So, next opening wouldn\u0027t reveal the password value.",
      "parentUuid": "39a7ace9_439a6ba9",
      "range": {
        "startLine": 147,
        "startChar": 36,
        "endLine": 147,
        "endChar": 37
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97658499_57b89855",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 147,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae55b192_9771a9d9",
      "range": {
        "startLine": 147,
        "startChar": 7,
        "endLine": 147,
        "endChar": 34
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3f41491_21fcf21a",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 147,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-07T00:51:05Z",
      "side": 1,
      "message": "The method shouldn\u0027t clear the flag. When you get a signal that the bubble was opened (ManagePasswordsUIController::OnBubbleShown) you could clear the flag.",
      "parentUuid": "569775a2_a7f8e87c",
      "range": {
        "startLine": 147,
        "startChar": 36,
        "endLine": 147,
        "endChar": 37
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2979f6b5_18f3e367",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 184,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "password_revealing_requires_reauth_ ?",
      "range": {
        "startLine": 184,
        "startChar": 25,
        "endLine": 184,
        "endChar": 34
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b811e5a_0f37ba1e",
        "filename": "chrome/browser/ui/passwords/manage_passwords_bubble_model.h",
        "patchSetId": 18
      },
      "lineNbr": 184,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2979f6b5_18f3e367",
      "range": {
        "startLine": 184,
        "startChar": 25,
        "endLine": 184,
        "endChar": 34
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51394c51_c5fcd378",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 500,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "// Authentication only needs to be refreshed after 90 seconds.",
      "range": {
        "startLine": 500,
        "startChar": 5,
        "endLine": 500,
        "endChar": 57
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "888edf10_e9ccd727",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 500,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51394c51_c5fcd378",
      "range": {
        "startLine": 500,
        "startChar": 5,
        "endLine": 500,
        "endChar": 57
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8097264_4606b8c2",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 515,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "I think that lines 512, 514, 515 should go into a callback function or into the caller if you call this function \"AuthenticateUser\".\n\nMaybe the caller should check whether the bubble is hidden and then show it again.",
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "530abd39_7cc2a619",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 515,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "I\u0027d propose that 504 - 525 go to a callback. The function returns immediately always. True means show the password. False means don\u0027t do anything. In the background we can reauth the user and in case it was successful bring the bubble back with the password revealed.\n\nAuthenticateUser can take a lot of time. I think the messages are still handled. You can\u0027t do 514-515 because you don\u0027t really know the state.",
      "parentUuid": "f8097264_4606b8c2",
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d4c4b28_df5a413c",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 515,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T07:57:33Z",
      "side": 1,
      "message": "\u003e I\u0027d propose that 504 - 525 go to a callback. The function returns immediately always. True means show the password. False means don\u0027t do anything. In the background we can reauth the user and in case it was successful bring the bubble back with the password revealed.\n\u003e \n\u003e AuthenticateUser can take a lot of time. I think the messages are still handled. You can\u0027t do 514-515 because you don\u0027t really know the state.\n\nWhy do we need callback here? The current bubble will be destroyed if re-auth dialog has a focus, i.e. the caller is destroyed. We have to re-create a bubble. \n\nIf you insist, please provide more details.",
      "parentUuid": "530abd39_7cc2a619",
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78ec2241_dc0d11bc",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 515,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-06T10:15:28Z",
      "side": 1,
      "message": "My concern was that the function name \"AuthenticateUser\" does not reflect what the function does. It authenticates the user and does a couple of other things (opening another bubble and revealing passwords).",
      "parentUuid": "2d4c4b28_df5a413c",
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e7a0b9f_70579127",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 515,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-07T00:51:05Z",
      "side": 1,
      "message": "The problem is that AuthenticateUser() may take 10 minutes before it returns something. Chrome (at least on Win) probably continues handling messages. Therefore, you don\u0027t know a lot about the state of the bubble/tab and so on.\n\nMy proposal was to make the function fast. If it returns true then the password is just revealed. If it returns false then it\u0027s a signal to the caller \"I\u0027m doing a reauth and after it I\u0027ll take care of the password UI. Don\u0027t do anything for now\".",
      "parentUuid": "78ec2241_dc0d11bc",
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "888cedbb_1d2d4e23",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 520,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "This function name indicates that it does not have side effects. --\u003e Probably should be named \"GetAndReset...\"",
      "range": {
        "startLine": 520,
        "startChar": 34,
        "endLine": 520,
        "endChar": 61
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3167265_c7871a00",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.cc",
        "patchSetId": 18
      },
      "lineNbr": 520,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "I think it shouldn\u0027t have side effects. The state can be reset after the bubble is shown. We already handle this event in this class.",
      "parentUuid": "888cedbb_1d2d4e23",
      "range": {
        "startLine": 520,
        "startChar": 34,
        "endLine": 520,
        "endChar": 61
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66ac8730_480c8e98",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.h",
        "patchSetId": 18
      },
      "lineNbr": 217,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "TODO",
      "range": {
        "startLine": 217,
        "startChar": 5,
        "endLine": 217,
        "endChar": 9
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88e9d34d_aa603329",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.h",
        "patchSetId": 18
      },
      "lineNbr": 217,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66ac8730_480c8e98",
      "range": {
        "startLine": 217,
        "startChar": 5,
        "endLine": 217,
        "endChar": 9
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eaa6e66f_5b51f3e8",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.h",
        "patchSetId": 18
      },
      "lineNbr": 218,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "this is not initialized.",
      "range": {
        "startLine": 218,
        "startChar": 7,
        "endLine": 218,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b777722_7ca2400f",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.h",
        "patchSetId": 18
      },
      "lineNbr": 218,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "The name is confusing. It probably should be current bubble. Maybe we don\u0027t need this member at all.",
      "parentUuid": "eaa6e66f_5b51f3e8",
      "range": {
        "startLine": 218,
        "startChar": 7,
        "endLine": 218,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64c9e537_e17b3c6e",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.h",
        "patchSetId": 18
      },
      "lineNbr": 218,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T07:57:33Z",
      "side": 1,
      "message": "\u003e The name is confusing. It probably should be current bubble. Maybe we don\u0027t need this member at all.\n\nNot sure I understand how we can eliminate this field.",
      "parentUuid": "3b777722_7ca2400f",
      "range": {
        "startLine": 218,
        "startChar": 7,
        "endLine": 218,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12491085_2d9b290e",
        "filename": "chrome/browser/ui/passwords/manage_passwords_ui_controller.h",
        "patchSetId": 18
      },
      "lineNbr": 218,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e \u003e The name is confusing. It probably should be current bubble. Maybe we don\u0027t need this member at all.\n\u003e \n\u003e Not sure I understand how we can eliminate this field.\n\nThe name means that when we create new save bubble, the password should be revealed when the bubble is opened first time.",
      "parentUuid": "64c9e537_e17b3c6e",
      "range": {
        "startLine": 218,
        "startChar": 7,
        "endLine": 218,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80b31e8f_9ed51725",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 116,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "I think this is not true. Even if the reauth is not needed (for being in the 90 seconds time window), this is called.\n\nCalled from the model to ensure that the user has permission to view password. Returns whether password viewing is allowed (after a potential re-auth).",
      "range": {
        "startLine": 116,
        "startChar": 32,
        "endLine": 116,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaa1f2b0_072cb650",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 116,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "80b31e8f_9ed51725",
      "range": {
        "startLine": 116,
        "startChar": 32,
        "endLine": 116,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72f24b1e_3be11727",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 116,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T07:57:33Z",
      "side": 1,
      "message": "\u003e Ack\n\nI mark it unresolved.",
      "parentUuid": "eaa1f2b0_072cb650",
      "range": {
        "startLine": 116,
        "startChar": 32,
        "endLine": 116,
        "endChar": 49
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38f87e23_6816168b",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 117,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "That\u0027s a dangerous interface. It may return true because the bubble should show the password right away. It may also return true 1 minute later when the bubble is already destroyed and should not attempt to access |this|.",
      "range": {
        "startLine": 117,
        "startChar": 10,
        "endLine": 117,
        "endChar": 42
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fcf0cca_4ab7c0c3",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 117,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "\u003e That\u0027s a dangerous interface. It may return true because the bubble should show the password right away. It may also return true 1 minute later when the bubble is already destroyed and should not attempt to access |this|.\n\nI agree. Any ideas what we can do instead?",
      "parentUuid": "38f87e23_6816168b",
      "range": {
        "startLine": 117,
        "startChar": 10,
        "endLine": 117,
        "endChar": 42
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f977f3a_366863e8",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 117,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-07T00:51:05Z",
      "side": 1,
      "message": "See another comment inside this function.",
      "parentUuid": "7fcf0cca_4ab7c0c3",
      "range": {
        "startLine": 117,
        "startChar": 10,
        "endLine": 117,
        "endChar": 42
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4647b896_39fada69",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 120,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "is this true?",
      "range": {
        "startLine": 120,
        "startChar": 31,
        "endLine": 120,
        "endChar": 40
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9389b34_ac4fde78",
        "filename": "chrome/browser/ui/passwords/passwords_model_delegate.h",
        "patchSetId": 18
      },
      "lineNbr": 120,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "Is not true. It\u0027s just called all the time.",
      "parentUuid": "4647b896_39fada69",
      "range": {
        "startLine": 120,
        "startChar": 31,
        "endLine": 120,
        "endChar": 40
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e7c722b_2ac6f742",
        "filename": "chrome/browser/ui/views/passwords/manage_passwords_bubble_view.cc",
        "patchSetId": 18
      },
      "lineNbr": 487,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "It\u0027s ignored when you create a combobox.",
      "range": {
        "startLine": 487,
        "startChar": 6,
        "endLine": 487,
        "endChar": 23
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02aec11c_798c04d9",
        "filename": "chrome/browser/ui/views/passwords/manage_passwords_bubble_view.cc",
        "patchSetId": 18
      },
      "lineNbr": 487,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-06T16:00:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e7c722b_2ac6f742",
      "range": {
        "startLine": 487,
        "startChar": 6,
        "endLine": 487,
        "endChar": 23
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1df09526_6cb0bd1d",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 18
      },
      "lineNbr": 313,
      "author": {
        "id": 1145779
      },
      "writtenOn": "2017-12-05T09:52:44Z",
      "side": 1,
      "message": "Dominic: reopening bubble after re-auth breaks this DCHECK. What is the proper way to fix that?",
      "range": {
        "startLine": 313,
        "startChar": 2,
        "endLine": 313,
        "endChar": 64
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d86de47_fd448a05",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 18
      },
      "lineNbr": 313,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-12-05T12:58:01Z",
      "side": 1,
      "message": "Vasilii, what do you think of extending UIDisplayDisposition to have an entry \"REOPEN_AFTER_REAUTH\"?",
      "parentUuid": "1df09526_6cb0bd1d",
      "range": {
        "startLine": 313,
        "startChar": 2,
        "endLine": 313,
        "endChar": 64
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3605bd9_bdad723e",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 18
      },
      "lineNbr": 313,
      "author": {
        "id": 1002737
      },
      "writtenOn": "2017-12-06T03:34:53Z",
      "side": 1,
      "message": "I\u0027m fine with that.",
      "parentUuid": "8d86de47_fd448a05",
      "range": {
        "startLine": 313,
        "startChar": 2,
        "endLine": 313,
        "endChar": 64
      },
      "revId": "4ecdc10bff626753b3bc878df61e2a55cec2193c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}