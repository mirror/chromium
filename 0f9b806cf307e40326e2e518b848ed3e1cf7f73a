{
  "comments": [
    {
      "key": {
        "uuid": "93268dc7_2594029f",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T17:49:13Z",
      "side": 1,
      "message": "Whitespace",
      "range": {
        "startLine": 201,
        "startChar": 0,
        "endLine": 201,
        "endChar": 4
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e4472c4_5d4341b3",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T18:55:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93268dc7_2594029f",
      "range": {
        "startLine": 201,
        "startChar": 0,
        "endLine": 201,
        "endChar": 4
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed60190b_d1e4b6dd",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-31T17:27:13Z",
      "side": 1,
      "message": "nit: bad alignment.",
      "range": {
        "startLine": 203,
        "startChar": 32,
        "endLine": 203,
        "endChar": 40
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cee31457_337a2061",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T17:49:13Z",
      "side": 1,
      "message": "Whitespace",
      "range": {
        "startLine": 203,
        "startChar": 0,
        "endLine": 203,
        "endChar": 31
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f09ab50_2035552b",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T17:53:45Z",
      "side": 1,
      "message": "Huh, I don\u0027t know why cl format would do that.\n\nDone",
      "parentUuid": "ed60190b_d1e4b6dd",
      "range": {
        "startLine": 203,
        "startChar": 32,
        "endLine": 203,
        "endChar": 40
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c5124d8_534f1871",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T18:55:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cee31457_337a2061",
      "range": {
        "startLine": 203,
        "startChar": 0,
        "endLine": 203,
        "endChar": 31
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ee35ee4_0f77b3ff",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T17:49:13Z",
      "side": 1,
      "message": "I think that the implementation of the writable metrics should not be exposed to the client because the client is not supposed to change its values. The first step that matches Apple metrics should not expose any new types in Cronet.h but rely on NSURLSessionTaskTransactionMetrics interface.",
      "range": {
        "startLine": 204,
        "startChar": 16,
        "endLine": 204,
        "endChar": 25
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c81948b7_83d3cf9a",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T18:55:00Z",
      "side": 1,
      "message": "You\u0027re right; I\u0027d meant to put them in an exposedfortesting block in Cronet.mm, thanks for the reminder.\n\nPutting them in an exposedfortesting block in cronet_metrics_test.mm creates a bunch of code duplication.  Would it make sense to have a Cronet+ExposedForTesting.h header file to put the CronetMetrics interface?",
      "parentUuid": "4ee35ee4_0f77b3ff",
      "range": {
        "startLine": 204,
        "startChar": 16,
        "endLine": 204,
        "endChar": 25
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "988719e6_525e1dda",
        "filename": "components/cronet/ios/Cronet.h",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-11-02T18:05:54Z",
      "side": 1,
      "message": "I made a dedicated header and implementation file for CronetMetrics related code.",
      "parentUuid": "c81948b7_83d3cf9a",
      "range": {
        "startLine": 204,
        "startChar": 16,
        "endLine": 204,
        "endChar": 25
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15827235_8e3be671",
        "filename": "components/cronet/ios/Cronet.mm",
        "patchSetId": 2
      },
      "lineNbr": 519,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T17:49:13Z",
      "side": 1,
      "message": "I think you don\u0027t need @synthesize anymore. It will be auto generated for you.",
      "range": {
        "startLine": 519,
        "startChar": 0,
        "endLine": 519,
        "endChar": 11
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4e4bde5_ea5ab64a",
        "filename": "components/cronet/ios/Cronet.mm",
        "patchSetId": 2
      },
      "lineNbr": 519,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T18:55:00Z",
      "side": 1,
      "message": "Synthesize is necessary because I\u0027m overwriting the readonly properties of NSURLSessionTaskTransactionMetrics to make them readwrite.",
      "parentUuid": "15827235_8e3be671",
      "range": {
        "startLine": 519,
        "startChar": 0,
        "endLine": 519,
        "endChar": 11
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0e5877c_7f961ba5",
        "filename": "components/cronet/ios/Cronet.mm",
        "patchSetId": 2
      },
      "lineNbr": 519,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T19:15:47Z",
      "side": 1,
      "message": "Please, ignore this comment. \u0027gn\u0027 is actually changing the default \"implicit synthesized properties\" setting to false, so it is necessary to @synthesize the properties explicitly.",
      "parentUuid": "15827235_8e3be671",
      "range": {
        "startLine": 519,
        "startChar": 0,
        "endLine": 519,
        "endChar": 11
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90d2469b_dd7abfca",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-31T17:27:13Z",
      "side": 1,
      "message": "can this move down to checking portion?",
      "range": {
        "startLine": 23,
        "startChar": 4,
        "endLine": 23,
        "endChar": 38
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25d1b5e7_02585e65",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T17:53:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "90d2469b_dd7abfca",
      "range": {
        "startLine": 23,
        "startChar": 4,
        "endLine": 23,
        "endChar": 38
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f5ce8a5_472d9dce",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-31T17:27:13Z",
      "side": 1,
      "message": "I think those should be initialized and test should verify that metrics contain valid copies of passed data.",
      "range": {
        "startLine": 26,
        "startChar": 32,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f7d7087_0273fc1f",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T17:53:45Z",
      "side": 1,
      "message": "The trouble I was having with what to initialize NSURLRequest and NSURLResponse objects to.  Do you have any suggestions?",
      "parentUuid": "6f5ce8a5_472d9dce",
      "range": {
        "startLine": 26,
        "startChar": 32,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09472e45_8b101016",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-11-01T21:20:52Z",
      "side": 1,
      "message": "I think you has resolved it by using\nNSURLRequest* test_req \u003d [NSURLRequest\n        requestWithURL:[NSURL URLWithString:@\"test.example.com\"]];",
      "parentUuid": "6f7d7087_0273fc1f",
      "range": {
        "startLine": 26,
        "startChar": 32,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f886a83_89c6acf3",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-11-02T06:48:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09472e45_8b101016",
      "range": {
        "startLine": 26,
        "startChar": 32,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f47d8ac5_078bcb37",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T17:49:13Z",
      "side": 1,
      "message": "In general, you should call \u0027init\u0027 method even if you want to get an object with default value because alloc only allocates the memory for the storage. For the sake of the test we should give it some meaningful value that we can check.",
      "range": {
        "startLine": 27,
        "startChar": 29,
        "endLine": 27,
        "endChar": 49
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60921279_7699f84a",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T18:55:00Z",
      "side": 1,
      "message": "I created some more specific dummy values that are properly initialized with real values.",
      "parentUuid": "f47d8ac5_078bcb37",
      "range": {
        "startLine": 27,
        "startChar": 29,
        "endLine": 27,
        "endChar": 49
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86f80715_93d64e30",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T17:49:13Z",
      "side": 1,
      "message": "Ideally, we should give different values to different properties.",
      "range": {
        "startLine": 34,
        "startChar": 45,
        "endLine": 34,
        "endChar": 54
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf5cb784_4678add0",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T18:55:00Z",
      "side": 1,
      "message": "That ends up creating a lot of extra boilerplate (in the form of temp variables, since the value has to appear in both the setter and then again in the getter in the EXPECT_EQ statements).  I\u0027m not convinced that that\u0027s necessary given how simple the thing being tested is?",
      "parentUuid": "86f80715_93d64e30",
      "range": {
        "startLine": 34,
        "startChar": 45,
        "endLine": 34,
        "endChar": 54
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6dfa550_5d4a8b5e",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T19:28:34Z",
      "side": 1,
      "message": "I actually agree that there is no much point in testing synthesized properties. However, in the future we should have a test that verifies that the client gets correct values that are set by the metrics implementation.",
      "parentUuid": "bf5cb784_4678add0",
      "range": {
        "startLine": 34,
        "startChar": 45,
        "endLine": 34,
        "endChar": 54
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f77a7b9_34ca23b4",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T20:31:15Z",
      "side": 1,
      "message": "What would that sort of test look like?",
      "parentUuid": "e6dfa550_5d4a8b5e",
      "range": {
        "startLine": 34,
        "startChar": 45,
        "endLine": 34,
        "endChar": 54
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "224c97f9_9ebca05a",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-11-01T21:20:52Z",
      "side": 1,
      "message": "We should set the metrics callback delegate. Send a request and check that all values in NSURLSessionTaskTransactionMetrics make sense. Ideally, we should mock the implementation that calculates metrics in order to set specific values but it may not be straightforward.",
      "parentUuid": "6f77a7b9_34ca23b4",
      "range": {
        "startLine": 34,
        "startChar": 45,
        "endLine": 34,
        "endChar": 54
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71377cdf_33f67aa7",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-31T17:27:13Z",
      "side": 1,
      "message": "Interesting, I would\u0027ve expected [metrics request] to be a copy of test_req",
      "range": {
        "startLine": 51,
        "startChar": 23,
        "endLine": 51,
        "endChar": 30
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bc6b8aa_dd4042e5",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T17:53:45Z",
      "side": 1,
      "message": "|metrics| is a pointer, so it\u0027s strictly speaking the exact same object as |cronet_metrics|.\n\nA test case that might be more faithful to the intended use is to have the |EXPECT| statements in a function which takes an |NSURLSessionTaskTransactionMetrics*|, and call that passing |cronet_metrics|, but I don\u0027t really expect that that would change anything.",
      "parentUuid": "71377cdf_33f67aa7",
      "range": {
        "startLine": 51,
        "startChar": 23,
        "endLine": 51,
        "endChar": 30
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b97670ed_8f9b0cb2",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-31T19:15:47Z",
      "side": 1,
      "message": "I think it works because some of the objects are immutable and return themselves when copied. Try instead of\n[cronet_metrics setNetworkProtocolName:@\"http/2\"]\nsomething like\n[cronet_metrics setNetworkProtocolName:[NSMutableString stringWithString:@\"http/2\"]\nand it should fail.",
      "parentUuid": "3bc6b8aa_dd4042e5",
      "range": {
        "startLine": 51,
        "startChar": 23,
        "endLine": 51,
        "endChar": 30
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97fb84eb_45da4c4b",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-10-31T20:31:15Z",
      "side": 1,
      "message": "Yup, this does cause it to fail.",
      "parentUuid": "b97670ed_8f9b0cb2",
      "range": {
        "startLine": 51,
        "startChar": 23,
        "endLine": 51,
        "endChar": 30
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f839f61f_2283c237",
        "filename": "components/cronet/ios/test/cronet_metrics_test.mm",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1179923
      },
      "writtenOn": "2017-11-02T06:48:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "97fb84eb_45da4c4b",
      "range": {
        "startLine": 51,
        "startChar": 23,
        "endLine": 51,
        "endChar": 30
      },
      "revId": "0f9b806cf307e40326e2e518b848ed3e1cf7f73a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}