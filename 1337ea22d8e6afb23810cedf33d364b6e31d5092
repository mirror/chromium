{
  "comments": [
    {
      "key": {
        "uuid": "02199efb_241a852a",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 349,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-12-22T01:12:52Z",
      "side": 1,
      "message": "Nit: base::PostTaskWithTraits",
      "range": {
        "startLine": 349,
        "startChar": 4,
        "endLine": 349,
        "endChar": 22
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84455162_3314fb3c",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 349,
      "author": {
        "id": 1002455
      },
      "writtenOn": "2018-01-04T20:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "02199efb_241a852a",
      "range": {
        "startLine": 349,
        "startChar": 4,
        "endLine": 349,
        "endChar": 22
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "123b529d_92c723d3",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-12-22T01:12:52Z",
      "side": 1,
      "message": "Optional: Since DemuxerDestructionHelper should only be called here, feel free to use a lambda.\n\nPostTaskWithTraits(\n        FROM_HERE,\n        {base::TaskPriority::BACKGROUND,\n         base::TaskShutdownBehavior::CONTINUE_ON_SHUTDOWN},\n        base::BindOnce([](std::unique_ptr\u003cDemuxer\u003e demuxer){\n          SCOPED_UMA_HISTOGRAM_TIMER(\"Media.MSE.DemuxerDestructionTime\");\n          demuxer.reset();\n        }, std::move(demuxer_)));",
      "range": {
        "startLine": 353,
        "startChar": 23,
        "endLine": 353,
        "endChar": 48
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "779b1e70_8e02f3e3",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1002455
      },
      "writtenOn": "2018-01-04T20:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "123b529d_92c723d3",
      "range": {
        "startLine": 353,
        "startChar": 23,
        "endLine": 353,
        "endChar": 48
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "080eddc0_e9d229c9",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 1417,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-12-22T01:12:52Z",
      "side": 1,
      "message": "This could be fixed by posting a task to the media_task_runner_ to post another task to perform the real destruction.",
      "range": {
        "startLine": 1416,
        "startChar": 2,
        "endLine": 1417,
        "endChar": 30
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ff3a9fe_fca53c8f",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 1417,
      "author": {
        "id": 1002455
      },
      "writtenOn": "2017-12-22T20:20:58Z",
      "side": 1,
      "message": "I\u0027m uncertain of the lifetime of |media_task_runner_| and also what you mean by real destruction:\n1) Is it guaranteed that at some time after ~WMPI completes that the task posted in ~WMPI to it would still execute?\n2) Or do you mean change ~WMPI to run on the media_task_runner_ (and if so, what\u0027s a good idiom to do that in Chromium?)",
      "parentUuid": "080eddc0_e9d229c9",
      "range": {
        "startLine": 1416,
        "startChar": 2,
        "endLine": 1417,
        "endChar": 30
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a6791b0_e06267b0",
        "filename": "media/blink/webmediaplayer_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 1417,
      "author": {
        "id": 1002455
      },
      "writtenOn": "2018-01-04T20:25:04Z",
      "side": 1,
      "message": "I\u0027ve now forced the lifetime of |media_task_runner_| by including it as a task parameter (and it is a scoped_refptr), so DemuxerDestructionHelper shouldn\u0027t race this OnMemoryPressure task on the media task runner, nor should DemuxerDestructionHelper\u0027s execution be prevented by loss of refptr on media_task_runner_ if WMPI or other owners (besides this task) drop their refs to that runner.\n\nDone.",
      "parentUuid": "5ff3a9fe_fca53c8f",
      "range": {
        "startLine": 1416,
        "startChar": 2,
        "endLine": 1417,
        "endChar": 30
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c83aa42b_e692b3c7",
        "filename": "media/filters/chunk_demuxer_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-12-22T01:12:52Z",
      "side": 1,
      "message": "Nit: Linebreak between these two headers. C and C++ system headers occur in different sections. \nhttps://google.github.io/styleguide/cppguide.html#Names_and_Order_of_Includes",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 9,
        "endChar": 20
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f9adf11_6313fd3f",
        "filename": "media/filters/chunk_demuxer_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1002455
      },
      "writtenOn": "2018-01-04T20:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c83aa42b_e692b3c7",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 9,
        "endChar": 20
      },
      "revId": "1337ea22d8e6afb23810cedf33d364b6e31d5092",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}