{
  "comments": [
    {
      "key": {
        "uuid": "47ca28b8_bcf7331e",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-14T20:18:59Z",
      "side": 1,
      "message": "It seems:\n\n1) |delegate_| doesn\u0027t have to be a std::set or use std::unique_ptr\u003c\u003e, it could be a std::vector\u003cMULTD\u003e, for example.\n\n2) MULTD could be slightly more efficient and simpler:\nclass MultiURLLoaderThrottleDelegate {\n  ...\n   void Resume() override { owner_-\u003eResume(throttle_); }\n\n private:\n  MultiURLLoaderThrottle* owner_;\n  URLLoaderThrottle* throttle_;\n};",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58ea7c10_d390c8fa",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-15T18:31:06Z",
      "side": 1,
      "message": "Good idea.  It does require me to either friend the class or make those methods public, but I think that\u0027s ok.",
      "parentUuid": "47ca28b8_bcf7331e",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0580453_72955231",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-15T21:55:44Z",
      "side": 1,
      "message": "nit: Now that MULTD is declared within MultiURLLoaderThrottle, I think there is no need to make those methods public.",
      "parentUuid": "58ea7c10_d390c8fa",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "955df771_9c40021d",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-14T20:18:59Z",
      "side": 1,
      "message": "It seems reasonable to me to require that |delegate_| must be valid. WDYT?",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcba8ff8_58b43485",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-15T18:31:06Z",
      "side": 1,
      "message": "Yeah I agree.  Another option would be not creating the internal delegates until a call to set_delegate() on the parent interface, although I\u0027d have to be able to override it.  Going to add the same DCHECK to Resume().",
      "parentUuid": "955df771_9c40021d",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29bde8a8_226df9a3",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-14T20:18:59Z",
      "side": 1,
      "message": "nit: please use blocking_throttles_.empty()",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8761321c_45882796",
        "filename": "content/common/multi_url_loader_throttle.cc",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-15T18:31:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "29bde8a8_226df9a3",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d888d4af_3f612661",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-14T20:18:59Z",
      "side": 1,
      "message": "nit: it may make sense to move this declaration into the private section of MultiURLLoaderThrottle. That way it is more clear to readers that this is not part of the public API of MultiURLLoaderThrottle.",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f977eeaa_d70550b2",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-15T18:31:06Z",
      "side": 1,
      "message": "Good idea.  For fyi the only reason I can\u0027t store the delegates as the throttle delegate base class is due to the hidden destructor.",
      "parentUuid": "d888d4af_3f612661",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dbfc09f3_5c456076",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-14T20:18:59Z",
      "side": 1,
      "message": "Please note that this is different from the ThrottlingResourceHandler (which is a similar class in the old code path). ThrottlingResourceHandler also handles a list of throttles. When a throttle defers the request, the rest of the throttles in the list are not notified until it is resumed.\n\nI don\u0027t have any example in mind that this behavior difference matters. (I have limited knowledge of the existing throttles in the old code path.) Just trying to make sure this is a well-thought-out design decision.",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1339cf2_ef8d56f8",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-15T18:31:06Z",
      "side": 1,
      "message": "Ok commented.  Yeah I explicitly made it work this way so that we could parallelize all async throttle checks if possible, but I\u0027m not sure if changing the behavior will have any negative impact when porting code.  Added the comment.",
      "parentUuid": "dbfc09f3_5c456076",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "402fbb9f_678cf56a",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-15T21:55:44Z",
      "side": 1,
      "message": "Makes sense. Thanks!",
      "parentUuid": "a1339cf2_ef8d56f8",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f2f91e9_36911369",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-08-14T20:18:59Z",
      "side": 1,
      "message": "It seems the comment is incomplete at the end.",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e686771e_28b9a3d6",
        "filename": "content/common/multi_url_loader_throttle.h",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-15T18:31:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1f2f91e9_36911369",
      "revId": "2309b79a912f013806dcc3e509e8662d06b38999",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}