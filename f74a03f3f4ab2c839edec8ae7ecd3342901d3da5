{
  "comments": [
    {
      "key": {
        "uuid": "fafce600_12cebb48",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 29,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "s/A class/This template/\n\nAlso, you can reflow this to read like:\n// This template represents an asynchronous operation which returns a result\n// upon completion, internal async callback will be not called if the instance\n// is deleted. RuntimeType is Windows Runtime APIs that have a result.\n\n\nIf you\u0027re using Sublime, aside from clang-format, which is\nsweet, you could use a package such as Wrap-plus to reflow\nautomatically comments and such.",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 10
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "660e48f9_48429929",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 29,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fafce600_12cebb48",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 10
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "65d8a915_1b1f5f11",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 39,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "s/async_op_ptr_/|async_op_ptr_|/",
      "range": {
        "startLine": 39,
        "startChar": 26,
        "endLine": 39,
        "endChar": 39
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "959a7b1b_09757c48",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 39,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65d8a915_1b1f5f11",
      "range": {
        "startLine": 39,
        "startChar": 26,
        "endLine": 39,
        "endChar": 39
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00e8beeb_04614435",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 44,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "s/Create/Creates/\ns/a/an/\nReview grammar of the comments, and also observe these \nguidelines plz:\nhttps://google.github.io/styleguide/cppguide.html#Function_Comments",
      "range": {
        "startLine": 44,
        "startChar": 12,
        "endLine": 44,
        "endChar": 13
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56ae7c0b_6c2a28f4",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 44,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "00e8beeb_04614435",
      "range": {
        "startLine": 44,
        "startChar": 12,
        "endLine": 44,
        "endChar": 13
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b0eeafc_ba21e708",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "Remove this method and just call directly \n   weak_factory_.GetWeakPtr();\nin l.53 ?",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 91,
        "endChar": 3
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c126ecfa_87fc971e",
        "filename": "services/shape_detection/detection_utils_win.h",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b0eeafc_ba21e708",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 91,
        "endChar": 3
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa16b2ef_0f2d12bb",
        "filename": "services/shape_detection/face_detection_impl_win.cc",
        "patchSetId": 8
      },
      "lineNbr": 61,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "I don\u0027t think this is an error, and the message doesn\u0027t\nadd much. Remove?",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 61,
        "endChar": 73
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "228beb90_5e352cd2",
        "filename": "services/shape_detection/face_detection_impl_win.cc",
        "patchSetId": 8
      },
      "lineNbr": 61,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aa16b2ef_0f2d12bb",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 61,
        "endChar": 73
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2fc1310b_8682fbbd",
        "filename": "services/shape_detection/face_detection_impl_win.cc",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "Can\u0027t we just inspect |face_detector_| to see if the \nasynchronous creation has happened correctly? That way\nwe don\u0027t need a state variable nor holding on to\n|async_create_detector_ops_| (that, if needed, should\nhave been passed to the bound OnFaceDetectorCreated() \ncallback).",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 84,
        "endChar": 26
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "349feb5e_c11b2d5c",
        "filename": "services/shape_detection/face_detection_impl_win.cc",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "It also will be failed if IAsyncOperation pointer is null or async status isn\u0027t completed [1]. The state variable is used for detecting face one by one when calling the Detect function repeatedly because it\u0027s async.\n\n[1] https://chromium-review.googlesource.com/c/chromium/src/+/750006/8/services/shape_detection/detection_utils_win.h#97",
      "parentUuid": "2fc1310b_8682fbbd",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 84,
        "endChar": 26
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d741790_63345bc1",
        "filename": "services/shape_detection/face_detection_impl_win.cc",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-13T15:27:54Z",
      "side": 1,
      "message": "I don\u0027t like the pattern of having a state switch for\narbitrating what is essentially a class preamble, i.e.\nwhat we\u0027re interested in is, adding numbers to the time\nevents:\n\n1- start creating |face_detector_|\n2- ... |face_detector_| is created.\n3- Detect()\n4- ... face is Detect()ed (correct or incorrectly).\n\nand we need to arbitrate: a (3) getting in between (1)-(2)\nand a/multiple (3) getting in between previous (3)-(4), \ncorrect?\n\nIn all cases I think it\u0027d be better to have a DetectCallback\nqueue, in which:\n\n- if a Detect() request (3) comes between (1)-(2), then\nit\u0027s queued up. Upon OnFaceDetectorCreated(), any queued\nup DetectCallbacks are serviced.\n\n- if a Detect() request (3) comes between 3-4, i.e.\nwhen another Detect() is being served, do the same: queue\nit up and serve it upon completion of the previous Detect().\n\nTake a look at e.g. |take_photo_callbacks_| in [1].\n\nWe might need to make the Q bounded to avoid flooding/hacking\nthe system. \n\nRemember that the Web Platform client of the Mojo interface is\nentirely asynchronous, so it\u0027s OK to let requests wait.\n\nWDYT?\n\n[1] https://cs.chromium.org/chromium/src/media/capture/video/win/video_capture_device_win.h?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d143",
      "parentUuid": "349feb5e_c11b2d5c",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 84,
        "endChar": 26
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f2c0c7e_2465e916",
        "filename": "services/shape_detection/face_detection_impl_win.h",
        "patchSetId": 8
      },
      "lineNbr": 43,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "// mojom::FaceDetection implementation.",
      "range": {
        "startLine": 43,
        "startChar": 5,
        "endLine": 43,
        "endChar": 25
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27171183_6b6c5c81",
        "filename": "services/shape_detection/face_detection_impl_win.h",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-11-07T16:46:11Z",
      "side": 1,
      "message": "Isn\u0027t this also  \n AsyncOperation\u003cFaceDetector\u003e::IAsyncOperationPtr\n?",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 60
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb307d11_8654aba6",
        "filename": "services/shape_detection/face_detection_impl_win.h",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1114999
      },
      "writtenOn": "2017-11-08T01:56:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27171183_6b6c5c81",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 60
      },
      "revId": "f74a03f3f4ab2c839edec8ae7ecd3342901d3da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}