{
  "comments": [
    {
      "key": {
        "uuid": "59dfba34_a5bfd8fa",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-10-17T16:14:38Z",
      "side": 1,
      "message": "you don\u0027t need to change this header if you just want to allow IO. the friending at the bottom is for code that waits on another thread. can you just use ScopedAllowIO instead? (sorry didn\u0027t notice this earlier)",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec0b07bd_c16321a1",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-17T16:27:00Z",
      "side": 1,
      "message": "The comment on ScopedAllowIO says: \n// DEPRECATED. Use ScopedAllowBlocking\n\nbut I can try it.",
      "parentUuid": "59dfba34_a5bfd8fa",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f302b278_32e2737d",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-17T17:59:57Z",
      "side": 1,
      "message": "I have changed ScopedAllowBlocking to ScopedAllowIO but got the presubmit error.\n\n** Presubmit ERRORS **\nBanned functions were used.\n    components/cronet/android/cronet_url_request_context_adapter.cc:731:\n      Use the new API in base/threading/thread_restrictions.h.\n    components/cronet/cronet_prefs_manager.cc:214:\n      Use the new API in base/threading/thread_restrictions.h.\n    components/cronet/cronet_prefs_manager.cc:244:\n      Use the new API in base/threading/thread_restrictions.h.\n\nI uploaded the CL using --bypass-hooks which doesn\u0027t seem right.",
      "parentUuid": "ec0b07bd_c16321a1",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "236f0a3d_f192f5be",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-10-18T15:44:10Z",
      "side": 1,
      "message": "Apologies, I wasn\u0027t familiar with this new class and confused it with allowedWait.\n\nPatchset 6 lgtm",
      "parentUuid": "f302b278_32e2737d",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e5c7eaf_7b2c1f31",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-18T16:47:11Z",
      "side": 1,
      "message": "John, just to doublecheck, PS6 is the one that introduces CronetScopedAllowBlocking class in cronet_scoped_allow_blocking.h and lists only that class as a friend. PS7 is the one that explicitly lists the classes in base/threading/thread_restrictions.h that temporary allow blocking I/O. Which is the prefered approach?",
      "parentUuid": "236f0a3d_f192f5be",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a72b6c47_29c7742d",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-10-19T15:57:36Z",
      "side": 1,
      "message": "Thanks for double checking.\n\nI meant the one that uses ScopedAllowBlocking, i.e. https://chromium-review.googlesource.com/c/chromium/src/+/705700/6",
      "parentUuid": "5e5c7eaf_7b2c1f31",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f7b367_8483df9e",
        "filename": "base/threading/thread_restrictions.h",
        "patchSetId": 7
      },
      "lineNbr": 169,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2017-10-19T21:52:02Z",
      "side": 1,
      "message": "Done. Rolled back to using ScopedAllowBlocking directly, i.e. without creating a separate CronetScopedAllowBlocking layer.",
      "parentUuid": "a72b6c47_29c7742d",
      "revId": "b3f0c1daa139584106b7c70d68409911aa1a8959",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}