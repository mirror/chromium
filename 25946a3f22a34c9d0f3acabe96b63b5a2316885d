{
  "comments": [
    {
      "key": {
        "uuid": "c7542c8c_312b767e",
        "filename": "extensions/browser/extension_navigation_throttle.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2018-01-16T14:30:46Z",
      "side": 1,
      "message": "Nasko\u0027s probably the better reviewer here, since I don\u0027t fully grok the implications of this.  Is GetSuggestedFilename() sufficient to guarantee that the navigation is going to result in a download?  Is it possible that the download would in turn cause navigation (e.g. if the mime type is handled by Chrome), and will that case be handled correctly?",
      "revId": "25946a3f22a34c9d0f3acabe96b63b5a2316885d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "481eb0c8_6a03797f",
        "filename": "extensions/browser/extension_navigation_throttle.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1176519
      },
      "writtenOn": "2018-01-16T14:58:12Z",
      "side": 1,
      "message": "yes, mime_sniffing_resource_handler will always turn blob and filesystem (and data) URLs with a suggested filename into downloads",
      "parentUuid": "c7542c8c_312b767e",
      "revId": "25946a3f22a34c9d0f3acabe96b63b5a2316885d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7a8a8ab_b531e9ac",
        "filename": "extensions/browser/extension_navigation_throttle.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1001500
      },
      "writtenOn": "2018-01-16T23:30:07Z",
      "side": 1,
      "message": "Do we have test to ensure that is always true? We could also add code in WillProcessResponse to ensure this never happens. We would know at that point in time whether the result is a download or not and can enforce that no NavHandle with suggested filename ends up not being a download.\nActually, the more I think about this, the more I convince myself that this should be an invariant that is enforced inside content. Could you add this if it isn\u0027t already there?",
      "parentUuid": "481eb0c8_6a03797f",
      "revId": "25946a3f22a34c9d0f3acabe96b63b5a2316885d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}