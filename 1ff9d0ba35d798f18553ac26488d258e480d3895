{
  "comments": [
    {
      "key": {
        "uuid": "0ba50c54_471579d9",
        "filename": "third_party/WebKit/Source/bindings/core/v8/LocalWindowProxy.cpp",
        "patchSetId": 7
      },
      "lineNbr": 257,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-22T02:29:07Z",
      "side": 1,
      "message": "If the context is not created from the snapshot, where are conditional features installed on prototype objects?",
      "revId": "1ff9d0ba35d798f18553ac26488d258e480d3895",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52e76f92_021deeb9",
        "filename": "third_party/WebKit/Source/bindings/core/v8/LocalWindowProxy.cpp",
        "patchSetId": 7
      },
      "lineNbr": 257,
      "author": {
        "id": 1001470
      },
      "writtenOn": "2017-11-22T03:17:21Z",
      "side": 1,
      "message": "type-\u003eInstallConditionalFeatures() and InstallOriginTrialFeatures() called in V8PerContextData::ConstructorForTypeSlowCase() do.\n\nI know the snapshot feature makes the situation more complex, but I wonder if we have to explain all the cases here. (snapshot vs non-snapshot, conditional vs origin-trials, instance objects vs prototoype/interface objects, etc.)",
      "parentUuid": "0ba50c54_471579d9",
      "revId": "1ff9d0ba35d798f18553ac26488d258e480d3895",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88005c81_603acde6",
        "filename": "third_party/WebKit/Source/bindings/core/v8/LocalWindowProxy.cpp",
        "patchSetId": 7
      },
      "lineNbr": 257,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-22T04:59:35Z",
      "side": 1,
      "message": "That\u0027s what I wanted to have a comment somewhere, though it doesn\u0027t need to be on a header file. I\u0027m still confused what is installed on where (and thus I\u0027m not really confident if this CL is correct or not).\n\na) When a context is created from a snapshot\n- Where are conditional / origin-trial features installed?\n\nb) When a context is not created from a snapshot\n- Where are conditional / origin-trial features installed?",
      "parentUuid": "52e76f92_021deeb9",
      "revId": "1ff9d0ba35d798f18553ac26488d258e480d3895",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd9496b9_201dc105",
        "filename": "third_party/WebKit/Source/bindings/core/v8/LocalWindowProxy.cpp",
        "patchSetId": 7
      },
      "lineNbr": 257,
      "author": {
        "id": 1001470
      },
      "writtenOn": "2017-11-22T05:44:59Z",
      "side": 1,
      "message": "Yes, I agree to have an explanation for dynamically enabled features, but I think it should be somewhere else (maybe in a .md file?)\nThis part can have a pointer to the reference, but having all cases covered in this \"if\" brunch is too complex.\n\nFor now, let me answer your question in this comment.\n\n\n* \"constructor\"-like properties of interfaces in origin trial features are installed in InstallOriginTrialFeaturesOnGlobal, regardless snapshot is used or not.\n\nOther than constructor-like properties, we can take \"origin-trial features\" same as \"conditional features\". So I use \"conditional features\" for them all.\n\na) When a context is created from a snapshot,\n - conditional features are installed in V8ContextSnapshot::InstallConditionalFeatures()\n\nb) When a context is not created from a snapshot,\n - conditional features are installed on the global object here.\n - conditional features are installed on prototype/interface objects in V8PerContextData::ConstructorForTypeSlowCase().",
      "parentUuid": "88005c81_603acde6",
      "revId": "1ff9d0ba35d798f18553ac26488d258e480d3895",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fc5cde6_4fb9b8e5",
        "filename": "third_party/WebKit/Source/bindings/core/v8/LocalWindowProxy.h",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-22T02:29:07Z",
      "side": 1,
      "message": "Would you write the comment like this? It\u0027s not clear what are installed when...\n\nWhen a context is created from a snapshot:\n- conditional features on the window wrapper are installed by xxx.\n- conditional features on the prototype objects are installed by xxx.\n\nWhen a context is not created from a snapshot:\n- conditional features on the window wrapper are installed by xxx.\n- conditional features on the prototype objects are installed by xxx.",
      "revId": "1ff9d0ba35d798f18553ac26488d258e480d3895",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e738ca8_c0162634",
        "filename": "third_party/WebKit/Source/bindings/core/v8/LocalWindowProxy.h",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1001470
      },
      "writtenOn": "2017-11-22T03:17:21Z",
      "side": 1,
      "message": "I think your suggestion explains too much of implementation, as a comment of an API.\n\"installed by xxx\" can change easily, and I think it will be mismatched and confusing.\n\nWhy don\u0027t we explain it simply like \"Installs conditionally enabled features, if necessary.\"?",
      "parentUuid": "3fc5cde6_4fb9b8e5",
      "revId": "1ff9d0ba35d798f18553ac26488d258e480d3895",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}