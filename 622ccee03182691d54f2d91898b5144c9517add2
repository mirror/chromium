{
  "comments": [
    {
      "key": {
        "uuid": "b85515a8_61c7da2d",
        "filename": "extensions/renderer/module_system_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-16T05:34:33Z",
      "side": 1,
      "message": "Adding this line caused the following failure:\n\n#0  base::debug::(anonymous namespace)::DebugBreak () at ../../base/debug/debugger_posix.cc:239\n#1  0x00007ffff2973318 in base::debug::BreakDebugger () at ../../base/debug/debugger_posix.cc:258\n#2  0x00007ffff29fe80b in logging::LogMessage::~LogMessage (this\u003d0x7fffffffa898) at ../../base/logging.cc:846\n#3  0x00007fffeaa09ca5 in blink::ReportFatalErrorInMainThread (location\u003d0x7fffe8da38ba \"v8::Object::GetAlignedPointerFromInternalField()\", message\u003d0x7fffe8d8354c \"Not a Smi\")\n    at ../../third_party/WebKit/Source/bindings/core/v8/V8Initializer.cpp:84\n#4  0x00007fffe906ce3c in v8::Utils::ReportApiFailure (location\u003d0x7fffe8da38ba \"v8::Object::GetAlignedPointerFromInternalField()\", message\u003d0x7fffe8d8354c \"Not a Smi\") at ../../v8/src/api.cc:412\n#5  0x00007fffe90a7bbd in ApiCheck (location\u003d0x5f \u003cerror: Cannot access memory at address 0x5f\u003e, \n    message\u003d0x7fffffff9910 \"Name:\\textensions_unit\\nState:\\tR (running)\\nTgid:\\t11206\\nNgid:\\t0\\nPid:\\t11206\\nPPid:\\t11195\\nTracerPid:\\t11195\\nUid:\\t28851\\t28851\\t28851\\t28851\\nGid:\\t5000\\t5000\\t5000\\t5000\\nFDSize:\\t512\\nGroups:\\t499 5000 5001 5762 26024 \"..., condition\u003d\u003coptimized out\u003e) at ../../v8/src/api.h:124\n#6  DecodeSmiToAligned (value\u003d0xd647f2822e1, location\u003d\u003coptimized out\u003e) at ../../v8/src/api.cc:1179\n#7  v8::Object::SlowGetAlignedPointerFromInternalField (this\u003d\u003coptimized out\u003e, index\u003d0) at ../../v8/src/api.cc:6379\n#8  0x00007fffea965cdf in GetAlignedPointerFromInternalField (this\u003d0xd06196cf3e0, index\u003d0) at ../../v8/include/v8.h:9772\n#9  blink::GetInternalField\u003cblink::WrapperTypeInfo, 0\u003e (wrapper\u003d...) at ../../third_party/WebKit/Source/platform/bindings/WrapperTypeInfo.h:201\n#10 0x00007fffea96485d in blink::ToWrapperTypeInfo (wrapper\u003d...) at ../../third_party/WebKit/Source/platform/bindings/WrapperTypeInfo.h:221\n#11 0x00007fffea9e4414 in blink::ToExecutionContext (context\u003d...) at ../../third_party/WebKit/Source/bindings/core/v8/V8BindingForCore.cpp:731\n#12 0x00007fffea9e4612 in blink::CurrentExecutionContext (isolate\u003d0xd061964c020) at ../../third_party/WebKit/Source/bindings/core/v8/V8BindingForCore.cpp:744\n#13 0x00007fffea9d85c5 in blink::UseCounterCallback (isolate\u003d0xd061964c020, feature\u003dv8::Isolate::kSloppyMode) at ../../third_party/WebKit/Source/bindings/core/v8/UseCounterCallback.cpp:151\n#14 0x00007fffe965335e in v8::internal::Isolate::CountUsage (this\u003d0x5f, feature\u003d4294940944) at ../../v8/src/isolate.cc:3738\n#15 0x00007fffe976f575 in v8::internal::Parser::UpdateStatistics (this\u003d0x7fffffffb118, isolate\u003d0xd061964c020, script\u003d...) at ../../v8/src/parsing/parser.cc:3452\n#16 0x00007fffe978e970 in v8::internal::parsing::ParseProgram (info\u003d0x7fffffffb700, isolate\u003d0xd061964c020) at ../../v8/src/parsing/parsing.cc:49\n#17 0x00007fffe92421e1 in v8::internal::(anonymous namespace)::CompileToplevel (parse_info\u003d0x7fffffffb700, isolate\u003d0xd061964c020) at ../../v8/src/compiler.cc:787\n#18 0x00007fffe9244b21 in v8::internal::Compiler::GetSharedFunctionInfoForScript (source\u003d..., maybe_script_name\u003d..., line_offset\u003d0, column_offset\u003d0, resource_options\u003d..., maybe_source_map_url\u003d..., context\u003d..., \n    extension\u003d\u003coptimized out\u003e, cached_data\u003d\u003coptimized out\u003e, compile_options\u003d\u003coptimized out\u003e, no_cache_reason\u003d\u003coptimized out\u003e, natives\u003d\u003coptimized out\u003e, maybe_host_defined_options\u003d...)\n    at ../../v8/src/compiler.cc:1539\n#19 0x00007fffe915704d in v8::internal::Genesis::CompileExtension (isolate\u003d0xd061964c020, extension\u003d0xd061964bb20) at ../../v8/src/bootstrapper.cc:3744\n#20 0x00007fffe915f084 in v8::internal::Genesis::InstallExtension (isolate\u003d\u003coptimized out\u003e, current\u003d\u003coptimized out\u003e, extension_states\u003d\u003coptimized out\u003e) at ../../v8/src/bootstrapper.cc:5109\n#21 0x00007fffe915e9c0 in InstallExtension (name\u003d0x7fffe8d3d920 \"v8/gc\", extension_states\u003d0xd0619997920, isolate\u003d\u003coptimized out\u003e) at ../../v8/src/bootstrapper.cc:5075\n#22 v8::internal::Genesis::InstallExtensions (native_context\u003d..., extensions\u003d0xd06196e4200) at ../../v8/src/bootstrapper.cc:5030\n#23 0x00007fffe913c96e in v8::internal::Bootstrapper::InstallExtensions (this\u003d0xd0619577200, native_context\u003d..., extensions\u003d0xd06196e4200) at ../../v8/src/bootstrapper.cc:4966\n#24 0x00007fffe913c883 in v8::internal::Bootstrapper::CreateEnvironment (this\u003d0xd0619577200, maybe_global_proxy\u003d..., global_proxy_template\u003d..., extensions\u003d0xd06196e4200, context_snapshot_index\u003d\u003coptimized out\u003e, \n    embedder_fields_deserializer\u003d..., context_type\u003d\u003coptimized out\u003e) at ../../v8/src/bootstrapper.cc:314\n#25 0x00007fffe90a892b in Invoke (maybe_global_proxy\u003d..., this\u003d\u003coptimized out\u003e, isolate\u003d\u003coptimized out\u003e, global_proxy_template\u003d..., extensions\u003d\u003coptimized out\u003e, context_snapshot_index\u003d\u003coptimized out\u003e, \n    embedder_fields_deserializer\u003d...) at ../../v8/src/api.cc:6538\n#26 CreateEnvironment\u003cv8::internal::Context\u003e (maybe_global_template\u003d..., isolate\u003d\u003coptimized out\u003e, extensions\u003d\u003coptimized out\u003e, maybe_global_proxy\u003d..., context_snapshot_index\u003d\u003coptimized out\u003e, \n    embedder_fields_deserializer\u003d...) at ../../v8/src/api.cc:6635\n#27 v8::NewContext (external_isolate\u003d0xd061964c020, extensions\u003d0xd06196e4200, global_template\u003d..., global_object\u003d..., context_snapshot_index\u003d0, embedder_fields_deserializer\u003d...) at ../../v8/src/api.cc:6671\n#28 0x00007fffe906ef40 in v8::Context::New (external_isolate\u003d0x5f, extensions\u003d0x7fffffff9910, global_template\u003d..., global_object\u003d..., internal_fields_deserializer\u003d...) at ../../v8/src/api.cc:6686\n#29 0x0000000000edfdf0 in extensions::ModuleSystemTestEnvironment::ModuleSystemTestEnvironment (this\u003d0xd061979a660, isolate\u003d0xd061964c020, context_set\u003d0xd0619691828, extension\u003d...)\n    at ../../extensions/renderer/module_system_test.cc:139\n#30 0x0000000000ee3135 in make_unique\u003cextensions::ModuleSystemTestEnvironment, v8::Isolate*\u0026, extensions::ScriptContextSet*, scoped_refptr\u003cextensions::Extension const\u003e\u0026\u003e (__args\u003d..., __args\u003d..., __args\u003d...)\n    at ../../buildtools/third_party/libc++/trunk/include/memory:3026\n#31 extensions::ModuleSystemTest::CreateEnvironment (this\u003d0xd0619691620) at ../../extensions/renderer/module_system_test.cc:298\n#32 0x0000000000ee2d39 in extensions::ModuleSystemTest::SetUp (this\u003d0xd0619691620) at ../../extensions/renderer/module_system_test.cc:259\n#33 0x0000000000deea42 in extensions::ApiTestBase::SetUp (this\u003d0xd0619691620) at ../../extensions/renderer/api_test_base.cc:256\n#34 0x0000000000ef4cff in extensions::KeepAliveClientTest::SetUp (this\u003d0xd0619691620) at ../../extensions/renderer/mojo/keep_alive_client_unittest.cc:72\n#35 0x0000000000f9017e in testing::internal::HandleSehExceptionsInMethodIfSupported\u003ctesting::Test, void\u003e (object\u003d0xd0619691620, method\u003d\u0026virtual testing::Test::SetUp(), location\u003d0x27edd7 \"SetUp()\")\n    at ../../third_party/googletest/src/googletest/src/gtest.cc:2400\n#36 0x0000000000f84692 in testing::internal::HandleExceptionsInMethodIfSupported\u003ctesting::Test, void\u003e (object\u003d0xd0619691620, method\u003d\u0026virtual testing::Test::SetUp(), location\u003d0x27edd7 \"SetUp()\")\n    at ../../third_party/googletest/src/googletest/src/gtest.cc:2453\n#37 0x0000000000f6eb24 in testing::Test::Run (this\u003d0xd0619691620) at ../../third_party/googletest/src/googletest/src/gtest.cc:2468\n#38 0x0000000000f6f6cd in testing::TestInfo::Run (this\u003d0xd06195ad2a0) at ../../third_party/googletest/src/googletest/src/gtest.cc:2654\n#39 0x0000000000f7012c in testing::TestCase::Run (this\u003d0xd06195ad3e0) at ../../third_party/googletest/src/googletest/src/gtest.cc:2772\n#40 0x0000000000f7be4c in testing::internal::UnitTestImpl::RunAllTests (this\u003d0xd0619454b60) at ../../third_party/googletest/src/googletest/src/gtest.cc:4677\n#41 0x0000000000f9028e in testing::internal::HandleSehExceptionsInMethodIfSupported\u003ctesting::internal::UnitTestImpl, bool\u003e (object\u003d0xd0619454b60, \n    method\u003d(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0xf7bac0 \u003ctesting::internal::UnitTestImpl::RunAllTests()\u003e, \n    location\u003d0x236bf4 \"auxiliary test code (environments or event listeners)\") at ../../third_party/googletest/src/googletest/src/gtest.cc:2400\n#42 0x0000000000f85cd2 in testing::internal::HandleExceptionsInMethodIfSupported\u003ctesting::internal::UnitTestImpl, bool\u003e (object\u003d0xd0619454b60, \n    method\u003d(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0xf7bac0 \u003ctesting::internal::UnitTestImpl::RunAllTests()\u003e, \n    location\u003d0x236bf4 \"auxiliary test code (environments or event listeners)\") at ../../third_party/googletest/src/googletest/src/gtest.cc:2453\n#43 0x0000000000f7ba8e in testing::UnitTest::Run (this\u003d0x348e5d0 \u003ctesting::UnitTest::GetInstance()::instance\u003e) at ../../third_party/googletest/src/googletest/src/gtest.cc:4285",
      "revId": "622ccee03182691d54f2d91898b5144c9517add2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}