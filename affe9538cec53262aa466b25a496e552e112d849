{
  "comments": [
    {
      "key": {
        "uuid": "19419399_3fa7e1aa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 12,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "If this is an internal document you probably shouldn\u0027t put a link to it here (doesn\u0027t seem necessary anyway).",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "744a2efe_a687f229",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 12,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19419399_3fa7e1aa",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "667319a9_4c331f47",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "Maybe mention this includes geolocation",
      "range": {
        "startLine": 15,
        "startChar": 16,
        "endLine": 15,
        "endChar": 27
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82a171c5_6f54152f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "667319a9_4c331f47",
      "range": {
        "startLine": 15,
        "startChar": 16,
        "endLine": 15,
        "endChar": 27
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6456c326_27300326",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 101,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "geolocation_setting and notifications_setting are the previous settings, right? Maybe the name should reflect that?",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b76ada7a_9968b132",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 101,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6456c326_27300326",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec6bc733_e4a19ecb",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "I think we only need to check the origin here.",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e444f39d_7d2920c7",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "But we still want to propagate the setting to the new DSE CCTLD even if the DSE name stays the same, right?",
      "parentUuid": "ec6bc733_e4a19ecb",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ee8b747_336047e3",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-10T01:57:08Z",
      "side": 1,
      "message": "What I meant is this can be replaced with:\nif (old_dse_origin \u003d\u003d new_dse_origin)\n  do nothing\n\nI don\u0027t think we need to worry about cases where the name changes but the origin doesn\u0027t.",
      "parentUuid": "e444f39d_7d2920c7",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ab86f09_a4f7c43f",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-10T04:15:35Z",
      "side": 1,
      "message": "Ohh, I see. Sorry I misread your comment. That makes sense. Done.",
      "parentUuid": "3ee8b747_336047e3",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa0f79f7_08175d8b",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 220,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "This is the case that shouldn\u0027t be possible, I think. We probably need to do something here but should add a comment (and maybe dcheck) that this shouldn\u0027t be a valid state.",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82551fce_e2ff7ca2",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 220,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "I\u0027ve changed it purely to a DCHECK. Do you think we should be safer than that?",
      "parentUuid": "fa0f79f7_08175d8b",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b910bfa_0ef11c52",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 220,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-10T01:57:08Z",
      "side": 1,
      "message": "This is good. It might be good to also handle the case of ASK in release builds (i.e. have both the DCHECK and the code to set ASK to BLOCK), but I\u0027ll leave that up to you.",
      "parentUuid": "82551fce_e2ff7ca2",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "481cd0cf_d13ac088",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 220,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-10T04:15:35Z",
      "side": 1,
      "message": "Done - I\u0027ve left it reverting to BLOCK in that case. Although the style guide recommends not to handle cases which are invalid states in the code (failing DCHECKs) I think we can make an exception due to the risks associated with invalid states.",
      "parentUuid": "2b910bfa_0ef11c52",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f067423_74f310d4",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 222,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "I think this causes this CL and the DD to not match.",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed714189_c265f203",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 222,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "This was the part where I had the TBD in the design doc. For now I\u0027ve changed it to purely be a DCHECK but let me know if you think we should do something else.",
      "parentUuid": "5f067423_74f310d4",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53c35c84_9a29d242",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 222,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-10T01:57:08Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "ed714189_c265f203",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77fe7ef6_36d56630",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "I don\u0027t think this matches the logic in the design doc, specifically in the case of the old DSE setting being ASK.",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4103661_d5b13c7c",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "Hmm, if old_dse_setting_to_restore is ASK it should set the old DSE setting back to ASK in all cases. That seems to match the design doc in my reading so I might be missing what you\u0027re saying.",
      "parentUuid": "77fe7ef6_36d56630",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e45b404_6fda33ec",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.cc",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-10T01:57:08Z",
      "side": 1,
      "message": "Sorry, I meant to delete this comment but it slipped through. When I wrote it I was confused :)",
      "parentUuid": "a4103661_d5b13c7c",
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "691237b1_4226bcc1",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.h",
        "patchSetId": 7
      },
      "lineNbr": 104,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "This shouldn\u0027t be possible, right?",
      "range": {
        "startLine": 104,
        "startChar": 25,
        "endLine": 104,
        "endChar": 27
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "554c06d3_84c1ad90",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.h",
        "patchSetId": 7
      },
      "lineNbr": 104,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "691237b1_4226bcc1",
      "range": {
        "startLine": 104,
        "startChar": 25,
        "endLine": 104,
        "endChar": 27
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f7215ca_73750d64",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.h",
        "patchSetId": 7
      },
      "lineNbr": 108,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "We only do this in some cases, right? Or has that changed?",
      "range": {
        "startLine": 108,
        "startChar": 19,
        "endLine": 108,
        "endChar": 24
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d926851_e72c1f6f",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service.h",
        "patchSetId": 7
      },
      "lineNbr": 108,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f7215ca_73750d64",
      "range": {
        "startLine": 108,
        "startChar": 19,
        "endLine": 108,
        "endChar": 24
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "631dd4ab_b9f7671a",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 243,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-11-09T06:16:32Z",
      "side": 1,
      "message": "This is a weird case. I don\u0027t think I agree with the logic - but it also should never happen, so it doesn\u0027t really matter.",
      "range": {
        "startLine": 243,
        "startChar": 12,
        "endLine": 243,
        "endChar": 29
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1aab766f_3c0d4a57",
        "filename": "chrome/browser/android/search_permissions/search_permissions_service_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 243,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-11-09T23:51:41Z",
      "side": 1,
      "message": "That\u0027s true. I\u0027ve removed this part of the test (the conflict testing bit) because you\u0027re right that it shouldn\u0027t happen. I can add a DCHECK if you like.",
      "parentUuid": "631dd4ab_b9f7671a",
      "range": {
        "startLine": 243,
        "startChar": 12,
        "endLine": 243,
        "endChar": 29
      },
      "revId": "affe9538cec53262aa466b25a496e552e112d849",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}