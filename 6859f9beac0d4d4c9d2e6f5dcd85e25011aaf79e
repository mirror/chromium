{
  "comments": [
    {
      "key": {
        "uuid": "245fe4be_788eb00d",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "The upgrade start task already queries for this file path. Why not just pass it into this task instead of querying for it again?",
      "range": {
        "startLine": 37,
        "startChar": 14,
        "endLine": 37,
        "endChar": 23
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfb701b2_4286f29c",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "probably nit: this could also be a DB error. Similar note to: https://chromium-review.googlesource.com/c/chromium/src/+/837154/5/components/offline_pages/core/model/start_offline_page_upgrade_task.cc#39",
      "range": {
        "startLine": 41,
        "startChar": 34,
        "endLine": 41,
        "endChar": 46
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a563bdd8_58479077",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "nit: Add a note here on why this is a \"special\" upgrading error as it means the temporary file is now renamed but the item was not updated.",
      "range": {
        "startLine": 76,
        "startChar": 34,
        "endLine": 76,
        "endChar": 59
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a1ae595_bb224934",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "This should be conditional to the update_statement and commit both succeeding as this deletion would make the non-updated item invalid and cause this page to go missing.",
      "range": {
        "startLine": 80,
        "startChar": 8,
        "endLine": 80,
        "endChar": 18
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "364e6256_b75b7cc5",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "Shouldn\u0027t the final filename be defined/obtained inside this very task?",
      "range": {
        "startLine": 27,
        "startChar": 55,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d31dbbf3_de07f33c",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "nit: could also be a constant based on sizeof(kContentsOfTempFile)",
      "range": {
        "startLine": 34,
        "startChar": 8,
        "endLine": 34,
        "endChar": 19
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2381b456_e46fda61",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "nit: last_status() and last_status_",
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53b3c506_5c7c1ae7",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "|page| and then |offline_page| are confusing names. I suggest renaming to |original_page| and |upgraded_page| or something similar.",
      "range": {
        "startLine": 103,
        "startChar": 18,
        "endLine": 103,
        "endChar": 22
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8edcdd92_27735dcb",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "Also check that this path exists.",
      "range": {
        "startLine": 124,
        "startChar": 30,
        "endLine": 124,
        "endChar": 53
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68f66e91_1828c006",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "Also check that the original offline page is unchanged and that its file is still there.",
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04327806_2fdb9978",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 177,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "nit: no need to prefix all test names with CompleteUpgrade (otherwise this one here has a typo).",
      "range": {
        "startLine": 177,
        "startChar": 43,
        "endLine": 177,
        "endChar": 58
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8524fc3_d6bfb8c9",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "This part along with...",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 180,
        "endChar": 55
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8963677_3ee0e890",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 190,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "... This part, are repeated for every test and could be moved into SetUp().\nMind that instead of creating getters for all new fields that would be set there, you could also define them as protected to make them directly accessible from the tests.",
      "range": {
        "startLine": 186,
        "startChar": 0,
        "endLine": 190,
        "endChar": 54
      },
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb6fa023_b64eb677",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "nit: instead of repeating this comment on every test you could rename the constant to kDummyDigest and add the TODO to its own comment.",
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f6f1c06_ef8207fb",
        "filename": "components/offline_pages/core/model/complete_offline_page_upgrade_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 201,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-12-21T02:02:11Z",
      "side": 1,
      "message": "Check that the original offline page is unchanged and that both the original and temporary files still exist.",
      "revId": "6859f9beac0d4d4c9d2e6f5dcd85e25011aaf79e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}