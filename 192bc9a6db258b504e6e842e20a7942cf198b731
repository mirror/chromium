{
  "comments": [
    {
      "key": {
        "uuid": "460afcce_d84befae",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-20T15:17:47Z",
      "side": 1,
      "message": "The code in this file is mostly based on executescript/run_at with some ideas from other tests at the same level (e.g. executescript/basic)",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f5522f0_16cc4187",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "nit: no (c) in new files",
      "range": {
        "startLine": 1,
        "startChar": 12,
        "endLine": 1,
        "endChar": 17
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "362727c5_c2450e36",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5f5522f0_16cc4187",
      "range": {
        "startLine": 1,
        "startChar": 12,
        "endLine": 1,
        "endChar": 17
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2da61d8_50fb59e4",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "this is a bit verbose (though I know we do it elsewhere, too).  Let\u0027s just do:\nvar testUrl \u003d \u0027http://b.com:\u0027 + config.testServer.port +\n              \u0027/extensions/api_test/executescript/css_origin/test.html\u0027;",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3dcd71b_53888584",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b2da61d8_50fb59e4",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ca075af_42eda781",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "arguments.callee is discouraged.  Let\u0027s just name the listener function:\nchrome.tabs.onUpdated.addListener(function listener(tabId, changeInfo, tab) {\n  ...\n  chrome.tabs.onUpdated.removeListener(listener);\n  ...",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e38bfbf4_e2e02ff5",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ca075af_42eda781",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc6b909_37e2ae6a",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "wrap at 80 chars (this whole file)",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8e8abd5_7cd7b8af",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4bc6b909_37e2ae6a",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56951145_6bbadc34",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "nit: let\u0027s make this a callbackPass() too",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b609caa4_940a77a1",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56951145_6bbadc34",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4388065c_4d0da45d",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "I think just checking that it threw is sufficient; comparing exact messages often just means we need to update them when the error changes.",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00d56138_24f88d4a",
        "filename": "chrome/test/data/extensions/api_test/executescript/css_origin/test.js",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4388065c_4d0da45d",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0eafff85_4d3558af",
        "filename": "extensions/browser/api/execute_code_function.cc",
        "patchSetId": 2
      },
      "lineNbr": 150,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "It might be worth throwing an error if the extension specified the css origin for a JS injection.",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e08cc32e_79ae57f3",
        "filename": "extensions/browser/api/execute_code_function.cc",
        "patchSetId": 2
      },
      "lineNbr": 150,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0eafff85_4d3558af",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "632b0ff2_8b6bb17f",
        "filename": "extensions/browser/script_executor.h",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "let\u0027s make this a base::Optional\u003c\u003e so that we only specify default behavior in one place.",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3eb432e_92b97fcf",
        "filename": "extensions/browser/script_executor.h",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done\n\nI\u0027ve made it base::Optional\u003c\u003e but I\u0027m not sure this is exactly what you meant.",
      "parentUuid": "632b0ff2_8b6bb17f",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c49ec085_3c6b5da1",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "nit: remove (since it\u0027s specified below)",
      "range": {
        "startLine": 45,
        "startChar": 131,
        "endLine": 45,
        "endChar": 173
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e8ef921_b4c81395",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "nit: maybe mention that this is only valid for css injections.",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1eee881_83bcf5b5",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done\n\nBut I\u0027ve changed the description instead. The one here is the type, the one below is the parameter. The type has a generic description. I do this based on \"ImageFormat\" above. Let me know if this is OK.",
      "parentUuid": "c49ec085_3c6b5da1",
      "range": {
        "startLine": 45,
        "startChar": 131,
        "endLine": 45,
        "endChar": 173
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dce9b8e5_30ec4f71",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9e8ef921_b4c81395",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33df1b96_0769ecc7",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-28T00:08:46Z",
      "side": 1,
      "message": "Works for me! :)",
      "parentUuid": "a1eee881_83bcf5b5",
      "range": {
        "startLine": 45,
        "startChar": 131,
        "endLine": 45,
        "endChar": 173
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9118b8e7_68f0b67b",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "nit: s/By default it\u0027s/Defaults to",
      "range": {
        "startLine": 74,
        "startChar": 136,
        "endLine": 74,
        "endChar": 177
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e048cd16_9de6439b",
        "filename": "extensions/common/api/extension_types.json",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9118b8e7_68f0b67b",
      "range": {
        "startLine": 74,
        "startChar": 136,
        "endLine": 74,
        "endChar": 177
      },
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae058366_7356aaa6",
        "filename": "extensions/common/extension_messages.h",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "We should use the enum (rather than an int) here.",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db9988b2_f27adf0f",
        "filename": "extensions/common/extension_messages.h",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "I tried to make it the enum but then I started getting compilation errors like below:\n\n  ../../ipc/ipc_param_traits.h:22:3: error: static_assert failed due to requirement \u0027internal::AlwaysFalse\u003cCSSOrigin\u003e::value\u0027 \"Cannot find the IPC::ParamTraits specialization. Did you forget to include the corresponding header file?\"\n    static_assert(internal::AlwaysFalse\u003cP\u003e::value,\n    ^             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  ../../ipc/ipc_message_utils.h:102:3: note: in instantiation of template class \u0027IPC::ParamTraits\u003cextensions::UserScript::CSSOrigin\u003e\u0027 requested here\n    ParamTraits\u003cType\u003e::Write(m, static_cast\u003cconst Type\u0026 \u003e(p));\n    ^\n  ../../extensions/common/extension_messages.h:184:3: note: in instantiation of function template specialization \u0027IPC::WriteParam\u003cextensions::UserScript::CSSOrigin\u003e\u0027 requested here\n    IPC_STRUCT_MEMBER(extensions::UserScript::CSSOrigin, css_origin)\n    ^\n  ../../ipc/param_traits_write_macros.h:17:44: note: expanded from macro \u0027IPC_STRUCT_MEMBER\u0027\n  #define IPC_STRUCT_MEMBER(type, name, ...) IPC_STRUCT_TRAITS_MEMBER(name)\n                                             ^\n  ../../ipc/param_traits_write_macros.h:27:40: note: expanded from macro \u0027IPC_STRUCT_TRAITS_MEMBER\u0027\n  #define IPC_STRUCT_TRAITS_MEMBER(name) WriteParam(m, p.name);\n\n  ...\n\nI see that run_at above (type UserScript::RunLocation) also converts to int and back.",
      "parentUuid": "ae058366_7356aaa6",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41307aba_805434ec",
        "filename": "extensions/common/extension_messages.h",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-28T00:08:46Z",
      "side": 1,
      "message": "\u003e I tried to make it the enum but then I started getting compilation errors like below:\n\u003e \n\u003e   ../../ipc/ipc_param_traits.h:22:3: error: static_assert failed due to requirement \u0027internal::AlwaysFalse\u003cCSSOrigin\u003e::value\u0027 \"Cannot find the IPC::ParamTraits specialization. Did you forget to include the corresponding header file?\"\n\u003e     static_assert(internal::AlwaysFalse\u003cP\u003e::value,\n\u003e     ^             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u003e   ../../ipc/ipc_message_utils.h:102:3: note: in instantiation of template class \u0027IPC::ParamTraits\u003cextensions::UserScript::CSSOrigin\u003e\u0027 requested here\n\u003e     ParamTraits\u003cType\u003e::Write(m, static_cast\u003cconst Type\u0026 \u003e(p));\n\u003e     ^\n\u003e   ../../extensions/common/extension_messages.h:184:3: note: in instantiation of function template specialization \u0027IPC::WriteParam\u003cextensions::UserScript::CSSOrigin\u003e\u0027 requested here\n\u003e     IPC_STRUCT_MEMBER(extensions::UserScript::CSSOrigin, css_origin)\n\u003e     ^\n\u003e   ../../ipc/param_traits_write_macros.h:17:44: note: expanded from macro \u0027IPC_STRUCT_MEMBER\u0027\n\u003e   #define IPC_STRUCT_MEMBER(type, name, ...) IPC_STRUCT_TRAITS_MEMBER(name)\n\u003e                                              ^\n\u003e   ../../ipc/param_traits_write_macros.h:27:40: note: expanded from macro \u0027IPC_STRUCT_TRAITS_MEMBER\u0027\n\u003e   #define IPC_STRUCT_TRAITS_MEMBER(name) WriteParam(m, p.name);\n\u003e \n\u003e   ...\n\nThese errors just mean that you have to define the traits for the enum; we do this at the top of the messages file.  For an example, see the RunLocation traits here:\nhttps://chromium.googlesource.com/chromium/src/+/28d1e1c569221d38f3f8ab9859558642000665c2/extensions/common/extension_messages.h#48\n\n\u003e I see that run_at above (type UserScript::RunLocation) also converts to int and back.\n\nThanks for pointing this out!  We shouldn\u0027t do that.  I\u0027ve written up a quick CL to change that.\nhttps://chromium-review.googlesource.com/c/chromium/src/+/792294",
      "parentUuid": "db9988b2_f27adf0f",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25c6a08f_8fac44dd",
        "filename": "extensions/common/user_script.h",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-21T22:30:30Z",
      "side": 1,
      "message": "Since we don\u0027t support specifying CSSOrigin in the manifest, I\u0027d prefer this live somewhere else.  There\u0027s no real good spot, so let\u0027s put it in extensions/common/constants for now.",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2808dfcb_da80b680",
        "filename": "extensions/common/user_script.h",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1241183
      },
      "writtenOn": "2017-11-23T09:35:35Z",
      "side": 1,
      "message": "Done\n\nIt\u0027s now in extensions/common/constants.h\n\nAlso since it\u0027s in an outer namespace now I\u0027ve made the constants more descriptive (CSS_ORIGIN_AUTHOR and CSS_ORIGIN_USER respectively).",
      "parentUuid": "25c6a08f_8fac44dd",
      "revId": "192bc9a6db258b504e6e842e20a7942cf198b731",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}