{
  "comments": [
    {
      "key": {
        "uuid": "58109670_8ba72fbe",
        "filename": "base/android/java/src/org/chromium/base/library_loader/Linker.java",
        "patchSetId": 3
      },
      "lineNbr": 185,
      "author": {
        "id": 1109505
      },
      "writtenOn": "2017-12-11T20:57:31Z",
      "side": 1,
      "message": "don\u0027t want to land this presumably",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7d40828_7901d3e9",
        "filename": "base/android/java/templates/NativeLibraries.template",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-12-14T14:41:43Z",
      "side": 1,
      "message": "I suspect apk_merge.py will not like this. I\u0027m think it\u0027s the case that we still expect classes.dex to be the same for arm64 and arm32 when merging.\n\nCan this be queried somehow? There appear to be some Build fields with related info, but not sure if it tells you when your own APK was built for...",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3aa0723_e1b79a7f",
        "filename": "base/android/java/templates/NativeLibraries.template",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1000429
      },
      "writtenOn": "2017-12-14T14:47:36Z",
      "side": 1,
      "message": "oh that\u0027s really unfortunate because this defines the library name to use (obviously, before the native library is loaded). The CrazyLinker/ModernLinker have this name queried from the native code, the small part they load before they load the main libchrome*.\n\nThis code is not triggered for monochrome, can we ignore this difference in apk_merger.py somehow?",
      "parentUuid": "a7d40828_7901d3e9",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a38b444_7b6359ac",
        "filename": "base/android/java/templates/NativeLibraries.template",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-12-14T14:54:34Z",
      "side": 1,
      "message": "If that\u0027s the case, could probably assign it to null if the GN variable \"requires_sdk_api_level_23\" is set. That\u0027s basically an \"is_monochrome\" flag to android_apk.",
      "parentUuid": "d3aa0723_e1b79a7f",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71fa7f84_ef0590b0",
        "filename": "base/android/java/templates/NativeLibraries.template",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-12-14T15:19:48Z",
      "side": 1,
      "message": "Actually, I think this affects webview as well, which doesn\u0027t use that gn variable.\n\nProbably better to somehow query android for the value, or hardcode them all and select the active one (as before, but in java).",
      "parentUuid": "4a38b444_7b6359ac",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a9f6d50_bddb06a7",
        "filename": "base/android/java/templates/NativeLibraries.template",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1109505
      },
      "writtenOn": "2017-12-14T15:22:48Z",
      "side": 1,
      "message": "Oops, sorry, didn\u0027t spot this :)\n\nHardcoding them all and picking the right one would work except I don\u0027t think there\u0027s a good way to tell what ABI you are running with from Java that\u0027s a public API..",
      "parentUuid": "71fa7f84_ef0590b0",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c67bccb_3ca0d60f",
        "filename": "base/android/java/templates/NativeLibraries.template",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-12-14T17:00:14Z",
      "side": 1,
      "message": "Not a good way, but one way is to look for \"nativeLibraryDirectories\u003d\" within Thread.currentThread().getContextClassLoader().toString() :P.\n\nArguably more promising:\nContextUtils.getApplicationContext().getApplicationInfo().nativeLibraryDir\n\nTested on a N5x running 32-bit chrome, and it returned:\n/data/app/com.google.android.apps.chrome-KP505ypnxxaaYE55Ar9yMg\u003d\u003d/lib/arm\n\nIf all libs are within the APK though, not sure if it returns the correct thing?",
      "parentUuid": "0a9f6d50_bddb06a7",
      "revId": "afbc36243ba743e36a63d6649242ff34744ead1c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}