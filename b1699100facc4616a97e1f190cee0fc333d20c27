{
  "comments": [
    {
      "key": {
        "uuid": "94fe89cd_ce74e904",
        "filename": "components/ukm/ukm_source.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1136769
      },
      "writtenOn": "2017-08-30T21:39:58Z",
      "side": 0,
      "message": "i\u0027ll need to look more to see if removing this dcheck is ok - i think i remember adding it for a reason. but will need to page that back in before i can be sure.",
      "revId": "b1699100facc4616a97e1f190cee0fc333d20c27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a323f9e_0c43b328",
        "filename": "components/ukm/ukm_source.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1115906
      },
      "writtenOn": "2017-08-30T22:18:38Z",
      "side": 0,
      "message": "As indicated previously, we need to call UpdateSourceUrl on an empty URL to create a source_ entry.",
      "parentUuid": "94fe89cd_ce74e904",
      "revId": "b1699100facc4616a97e1f190cee0fc333d20c27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15f89468_f05f0779",
        "filename": "components/ukm/ukm_source.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1136769
      },
      "writtenOn": "2017-08-31T01:24:31Z",
      "side": 0,
      "message": "Ah, I see, so to cause this DCHECK to fire, IIUC, what\u0027s happening is:\n\n* we create an initial source id\n* we explicitly set its URL to empty to create a source id (this doesn\u0027t cause UpdateUrl to get invoked; only set_url gets invoked in this step)\n* we later update the source\u0027s URL to a non-empty value\n\nIt\u0027s only in the last step that UpdateUrl is invoked.\n\nIn which code path are we doing the 3 steps above? I don\u0027t see any modified code paths in this change performing these 3 steps. I see steps 1 and 2, but not 1, 2, and 3 on the same source_id.",
      "parentUuid": "4a323f9e_0c43b328",
      "revId": "b1699100facc4616a97e1f190cee0fc333d20c27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a062ecdf_c87ded32",
        "filename": "components/ukm/ukm_source.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1124674
      },
      "writtenOn": "2017-08-31T17:24:39Z",
      "side": 0,
      "message": "You don\u0027t need a UkmSource or a Source proto to record Entries for a source_id.  The Source proto is a just a message saying that source_id has some URL data associated with it, so recording an empty URL is a bit strange.  SourceIds are created/assigned by AssignNewSourceId and ConvertToSourceId.",
      "parentUuid": "15f89468_f05f0779",
      "revId": "b1699100facc4616a97e1f190cee0fc333d20c27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}