{
  "comments": [
    {
      "key": {
        "uuid": "f1e5996f_f987484e",
        "filename": "components/spellcheck/browser/spell_check_host_impl.cc",
        "patchSetId": 47
      },
      "lineNbr": 19,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "If you make |session_bridge_| into a plain old member variable, then this constructor does not need any #ifdefs.\n\nSpellCheckHostImpl::SpellCheckHostImpl() {}",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 1
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bbfdb83_09a9d15d",
        "filename": "components/spellcheck/browser/spell_check_host_impl.cc",
        "patchSetId": 47
      },
      "lineNbr": 19,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1e5996f_f987484e",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 1
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e7d6f20_49a81711",
        "filename": "components/spellcheck/browser/spell_check_host_impl.h",
        "patchSetId": 47
      },
      "lineNbr": 49,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "|session_bridge_| is initialized in the constructor and never reset afterwards. Therefore, this can be a plain old member variable without the need for unique_ptr.\n\nSpellCheckerSessionBridge session_bridge_;",
      "range": {
        "startLine": 49,
        "startChar": 3,
        "endLine": 49,
        "endChar": 61
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d591496a_2c2779ec",
        "filename": "components/spellcheck/browser/spell_check_host_impl.h",
        "patchSetId": 47
      },
      "lineNbr": 49,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0e7d6f20_49a81711",
      "range": {
        "startLine": 49,
        "startChar": 3,
        "endLine": 49,
        "endChar": 61
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5037baa7_707db0e8",
        "filename": "components/spellcheck/browser/spellchecker_session_bridge_android.h",
        "patchSetId": 47
      },
      "lineNbr": 56,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "This needs to be private in order to prohibit copying and assigning. It\u0027s strange to see a private section in a struct, so let\u0027s make it into a class. Member variables in classes have trailing underscores (\"_\") in name, by the way.\n\n  class SpellingRequest {\n   public:\n    SpellingRequest(const base::string16\u0026 text,\n                    RequestTextCheckCallback\u0026\u0026 callback);\n    ~SpellingRequest();\n\n    base::string16 text_;\n    RequestTextCheckCallback callback_;\n\n   private:\n    DISALLOW_COPY_AND_ASSIGN(SpellingRequest);\n  }",
      "range": {
        "startLine": 56,
        "startChar": 4,
        "endLine": 56,
        "endChar": 46
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d8f2f27_9d3a2543",
        "filename": "components/spellcheck/browser/spellchecker_session_bridge_android.h",
        "patchSetId": 47
      },
      "lineNbr": 56,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5037baa7_707db0e8",
      "range": {
        "startLine": 56,
        "startChar": 4,
        "endLine": 56,
        "endChar": 46
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e6fbb66_1de235e9",
        "filename": "components/spellcheck/common/spellcheck.mojom",
        "patchSetId": 47
      },
      "lineNbr": 64,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "Did you mean to put your username here, or is this a TODO that\u0027s moved from somewhere else?",
      "range": {
        "startLine": 64,
        "startChar": 10,
        "endLine": 64,
        "endChar": 15
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44415184_e6d7ce1b",
        "filename": "components/spellcheck/common/spellcheck.mojom",
        "patchSetId": 47
      },
      "lineNbr": 64,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "It\u0027s moved from spellcheck_messages.h:\n\nhttps://chromium.googlesource.com/chromium/src/+/2878b8438ba613edbffa86ad0950d941a84a5de8/components/spellcheck/common/spellcheck_messages.h#43",
      "parentUuid": "1e6fbb66_1de235e9",
      "range": {
        "startLine": 64,
        "startChar": 10,
        "endLine": 64,
        "endChar": 15
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a434b677_cd347092",
        "filename": "components/spellcheck/common/spellcheck.mojom",
        "patchSetId": 47
      },
      "lineNbr": 65,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "Please explain why we\u0027re using synchronous IPC here.",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 9
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a682d1a_439952e1",
        "filename": "components/spellcheck/common/spellcheck.mojom",
        "patchSetId": 47
      },
      "lineNbr": 65,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "It\u0027s converted from a sync IPC message SpellCheckHostMsg_CheckSpelling, sent in platform_spelling_engine.cc.\n\nChanging it to async is out of the scope of this patch.",
      "parentUuid": "a434b677_cd347092",
      "range": {
        "startLine": 65,
        "startChar": 2,
        "endLine": 65,
        "endChar": 9
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54d2fb84_cd6525db",
        "filename": "components/spellcheck/common/spellcheck.mojom",
        "patchSetId": 47
      },
      "lineNbr": 70,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "Same here.",
      "range": {
        "startLine": 70,
        "startChar": 2,
        "endLine": 70,
        "endChar": 8
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f673540_6aa198f4",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.cc",
        "patchSetId": 47
      },
      "lineNbr": 28,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "DCHECK should be used for conditions that are never true, not even in unit tests.",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 28,
        "endChar": 29
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6045e84d_973da2e1",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.cc",
        "patchSetId": 47
      },
      "lineNbr": 28,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "As |embedder_provider_| is always non-null in production code, DCHECK allows us to assume non-null SpellCheckHost and simplify the callers of GetSpellCheckHost().\n\nI changed to comment to the following:\n\n// |embedder_provider_| is always non-null in production code, but may be null\n// in unit tests when not provided. This DCHECK catches anyone who wants to test\n// GetOrBindSpellCheckHost() without providing |embedder_provider_|.\n\nDoes this look acceptable?",
      "parentUuid": "1f673540_6aa198f4",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 28,
        "endChar": 29
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b09913e_57dd0d50",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.cc",
        "patchSetId": 47
      },
      "lineNbr": 28,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T20:54:24Z",
      "side": 1,
      "message": "I recommend removing both the DHCECK and the comment. See also:\n\nhttps://chromium.googlesource.com/chromium/src/+/master/styleguide/c++/c++.md#check_dcheck_and-notreached\n\n\u003e Use DCHECK() or NOTREACHED() as assertions, e.g. to document pre- and post-conditions. A DCHECK() means “this condition must always be true”, not “this condition is normally true, but perhaps not in exceptional cases.”",
      "parentUuid": "6045e84d_973da2e1",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 28,
        "endChar": 29
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "040dfc96_6c9d32cc",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.cc",
        "patchSetId": 47
      },
      "lineNbr": 28,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-02-01T05:10:20Z",
      "side": 1,
      "message": "OK. Changed to follow the pattern in SpellCheckProvider that callers do not proceed if there\u0027s no |embedder_provider_|.",
      "parentUuid": "4b09913e_57dd0d50",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 28,
        "endChar": 29
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65a977ea_74c5ec93",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 15,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "Please add a comment about ownership of |embedder_provider| and its expected lifetime. From what I can deduce, |embedder_provider| not owned by PlatformSpellingEngine and is expected to outlive PlatformSpellingEngine. Such comments are usually necessary when references to pointers are being saved beyond the scope of the function/method/constructor.",
      "range": {
        "startLine": 15,
        "startChar": 6,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "529e665c_5193f942",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 15,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "Done.\n\nIn current code, |embedder_provider_| is the ContentRendererClient, which does outlive PlatformSpellingEngine. Not sure what it\u0027s going to be in the future...",
      "parentUuid": "65a977ea_74c5ec93",
      "range": {
        "startLine": 15,
        "startChar": 6,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "192bae55_7e95c75d",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "Returning non-constant references is fairly uncommon. I would prefer to see a raw pointer returned here. However, this is mojo, which uses many tricks to accomplish some complicated logic. So I would understand if this pattern is used in Mojo and you need to use it here as well.",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "740c591d_f11f4ed7",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "Returning non-constant references is fairly uncommon. I would prefer to see a raw pointer returned here. However, this is mojo, which uses many tricks to accomplish some complicated logic. So I would understand if this pattern is used in Mojo and you need to use it here as well.",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3395cf35_32f44e70",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "GetOrCreateSpellCheckHost()",
      "range": {
        "startLine": 27,
        "startChar": 37,
        "endLine": 27,
        "endChar": 54
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4340618_8b65a95e",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "I\u0027m following the pattern of SpellCheckProvider::GetSpellCheckHost().\n\nNot sure about Chromium, but it\u0027s pretty common in Blink to return a non-const ref. Is there any style guide to follow?",
      "parentUuid": "740c591d_f11f4ed7",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78318b3f_31c30871",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "Good catch!\n\nChanged to GetOrBindSpellCheckHost, which seems to make more sense to me.",
      "parentUuid": "3395cf35_32f44e70",
      "range": {
        "startLine": 27,
        "startChar": 37,
        "endLine": 27,
        "endChar": 54
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ece8087_65d1799a",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T20:54:24Z",
      "side": 1,
      "message": "https://chromium.googlesource.com/chromium/src/+/master/styleguide/c++/c++.md#object-ownership-and-calling-conventions states the following:\n\n\u003e Conventions for return values are similar: return raw pointers when the caller does not take ownership, and return smart pointers by value otherwise, potentially in conjunction with std::move().\n\nChromium coding style is based on Google\u0027s, but is more restrictive. https://google.github.io/styleguide/cppguide.html#Reference_Arguments is worth a read.\n\nKeep in mind that Blink conventions are slightly different from the rest of Chromium\u0027s code, although they are slowly converging.\n\nSince you\u0027re following an existing convention, it\u0027s OK to leave this as-is, if you wish.",
      "parentUuid": "a4340618_8b65a95e",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc38fbde_f04ca62c",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T20:54:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "78318b3f_31c30871",
      "range": {
        "startLine": 27,
        "startChar": 37,
        "endLine": 27,
        "endChar": 54
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1210d0e_9f241c4a",
        "filename": "components/spellcheck/renderer/platform_spelling_engine.h",
        "patchSetId": 47
      },
      "lineNbr": 27,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-02-01T05:10:20Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "8ece8087_65d1799a",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c33732b_3a686b82",
        "filename": "components/spellcheck/renderer/spellcheck_provider.cc",
        "patchSetId": 47
      },
      "lineNbr": 99,
      "author": {
        "id": 1002114
      },
      "writtenOn": "2018-01-30T17:23:18Z",
      "side": 1,
      "message": "It would be preferable to use base::WeakPtr here, unless you know for sure that a SpellCheckProvider object always outlives all Mojo responses from SpellCheckHost.",
      "range": {
        "startLine": 99,
        "startChar": 27,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc301de5_a1ab4fcb",
        "filename": "components/spellcheck/renderer/spellcheck_provider.cc",
        "patchSetId": 47
      },
      "lineNbr": 99,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-01-30T20:07:37Z",
      "side": 1,
      "message": "You are right, this can happen if the RenderFrame is gone while we are waiting for reply.\n\nI\u0027ll fix this first. Thanks for catching!",
      "parentUuid": "7c33732b_3a686b82",
      "range": {
        "startLine": 99,
        "startChar": 27,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eca62bbb_8d3107d3",
        "filename": "components/spellcheck/renderer/spellcheck_provider.cc",
        "patchSetId": 47
      },
      "lineNbr": 99,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2018-02-01T05:10:20Z",
      "side": 1,
      "message": "Done in crrev.com/c/894475",
      "parentUuid": "fc301de5_a1ab4fcb",
      "range": {
        "startLine": 99,
        "startChar": 27,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "917ace08ecd23189e85b64a82c1847accb56412e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}