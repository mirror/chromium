{
  "comments": [
    {
      "key": {
        "uuid": "b6960611_dcde76f0",
        "filename": "ash/system/bluetooth/tray_bluetooth.cc",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1000369
      },
      "writtenOn": "2017-11-24T20:59:22Z",
      "side": 1,
      "message": "This should be 200ms at most. 1 second is pretty slow.",
      "range": {
        "startLine": 50,
        "startChar": 31,
        "endLine": 50,
        "endChar": 35
      },
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee58a219_06d235f5",
        "filename": "ash/system/bluetooth/tray_bluetooth.cc",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1000369
      },
      "writtenOn": "2017-11-24T20:59:22Z",
      "side": 1,
      "message": "Why not just use the constant directly?",
      "range": {
        "startLine": 195,
        "startChar": 8,
        "endLine": 195,
        "endChar": 25
      },
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dfcd1b3_0e089de3",
        "filename": "ash/system/bluetooth/tray_bluetooth.cc",
        "patchSetId": 4
      },
      "lineNbr": 210,
      "author": {
        "id": 1000369
      },
      "writtenOn": "2017-11-24T20:59:22Z",
      "side": 1,
      "message": "This doesn\u0027t seem to be quite correct. This will start a timer for |kUpdateFrequencyMs| from now, and do the update now? We should be doing one or the other, no?\n\nHow about this be something like,\n\n// An update is already queued, nothing to do, return out.\nif (timer_.IsRunning())\n  return;\n\nbase::TimeDelta ms_since_last_update \u003d base::Time::Now() - last_update_time_;\nif (ms_since_last_update \u003c kUpdateFrequencyMs) {\n  // It hasn\u0027t been enough time since our last update. Queue up an update that will trigger\n  // |kUpdateFrequencyMs| milliseconds from the last update.\n  timer_.Start(FROM_HERE,\n    base::TimeDelta::FromMilliseconds(kUpdateFrequencyMs - ms_since_last_update),\n    this, \u0026BluetoothDetailedView::DoUpdate);\n} else {\n  DoUpdate();\n}\n\n\nThen in DoUpdate, set the last_update_time_ to base::Time::Now();",
      "range": {
        "startLine": 210,
        "startChar": 4,
        "endLine": 210,
        "endChar": 12
      },
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11bd6442_43344ec6",
        "filename": "ash/system/bluetooth/tray_bluetooth_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "\u0027Transform\u0027 or better, something more descriptive, e.g. \u0027GetBluetoothDeviceInfo\u0027",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6916e479_86ffb9b0",
        "filename": "ash/system/bluetooth/tray_bluetooth_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "nit: slightly more clear (I think) + effiicient to remove second condition from for statement and add here:\n\nif (list.size() \u003e\u003d kMaximumDevicesShown)\n  break;",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e83f2a41_0bc0b299",
        "filename": "ash/system/bluetooth/tray_bluetooth_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 89,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "ditto",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1696697_72ca5f65",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 151,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "This can be a member variable instead of a property since we don\u0027t use it in the HTML.\n\nAlso, initialize to \u0027undefined\u0027 instead of -1 so that we don\u0027t have to worry about whether \u0027-1\u0027 is a valid id.",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fc95cf6_8a302a7e",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 289,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "We should make \u0027added\u0027 a separate listener and have that call requestListUpdate. This should do nothing if index \u003c 0.",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cac80468_71ccb3b7",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 482,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "invert and early exit",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c86824a7_7cc0759d",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 493,
      "author": {
        "id": 1000369
      },
      "writtenOn": "2017-11-24T20:59:22Z",
      "side": 1,
      "message": "This entire logic is very confusing to me. Could you add comments explaining what you\u0027re trying to do?\n\nPlease see my comment on the update limiting logic in the system tray. It looks like the same comment also applies here.",
      "range": {
        "startLine": 483,
        "startChar": 6,
        "endLine": 493,
        "endChar": 35
      },
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bda080f6_74642644",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 493,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-27T21:03:16Z",
      "side": 1,
      "message": "Here we are calling bluetooth.getDevices() within the setTimeout() call so this is correct, it will only call bluetooth,.getDevices() and populateDeviceList_ once per second. This looks correct to me with the comment above about using \u0027undefined\u0027 instead of -1.",
      "parentUuid": "c86824a7_7cc0759d",
      "range": {
        "startLine": 483,
        "startChar": 6,
        "endLine": 493,
        "endChar": 35
      },
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5db202fd_e5568151",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 511,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "It\u0027s unfortnate that we are forced to do this in the JS. Have we considered doing this in the bluetooth model instead so that the Web UI and system tray UI do not need to duplicate the sorting logic? Frankly we could also limit the size of the device list there as well.",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6a438e7_14a622e6",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 511,
      "author": {
        "id": 1000369
      },
      "writtenOn": "2017-11-24T20:59:22Z",
      "side": 1,
      "message": "I like the idea of there being an abstraction layer for devices, and controlling devices there, but we may be going for an overkill. Though it would reduce the limiting and sorting code from two places to one, I am not sure there will be any other benefit. Given that we will end up introducing quite a bit more complexity and new code to handle the layer, I am not convinced that it will be worth it.\n\nFor 64, I\u0027m \"more\" comfortable with having this limited and sorted in the UI, even though it does mean it needs to be done here and in the tray code.\n\nWDYT? We can discuss this offline more if needed.",
      "parentUuid": "5db202fd_e5568151",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c67fa5ab_a100edc2",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 511,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-27T21:03:16Z",
      "side": 1,
      "message": "As discussed in email I am fine with a short term approach with the feedback in this CL addressed.",
      "parentUuid": "a6a438e7_14a622e6",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be20cc0e_fbff11cc",
        "filename": "chrome/browser/resources/settings/bluetooth_page/bluetooth_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 526,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T21:03:11Z",
      "side": 1,
      "message": "Same comment as in the C++ about testing the list lenght here instead of in the for statement.",
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5c1387d_9d607f63",
        "filename": "chrome/test/data/webui/settings/bluetooth_page_tests.js",
        "patchSetId": 4
      },
      "lineNbr": 144,
      "author": {
        "id": 1000369
      },
      "writtenOn": "2017-11-24T20:59:22Z",
      "side": 1,
      "message": "This needs to be a constant.\n\nI don\u0027t know enough of this code to say for sure, but this test should be deterministic - i.e., if the bots take sixty times as long to execute this code, the test should still pass as long as we do the right thing (i.e., still update, and ensure no update happens under kUpdateFrequencyInterval). Please do ensure that this does not introduce flakiness.",
      "range": {
        "startLine": 144,
        "startChar": 28,
        "endLine": 144,
        "endChar": 32
      },
      "revId": "22ec6dcb8f7e7f2b38349a5a50b7d061663ea375",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}