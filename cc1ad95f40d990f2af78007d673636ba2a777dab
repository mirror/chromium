{
  "comments": [
    {
      "key": {
        "uuid": "13fe0743_2216b263",
        "filename": "components/download/content/internal/download_driver_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 133,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-23T06:16:48Z",
      "side": 1,
      "message": "It\u0027s a bit weird because querying the DownloadManager will still return the entry.  I think this is ok, but if we end up having issues we\u0027ll have to prune out any commands about the entry.  Here\u0027s the scenario I\u0027m worried about:\n\ndriver_-\u003eRemove(\"abcd\");\nOnDownloadSuceeded(\"abcd\") from the driver to the controller.\n\nDoes it just make sense to post all of our driver processing in either the controller or here?  e.g. every method we want to send to the controller gets posted?  That would mean we could remove the entry from the existing call.  Not sure if there are other side effects though!",
      "range": {
        "startLine": 129,
        "startChar": 0,
        "endLine": 133,
        "endChar": 67
      },
      "revId": "cc1ad95f40d990f2af78007d673636ba2a777dab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01b9d03c_76fd2812",
        "filename": "components/download/content/internal/download_driver_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 133,
      "author": {
        "id": 1197289
      },
      "writtenOn": "2017-06-23T17:27:04Z",
      "side": 1,
      "message": "Maybe we can cache the removing download guid in driver, and cleared the cache in OnDownloadRemoved.\n\nI think only remove will cause issue, other calls should be ok to be in the same call stack.\nAlso posting all the tasks won\u0027t fix the issue described above(OnDownloadSucceeded after Remove).\n\nwdyt?",
      "parentUuid": "13fe0743_2216b263",
      "range": {
        "startLine": 129,
        "startChar": 0,
        "endLine": 133,
        "endChar": 67
      },
      "revId": "cc1ad95f40d990f2af78007d673636ba2a777dab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9257d154_46826b0c",
        "filename": "components/download/content/internal/download_driver_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 133,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-23T22:50:49Z",
      "side": 1,
      "message": "Ah true if we post the calls from the driver we could still effectively queue up both, and the second call would play after the remove :(.  Ok I\u0027d be fine with tracking something like std::set\u003cstd::string\u003e pending_guid_removes_ for now.",
      "parentUuid": "01b9d03c_76fd2812",
      "range": {
        "startLine": 129,
        "startChar": 0,
        "endLine": 133,
        "endChar": 67
      },
      "revId": "cc1ad95f40d990f2af78007d673636ba2a777dab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}