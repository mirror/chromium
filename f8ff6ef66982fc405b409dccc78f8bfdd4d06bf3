{
  "comments": [
    {
      "key": {
        "uuid": "3b5d5d8f_f15aee30",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1382,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-04T11:05:18Z",
      "side": 1,
      "message": "nit: Root makes me think of window.top :P Maybe it\u0027s better to keep it \"container\" for now?",
      "range": {
        "startLine": 1382,
        "startChar": 10,
        "endLine": 1382,
        "endChar": 14
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "976b2446_250334e1",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1382,
      "author": {
        "id": 1243466
      },
      "writtenOn": "2018-01-04T12:04:42Z",
      "side": 1,
      "message": "We already use container variable name in while loop. I think changing this variable to container reduces readability. Do you have good name for variable in while loop?",
      "parentUuid": "3b5d5d8f_f15aee30",
      "range": {
        "startLine": 1382,
        "startChar": 10,
        "endLine": 1382,
        "endChar": 14
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "331971f9_be3de8e6",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1382,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-04T14:44:34Z",
      "side": 1,
      "message": "Ah, I see. Let\u0027s rename root_container to start_container then.",
      "parentUuid": "976b2446_250334e1",
      "range": {
        "startLine": 1382,
        "startChar": 10,
        "endLine": 1382,
        "endChar": 14
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7457e87_314a27a0",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1388,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-04T11:05:18Z",
      "side": 1,
      "message": "Can we avoid saving each container\u0027s \"search rect\" on the stack by moving your \"Make start rect more reasonable\"-change* to this CL?\n\n* https://chromium-review.googlesource.com/c/chromium/src/+/781326/10//COMMIT_MSG#20",
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d4e5d75_c4c16e5f",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1388,
      "author": {
        "id": 1243466
      },
      "writtenOn": "2018-01-04T12:04:42Z",
      "side": 1,
      "message": "We cannot decide search rect deterministically because https://chromium-review.googlesource.com/c/chromium/src/+/848438/2/third_party/WebKit/Source/core/page/FocusController.cpp#1453 is very heuristic. The line introduces that different search rect may used in same container.",
      "parentUuid": "a7457e87_314a27a0",
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b6a3e43_f7b8ecdb",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1452,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-04T11:05:18Z",
      "side": 1,
      "message": "What is the incorrect behavior? Is it caused by this CL?",
      "range": {
        "startLine": 1452,
        "startChar": 14,
        "endLine": 1452,
        "endChar": 42
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96d1abf3_0e26c9d0",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1452,
      "author": {
        "id": 1243466
      },
      "writtenOn": "2018-01-04T12:04:42Z",
      "side": 1,
      "message": "\u003e Is it caused by this CL?\n\nNo. It already exists without this CL.\n\n\u003e What is the incorrect behavior?\n\nFor example:\nLayout\n[focused element, inside viewable area]\n[iframe and first candidate][focusable element and second candidate]\n\nAssume we hit down arrow key.\n\nStep1:\ncontainer - document node\nstarting rect - focused element\u0027s rect\n\niframe is discovered as candidate\n\nStep2:\ncontainer - iframe\nstarting rect - focused element\u0027s rect\n\nno focusable element found. cannot scroll.\n\nStep3:\ncontainer - document node\nstarting rect - !!iframe\u0027s rect!!\n\nno focusable element found. cannot scroll.\n\nStep4:\nstack is empty. end traversal.\n\n\nIn above scenario, step3 is definitely wrong. But line 1453 introduces this behavior.",
      "parentUuid": "1b6a3e43_f7b8ecdb",
      "range": {
        "startLine": 1452,
        "startChar": 14,
        "endLine": 1452,
        "endChar": 42
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c58a1c1f_0393b895",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1452,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-04T14:44:34Z",
      "side": 1,
      "message": "Hm. I don\u0027t understand why you do two st.push() here. https://chromium-review.googlesource.com/c/chromium/src/+/781326/10/third_party/WebKit/Source/core/page/FocusController.cpp#1403 does only one. Maybe splitting 781326\u0027s Patch Set 10 was more complicated than I expected.",
      "parentUuid": "96d1abf3_0e26c9d0",
      "range": {
        "startLine": 1452,
        "startChar": 14,
        "endLine": 1452,
        "endChar": 42
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "291158eb_b3e23335",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1452,
      "author": {
        "id": 1243466
      },
      "writtenOn": "2018-01-04T15:34:12Z",
      "side": 1,
      "message": "I just replaced this\n      if (!AdvanceFocusDirectionallyInContainer(\n              ToLocalFrame(frame_element-\u003eContentFrame())-\u003eGetDocument(), rect,\n              type)) {\n        // The new frame had nothing interesting, need to find another\n        // candidate.\n        return AdvanceFocusDirectionallyInContainer(\n            container,\n            NodeRectInAbsoluteCoordinates(focus_candidate.visible_node, true),\n            type);\n      }\n\nAs you can see, this is very heuristic and hard to understand.\n\n\u003e Maybe splitting 781326\u0027s Patch Set 10 was more complicated than I expected.\n\nHow about squash again if you don\u0027t want this CL?",
      "parentUuid": "c58a1c1f_0393b895",
      "range": {
        "startLine": 1452,
        "startChar": 14,
        "endLine": 1452,
        "endChar": 42
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d922d5f_2b79b137",
        "filename": "third_party/WebKit/Source/core/page/FocusController.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1452,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-04T18:37:21Z",
      "side": 1,
      "message": "All right... Let\u0027s drop this CL and squash it back together. It was worth a try :)",
      "parentUuid": "291158eb_b3e23335",
      "range": {
        "startLine": 1452,
        "startChar": 14,
        "endLine": 1452,
        "endChar": 42
      },
      "revId": "f8ff6ef66982fc405b409dccc78f8bfdd4d06bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}