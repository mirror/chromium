{
  "comments": [
    {
      "key": {
        "uuid": "649aa3af_51f0285b",
        "filename": "components/omnibox/browser/fake_autocomplete_provider_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 49,
      "author": {
        "id": 1115920
      },
      "writtenOn": "2017-11-30T17:01:17Z",
      "side": 1,
      "message": "What happens to the failing test if you use ScopedTaskEnvironment::RunUntilIdle() here? From the comments in the following doc, it looks like that\u0027s what we\u0027re supposed to be doing now and I wonder if it might catch the case you\u0027re running into.\n\nhttps://docs.google.com/document/d/1QabRo8c7D9LsYY3cEcaPQbOCLo8Tu-6VLykYXyl3Pkk/edit#heading\u003dh.xdvwzp23mtse",
      "revId": "75b44180c14733006209449bbbe04824b57f5d59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5ad5e4b_45453b81",
        "filename": "components/omnibox/browser/fake_autocomplete_provider_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 49,
      "author": {
        "id": 1105777
      },
      "writtenOn": "2017-11-30T22:07:18Z",
      "side": 1,
      "message": "scoped_task_environment_.RunUntilIdle() makes it pass, but requires that we use the object. There\u0027s no static function.\n\nI added calls to all the tests using this Fake... but maybe a better design would be to pass the environment in. I don\u0027t know though; it seems a shame to tie the test\u0027s task model, in a completely different file, to a random helper class.",
      "parentUuid": "649aa3af_51f0285b",
      "revId": "75b44180c14733006209449bbbe04824b57f5d59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7953751_c07d0c2f",
        "filename": "components/omnibox/browser/fake_autocomplete_provider_client.cc",
        "patchSetId": 8
      },
      "lineNbr": 49,
      "author": {
        "id": 1115920
      },
      "writtenOn": "2017-11-30T22:54:14Z",
      "side": 1,
      "message": "\u003e scoped_task_environment_.RunUntilIdle() makes it pass,\n\nYay!\n\n\u003e but requires that we use the object. There\u0027s no static function.\n\nBoo! But this seems reasonable. It\u0027s already the case that using these classes levies the requirement on test fixtures to create a ScopedTaskEnvironment. Further requiring them to call a cleanup method doesn\u0027t seem especially onerous.",
      "parentUuid": "f5ad5e4b_45453b81",
      "revId": "75b44180c14733006209449bbbe04824b57f5d59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}