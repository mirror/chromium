{
  "comments": [
    {
      "key": {
        "uuid": "034e0f09_d6e1b132",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 28,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "same, please use \u0027\u003d default;\u0027 for new code.",
      "range": {
        "startLine": 28,
        "startChar": 24,
        "endLine": 28,
        "endChar": 26
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "043f3a78_7e8335ff",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 28,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "034e0f09_d6e1b132",
      "range": {
        "startLine": 28,
        "startChar": 24,
        "endLine": 28,
        "endChar": 26
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d18995ea_eda1d530",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 29,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "same.",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "260605c2_199bdbfe",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 29,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d18995ea_eda1d530",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2fb7e91_c3d84413",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 31,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-10-17T01:07:56Z",
      "side": 1,
      "message": "IMO, your delegate class should directly delegate to the OpenUrlFromArc() call. If you add additional logic to the function (i.e., your if() check), it is easy for your delegate class to get out of sync and introduce subtle bugs.",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 42
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d44c961_1dcf16bd",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 31,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Yes but on the other hand, checking whether Ash::Shell has an instance is an implementation detail of the default delegate implementation and the caller should not need to check whether one exists before calling OpenUrl, so I would prefer to keep this as is.",
      "parentUuid": "b2fb7e91_c3d84413",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 42
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9852aedd_644c98ec",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 31,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-10-17T17:20:04Z",
      "side": 1,
      "message": "In that case, you should add a HasShellInstance() function to your OpenUrlDelegate class. It is not scalable to have your delegate class, which does not have its own unit tests, specify logic which can get out of sync.",
      "parentUuid": "6d44c961_1dcf16bd",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 42
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91f99636_82fbc5ee",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 85,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-10-17T01:07:56Z",
      "side": 1,
      "message": "I believe base::MakeUnique\u003c\u003e() is preferred.",
      "range": {
        "startLine": 85,
        "startChar": 25,
        "endLine": 85,
        "endChar": 41
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4beffe4f_f69fffbb",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 85,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2017-10-17T15:41:01Z",
      "side": 1,
      "message": "Drive by: We now prefer std::make_unique\u003c\u003e. All our compilers support it. There are people going through the codebase and converting all base::MakeUnique\u003c\u003e to make_unique\u003c\u003e.",
      "parentUuid": "91f99636_82fbc5ee",
      "range": {
        "startLine": 85,
        "startChar": 25,
        "endLine": 85,
        "endChar": 41
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4116956d_a0d1fa13",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 16
      },
      "lineNbr": 85,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Thanks James, noted and keeping this as std::make_unique\u003c\u003e.",
      "parentUuid": "4beffe4f_f69fffbb",
      "range": {
        "startLine": 85,
        "startChar": 25,
        "endLine": 85,
        "endChar": 41
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "943bcee5_3fcd3c2a",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 72,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "\u003d default;",
      "range": {
        "startLine": 72,
        "startChar": 31,
        "endLine": 72,
        "endChar": 33
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "131dbde6_6f094fa8",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 72,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "943bcee5_3fcd3c2a",
      "range": {
        "startLine": 72,
        "startChar": 31,
        "endLine": 72,
        "endChar": 33
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b83f448_af97c1aa",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "Since production code cannot call *ForTesting() functions (I think CQ fails if someone does that), moving this to public: should be safe. Please also delete L109 (friend) if you move this to public:.",
      "range": {
        "startLine": 111,
        "startChar": 0,
        "endLine": 112,
        "endChar": 58
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77b29d0e_479abb5e",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-10-17T01:07:56Z",
      "side": 1,
      "message": "I disagree here - we should use the conventions of the language in order to specify visibility instead of relying on an implementation detail of the CQ linter.",
      "parentUuid": "7b83f448_af97c1aa",
      "range": {
        "startLine": 111,
        "startChar": 0,
        "endLine": 112,
        "endChar": 58
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48cc0ed1_77bf540c",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "I agree with khorimoto@, I think that we should follow the principle of least visibility and only allow the test to call this *ForTesting() function. @Yusuke: would you be okay with that?",
      "parentUuid": "77b29d0e_479abb5e",
      "range": {
        "startLine": 111,
        "startChar": 0,
        "endLine": 112,
        "endChar": 58
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3137091a_814825c7",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T17:22:51Z",
      "side": 1,
      "message": "Actually it\u0027s not just implementation details of the CQ. It\u0027s part of our style guide:\n https://chromium.googlesource.com/chromium/src/+/master/styleguide/c++/c++.md\n\nIt\u0027s widely used throughout the Chromium code already. Also, ForTesting() methods are usually public: as you can confirm with something like the following:\n\n $ egrep -e \u0027(public:|protected:|private:|ForTesting\\()\u0027 `git grep -l ForTesting base/ chrome/ components/` | grep .h:\n\nSpeaking of least visibility and compiler checks, \u0027friend class XXXTest;\u0027 completely disables compiler\u0027s visibility checks of course, and such a test may end up depending on implementation details of the testee class. That\u0027s my main concern.\n\nIn components/arc/, all ForTesting() functions are public: at this point, and we don\u0027t use \u0027friend class\u0027 for testing at all. Could you move it to public: to be consistent with existing code?",
      "parentUuid": "48cc0ed1_77bf540c",
      "range": {
        "startLine": 111,
        "startChar": 0,
        "endLine": 112,
        "endChar": 58
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f790077e_a2c3ebd5",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T18:36:53Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "3137091a_814825c7",
      "range": {
        "startLine": 111,
        "startChar": 0,
        "endLine": 112,
        "endChar": 58
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ea6c9fc_dc6ba977",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 25,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "I\u0027m not really sure why this had to be moved here, but can we rather move this to L294 to use the anonymous namespace for the entire test code?",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "786b66ae_7cc86d65",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 25,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "The reason I moved this is to let us declare the ArcIntentHelperTest as a friend class of ArcIntentHelperBridge. Maybe we should continue the conversation about whether or not to use a friend versus public Set...ForTesting() in the other comment thread where khorimoto@ added a reply.",
      "parentUuid": "5ea6c9fc_dc6ba977",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc0a55ff_0c061c8a",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 25,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-10-17T17:20:04Z",
      "side": 1,
      "message": "Correct - the TestOpenUrlDelegate should be nested within the ArcIntentHelperTest class for visibility purposes.",
      "parentUuid": "786b66ae_7cc86d65",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03b14425_2f35de2e",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 34,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "same, \u003d default; please.",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da32fc7f_5dcec056",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 34,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03b14425_2f35de2e",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "388e2602_3a95d9f7",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 46,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-10-17T00:26:57Z",
      "side": 1,
      "message": "Can you add a comment like\n\n TestOpenUrlDelegate* test_open_url_delegate_;  // owned by |instance_|\n\n?",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7248e236_3e713148",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 16
      },
      "lineNbr": 46,
      "author": {
        "id": 1247463
      },
      "writtenOn": "2017-10-17T15:59:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "388e2602_3a95d9f7",
      "revId": "fd7d4ea6bc494b9f9c2db11ae70232207c708333",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}