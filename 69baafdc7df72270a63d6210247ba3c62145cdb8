{
  "comments": [
    {
      "key": {
        "uuid": "307925e3_0db7b2e3",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 70,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-20T06:36:06Z",
      "side": 1,
      "message": "kGuidLength is the length of a single guid, not the length of the array, no? i think you need a new kMicrosoftImeGuidsLength that\u0027s initialized to arraysize(kMicrosoftImeGuidsLength) somewhere.",
      "range": {
        "startLine": 70,
        "startChar": 62,
        "endLine": 70,
        "endChar": 73
      },
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1da969fd_5434360f",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 70,
      "author": {
        "id": 1122084
      },
      "writtenOn": "2017-10-20T22:41:22Z",
      "side": 1,
      "message": "Thank you - good catch.",
      "parentUuid": "307925e3_0db7b2e3",
      "range": {
        "startLine": 70,
        "startChar": 62,
        "endLine": 70,
        "endChar": 73
      },
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3d0b7c74_9a39e1ff",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 192,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-20T06:36:06Z",
      "side": 1,
      "message": "curious: does it work if you try this:\nconstexpr const wchar_t* kMicrosoftImeGuids[] \u003d {",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5269f9f8_b3e11dd3",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 192,
      "author": {
        "id": 1122084
      },
      "writtenOn": "2017-10-20T22:41:22Z",
      "side": 1,
      "message": "-\"constexpr const\" works fine locally (clang), but see my comments below.  \n\n-(I honestly still don\u0027t understand the difference between \"constexpr wchar_t* const\" and \"constexpr const wchar_t*\".)\n\n-\"const wchar_t* const\" works now that I\u0027m exporting this array.  See comment below regarding constexpr.\n\nFYI:\nIn the last couple days, I\u0027ve figured out a slight problem.  My local clang builds are quite happy to have a .cc definition using \"constexpr\", and an \"extern\" declaration of the same variable in a .h file using \"const\".\n\nHowever, the try bots are still msvc, and that compiler is not having any of it.  Won\u0027t take an \"extern const\" in a .h with a \"constexpr\" in the .cc file.\n\nSo I\u0027ve adjusted the extern strings below to just \"const\".",
      "parentUuid": "3d0b7c74_9a39e1ff",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "819cbbff_7d29cac0",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 192,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-23T11:21:16Z",
      "side": 1,
      "message": "Ack.\n\n\"constexpr const wchar_t* kMicrosoftImeGuids[]\" means:\n\n\"kMicrosoftImeGuids is a compile-time constant array containing pointers to const wchar_t data.\" In other words \"constexpr\" here applies to kMicrosoftImeGuids, whereas \"const\" applies to the wchar_t data pointed to by each item in the array. Putting it yet another way, the contents of the array are constant and fixed at compile time. The memory pointed to by the values in the array are regular old constant data. I hope that muddies things up a bit more. :-)",
      "parentUuid": "5269f9f8_b3e11dd3",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb789c02_a009b5d8",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 213,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-20T06:36:06Z",
      "side": 1,
      "message": "i think this will run wcslen during dynamic initialization, which isn\u0027t so good. wdyt of just hardcoding the constant (along with a comment explaining it) and putting an assert() at a convenient place that the constant matches reality? you could use the enum hack to specify the constant.",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3fece77_465a8198",
        "filename": "chrome_elf/whitelist/whitelist_ime.cc",
        "patchSetId": 7
      },
      "lineNbr": 213,
      "author": {
        "id": 1122084
      },
      "writtenOn": "2017-10-20T22:41:22Z",
      "side": 1,
      "message": "I\u0027m not 100% sure what the enum hack is... but I figured I should leave the type of this constant the same as the length of the array right above it. \n\nI\u0027ve gone with the hard-coded length, and I\u0027ve added a debug assert to sanity check that length in IsMicrosoftIme() function.",
      "parentUuid": "eb789c02_a009b5d8",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52a438f3_1d9c77f1",
        "filename": "chrome_elf/whitelist/whitelist_ime.h",
        "patchSetId": 7
      },
      "lineNbr": 21,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-20T06:36:06Z",
      "side": 1,
      "message": "does this need to be accessible outside of the implementation?",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2e71b4a_9f2b8881",
        "filename": "chrome_elf/whitelist/whitelist_ime.h",
        "patchSetId": 7
      },
      "lineNbr": 21,
      "author": {
        "id": 1122084
      },
      "writtenOn": "2017-10-20T22:41:22Z",
      "side": 1,
      "message": "It will, yes.  These are going to be shared with another module outside of chrome_elf.  \nhttps://cs.chromium.org/chromium/src/chrome/browser/conflicts/enumerate_input_method_editors_win.cc?type\u003dcs\u0026q\u003d%7B0000897b-83df-4b96-be07-0fb58b01c4a4%7D\u0026sq\u003dpackage:chromium\u0026l\u003d28 \n\nI\u0027m also thinking of adding some sanity testing against this list in a later CL.",
      "parentUuid": "52a438f3_1d9c77f1",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07388e91_852345b7",
        "filename": "chrome_elf/whitelist/whitelist_ime_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-20T06:36:06Z",
      "side": 1,
      "message": "ha, but now the braces aren\u0027t needed since getting rid of \"whitelist::\" shrunk the line!",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "515ff6f4_7c16619c",
        "filename": "chrome_elf/whitelist/whitelist_ime_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1122084
      },
      "writtenOn": "2017-10-20T22:41:22Z",
      "side": 1,
      "message": "Done.  Would be nice if \"git cl format\" could magically make this happen. :)",
      "parentUuid": "07388e91_852345b7",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "015fa4da_e2950831",
        "filename": "chrome_elf/whitelist/whitelist_ime_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-10-23T11:21:16Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "515ff6f4_7c16619c",
      "revId": "69baafdc7df72270a63d6210247ba3c62145cdb8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}