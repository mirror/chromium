{
  "comments": [
    {
      "key": {
        "uuid": "d7ce7c69_db7bc54d",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 31
      },
      "lineNbr": 1116,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "This DCHECK doesn\u0027t do anything for us, we can remove it. It\u0027s checking the address of a variable, which will always be non-0.",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcbdeea5_828d655c",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 31
      },
      "lineNbr": 1116,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7ce7c69_db7bc54d",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a2d8474_973040df",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 31
      },
      "lineNbr": 1117,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "DCHECK(contents_texture_it-\u003esecond.id()); is a more concise way to write this",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41f17fb5_4bd15083",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 31
      },
      "lineNbr": 1117,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a2d8474_973040df",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3188e05a_5f291904",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 31
      },
      "lineNbr": 2918,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "this is also a DCHECK of something that can\u0027t be 0",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "896240f2_0797ce9e",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 31
      },
      "lineNbr": 2918,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3188e05a_5f291904",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da16835a_a9e2a760",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 28,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "I don\u0027t think we need to store these creation args as state on the object?",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3def439_9782867b",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 28,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "This is used in the move constructor and BindForSampling.",
      "parentUuid": "da16835a_a9e2a760",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62d4aec1_c4faf1a4",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 28,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "We need to use it in move constructor.",
      "parentUuid": "da16835a_a9e2a760",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "717b8c75_15015a15",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 55,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "We could do the delete stuff inline here, this would be the only place that does it?",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2080b0cc_fa6ea752",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 55,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "Used in operator\u003d.",
      "parentUuid": "717b8c75_15015a15",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aeec0140_1bcf891c",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 55,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-19T18:51:26Z",
      "side": 1,
      "message": "I don\u0027t think it should be.. see below.",
      "parentUuid": "2080b0cc_fa6ea752",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3ffd8c7_0d77aebf",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 55,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-20T07:02:54Z",
      "side": 1,
      "message": "See below.",
      "parentUuid": "aeec0140_1bcf891c",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "930f3e8b_766a3948",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 61,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "Doesn\u0027t this delete the GL texture when you assign it to another object?",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbe66154_7cee8f1a",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 61,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "Yes, other will be deleted automatically here. \nUnder below circumstance, \nScopedRenderPassTexture contents_texture_updated \u003d std::move(contents_texture); \nrender_pass_textures_.insert(\nFree is useless. Because contents_texture_updated is constructed by contents_texture.\n\nHowever, if contents_texture_updated was constructed before like this:\nScopedRenderPassTexture contents_texture_updated(...); \ncontents_texture_updated \u003d std::move(contents_texture_other); \nThen Free will work.",
      "parentUuid": "930f3e8b_766a3948",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8269f6bf_2a916892",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 61,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-19T18:51:26Z",
      "side": 1,
      "message": "But isn\u0027t that bad?\n\nScopedRenderPassTexture a;\nScopedRenderPassTexture b(...);\nLOG(ERROR) \u003c\u003c a.id();  // 0\nLOG(ERROR) \u003c\u003c b.id();  // non-0\na \u003d std::move(b);\nLOG(ERROR) \u003c\u003c a.id();  // 0\nLOG(ERROR) \u003c\u003c b.id();  // 0\n\nThere\u0027s no texture left now cuz it was freed?",
      "parentUuid": "fbe66154_7cee8f1a",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1357da9_b73dfb8b",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 61,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-20T07:02:54Z",
      "side": 1,
      "message": "After move, a.id() will be b.id(). \nIt will first free a.id(), then copy b.id() to a.id(). \n\nScopedRenderPassTexture a;\nScopedRenderPassTexture b(...);\nLOG(ERROR) \u003c\u003c a.id();  // 0\nLOG(ERROR) \u003c\u003c b.id();  // non-0\na \u003d std::move(b);\nLOG(ERROR) \u003c\u003c a.id();  // non-0\nLOG(ERROR) \u003c\u003c b.id();  // 0",
      "parentUuid": "8269f6bf_2a916892",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eddebe46_50dce951",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 80,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "Move this into Allocate, so we just have one method?\n\nIt would actually save a bunch of plumbing, and lines of code, I think if all the texture allocation moved to GLRenderer, and we just gave the texture Id to this class to hold it?",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5764adf7_e59d20d8",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 80,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eddebe46_50dce951",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab9426ce_a2c140db",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 96,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "We don\u0027t need 2 Allocate methods.",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "441d100d_5aead47c",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 96,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab9426ce_a2c140db",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ef57944_98cee037",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 145,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "Can we specify the mipmap stuff when we create the texture, and do all this when we first allocate it, instead of storing state on the class to allow us to do it later when we go to use it?",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba4f5f78_33fa5256",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 145,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "The mipmap_state_ maybe changed by set_generate_mipmap. But during my test, I didn\u0027t see set_generate_mipmap being called. So remove this.",
      "parentUuid": "8ef57944_98cee037",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e01b903e_d5ee8267",
        "filename": "components/viz/service/display/scoped_render_pass_texture.cc",
        "patchSetId": 31
      },
      "lineNbr": 145,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-20T07:02:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba4f5f78_33fa5256",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcb64b90_5d0125df",
        "filename": "components/viz/service/display/scoped_render_pass_texture.h",
        "patchSetId": 31
      },
      "lineNbr": 28,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "don\u0027t need const for non-references",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c47441f9_3b4ccfc8",
        "filename": "components/viz/service/display/scoped_render_pass_texture.h",
        "patchSetId": 31
      },
      "lineNbr": 28,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dcb64b90_5d0125df",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80fafc51_ec3400bb",
        "filename": "components/viz/service/display/scoped_render_pass_texture.h",
        "patchSetId": 31
      },
      "lineNbr": 38,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "do we need mutators on this? can it be a const object?",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6fed4b40_485800de",
        "filename": "components/viz/service/display/scoped_render_pass_texture.h",
        "patchSetId": 31
      },
      "lineNbr": 38,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "For size and hint changed textures, the gl id can be moved from, the size and hint cannot.\nSo I add these two to updated the size and hint. Any ideas to avoid this?",
      "parentUuid": "80fafc51_ec3400bb",
      "revId": "658caacc431ee01439523cb1dcb630a2d78f5108",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}