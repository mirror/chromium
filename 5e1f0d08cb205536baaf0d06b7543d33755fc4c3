{
  "comments": [
    {
      "key": {
        "uuid": "c2d13ed4_1c06b396",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1001438
      },
      "writtenOn": "2018-01-22T12:06:24Z",
      "side": 1,
      "message": "Optional: change this to IsDicePrepareMigration, because that is what is actually needed for this code.",
      "range": {
        "startLine": 132,
        "startChar": 40,
        "endLine": 132,
        "endChar": 63
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "997e18ff_e8e4b182",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2018-01-22T12:58:23Z",
      "side": 1,
      "message": "The promos UI is only presented when full DICE is enabled for this profile. Note that I did not change the chrome_signin_helper to use this new function as in that case we actually want to remove the account if the user undo the enable sync operation. And in that case, we should always have a good token and never take the user to the reauth page.\n\nDo you think I should be using the new function EnableSync from the chrome_signin_helper (here https://cs.chromium.org/chromium/src/chrome/browser/signin/chrome_signin_helper.cc?rcl\u003d8898229c569b5ed2f2e11510399669ba82ce45ad\u0026l\u003d251 )?",
      "parentUuid": "c2d13ed4_1c06b396",
      "range": {
        "startLine": 132,
        "startChar": 40,
        "endLine": 132,
        "endChar": 63
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "402e070d_45b4d6f8",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1001438
      },
      "writtenOn": "2018-01-22T13:42:53Z",
      "side": 1,
      "message": "No, I think the function should not be used there.",
      "parentUuid": "997e18ff_e8e4b182",
      "range": {
        "startLine": 132,
        "startChar": 40,
        "endLine": 132,
        "endChar": 63
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f79f6900_4ae13bec",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2018-01-22T14:36:40Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "402e070d_45b4d6f8",
      "range": {
        "startLine": 132,
        "startChar": 40,
        "endLine": 132,
        "endChar": 63
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eddeb841_32af869a",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1001438
      },
      "writtenOn": "2018-01-22T12:06:24Z",
      "side": 1,
      "message": "What should we do if |account| does not match the current authenticated account?",
      "range": {
        "startLine": 135,
        "startChar": 4,
        "endLine": 135,
        "endChar": 10
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62b3fc34_778f8e56",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2018-01-22T12:58:23Z",
      "side": 1,
      "message": "Nothing. We must never switch the sync account.",
      "parentUuid": "eddeb841_32af869a",
      "range": {
        "startLine": 135,
        "startChar": 4,
        "endLine": 135,
        "endChar": 10
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8076877_270b96f6",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1001438
      },
      "writtenOn": "2018-01-22T13:42:53Z",
      "side": 1,
      "message": "Should this be a NOTREACHED(), or should we DCHECK_EQ(account, signin_manager-\u003eGetAuthenticatedAccount())?",
      "parentUuid": "62b3fc34_778f8e56",
      "range": {
        "startLine": 135,
        "startChar": 4,
        "endLine": 135,
        "endChar": 10
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "94081420_971db32b",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2018-01-22T14:36:40Z",
      "side": 1,
      "message": "NOTREACHED is not good as it is possible if somehow the user presses twice on the same button to enable sync.\nDCHECK_EQ is also risky as in some crazy cases maybe some UI does not update itself based on SigninManager events and allows the user to tap enable sync. In that case we simply ignore the event.",
      "parentUuid": "d8076877_270b96f6",
      "range": {
        "startLine": 135,
        "startChar": 4,
        "endLine": 135,
        "endChar": 10
      },
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1da3f29a_7b3c7778",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1001438
      },
      "writtenOn": "2018-01-22T12:06:24Z",
      "side": 1,
      "message": "Shouldn\u0027t there be a return here? DiceTurnSyncOnHelper should probably not be invoked in this case.",
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c9c484d_b141a165",
        "filename": "chrome/browser/signin/signin_ui_util.cc",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2018-01-22T12:58:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1da3f29a_7b3c7778",
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41b9d1c5_b05621a8",
        "filename": "chrome/browser/signin/signin_ui_util.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1001438
      },
      "writtenOn": "2018-01-22T13:42:53Z",
      "side": 1,
      "message": "Maybe we should expand this comment a bit. Suggestion:\n\"Enables sync for |account| using an existing token if there is one, or triggering a re-auth flow if the token is missing or invalid.\"",
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcc361d7_5c8a8450",
        "filename": "chrome/browser/signin/signin_ui_util.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2018-01-22T14:36:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41b9d1c5_b05621a8",
      "revId": "5e1f0d08cb205536baaf0d06b7543d33755fc4c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}