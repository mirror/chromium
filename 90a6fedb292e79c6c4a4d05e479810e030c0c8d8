{
  "comments": [
    {
      "key": {
        "uuid": "6415b255_42a73463",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "Link to https://chromium-review.googlesource.com/c/chromium/src/+/881017/1 here, e.g.\n\n\"\"\"\nas discussed on PS1 @\nhttps://chromium-review.googlesource.com/c/chromium/src/+/881017/1\n\"\"\"\n\n(PS: would have prefered a separate CL but this will do too)",
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40e97145_98bb8fe8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6415b255_42a73463",
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45220601_64f67804",
        "filename": "base/debug/thread_heap_usage_tracker.cc",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "nit: DCHECK_NE while you\u0027re here",
      "range": {
        "startLine": 50,
        "startChar": 8,
        "endLine": 50,
        "endChar": 14
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2671110d_c95eaabe",
        "filename": "base/debug/thread_heap_usage_tracker.cc",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "45220601_64f67804",
      "range": {
        "startLine": 50,
        "startChar": 8,
        "endLine": 50,
        "endChar": 14
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b05f80ec_779b5977",
        "filename": "base/debug/thread_heap_usage_tracker.cc",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "I don\u0027t what \"RecordFree() above\" refers to?",
      "range": {
        "startLine": 53,
        "startChar": 15,
        "endLine": 53,
        "endChar": 33
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aac85471_77687f6a",
        "filename": "base/debug/thread_heap_usage_tracker.cc",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b05f80ec_779b5977",
      "range": {
        "startLine": 53,
        "startChar": 15,
        "endLine": 53,
        "endChar": 33
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7d43ec2_403809d9",
        "filename": "base/threading/thread_local_storage.cc",
        "patchSetId": 4
      },
      "lineNbr": 326,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "Use inline (C++11 style) member initialization",
      "range": {
        "startLine": 326,
        "startChar": 6,
        "endLine": 326,
        "endChar": 43
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "857722bc_485dc787",
        "filename": "base/threading/thread_local_storage.cc",
        "patchSetId": 4
      },
      "lineNbr": 326,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7d43ec2_403809d9",
      "range": {
        "startLine": 326,
        "startChar": 6,
        "endLine": 326,
        "endChar": 43
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a21587a8_fca14a91",
        "filename": "base/threading/thread_local_storage.h",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "\u0026MyDestructorFunc",
      "range": {
        "startLine": 105,
        "startChar": 11,
        "endLine": 105,
        "endChar": 27
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60eefb4e_be6d1543",
        "filename": "base/threading/thread_local_storage.h",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "Done\nAny reason for the preference?",
      "parentUuid": "a21587a8_fca14a91",
      "range": {
        "startLine": 105,
        "startChar": 11,
        "endLine": 105,
        "endChar": 27
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a353e839_ebf3a1fe",
        "filename": "base/threading/thread_local_storage.h",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "\u003d kInvalidSlotValue;\n\nand DCHECK_EQ(kInvalidSlotValue, slot_) at the top of Initialize()",
      "range": {
        "startLine": 129,
        "startChar": 13,
        "endLine": 129,
        "endChar": 14
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a745cb1_8ed1e75d",
        "filename": "base/threading/thread_local_storage.h",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "DCHECK done immediately before the slot_ assignment in Initialize",
      "parentUuid": "a353e839_ebf3a1fe",
      "range": {
        "startLine": 129,
        "startChar": 13,
        "endLine": 129,
        "endChar": 14
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c6a8732_29700304",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "Why does this test need a static slot? Seems it can be done with a Slot. The fact that some users now store the slot in static storage is a usage detail that\u0027s irrelevant to unit testing TLS::Slot itself I think?",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 13
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9fc9676_f5635a46",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-06T07:24:47Z",
      "side": 1,
      "message": "Part of test semantics is that ThreadLocalStorageCleanup (the destructor) resets the slot value (see below). It is then verified that the destructor is called correct number of times.",
      "parentUuid": "1c6a8732_29700304",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 13
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9aab1770_d082dd64",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-06T09:20:04Z",
      "side": 1,
      "message": "Right, but the Slot doesn\u0027t need to be static for that to work, no?",
      "parentUuid": "f9fc9676_f5635a46",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 13
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea36a799_7a8cad83",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-06T10:36:44Z",
      "side": 1,
      "message": "How do you suggest passing the non-static Slot into the static ThreadLocalStorageCleanup while keeping the signature?",
      "parentUuid": "9aab1770_d082dd64",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 13
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35fd80ce_7bbf2681",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-06T12:16:12Z",
      "side": 1,
      "message": "ThreadLocalStorageCleanup receives a void* from the item stored in the TLS::Slot (i.e. |tls_value_ptr_|), right? It has nothing to do with the Slot being static? Or am I missing something?",
      "parentUuid": "ea36a799_7a8cad83",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 13
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54b1f876_d0e583f7",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-06T13:57:50Z",
      "side": 1,
      "message": "Slot allows user-defined destructor function to reset the value that is stored in the slot. The destructor will then be called again.\n\nInternally per-thread cleanup proceeds as follows:\n- the value is saved localy and replaced with nullptr\n- user-defined destructor is called for the saved value\n- if the value is not nullptr, the destructor is called again\n\nThreadLocalStorageCleanup is using TLSSlot() to reset the value",
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1fdc71f_a3ad7a00",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-06T16:38:31Z",
      "side": 1,
      "message": "Oh duh, ok my bad..! No choice then, thanks",
      "parentUuid": "54b1f876_d0e583f7",
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38cc335b_cdaa34fe",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2018-02-05T11:17:25Z",
      "side": 1,
      "message": "Move this up to line 33 instead of fwd-declaring it.",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 80,
        "endChar": 1
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11f37d17_1c571091",
        "filename": "base/threading/thread_local_storage_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1146127
      },
      "writtenOn": "2018-02-07T15:46:34Z",
      "side": 1,
      "message": "Not much point in this. We\u0027d have to forward declare TLSSlot() before ThreadLocalStorageCleanup",
      "parentUuid": "38cc335b_cdaa34fe",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 80,
        "endChar": 1
      },
      "revId": "90a6fedb292e79c6c4a4d05e479810e030c0c8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}