{
  "comments": [
    {
      "key": {
        "uuid": "96380e71_b75de306",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1002844
      },
      "writtenOn": "2017-05-12T23:29:43Z",
      "side": 1,
      "message": "Style guide recommends the declaration order should match the definition order. Though I see that would require an extra ifdef block... eh.",
      "range": {
        "startLine": 162,
        "startChar": 7,
        "endLine": 162,
        "endChar": 31
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c6a014d_8c56f0c5",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1121934
      },
      "writtenOn": "2017-05-12T23:54:09Z",
      "side": 1,
      "message": "It looks like there are other definitions that aren\u0027t in order compared to the declarations - e.g. KillDatabase isn\u0027t the last definition. I can easily move the definition of OnApplicationStateChange, because that\u0027s one method in one ifdef block.",
      "parentUuid": "96380e71_b75de306",
      "range": {
        "startLine": 162,
        "startChar": 7,
        "endLine": 162,
        "endChar": 31
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "231def86_2e40b637",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1002844
      },
      "writtenOn": "2017-05-12T23:29:43Z",
      "side": 1,
      "message": "Looks like this reference will keep the Backend object alive forever.\n\nI think you can used Unretained here since deleting the ApplicationStatusListener will stop listening.\n\n(same in other file)",
      "range": {
        "startLine": 212,
        "startChar": 53,
        "endLine": 212,
        "endChar": 57
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "844fe6a4_fa575466",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1121934
      },
      "writtenOn": "2017-05-12T23:54:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "231def86_2e40b637",
      "range": {
        "startLine": 212,
        "startChar": 53,
        "endLine": 212,
        "endChar": 57
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "325bc524_b7043627",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1000429
      },
      "writtenOn": "2017-05-15T17:02:29Z",
      "side": 1,
      "message": "I think deleting the ApplicationStatusListener may race with the delivery of the notification. It would be safer to obtain a weak reference to the backend from here. If you figure out why it is not racy, please add a comment to the use of base::Unretained(this), it is not obvious.",
      "parentUuid": "844fe6a4_fa575466",
      "range": {
        "startLine": 212,
        "startChar": 53,
        "endLine": 212,
        "endChar": 57
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e8ba408_b04252b6",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1002844
      },
      "writtenOn": "2017-05-15T21:10:11Z",
      "side": 1,
      "message": "ApplicationStatusListener is implemented with ObserverListThreadSafe which should handle this properly, eg \"If one sequence is notifying observers concurrently with an observer removing itself from the observer list, the notifications will be silently dropped.\" (Perhaps ApplicationStatusListener should document this more explicitly.)",
      "parentUuid": "325bc524_b7043627",
      "range": {
        "startLine": 212,
        "startChar": 53,
        "endLine": 212,
        "endChar": 57
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb592a5c_d28e4246",
        "filename": "net/extras/sqlite/sqlite_channel_id_store.cc",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1000429
      },
      "writtenOn": "2017-05-16T12:54:26Z",
      "side": 1,
      "message": "Thanks, good to know. It appears we do this in other places as well, does not explode, pattern accepted.\n\nFeel free to add a comment to ApplicationStatusListener if you want.",
      "parentUuid": "5e8ba408_b04252b6",
      "range": {
        "startLine": 212,
        "startChar": 53,
        "endLine": 212,
        "endChar": 57
      },
      "revId": "e0e309d6c7e09ae3eb86c9fafd5d616c6320386a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}