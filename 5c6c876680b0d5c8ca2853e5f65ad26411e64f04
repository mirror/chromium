{
  "comments": [
    {
      "key": {
        "uuid": "05d85746_a45d2905",
        "filename": "chrome/browser/ui/autofill/save_card_bubble_controller_impl_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Style guide says constructor/destructor first.",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 26
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f2b393d_2a8ce02d",
        "filename": "chrome/browser/ui/autofill/save_card_bubble_controller_impl_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "05d85746_a45d2905",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 26
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9eae3c7f_5b655d94",
        "filename": "chrome/browser/ui/autofill/save_card_bubble_controller_impl_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Please add a description as to why this is necessary.",
      "range": {
        "startLine": 53,
        "startChar": 8,
        "endLine": 53,
        "endChar": 30
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10cd7a26_c38b9fc6",
        "filename": "chrome/browser/ui/autofill/save_card_bubble_controller_impl_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9eae3c7f_5b655d94",
      "range": {
        "startLine": 53,
        "startChar": 8,
        "endLine": 53,
        "endChar": 30
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238a3f8_6001a2b1",
        "filename": "chrome/browser/ui/autofill/save_card_bubble_controller_impl_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Comment where override comments from.",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96fec87e_5a560370",
        "filename": "chrome/browser/ui/autofill/save_card_bubble_controller_impl_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5238a3f8_6001a2b1",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3da34f4_0a530532",
        "filename": "chrome/browser/ui/tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Document ownership.",
      "range": {
        "startLine": 79,
        "startChar": 10,
        "endLine": 79,
        "endChar": 39
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f557feb_1ffe03c8",
        "filename": "chrome/browser/ui/tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3da34f4_0a530532",
      "range": {
        "startLine": 79,
        "startChar": 10,
        "endLine": 79,
        "endChar": 39
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8941cb26_3f941fa1",
        "filename": "chrome/browser/ui/test_tab_dialogs.cc",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Newline between 5/6.",
      "range": {
        "startLine": 5,
        "startChar": 10,
        "endLine": 5,
        "endChar": 25
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "406d46d8_16486915",
        "filename": "chrome/browser/ui/test_tab_dialogs.cc",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8941cb26_3f941fa1",
      "range": {
        "startLine": 5,
        "startChar": 10,
        "endLine": 5,
        "endChar": 25
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de13a3fe_a0a9e6eb",
        "filename": "chrome/browser/ui/test_tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Same comment about destructor/constructor first.",
      "range": {
        "startLine": 15,
        "startChar": 2,
        "endLine": 15,
        "endChar": 20
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a999252e_4c5639f3",
        "filename": "chrome/browser/ui/test_tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "de13a3fe_a0a9e6eb",
      "range": {
        "startLine": 15,
        "startChar": 2,
        "endLine": 15,
        "endChar": 20
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82da72f9_90914b4e",
        "filename": "chrome/browser/ui/test_tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "Comment where overrides come from.",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 45
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d86ce96_3d85e4d9",
        "filename": "chrome/browser/ui/test_tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82da72f9_90914b4e",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 45
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f7d42e_b7827acb",
        "filename": "chrome/browser/ui/test_tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "private:DISALLOW...",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 2
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "919aa23f_ffdcce67",
        "filename": "chrome/browser/ui/test_tab_dialogs.h",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d9f7d42e_b7827acb",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 2
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc3d08af_95ae5212",
        "filename": "chrome/browser/ui/views/tab_dialogs_views.cc",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-17T22:33:45Z",
      "side": 1,
      "message": "It seems to me that if you need the browser this function makes more sense on BrowserWindow. Is there a reason you want to route it through TabDialogs rather than Browser/BrowserWindow?\n\nAlso, how do you know you can look up the browser at this point? What if we end up here and web_contents_ isn\u0027t the active tab?",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 72
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "972aa349_7db4e266",
        "filename": "chrome/browser/ui/views/tab_dialogs_views.cc",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-08-18T03:21:41Z",
      "side": 1,
      "message": "\u003e It seems to me that if you need the browser this function makes more sense on BrowserWindow. Is there a reason you want to route it through TabDialogs rather than Browser/BrowserWindow?\n\nI think this can be said for most things in TabDialogs except perhaps hung renderers. I\u0027ve been leaning towards TabDialogs for dialogs that are conceptually bound to a WebContents* rather than a BrowserWindow*, which I think is the case here. BrowserView* is just used to find an anchor point (which should even be \"null\" in some cases - e.g. fullscreen, hosted/bookmark apps).\n\nAlso I think BrowserWindow is getting a bit cluttered and there\u0027s more coupling/plumbing required to show dialogs through that interface. (e.g. -hypothetically- if a WebContents wants a way to show a dialog over a packaged app window or a webui dialog, Browser* isn\u0027t the right thing to build the interface on, so we shouldn\u0027t couple dialog APIs to that).\n\n\u003e Also, how do you know you can look up the browser at this point? What if we end up here and web_contents_ isn\u0027t the active tab?\n\n(I think this is a valid point. Although this was just moved from SaveCardBubbleControllerImpl::ShowBubble(), and I don\u0027t think the paths leading up to it have changed. Probably the dialog will appear with the wrong tab showing, but getting into that situation should be hard for a user to achieve).",
      "parentUuid": "fc3d08af_95ae5212",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 72
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2728fe4_768c97f6",
        "filename": "chrome/browser/ui/views/tab_dialogs_views.cc",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2017-08-18T19:22:00Z",
      "side": 1,
      "message": "What should we do if web_contents_ isn\u0027t active? We could suppress the bubble or show it anyway or try raising the web contents. Do any of those seem compellingly better?",
      "parentUuid": "972aa349_7db4e266",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 72
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d11f2e67_06888208",
        "filename": "chrome/browser/ui/views/tab_dialogs_views.cc",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-18T22:20:10Z",
      "side": 1,
      "message": "\u003e  think this can be said for most things in TabDialogs except perhaps hung renderers. I\u0027ve been leaning towards TabDialogs for dialogs that are conceptually bound to a WebContents* rather than a BrowserWindow*, which I think is the case here. BrowserView* is just used to find an anchor point (which should even be \"null\" in some cases - e.g. fullscreen, hosted/bookmark apps).\n\nThe reason I prefer Browser-\u003eBrowserWindow route is that by virtue of the function being on BrowserWindow callers are forced to go through a cross platform code path that makes sure you end up in the right place. If a different BrowserWindow implementation is used, the code just works. Calling Browser::FromWebContents() ensures you look up the Browser correctly.\n\nThe old code was:\n\nBrowser* browser \u003d chrome::FindBrowserWithWebContents(web_contents());\nbrowser-\u003ewindow()-\u003eShowSaveCreditCardBubble(web_contents(), this, is_reshow_);\n\nThe new code doesn\u0027t have the Browser, and as the implementation wants the BrowserView it has to assume BrowserView is the BrowserWindow:\n\n  BrowserView::GetBrowserViewForNativeWindow(...);\n\nAssuming BrowserView is *the* BrowserWindow certainly works now, but shouldn\u0027t this code work with other BrowserWindow implementations? At least if you route through BrowserWindow it\u0027s obvious another subclass needs to do something.\n\nMy question about active was more subtle. BrowserView::GetBrowserViewForNativeWindow() on ChromeOS for inactive tabs returns null.\n\nJust to reiterate, if the code is going to end up needing BrowserView I think it\u0027s far safer and less error prone to route through Browser for the following reasons:\n. it works with any BrowserWindow implementation.\n. You don\u0027t have to try to figure out BrowserView, the code is executing in BrowserView.\n. You don\u0027t crash when inactive tabs (you can null check to avoid the crash, but I bet most code wouldn\u0027t).",
      "parentUuid": "c2728fe4_768c97f6",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 72
      },
      "revId": "5c6c876680b0d5c8ca2853e5f65ad26411e64f04",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}