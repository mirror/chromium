{
  "comments": [
    {
      "key": {
        "uuid": "efd3f9a6_81855ce1",
        "filename": "chrome/browser/ui/tabs/tab_metrics_event.proto",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-05T18:11:49Z",
      "side": 1,
      "message": "Scheme is quite generic. Maybe ProtocalHandlerType?",
      "range": {
        "startLine": 49,
        "startChar": 7,
        "endLine": 49,
        "endChar": 14
      },
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1a10c22_e57713ab",
        "filename": "chrome/browser/ui/tabs/tab_metrics_logger_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-05T18:11:49Z",
      "side": 1,
      "message": "Assuming this code stays in sync with the enum in the protobuff is rather fragile.",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1089cb93_3d9bc3c9",
        "filename": "chrome/browser/ui/tabs/tab_metrics_logger_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1003321
      },
      "writtenOn": "2017-12-05T18:27:58Z",
      "side": 1,
      "message": "This array should only change if Chrome adds schemes in the future, and the changes should only be additions, not insertions. There\u0027s a risk that a well-meaning CL inserts a new item alphabetically or accidentally transposes something. We can mitigate that risk with a test for GetSchemeValueFromString (preferred), or by replacing this array with a 21-branch if/else chain of strcmp\u0027s (ugly). So would exposing GetSchemeValueFromString to a test be an OK solution?\n\nThe protobuf itself will be used by our analysis pipeline to interpret the data correctly. The values of the enum in the proto shouldn\u0027t change, or we\u0027d have all the fun issues that come with client/server incompatibility. I think we just have to take that as a given.",
      "parentUuid": "f1a10c22_e57713ab",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d11c02db_1d9ba7a8",
        "filename": "chrome/browser/ui/tabs/tab_metrics_logger_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-05T22:46:00Z",
      "side": 1,
      "message": "Exposing for test SGTM.",
      "parentUuid": "1089cb93_3d9bc3c9",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08b356d3_3f3d8fce",
        "filename": "chrome/browser/ui/tabs/tab_metrics_logger_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 68,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2017-12-07T04:18:23Z",
      "side": 1,
      "message": "nit: Blank line after return.",
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a36ba4a3_0f92222d",
        "filename": "chrome/browser/ui/tabs/tab_metrics_logger_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 94,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2017-12-07T04:18:23Z",
      "side": 1,
      "message": "So we only record URLs that are the default handler? You might also want to record non-default but accepted handlers. (Those can still be chosen by the user in the Open With context menu.) But yes, the default handler is the main thing to care about.",
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44db2964_57f75e7f",
        "filename": "chrome/browser/ui/tabs/tab_metrics_logger_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2017-12-07T04:18:23Z",
      "side": 1,
      "message": "I haven\u0027t seen UKM code before. Let me clarify what this is doing and you tell me if I\u0027m write.\n\nThis is recording an association from origin (implicitly; this method is only called with an |entry| associated with the origin of |handler.url()|) to a scheme, which this handler handles.\n\nSo for example, this might get the entry for \"mail.google.com\", and set its \"DefaultProtocolHandler\" value to \"mailto\".\n\nI\u0027m not sure where SetDefaultProtocolHandler is defined. It isn\u0027t in code search or in this CL. Is it magically generated by a proto? Does it store only a single scheme associated with an origin?\n\nWhat if an origin handles two protocols?",
      "revId": "1b64108d137a2c7cac696c3b9a5fb02e82d56b3f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}