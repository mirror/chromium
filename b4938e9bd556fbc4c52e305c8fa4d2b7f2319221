{
  "comments": [
    {
      "key": {
        "uuid": "344af29b_eec2ee5f",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 1159974
      },
      "writtenOn": "2017-12-14T15:02:22Z",
      "side": 1,
      "message": "I was thinking along the lines of, for input, trying to get the preferred channel layout regardless and falling back to total_channel_count if that fails. Perhaps that\u0027s unnecessary, if we\u0027re not doing anything clever with the actual layout.",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56d85000_7a8c6c2f",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-12-15T15:55:20Z",
      "side": 1,
      "message": "Sure, we could do that. However, I\u0027ve searched with torch and flashlight after evidence that it should be possible to use kAudioUnitProperty_AudioChannelLayout on the input element; can\u0027t find anything. I think we should use the StreamFormat property on the audio unit to get the number of channels if input element. Wdyt?",
      "parentUuid": "344af29b_eec2ee5f",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58c7e3d0_17765955",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 1159974
      },
      "writtenOn": "2017-12-15T16:05:47Z",
      "side": 1,
      "message": "If that\u0027s the case, I think you\u0027re probably right. Falling back to channel count, rather than just using it directly, would just lead to a number of error messages about unsupported properties for no good reason.\n\nKeep this!",
      "parentUuid": "56d85000_7a8c6c2f",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59960171_d1fd7c64",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-12-15T18:22:55Z",
      "side": 1,
      "message": "You might try sending an email to the coreaudio mailing list. The Apple Devs reply there from time to time. https://lists.apple.com/mailman/listinfo/coreaudio-api",
      "parentUuid": "58c7e3d0_17765955",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f70d853_5873ddbd",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-12-18T14:54:35Z",
      "side": 1,
      "message": "I\u0027ll changed to use the stream format on the AU, instead of the total count for all possible streams. The former should be more accurate and the correct way, since the AUHAL flattens streams for a device to a single non-interleaved stream.\n\nReferences:\nhttps://lists.apple.com/archives/coreaudio-api/2004/Jan/msg00139.html\nhttps://lists.apple.com/archives/coreaudio-api/2004/Jan/msg00141.html\n\nYes, I might check on the list.",
      "parentUuid": "59960171_d1fd7c64",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9acf93db_6f80be30",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-12-13T18:57:07Z",
      "side": 1,
      "message": "Hmm I think the output/input drivers already set this, so you might need to delete it from them too if you\u0027re doing this. Also should be \"enable_io\"",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e75b9cc7_48901b0c",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-12-14T14:53:03Z",
      "side": 1,
      "message": "Good point, done. And done.",
      "parentUuid": "9acf93db_6f80be30",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a448e05b_dbe8c01a",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-12-13T18:57:07Z",
      "side": 1,
      "message": "Just !enableIO?",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57370b80_aaea7c08",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-12-14T14:53:03Z",
      "side": 1,
      "message": "I\u0027d prefer avoiding an implicit conversion int-\u003ebool-\u003eint and being explicit instead. It also assumes only 0 and 1 enum values, which of course is fine in practise in case of this enum.\n\nThat said, I\u0027ll change it if you wish. !enable_io is somewhat more readable.",
      "parentUuid": "a448e05b_dbe8c01a",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc886905_1aeca9fb",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1159974
      },
      "writtenOn": "2017-12-14T15:02:22Z",
      "side": 1,
      "message": "Why not:\nconst UInt32 enableInput for the first one and\nconst UInt32 enableOutput \u003d !enableInput (or something like that) for the second one?\nNeater to not reuse the variable like that.",
      "parentUuid": "57370b80_aaea7c08",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bb1dceb_7052dbc6",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-12-14T16:30:00Z",
      "side": 1,
      "message": "Yeah definitely the ! is more readable. Dunno if API will take a const, but otherwise sgtm.",
      "parentUuid": "cc886905_1aeca9fb",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa36946f_0b319e7a",
        "filename": "media/audio/mac/scoped_audio_unit.cc",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-12-15T15:55:20Z",
      "side": 1,
      "message": "OK, the votes are in. !enable_io it is. Other suggestions sg, done.",
      "parentUuid": "6bb1dceb_7052dbc6",
      "revId": "b4938e9bd556fbc4c52e305c8fa4d2b7f2319221",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}