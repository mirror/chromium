{
  "comments": [
    {
      "key": {
        "uuid": "783d109a_ffbfaafa",
        "filename": "chrome/browser/cryptauth/chrome_cryptauth_service.cc",
        "patchSetId": 2
      },
      "lineNbr": 335,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-30T00:02:54Z",
      "side": 1,
      "message": "Actually, this isn\u0027t good enough. If the policy switches from off to on or vice versa, we should update the enrollment/sync status accordingly. You\u0027ll have to add a listener for these preferences.",
      "range": {
        "startLine": 335,
        "startChar": 29,
        "endLine": 335,
        "endChar": 56
      },
      "revId": "50145526af7f86aebd2147fafdee404763666431",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d82a3ffa_b9c6999b",
        "filename": "chrome/browser/cryptauth/chrome_cryptauth_service.cc",
        "patchSetId": 2
      },
      "lineNbr": 335,
      "author": {
        "id": 1002806
      },
      "writtenOn": "2017-11-30T01:23:46Z",
      "side": 1,
      "message": "Is this really a plausible edge case to consider? Basically, this would only apply to users already logged in when they get a new policy. Simply logging out and logging in would refresh this state. IMO, adding an observer adds complexity for not too much gain. Being out of sync until the user logs out isn\u0027t a big deal since it should happen so rarely.",
      "parentUuid": "783d109a_ffbfaafa",
      "range": {
        "startLine": 335,
        "startChar": 29,
        "endLine": 335,
        "endChar": 56
      },
      "revId": "50145526af7f86aebd2147fafdee404763666431",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60579612_7f192233",
        "filename": "chrome/browser/cryptauth/chrome_cryptauth_service.cc",
        "patchSetId": 2
      },
      "lineNbr": 335,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-30T18:09:18Z",
      "side": 1,
      "message": "I\u0027d prefer that you add it since the Tether component already does so (see [1]). Without adding it here as well, our listener won\u0027t do anything since we won\u0027t be able to check for synced devices. Do other projects do this? If a log out is required in general for CrOS policy changes, then I\u0027m okay with that too.\n\n[1] https://cs.chromium.org/chromium/src/chrome/browser/chromeos/tether/tether_service.cc?l\u003d126",
      "parentUuid": "d82a3ffa_b9c6999b",
      "range": {
        "startLine": 335,
        "startChar": 29,
        "endLine": 335,
        "endChar": 56
      },
      "revId": "50145526af7f86aebd2147fafdee404763666431",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0678c906_aa1bf114",
        "filename": "chrome/browser/cryptauth/chrome_cryptauth_service.cc",
        "patchSetId": 2
      },
      "lineNbr": 335,
      "author": {
        "id": 1002806
      },
      "writtenOn": "2017-12-04T19:23:15Z",
      "side": 1,
      "message": "Hmm... there probably isn\u0027t a guideline--at least not one that I could find. \n\nI added the listener as you suggested, but only for starting the services. If a feature is disabled by policy, I think it\u0027s fine to just keep them running until the user logs off. Otherwise, it\u0027s a bit more complex.",
      "parentUuid": "60579612_7f192233",
      "range": {
        "startLine": 335,
        "startChar": 29,
        "endLine": 335,
        "endChar": 56
      },
      "revId": "50145526af7f86aebd2147fafdee404763666431",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d368753b_ef798295",
        "filename": "chrome/browser/cryptauth/chrome_cryptauth_service.cc",
        "patchSetId": 2
      },
      "lineNbr": 335,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-12-04T19:30:35Z",
      "side": 1,
      "message": "That\u0027s fine by me! We only need to prevent unnecessary enrollments, so if the policy disallows enrollment after enrollment has already occurred, we don\u0027t benefit from shutting down the service anyway :)",
      "parentUuid": "0678c906_aa1bf114",
      "range": {
        "startLine": 335,
        "startChar": 29,
        "endLine": 335,
        "endChar": 56
      },
      "revId": "50145526af7f86aebd2147fafdee404763666431",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}