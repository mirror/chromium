{
  "comments": [
    {
      "key": {
        "uuid": "a431ebd9_b4a95d81",
        "filename": "chrome/browser/chromeos/extensions/file_manager/event_router_factory.cc",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-14T10:30:02Z",
      "side": 1,
      "message": "nice :D",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa7b881f_5e45659e",
        "filename": "chrome/browser/chromeos/file_manager/arc_file_tasks.cc",
        "patchSetId": 1
      },
      "lineNbr": 200,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-14T10:30:02Z",
      "side": 1,
      "message": "I\u0027m not familiar with file_manager/ at all, but is it always safe to assume that the |profile| is still alive when the callback is called?",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab1fcdaa_5a7ffa54",
        "filename": "chrome/browser/chromeos/file_manager/arc_file_tasks.cc",
        "patchSetId": 1
      },
      "lineNbr": 200,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-14T21:16:00Z",
      "side": 1,
      "message": "(i don\u0027t know the answer here either)",
      "parentUuid": "fa7b881f_5e45659e",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e04bd95_7a1a879f",
        "filename": "chrome/browser/chromeos/file_manager/arc_file_tasks.cc",
        "patchSetId": 1
      },
      "lineNbr": 200,
      "author": {
        "id": 1003166
      },
      "writtenOn": "2017-07-14T21:53:21Z",
      "side": 1,
      "message": "IIUC that should be the case: https://cs.chromium.org/chromium/src/chrome/browser/chrome_browser_main.cc?type\u003dcs\u0026l\u003d2003 destroys the Profiles, and that\u0027s called in PostMainMessageLoopRun(). The callback is expected to be run in the UI thread, so it should be impossible for the callback to be executed.\n\nHaving said that, can you add a base::Unretained and a short comment for future readers?",
      "parentUuid": "ab1fcdaa_5a7ffa54",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58a1bc72_4ae596e2",
        "filename": "chrome/browser/chromeos/file_manager/arc_file_tasks.cc",
        "patchSetId": 1
      },
      "lineNbr": 200,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T09:28:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e04bd95_7a1a879f",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb8f8c47_7000d753",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-14T10:30:02Z",
      "side": 1,
      "message": "Not really sure if this is a good idea, but can we just pass |this| instead?",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47657050_b9d9dd1c",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T09:28:31Z",
      "side": 1,
      "message": "I think passing the |context_| reduces the assumption?\n(BrowserContext* is alive while UI thread message loop is running, v.s. BrowserContext* and ArcIntentHelperBridge* are alive)\n\nHmm, practically those are same, though. WDYT?",
      "parentUuid": "bb8f8c47_7000d753",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e815078d_ca628ef7",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-14T10:30:02Z",
      "side": 1,
      "message": "L157 probably works fine because the returned object is relatively short-lived. The returned object is kept in an OpenWithMenuObserver object (chrome/browser/renderer_context_menu/open_with_menu_factory_ash.cc) but the object is live only while Chrome\u0027s right-click menu is shown.\n\nAnyway, I\u0027m not very familiar with BrowserContext. What can we assume about |context_|\u0027s lifetime?",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b51662a2_6ed544ef",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T09:28:31Z",
      "side": 1,
      "message": "As long as the context is touched on UI thread, it should work, as mentioned by Luis, in this case.",
      "parentUuid": "e815078d_ca628ef7",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a16d83c4_41596c50",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-18T10:31:42Z",
      "side": 1,
      "message": "Ok, how about adding a doc on this to maybe chrome/browser/chromeos/arc/arc_service_launcher.cc? I\u0027d mention that the |profile| and a BroserContext object associated with the |profile| is alive as long as the UI thread is running, and because of that, posting the |profile| or |browser_context| to UI thread is safe. Doing it in another CL is just fine.",
      "parentUuid": "b51662a2_6ed544ef",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dbf67de9_932db6bb",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.cc",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T10:43:15Z",
      "side": 1,
      "message": "Sure, will do in a separate CL.",
      "parentUuid": "a16d83c4_41596c50",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f97891fb_f5b72b7f",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-14T10:30:02Z",
      "side": 1,
      "message": "same as before. the browser |context| ?",
      "range": {
        "startLine": 46,
        "startChar": 19,
        "endLine": 46,
        "endChar": 21
      },
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1945cb0a_4c39a938",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T09:28:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f97891fb_f5b72b7f",
      "range": {
        "startLine": 46,
        "startChar": 19,
        "endLine": 46,
        "endChar": 21
      },
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5d047eaa_64ade96c",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1003166
      },
      "writtenOn": "2017-07-14T21:53:21Z",
      "side": 1,
      "message": "please mention ownership",
      "range": {
        "startLine": 110,
        "startChar": 20,
        "endLine": 110,
        "endChar": 39
      },
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31fb0eca_b8212876",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge.h",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T09:28:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5d047eaa_64ade96c",
      "range": {
        "startLine": 110,
        "startChar": 20,
        "endLine": 110,
        "endChar": 39
      },
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abf53f96_c636ae0d",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2017-07-14T10:30:02Z",
      "side": 1,
      "message": "can you add /* context */? I guess I can\u0027t remember what it is for.",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c5d25c7_19d11d20",
        "filename": "components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-07-18T09:28:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "abf53f96_c636ae0d",
      "revId": "ec34a1b2aee0e9355fb6609dbcdba9e7541724e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}