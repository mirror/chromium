{
  "comments": [
    {
      "key": {
        "uuid": "8daf7b57_276f7826",
        "filename": "cc/tiles/checker_image_tracker.h",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-17T23:29:25Z",
      "side": 1,
      "message": "This seems like a layering violation. Checker image tracker shouldn\u0027t know or care whether we\u0027re using gpu rasterization. Can you instead add a flag something along the lines of \"forced off\" and do the logic of determining that higher up in the stack?",
      "range": {
        "startLine": 165,
        "startChar": 7,
        "endLine": 165,
        "endChar": 31
      },
      "revId": "edc46ade63fcc60b9f3e083a5ec3a2a71b32d16d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14f91915_b2347181",
        "filename": "cc/tiles/checker_image_tracker.h",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-08-17T23:30:21Z",
      "side": 1,
      "message": "Sure. Would you prefer that in TileManager?",
      "parentUuid": "8daf7b57_276f7826",
      "range": {
        "startLine": 165,
        "startChar": 7,
        "endLine": 165,
        "endChar": 31
      },
      "revId": "edc46ade63fcc60b9f3e083a5ec3a2a71b32d16d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97bd1e97_4f715419",
        "filename": "cc/tiles/checker_image_tracker.h",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-08-18T18:09:20Z",
      "side": 1,
      "message": "Actually, I did want to specifically UMA how many vetoes are happening because of software raster. Since that happens in the tracker, having the disabling reason be explicit there instead of a generic force_disable flag feels better. Wdyt?",
      "parentUuid": "14f91915_b2347181",
      "range": {
        "startLine": 165,
        "startChar": 7,
        "endLine": 165,
        "endChar": 31
      },
      "revId": "edc46ade63fcc60b9f3e083a5ec3a2a71b32d16d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9514131_9cd50a9b",
        "filename": "cc/tiles/checker_image_tracker.h",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-18T18:53:13Z",
      "side": 1,
      "message": "I think you can infer that from ForcedDisabled veto type.\n\nTile manager only know about gpu rasterization to pass it to the raster task, which is only used for tracking metrics. So, I think I\u0027d rather thing about removing that rather than adding more uses.\n\nMaybe LTHI can make this decision when we decide whether or not to use gpu raster and then set \"SetCheckerImagingForcedDisabled()\" or something like that on tile manager which can pass that to the checker tracker (unless LTHI can access the checker tracker directly)",
      "parentUuid": "97bd1e97_4f715419",
      "range": {
        "startLine": 165,
        "startChar": 7,
        "endLine": 165,
        "endChar": 31
      },
      "revId": "edc46ade63fcc60b9f3e083a5ec3a2a71b32d16d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d7f1c3d_f9d3a146",
        "filename": "cc/tiles/checker_image_tracker.h",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-08-18T21:02:09Z",
      "side": 1,
      "message": "\u003e I think you can infer that from ForcedDisabled veto type.\n\u003e \n\u003e Tile manager only know about gpu rasterization to pass it to the raster task, which is only used for tracking metrics. So, I think I\u0027d rather thing about removing that rather than adding more uses.\n\nI think its also being used to decide whether to run raster on the non-concurrent thread (for the worker context).\n\n\u003e \n\u003e Maybe LTHI can make this decision when we decide whether or not to use gpu raster and then set \"SetCheckerImagingForcedDisabled()\" or something like that on tile manager which can pass that to the checker tracker (unless LTHI can access the checker tracker directly)\n\nDone.",
      "parentUuid": "d9514131_9cd50a9b",
      "range": {
        "startLine": 165,
        "startChar": 7,
        "endLine": 165,
        "endChar": 31
      },
      "revId": "edc46ade63fcc60b9f3e083a5ec3a2a71b32d16d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75527dfc_e8ad6621",
        "filename": "cc/tiles/checker_image_tracker.h",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-18T21:31:13Z",
      "side": 1,
      "message": "\u003e \u003e I think you can infer that from ForcedDisabled veto type.\n\u003e \u003e \n\u003e \u003e Tile manager only know about gpu rasterization to pass it to the raster task, which is only used for tracking metrics. So, I think I\u0027d rather thing about removing that rather than adding more uses.\n\u003e \n\u003e I think its also being used to decide whether to run raster on the non-concurrent thread (for the worker context).\n\nNo that\u0027s being done in LTHI I think. TileManager just gets the worker pool to use, but it\u0027s unaware of what type it is. This is similar to the image cache and other things. I feel like TileManager should remain agnostic to the type of rasterization being used. \n\u003e \n\u003e \u003e \n\u003e \u003e Maybe LTHI can make this decision when we decide whether or not to use gpu raster and then set \"SetCheckerImagingForcedDisabled()\" or something like that on tile manager which can pass that to the checker tracker (unless LTHI can access the checker tracker directly)\n\u003e \n\u003e Done.",
      "parentUuid": "9d7f1c3d_f9d3a146",
      "range": {
        "startLine": 165,
        "startChar": 7,
        "endLine": 165,
        "endChar": 31
      },
      "revId": "edc46ade63fcc60b9f3e083a5ec3a2a71b32d16d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}