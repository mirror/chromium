{
  "comments": [
    {
      "key": {
        "uuid": "82519752_56fdef4f",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1003152
      },
      "writtenOn": "2017-06-19T13:31:39Z",
      "side": 1,
      "message": "nit: s/// + 3 occurrences below.",
      "range": {
        "startLine": 125,
        "startChar": 10,
        "endLine": 125,
        "endChar": 20
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0aa9665_c6c35c94",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T16:28:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82519752_56fdef4f",
      "range": {
        "startLine": 125,
        "startChar": 10,
        "endLine": 125,
        "endChar": 20
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3291fe59_9d950c6b",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1002541
      },
      "writtenOn": "2017-06-19T13:28:30Z",
      "side": 1,
      "message": "nit: #include \u003calgorithms\u003e for this?",
      "range": {
        "startLine": 193,
        "startChar": 28,
        "endLine": 193,
        "endChar": 36
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "835964c2_f5d12ce8",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1003152
      },
      "writtenOn": "2017-06-19T13:31:39Z",
      "side": 1,
      "message": "#include \u003calgorithm\u003e",
      "range": {
        "startLine": 193,
        "startChar": 28,
        "endLine": 193,
        "endChar": 36
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38cdb13f_c42a8e3c",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.cc",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T16:28:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "835964c2_f5d12ce8",
      "range": {
        "startLine": 193,
        "startChar": 28,
        "endLine": 193,
        "endChar": 36
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb7bcb2_5748e351",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.h",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1003152
      },
      "writtenOn": "2017-06-19T13:31:39Z",
      "side": 1,
      "message": "nit: Can this be made const? Or even a reference to indicate that ownership stays with the caller?",
      "range": {
        "startLine": 114,
        "startChar": 6,
        "endLine": 114,
        "endChar": 17
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87a51a10_4fd99627",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1002541
      },
      "writtenOn": "2017-06-19T13:28:30Z",
      "side": 1,
      "message": "I saw your argument about unit-testing of RecordHistogramsOnSuppressedAccounts being hard, but I would like to understand in more details what are the issues.\n\nIdeally, instead of friending the *Recorder class and testing GetActionsTakenNew, the Actions test should morph into a test for RecordHistogramsOnSuppressedAccounts (which exposes the result of GetActionsTakenNew).\n\nI don\u0027t want to be blocking or demanding additional work unnecessarily, but to complement Vasilii\u0027s recent success with bringing our big tests into shape, I have been consistently pushing for improving unittest-ability and -coverage in our code. I need to understand the issue with writing the test here to be able to make plans for changing the production code structure even if we ended up not adding the test here.",
      "range": {
        "startLine": 118,
        "startChar": 2,
        "endLine": 118,
        "endChar": 65
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b821c424_29af518c",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T16:28:35Z",
      "side": 1,
      "message": "The issues are\na) the state explosion of things to be tested:\n   - FormType: Manual / Generated\n   - HTTPSNotHTTP / PSLMatching / SameOrganizationName\n   - SuppressedAccountExistence: kSuppressedAccountNone / kSuppressedAccountExists / kSuppressedAccountExistsDifferentUsername / kSuppressedAccountExistsSameUsername / kSuppressedAccountExistsSameUsernameAndPassword\n   - ManagerAction: kManagerActionNone / kManagerActionAutofilled\n   - UserAction: kNone / kChoose / kChoosePslMatch / kOverridePassword / kOverrideUsernameAndPassword\n   - SubmitResult: kSubmitResultNotSubmitted / kSubmitResultFailed / kSubmitResultPassed\nb) the amount of work needed to set up the datastructures in a meaningful way\nc) the fact that PasswordFormManagerTest.SuppressedFormsHistograms takes care of all of that, but if we moved that to password_form_metrics_recorder_unittest.cc, we would create a layering violation (dependence on PasswordFormManager) or reduce the coverage of the test (PasswordFormManagerTest.SuppressedFormsHistograms does a good job at an integration test).",
      "parentUuid": "87a51a10_4fd99627",
      "range": {
        "startLine": 118,
        "startChar": 2,
        "endLine": 118,
        "endChar": 65
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52edc891_aedfe25e",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1002541
      },
      "writtenOn": "2017-06-19T17:50:46Z",
      "side": 1,
      "message": "Thanks for the explanation. Now I see that the integration test is just a PasswordFormManager unittest, I\u0027m more comfortable. I was fearing you want to replace it with a browser test or such. This looks fine to me.\n\nDo I understand correctly, that the state explosion and difficulty in setting up the inputs is unavoidable, but the argument is that this is already written in PasswordFormManagerTest?",
      "parentUuid": "b821c424_29af518c",
      "range": {
        "startLine": 118,
        "startChar": 2,
        "endLine": 118,
        "endChar": 65
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06e6b254_3bb119d0",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.h",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 1003152
      },
      "writtenOn": "2017-06-19T13:31:39Z",
      "side": 1,
      "message": "Uhm, seems like I forgot a `\u0026` here back then. Could you please fix this? ;-)",
      "range": {
        "startLine": 142,
        "startChar": 54,
        "endLine": 142,
        "endChar": 55
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6bfea99_edf8fd7f",
        "filename": "components/password_manager/core/browser/password_form_metrics_recorder.h",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T16:28:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "06e6b254_3bb119d0",
      "range": {
        "startLine": 142,
        "startChar": 54,
        "endLine": 142,
        "endChar": 55
      },
      "revId": "09d3c5fb7113c10c48227ecd0de2ee7f4694cf70",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}