{
  "comments": [
    {
      "key": {
        "uuid": "82092b47_e2c43a7a",
        "filename": "build/android/gyp/util/build_utils.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "What\u0027s this for?",
      "range": {
        "startLine": 35,
        "startChar": 33,
        "endLine": 35,
        "endChar": 46
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3b4ec14_15925c4e",
        "filename": "build/android/gyp/util/build_utils.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "I think this pattern is for processing resources like images and to generate R.java for the resources. Since this .py .pyc files are not resources, they shouldn\u0027t be added to this process.\n\nJohn@ - correct me if that\u0027s not the case",
      "parentUuid": "82092b47_e2c43a7a",
      "range": {
        "startLine": 35,
        "startChar": 33,
        "endLine": 35,
        "endChar": 46
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "465a65ea_1577705e",
        "filename": "build/android/gyp/util/build_utils.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-11-17T22:05:11Z",
      "side": 1,
      "message": "yeah, this is correct.",
      "parentUuid": "c3b4ec14_15925c4e",
      "range": {
        "startLine": 35,
        "startChar": 33,
        "endLine": 35,
        "endChar": 46
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85d76a32_56c54220",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "I wonder if chrome/android/java/res/ is the right long-term place for this since we also have ui/android XML resources. Maybe as an extension we can look at checking those as well. I think the primary complication will be multiple colors.xml files.",
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fae236c_8377d530",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "Yes that\u0027s what I\u0027ve been thinking about that too. Since content/ and ui/ also have colors.xml, we might need to move this to possibly src/PRESUBMIT.py, but then I also want to keep these xml file checks separate to other checks. Another place I think would be good for long term may be src/tools/android. We can create something similar to the checkstyle.py for xml files (https://cs.chromium.org/chromium/src/tools/android/checkstyle/checkstyle.py?q\u003dRunCheckstyle\u0026dr\u003dCSs) and have only one function for xml checks in src/PRESUBMIT.py.\n\nI put this is chrome/ because I feel it\u0027s better to first add the checks in chrome/ directory and see how they work out, and then migrate them to check more directories. But maybe we can go with adding them is src/PRESUBMIT.py and limit the checks to be in chrome/?\n\nJohn@ - Do you have any suggestions where we should put this?",
      "parentUuid": "85d76a32_56c54220",
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0aafc6e_a50ba3d3",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-11-17T22:05:11Z",
      "side": 1,
      "message": "How long do these take to run?\n\nI think //PRESUBMIT.py could be ok if these are sufficiently fast and if we can narrow down more than just files matching .*\\.xml.\n\nAs for where the implementation lives, I don\u0027t have a strong opinion between //tools/android and inline in //PRESUBMIT.py (though one of the //PRESUBMIT.py owners may).",
      "parentUuid": "0fae236c_8377d530",
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8da94d76_fc4da99c",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-18T01:01:34Z",
      "side": 1,
      "message": "So I ran 5 presubmit checks in sequence. First case with color checks commented out, and second case with the color checks. The averages are as follows:\n10.92s -- no color checks\n10.76s -- all three checks\n\nI\u0027m not sure why it\u0027s so slow even if I commented out all three checks in _CommonChecks here. but if just comparing the time, it seems that the checks are not slowing down presubmit checks much.\n\nAnd yes I think we can narrow down to check xml files only in the Android resource directories in ui/, chrome/ and possibly content/.",
      "parentUuid": "d0aafc6e_a50ba3d3",
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5cc5cab_69821968",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-11-18T01:10:24Z",
      "side": 1,
      "message": "Having these run in //PRESUBMIT.py seems fine, then.",
      "parentUuid": "8da94d76_fc4da99c",
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92f60c9a_db393d48",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "Can this be simplified to [0-9A-F]{6,8}, which would require at least 6 repetitions and at most 8 repetitions?",
      "range": {
        "startLine": 22,
        "startChar": 9,
        "endLine": 22,
        "endChar": 55
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3bbb67a_b099abd4",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "Hm.. I restrict the format to be 6 for opaque color and 8 for translucent color, so FFCCCCCC would not be valid, however, we can make this valid if using [0-9A-F]{6,8}. \n\nI think it is a matter of choice. I made them different so that it\u0027s clear CCCCCC and FFCCCCCC are the same color. Or alternatively, we can just restrict all hex values to be 8 digits.",
      "parentUuid": "92f60c9a_db393d48",
      "range": {
        "startLine": 22,
        "startChar": 9,
        "endLine": 22,
        "endChar": 55
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a8469d3_c6bbb653",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T20:01:42Z",
      "side": 1,
      "message": "Ah, okay. Let\u0027s keep it like this then.",
      "parentUuid": "e3bbb67a_b099abd4",
      "range": {
        "startLine": 22,
        "startChar": 9,
        "endLine": 22,
        "endChar": 55
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c84b6229_a4fd8a9a",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "Is #RGB OK? I could go either way on this.. maybe we should limit it to RRGGBB so that it\u0027s easier to detect duplicates.",
      "range": {
        "startLine": 64,
        "startChar": 54,
        "endLine": 64,
        "endChar": 61
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ab1707c_9e5dbe0a",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "In this test, #RGB is not OK. I removed #RGB to make checks easier and to make the format more consistent.",
      "parentUuid": "c84b6229_a4fd8a9a",
      "range": {
        "startLine": 64,
        "startChar": 54,
        "endLine": 64,
        "endChar": 61
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93f52aa7_376f4a7d",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T20:01:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1ab1707c_9e5dbe0a",
      "range": {
        "startLine": 64,
        "startChar": 54,
        "endLine": 64,
        "endChar": 61
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "878d65c8_23069743",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "Why does this also check VALID_COLOR_PATTERN? Can you give me an example of when COLOR_PATTERN  would match but VALID_COLOR_PATTERN wouldn\u0027t?",
      "range": {
        "startLine": 86,
        "startChar": 18,
        "endLine": 86,
        "endChar": 60
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db91f625_cb7f3bea",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "Good point! Actually this should be simplified to just check if COLOR_PATTERN exists, since if this should be removed no matter what format of hex value it is...",
      "parentUuid": "878d65c8_23069743",
      "range": {
        "startLine": 86,
        "startChar": 18,
        "endLine": 86,
        "endChar": 60
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43521471_5fda320e",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T20:01:42Z",
      "side": 1,
      "message": "Resolved",
      "parentUuid": "db91f625_cb7f3bea",
      "range": {
        "startLine": 86,
        "startChar": 18,
        "endLine": 86,
        "endChar": 60
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "231383bd_d2309b1c",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "nit: should this be /colors.xml for consistency?",
      "range": {
        "startLine": 109,
        "startChar": 35,
        "endLine": 109,
        "endChar": 44
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0c04a00_792a6ed9",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "Yes thanks for catching!",
      "parentUuid": "231383bd_d2309b1c",
      "range": {
        "startLine": 109,
        "startChar": 35,
        "endLine": 109,
        "endChar": 44
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56c9af4f_45ba5b8f",
        "filename": "chrome/android/java/res/PRESUBMIT.py",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T20:01:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e0c04a00_792a6ed9",
      "range": {
        "startLine": 109,
        "startChar": 35,
        "endLine": 109,
        "endChar": 44
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9252a836_957129fd",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "Is this testing that one of the colors defined below has too many characters? They\u0027re all AARRGGBB, right?",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 28
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f68f1f81_20abdbf3",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "Same to the above comment, I made the format RRGGBB for opaque color and AARRGGBB for translucent color.",
      "parentUuid": "9252a836_957129fd",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 28
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4e3c2b4_c1206c6b",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T20:01:42Z",
      "side": 1,
      "message": "Maybe something like testColorInvalidAlphaValue() would make it a bit more clear? I missed that #FF was disallowed.",
      "parentUuid": "f68f1f81_20abdbf3",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 28
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7154acd_5251248c",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-18T01:01:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4e3c2b4_c1206c6b",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 28
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "636538bf_9b3b508c",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T03:41:51Z",
      "side": 1,
      "message": "This wouldn\u0027t trip any of the presubmit checks. Let\u0027s use a hex color instead of an @color",
      "range": {
        "startLine": 70,
        "startChar": 40,
        "endLine": 70,
        "endChar": 55
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec1d5ba8_caea8eef",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-11-17T19:48:32Z",
      "side": 1,
      "message": "Ahhh right, this actually should be a hex value and the test was failing... Fixed the check.",
      "parentUuid": "636538bf_9b3b508c",
      "range": {
        "startLine": 70,
        "startChar": 40,
        "endLine": 70,
        "endChar": 55
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6be2867f_6a695370",
        "filename": "chrome/android/java/res/PRESUBMIT_test.py",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-17T20:01:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ec1d5ba8_caea8eef",
      "range": {
        "startLine": 70,
        "startChar": 40,
        "endLine": 70,
        "endChar": 55
      },
      "revId": "f4a7381c424cfe4e42e42590fb164028104da529",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}