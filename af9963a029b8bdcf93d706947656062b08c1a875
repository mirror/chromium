{
  "comments": [
    {
      "key": {
        "uuid": "cb6a9bfd_56ebad79",
        "filename": "net/socket/socket_posix.cc",
        "patchSetId": 9
      },
      "lineNbr": 10,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2017-08-16T00:21:15Z",
      "side": 1,
      "message": "Nit: Probably better to wrap these under #if defined(OS_FUCHSIA). (We\u0027ll remember to remove it once the OS_FUCHSIA code is removed.)",
      "revId": "af9963a029b8bdcf93d706947656062b08c1a875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dde6f5df_d9337640",
        "filename": "net/socket/socket_posix.cc",
        "patchSetId": 9
      },
      "lineNbr": 10,
      "author": {
        "id": 1116023
      },
      "writtenOn": "2017-08-16T00:43:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb6a9bfd_56ebad79",
      "revId": "af9963a029b8bdcf93d706947656062b08c1a875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9da44707_308a0a4a",
        "filename": "net/socket/socket_posix.cc",
        "patchSetId": 9
      },
      "lineNbr": 263,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2017-08-16T00:21:15Z",
      "side": 1,
      "message": "Does it work to listen for both POLLRDHUP | POLLIN? It\u0027s a little odd that you\u0027re checking for data in the buffer in different ways between here and IsConnectedAndIdle.",
      "revId": "af9963a029b8bdcf93d706947656062b08c1a875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a81bc28a_3cbf161a",
        "filename": "net/socket/socket_posix.cc",
        "patchSetId": 9
      },
      "lineNbr": 263,
      "author": {
        "id": 1116023
      },
      "writtenOn": "2017-08-16T00:43:12Z",
      "side": 1,
      "message": "I tried this first. The problem is that POLLIN is always signaled after connection is terminated (otherwise a process that polls for POLLIN would wait indefinitely on a disconnected socket, note that POLLRDHUP isn\u0027t standard, e.g. it doesn\u0027t exist on Mac). So POLLIN is useless when POLLRDHUP is signaled.",
      "parentUuid": "9da44707_308a0a4a",
      "revId": "af9963a029b8bdcf93d706947656062b08c1a875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3497a1a_0d5cfe0f",
        "filename": "net/socket/socket_posix.cc",
        "patchSetId": 9
      },
      "lineNbr": 263,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2017-08-16T00:46:36Z",
      "side": 1,
      "message": "Ah, I see. Okay.",
      "parentUuid": "a81bc28a_3cbf161a",
      "revId": "af9963a029b8bdcf93d706947656062b08c1a875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}