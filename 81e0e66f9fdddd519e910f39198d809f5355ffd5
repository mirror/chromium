{
  "comments": [
    {
      "key": {
        "uuid": "0f69d180_7f725556",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1116046
      },
      "writtenOn": "2017-06-15T18:27:58Z",
      "side": 1,
      "message": "nit \"is critically low and info_.alert_if_low is true\" or similar.",
      "range": {
        "startLine": 47,
        "startChar": 30,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79b8819a_8459f136",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-06-20T19:33:23Z",
      "side": 1,
      "message": "done (\"...charge level is critically low and the device is not plugged in\")",
      "parentUuid": "0f69d180_7f725556",
      "range": {
        "startLine": 47,
        "startChar": 30,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "126c495f_7b5cd101",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 96,
      "author": {
        "id": 1116046
      },
      "writtenOn": "2017-06-15T18:27:58Z",
      "side": 1,
      "message": "nit: |charge_state| doesn\u0027t exist anymore",
      "range": {
        "startLine": 96,
        "startChar": 45,
        "endLine": 96,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e8b67f7_413c42ee",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 96,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-06-20T19:33:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "126c495f_7b5cd101",
      "range": {
        "startLine": 96,
        "startChar": 45,
        "endLine": 96,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5b71372_11eefdfe",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1116046
      },
      "writtenOn": "2017-06-15T18:27:58Z",
      "side": 1,
      "message": "I\u0027m not sure if hard-coding a 5 in here is the right thing to do. Consider the case of the 16x16 battery icon, which can render a distcint-looking icon at every 100/16 \u003d 6.25% change in charge percentage. But hard-coding a 5 here effectively requests a re-draw of the icon at every 5% change in charge percentage. As a result, when the battery is charging from empty, the icon appearance will not change until the battery hits the 10% charge level.",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc384569_fad89d5a",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-06-20T19:33:23Z",
      "side": 1,
      "message": "Why do you say it won\u0027t change appearance till 10%? It should have a chance to change appearance at 5%, then again at 10%, etc. In some cases, like when you\u0027re plugged in, 0% will look the same as 5%, but I understand that that\u0027s intentional.\n\n(it\u0027s actually every 100/12 \u003d 8.3% (that\u0027s the magic 12 that was deleted).)",
      "parentUuid": "e5b71372_11eefdfe",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d2bd521_f0014917",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1116046
      },
      "writtenOn": "2017-06-20T20:07:33Z",
      "side": 1,
      "message": "It has a chance to change appearance at 5%, but it won\u0027t, since it only changes appearance in increments of 6.25% (or 8.3% as you point out). The next window of opportunity to change appearance isn\u0027t until 10%.",
      "parentUuid": "cc384569_fad89d5a",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e1868d7_248cb1e5",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-06-20T22:41:46Z",
      "side": 1,
      "message": "Ah, right, so in this example, the appearance would be slightly wrong for values between 8.4% and 9.9%. In general, it will never be off by more than 5% or 1 dip. This seems like an acceptable fudge factor to me. The other options would be to do away with this optimization, to reduce the error bars by reducing the 5, to re-add magic constants, or to somehow pipe through a bunch of mundane constants. I don\u0027t like either of the last two options.",
      "parentUuid": "1d2bd521_f0014917",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a5bb111_13467ff2",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1116046
      },
      "writtenOn": "2017-06-20T23:45:16Z",
      "side": 1,
      "message": "I think the fudge factor can be more than 5%. Consider a battery sized such that it can draw an additional 1 dp of charge every time the battery\u0027s charge level increases by 12% (12%, 24%, 36%, ...). If you have re-draw requests at 5% intervals (0%, 5%, 10%, ...) this means that: \n\n* the battery image representing a 24% charge will be drawn when the actual charge level reaches 25%\n* the next battery image (representing a 36% charge) will be drawn when the actual charge level reaches 40%\n\nSo as a result there is a 40-25\u003d15% gap during which the battery image is incorrect.",
      "parentUuid": "8e1868d7_248cb1e5",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c38e3e8_89a241dd",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1116046
      },
      "writtenOn": "2017-06-20T23:50:59Z",
      "side": 1,
      "message": "Disregard my last comment, it doesn\u0027t take into account the \"or 1 dip\" part of \"it will never be off by more than 5% or 1 dip\". You\u0027re right, and I agree this is an acceptable rule to follow.",
      "parentUuid": "5a5bb111_13467ff2",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3c6f8e1_a1298366",
        "filename": "ash/system/power/power_status.cc",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-06-21T15:09:09Z",
      "side": 1,
      "message": "Wouldn\u0027t the wrong appearance bounds be 40-36 \u003d 4%? Between 25 and 35 you\u0027re drawing at the right height.",
      "parentUuid": "5c38e3e8_89a241dd",
      "range": {
        "startLine": 217,
        "startChar": 56,
        "endLine": 217,
        "endChar": 57
      },
      "revId": "81e0e66f9fdddd519e910f39198d809f5355ffd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}