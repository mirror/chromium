{
  "comments": [
    {
      "key": {
        "uuid": "4f39aca4_a2c8be7a",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "1. Is the order of parameters right?  I normally see inputs (pages) before outputs (callback).\n\n2. There\u0027s no obvious reason for this to be async.  In this case, it\u0027s the last step in a call chain that has to return async, so we should mention that in some function comments.",
      "range": {
        "startLine": 40,
        "startChar": 5,
        "endLine": 40,
        "endChar": 29
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2975ea3f_70324826",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified.cc",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "In the header file, it would be good to say that this isn\u0027t removing anything, just identifying pages that would be removed if we did a cache reset now.",
      "range": {
        "startLine": 193,
        "startChar": 32,
        "endLine": 193,
        "endChar": 59
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27b67c60_ba53b657",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified.cc",
        "patchSetId": 3
      },
      "lineNbr": 200,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "This could also use more explanation in the .h file.  It seems to get pages in a subset of namespaces, but what \"supported by downloads\" means is not clear to me.",
      "range": {
        "startLine": 200,
        "startChar": 32,
        "endLine": 200,
        "endChar": 60
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2fb8489c_ad8ee6f4",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 128,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "needed?  Rename to just task_queue() because we only have one?",
      "range": {
        "startLine": 128,
        "startChar": 13,
        "endLine": 128,
        "endChar": 29
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11f70678_12ad28fa",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 136,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "Name a bit unclear, this is actually not the path to the archiver, but the path of the last thing the archiver archived. Maybe improve the name?",
      "range": {
        "startLine": 136,
        "startChar": 54,
        "endLine": 136,
        "endChar": 73
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "145f8cb0_6408de49",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 485,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "Some tests in offline_page_model_impl_unittest.cc seem to be missing here - intentional?",
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11fd1ef1_d8e2ae2c",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 486,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "This test says GetAllPages, but actually gets none.  Maybe rename the test to GetAllPagesWhenEmpty()?\n\nWe should have a corresponding test somewhere to call GetAllPages with at least two pages.  GetPagesByAllUrls does something similar, but we should do the same withe GetAllPages.",
      "range": {
        "startLine": 486,
        "startChar": 38,
        "endLine": 486,
        "endChar": 49
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37db4abb_5943d592",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 487,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "Generally speaking, I find stubs easier to reason about when coding and debugging than mocks.  Mocks do have their uses, particularly for very large classes, so I wouldn\u0027t forbid them, but consider if the code might be more maintainable with stubs (even if it would be more verbose).\n\nIf the big problem is having many EXPECT macros vs only one EXPECT_CALL, we could have a function to compare the two pages, and just expect that to return true.",
      "range": {
        "startLine": 487,
        "startChar": 8,
        "endLine": 487,
        "endChar": 20
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "591c599a_59ac90bc",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 497,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "better name might be offline_page_item_generator()",
      "range": {
        "startLine": 497,
        "startChar": 2,
        "endLine": 497,
        "endChar": 11
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51702623_28424915",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 537,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "Might be good to move this to the top of the file with the other URLs.  That way it is easier to check to see that foo is not the same as kTestUrl",
      "range": {
        "startLine": 537,
        "startChar": 31,
        "endLine": 537,
        "endChar": 41
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e16268c_4976c5ab",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 544,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "We are now calling GetPagesByUrl instead of GetPagesByFinalUrlWithFragmentStripped, maybe change the name of the test to GetPagesByUrlWithFragmentStripped.",
      "range": {
        "startLine": 544,
        "startChar": 38,
        "endLine": 544,
        "endChar": 76
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2c1c6cb_b3cc8528",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 595,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "More missing tests here.  Intentional?  Merging some existing tests into the one below? (I still don\u0027t see a test for CanSaveURL or DownloadMetrics, though)",
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8acd374_dd8d5090",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 618,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "The original test used different IDs for the two pages.  Does this test cover *not* fetching the ID that we didn\u0027t ask for?",
      "range": {
        "startLine": 618,
        "startChar": 40,
        "endLine": 618,
        "endChar": 0
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7ae22ef_d591282b",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 635,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "This also appears to be missing the negative case.",
      "range": {
        "startLine": 635,
        "startChar": 32,
        "endLine": 635,
        "endChar": 50
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a9fadc3_828ae89f",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 647,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "More missing tests here, mostly UMA related.  Coming in another changelist?",
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2910e7e_b7cbe194",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 654,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "This test could also benefit from a negative example - a page in another namespace, make sure that is not returned.",
      "range": {
        "startLine": 654,
        "startChar": 29,
        "endLine": 654,
        "endChar": 0
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe9c6111_0dde3f1a",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 665,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "We should change this name too if we change the underlying function name to \"GetPagesThatWouldBeRemovedOnCacheReset\".",
      "range": {
        "startLine": 665,
        "startChar": 38,
        "endLine": 665,
        "endChar": 65
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8685ed9_2ebf2f3e",
        "filename": "components/offline_pages/core/model/offline_page_model_taskified_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 705,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-11-07T23:09:13Z",
      "side": 1,
      "message": "Is this fixed yet?  Maybe we an remove the MAYBE_",
      "range": {
        "startLine": 705,
        "startChar": 46,
        "endLine": 705,
        "endChar": 52
      },
      "revId": "da8893f2b2693bbaa1047666c4e86d3a9e989180",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}