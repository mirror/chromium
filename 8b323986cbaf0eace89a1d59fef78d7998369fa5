{
  "comments": [
    {
      "key": {
        "uuid": "7e330d20_488862c9",
        "filename": "components/component_updater/component_installer.cc",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-10-05T01:57:09Z",
      "side": 1,
      "message": "Hmm... looks like this code was just copied, but why is this \u003e0 instead of \u003e\u003d0?  It seems like we shouldn\u0027t allow upgrading to the same version.",
      "revId": "8b323986cbaf0eace89a1d59fef78d7998369fa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3248df8_15456ab0",
        "filename": "components/component_updater/component_installer.h",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-10-05T12:10:26Z",
      "side": 1,
      "message": "This comment is incorrect as the current class is \"ComponentInstaller\" so those two methods cannot be overrides from ComponentInstaller. I think both method should be documented.",
      "revId": "8b323986cbaf0eace89a1d59fef78d7998369fa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12947610_5a2597b9",
        "filename": "components/component_updater/component_installer.h",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-10-05T12:10:26Z",
      "side": 1,
      "message": "I\u0027ve see that all implementation of that method basically do the following:\n\n  base::PostTaskWithTraits(\n      FROM_HERE,\n      {base::TaskPriority::BACKGROUND, base::MayBlock()},\n      base::Bind(callback, result));\n\nHowever, this mean pushing the fact of selecting the correct traits to the code implementing \"Install\" method. However, said code does not know what the callback does and cannot select the correct traits without at least documentation to say \"the callback should be invoked on a background sequence and allowed to block\".\n\nOr maybe better, since the method is only invoked from a single location in code in production in components/update_client/component.cc AFAICT (there are calls in unit tests but this is not a problem), just pass a callback that post the task with the correct traits, doing something like this:\n\n  installer-\u003eInstall(\n      std::move(manifest), unpack_path,\n      base::Bind(\n          \u0026base::PostTaskWithTraits,\n          FROM_HERE, base::TaskTraits{base::TaskPriority::BACKGROUND, base::MayBlock()},\n          base::Bind(\u0026InstallComplete, main_task_runner, callback, unpack_path)));",
      "revId": "8b323986cbaf0eace89a1d59fef78d7998369fa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "399b08bd_f74e39c9",
        "filename": "ios/chrome/browser/net/crl_set_fetcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-10-05T12:10:26Z",
      "side": 1,
      "message": "Remove.",
      "range": {
        "startLine": 174,
        "startChar": 2,
        "endLine": 174,
        "endChar": 9
      },
      "revId": "8b323986cbaf0eace89a1d59fef78d7998369fa5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}