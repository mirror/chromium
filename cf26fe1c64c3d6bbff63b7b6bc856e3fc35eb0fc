{
  "comments": [
    {
      "key": {
        "uuid": "3b27a89d_2c1b7f8e",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2018-02-02T19:09:15Z",
      "side": 1,
      "message": "Why would this sequence succeed for an SVG animation? Those can\u0027t be composited.",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f0dd577_606f6a3a",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2018-02-02T19:14:27Z",
      "side": 1,
      "message": "I have added a test case for this in the CompositorAnimationsTest. Basically there is a transform animation on a SVG element, and CheckCanStartEffectOnCompositor does return code.Ok(). So the code path will get to here.\n\nThe CheckCanStartEffectOnCompositor doesn\u0027t check whether the element is SVG or not, it only checks whether the animated property can be started on compositor or not. In this particular case (transform animation), it can.",
      "parentUuid": "3b27a89d_2c1b7f8e",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39f395f3_4bbd53d0",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2018-02-02T19:19:34Z",
      "side": 1,
      "message": "I think the mechanism to check whether an animation can be started on compositor is:\nCheckCanStartEffectOnCompositor \u003d\u003d code.Ok() + CheckCanStartElementOnCompositor \u003d\u003d code.Ok().\n\nEither one of the above fails, the animation cannot be started on compositor.\n\nIn the transform animation on SVG case, we check the first condition, and we will see that the effect (transform) can be started on compositor, but later on the SVG element cannot.\n\nDoes that make sense? I will update the comments here to reflect that.",
      "parentUuid": "4f0dd577_606f6a3a",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf5969de_8c0212e2",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2018-02-02T23:00:33Z",
      "side": 1,
      "message": "I see. Is the distinction between them useful though? (might be, just asking)\n\nIf the only case of the disagreement between CheckCanStartEffectOnCompositor and CheckCanStartElementOnCompositor is just SVG, can CheckCanStartEffectOnCompositor just\nbe changed to omit SVG animations?",
      "parentUuid": "39f395f3_4bbd53d0",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6dbcb72b_3b8e82f5",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2018-02-05T16:23:27Z",
      "side": 1,
      "message": "I saw that CheckCanStartElementOnCompositor has multiple call sites where CheckCanStartEffectOnCompositor has one call site only. So it may require some more effect to merge these two functions.",
      "parentUuid": "bf5969de_8c0212e2",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b48fcd39_380c7c56",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2018-02-06T21:15:54Z",
      "side": 1,
      "message": "I see. Is it worth trying that refactor do you think? Up to you if you would rather\nadd a TODO than attempting that version, don\u0027t want to block you excessively. :)",
      "parentUuid": "6dbcb72b_3b8e82f5",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dac3d8b4_c6c62843",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 298,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2018-02-06T21:24:05Z",
      "side": 1,
      "message": "Yeah, I think so. I filed a bug and added a TODO item.",
      "parentUuid": "b48fcd39_380c7c56",
      "range": {
        "startLine": 297,
        "startChar": 4,
        "endLine": 298,
        "endChar": 56
      },
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d024d9a2_a0cde676",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 304,
      "author": {
        "id": 1212214
      },
      "writtenOn": "2018-02-02T18:49:34Z",
      "side": 1,
      "message": "Nit; is_svg_element probably suffices. It\u0027s not \u0027related\u0027 if IsSVG() \u003d\u003d\u003e true, afaik :D",
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d856f165_d3855964",
        "filename": "third_party/WebKit/Source/core/animation/CompositorAnimations.cpp",
        "patchSetId": 8
      },
      "lineNbr": 304,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2018-02-02T19:47:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d024d9a2_a0cde676",
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c800b44e_f23f9932",
        "filename": "third_party/WebKit/Source/core/animation/test_data/transform-animation-on-svg.html",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1212214
      },
      "writtenOn": "2018-02-02T18:49:34Z",
      "side": 1,
      "message": "Nit; remove line here.",
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae8005d2_0f0b4ae5",
        "filename": "third_party/WebKit/Source/core/animation/test_data/transform-animation-on-svg.html",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1148154
      },
      "writtenOn": "2018-02-02T19:47:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c800b44e_f23f9932",
      "revId": "cf26fe1c64c3d6bbff63b7b6bc856e3fc35eb0fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}