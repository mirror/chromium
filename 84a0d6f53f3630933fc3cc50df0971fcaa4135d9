{
  "comments": [
    {
      "key": {
        "uuid": "06093068_9a0724c1",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-12-05T22:28:25Z",
      "side": 1,
      "message": "It is kind of odd to stash the color matrix on the output surface and then pick it up later in the DirectRenderer.\nCan we instead pass it directly to renderer_ in DrawAndSwap?",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ace1936e_d7995c74",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T03:23:35Z",
      "side": 1,
      "message": "We can do that, but can you please explain more why this would be better? If I understood correctly from Dana and ccameron, we wanted to keep it a property of the output surface so that when we move to the CRTC color matrix approach, we can then get it from there.",
      "parentUuid": "06093068_9a0724c1",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "914a70b4_a6ac9645",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-06T16:30:19Z",
      "side": 1,
      "message": "That would be fine for me, the key distinction I was arguing for (I think both of us were?) was for this to be a property of the display compositor instead of the layer compositor. It may be that ccameron had more thoughts about making this available to the outputsurface impl.",
      "parentUuid": "ace1936e_d7995c74",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2bda924_1fc8ccb7",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T18:40:54Z",
      "side": 1,
      "message": "I spoke with reveman@, and he believes that keeping it as an output surface property would make it easier for the CRTC color matrix future work. However, we\u0027d have to verify that using CRTC matrix is possible on certain devices.\n\nIn any cases, can we keep it as is for now so that I can unblock and move forward with this CL and the following two? Any needed refactoring I can handle in future CLs.",
      "parentUuid": "914a70b4_a6ac9645",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5edc1743_ac595911",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1002358
      },
      "writtenOn": "2017-12-06T19:23:50Z",
      "side": 1,
      "message": "Sending to the OuputSurface seems the simplest path to me.",
      "parentUuid": "c2bda924_1fc8ccb7",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2e0b937_d10a8a59",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-12-06T20:06:50Z",
      "side": 1,
      "message": "If we do send to OutputSurface, should we wait to do that until we draw \u0026 swap? Otherwise depending on what OutputSurface would use it for in the future, it would happen out-of-order. It just feels... odd to do this here.",
      "parentUuid": "5edc1743_ac595911",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecf5372e_b503510b",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T22:48:15Z",
      "side": 1,
      "message": "I will take this into consideration in future CLs.",
      "parentUuid": "a2e0b937_d10a8a59",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2f9b40d_0b4048ef",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 183,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-12-05T22:28:25Z",
      "side": 1,
      "message": "I don\u0027t think we should force a DrawAndSwap, but instead let the scheduler schedule a new frame, IOW maybe follow the steps of Display::SetNeedsRedrawRect",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "290369ad_8c68f86c",
        "filename": "components/viz/service/display/display.cc",
        "patchSetId": 5
      },
      "lineNbr": 183,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T03:23:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d2f9b40d_0b4048ef",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "304d1891_55d49ccf",
        "filename": "components/viz/service/display/shader.cc",
        "patchSetId": 5
      },
      "lineNbr": 1033,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-12-05T22:28:25Z",
      "side": 1,
      "message": "nit: maybe move this to l.1019 to avoid separating the alpha source code from its headers",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aac06ba9_5e1ecf99",
        "filename": "components/viz/service/display/shader.cc",
        "patchSetId": 5
      },
      "lineNbr": 1033,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T03:23:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "304d1891_55d49ccf",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aeb78548_597f88ad",
        "filename": "services/viz/privileged/interfaces/compositing/display_private.mojom",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-12-05T22:28:25Z",
      "side": 1,
      "message": "What about software?\nIn particular as we will be switching to SkiaRenderer at some point, this needs to work there too.",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c63dff4e_3a6f44b6",
        "filename": "services/viz/privileged/interfaces/compositing/display_private.mojom",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-12-05T22:28:25Z",
      "side": 1,
      "message": "What about software?\nIn particular as we will be switching to SkiaRenderer at some point, this needs to work there too.",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7db00f0_640dfc81",
        "filename": "services/viz/privileged/interfaces/compositing/display_private.mojom",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T03:23:35Z",
      "side": 1,
      "message": "I don\u0027t know. From what I understood, I thought we won\u0027t have to worry about this at the moment. I need to confirm with Dana and Reveman.",
      "parentUuid": "c63dff4e_3a6f44b6",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a0cb6d3_0a76ab21",
        "filename": "services/viz/privileged/interfaces/compositing/display_private.mojom",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-06T18:40:54Z",
      "side": 1,
      "message": "I just spoke with Dana, and indeed we need to add this to SkiaRenderer. But I prefer to do this in another CL, as this is the first time I\u0027m looking at the SkiaRenderer and I need more time to figure out how it works and how to test Night Light with it. Probably after I hook it up end-to-end, then I\u0027d start working on adding it to SkiaRenderer.",
      "parentUuid": "c7db00f0_640dfc81",
      "revId": "84a0d6f53f3630933fc3cc50df0971fcaa4135d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}