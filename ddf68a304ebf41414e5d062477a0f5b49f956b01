{
  "comments": [
    {
      "key": {
        "uuid": "1cedb376_6ea382ac",
        "filename": "components/cryptauth/device_capability_manager.cc",
        "patchSetId": 10
      },
      "lineNbr": 72,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-08-01T23:06:19Z",
      "side": 1,
      "message": "When you create a std::unique_ptr, once it goes out of scope, the underlying pointer is deleted. This means that you\u0027ll never actually get your callbacks run because your object will be deleted before it can actually contact the server.\n\nInstead, please store the active CryptAuthClient object to a std::unique_ptr\u003cCryptAuthClient\u003e instance field |current_cryptauth_client_|, and reset() it once you finish a request.\n\nNote: the reason why this works in your test is because you mocked out CryptAuthClient to call your callback synchronously. This means that the callback is invoked before the function ends and the std::unique_ptr is destroyed. In the real world, though, CryptAuthClient will need to make a network call, so the callback will not be invoked synchronously.",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 72,
        "endChar": 51
      },
      "revId": "ddf68a304ebf41414e5d062477a0f5b49f956b01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89b3962b_2786d676",
        "filename": "components/cryptauth/device_capability_manager.cc",
        "patchSetId": 10
      },
      "lineNbr": 146,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-08-01T23:06:19Z",
      "side": 1,
      "message": "Please use a ProcessEligibleDevicesRequest() function like you did for ProcessSetCapabilityRequest().",
      "range": {
        "startLine": 146,
        "startChar": 6,
        "endLine": 146,
        "endChar": 28
      },
      "revId": "ddf68a304ebf41414e5d062477a0f5b49f956b01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea153383_c6225732",
        "filename": "components/cryptauth/device_capability_manager.h",
        "patchSetId": 10
      },
      "lineNbr": 17,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-08-01T23:06:19Z",
      "side": 1,
      "message": "nit: Newline between this and the comment below.",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 1
      },
      "revId": "ddf68a304ebf41414e5d062477a0f5b49f956b01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}