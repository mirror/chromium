{
  "comments": [
    {
      "key": {
        "uuid": "0ca16d83_13a44c23",
        "filename": "chrome/browser/extensions/crx_installer.cc",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-08-03T01:42:06Z",
      "side": 1,
      "message": "Not your current change...\n\nWe should run these in higher priority than USER_VISIBLE?\n\nthis task runner is used by sandboxed_unpacker, which would unpack files to a temp dir and be done(?), and that shouldn\u0027t collide with files accessed by the devoted task runner from other places, right?\n\nLet me know what you think. Also, this is more of a question than comment, and even if we end up doing the change, we should do outside this CL after adding a TODO.",
      "range": {
        "startLine": 136,
        "startChar": 6,
        "endLine": 136,
        "endChar": 28
      },
      "revId": "e938e530c2464118a17d38fc489cf4380dfd2b63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c010bbea_f04e68b0",
        "filename": "chrome/browser/extensions/crx_installer.cc",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-08-03T02:06:45Z",
      "side": 1,
      "message": "Having the ability to tweak priority within a task runner is somewhere on the task scheduling roadmap (though not within the immediate future), so we would be able to leverage that at some point.  You\u0027re right that, in theory, some of this file access should be safe - but I think it\u0027s a tenuous guarantee at best.  In particular, even though it\u0027s safe right now, I\u0027m worried that at some point it wouldn\u0027t be (especially with some of the more complicated flows we have).  Unless there\u0027s a compelling reason to use a different task runner, I\u0027d prefer to default to the safer course.\n\nIf we ever find that this is a performance problem, we can certainly investigate then. :)",
      "parentUuid": "0ca16d83_13a44c23",
      "range": {
        "startLine": 136,
        "startChar": 6,
        "endLine": 136,
        "endChar": 28
      },
      "revId": "e938e530c2464118a17d38fc489cf4380dfd2b63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86394c40_160185f8",
        "filename": "chrome/browser/extensions/crx_installer.cc",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-08-03T16:28:13Z",
      "side": 1,
      "message": "the \"some of this file access should be safe\" guarantee: I would definitely like us make it a hard guarantee at some point, otherwise the installation flow from different pieces becomes more spaghetti code with the introduction of sequences.\n\nI worry that USER_VISIBLE might not enough for some cases at least: like when we are initializing ExtensionService or when user action is causing these installation but other tasks are getting higher priority... If the sequence/task that constructs ExtensionService runs with USER_BLOCKING priority, we would force the installations to lower priority USER_VISIBLE.\n\nEven if these sound hypothetical, we should still file a bug and add a TODO, specifically for installers.",
      "parentUuid": "c010bbea_f04e68b0",
      "range": {
        "startLine": 136,
        "startChar": 6,
        "endLine": 136,
        "endChar": 28
      },
      "revId": "e938e530c2464118a17d38fc489cf4380dfd2b63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87fb8400_7ce1399f",
        "filename": "chrome/browser/extensions/crx_installer.cc",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-08-09T23:06:05Z",
      "side": 1,
      "message": "Filed crbug.com/754049.",
      "parentUuid": "86394c40_160185f8",
      "range": {
        "startLine": 136,
        "startChar": 6,
        "endLine": 136,
        "endChar": 28
      },
      "revId": "e938e530c2464118a17d38fc489cf4380dfd2b63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}