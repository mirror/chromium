{
  "comments": [
    {
      "key": {
        "uuid": "6a6505a5_881f33d1",
        "filename": "components/ntp_tiles/most_visited_sites.cc",
        "patchSetId": 1
      },
      "lineNbr": 416,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "Could we please use tiles[i] directly everywhere?",
      "range": {
        "startLine": 416,
        "startChar": 4,
        "endLine": 416,
        "endChar": 9
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61eea7a5_fa3f17eb",
        "filename": "components/ntp_tiles/most_visited_sites.cc",
        "patchSetId": 1
      },
      "lineNbr": 423,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "There is no platform where a tile row has 5 (or more or less) tiles?\nCould we make this magic number a constant in this file?",
      "range": {
        "startLine": 423,
        "startChar": 14,
        "endLine": 423,
        "endChar": 15
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe23b61e_1b13ced6",
        "filename": "components/ntp_tiles/most_visited_sites.cc",
        "patchSetId": 1
      },
      "lineNbr": 423,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-07T13:30:06Z",
      "side": 1,
      "message": "On small screens, it might be \u003c4. I don\u0027t think we show \u003e4 on large screens, though \u003e4 might be part of future work on the NTP, so holding our assumptions in a constant would be good.\n\nYou can simulate a small screen with Settings \u003e  Accessibility \u003e Display Size \u003e Largest. On my 5x, this results in 3 columns. Don\u0027t know about a 6P. There are also 3 columns on 4\" iOS screens, like my iTouch.\n\nOne tricky part is that, as far as I can tell, the NTP on these platforms still always requests 8 (4x2) tiles, even if it might only display 6 (3x2), because when rotated into landscape mode, they *will* use 4x2. I think that we should just assume the smaller (portrait) number: we don\u0027t want to reorder tiles for landscape mode, and portrait is the common case. Might we worth confirming with ktam.\n\n(just so we\u0027re clear, I\u0027m all in favor of a first CL that assumes 4, since it\u0027s *usually* true)",
      "parentUuid": "61eea7a5_fa3f17eb",
      "range": {
        "startLine": 423,
        "startChar": 14,
        "endLine": 423,
        "endChar": 15
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "485152ed_8fbbadd3",
        "filename": "components/ntp_tiles/most_visited_sites.cc",
        "patchSetId": 1
      },
      "lineNbr": 426,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "It took me a while to understand that you go back only for the tiles pointer.\nI would consider using a different loop or iterators here instead.\nAt the very least, a comment would be nice.",
      "range": {
        "startLine": 426,
        "startChar": 6,
        "endLine": 426,
        "endChar": 9
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "381d16c1_c8ba632d",
        "filename": "components/ntp_tiles/most_visited_sites_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "You use this fairly complicated Matcher once (also, see below comment about the test that does).\n\nHow hard would it be to do this in the test itself?\nCould you maybe just make a matcher for if the tile is in the fourth position? (Should be easier to read and to write if that\u0027s the only use case.)",
      "range": {
        "startLine": 98,
        "startChar": 11,
        "endLine": 98,
        "endChar": 32
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42b52433_f5bf4e51",
        "filename": "components/ntp_tiles/most_visited_sites_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "const auto\u0026",
      "range": {
        "startLine": 108,
        "startChar": 7,
        "endLine": 108,
        "endChar": 11
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a807aea4_3d6e4245",
        "filename": "components/ntp_tiles/most_visited_sites_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 111,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "nit: no else needed. If it breaks, it breaks.",
      "range": {
        "startLine": 111,
        "startChar": 6,
        "endLine": 111,
        "endChar": 10
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "819a27a7_d8bb08a5",
        "filename": "components/ntp_tiles/most_visited_sites_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 599,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "With only one tile, this test would likely pass without your changes, correct?\nHave you verified, that this test fails without your new implementation?\nAdding 5 and verifying it\u0027s in place 4 should do the trick.",
      "range": {
        "startLine": 599,
        "startChar": 30,
        "endLine": 599,
        "endChar": 75
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9044cda7_332ec03c",
        "filename": "components/ntp_tiles/most_visited_sites_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 604,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-07-07T13:31:28Z",
      "side": 1,
      "message": "It is easy to check whether a vector contains something.\nThis can be done with some gmock-matchers-fu (https://github.com/google/googletest/blob/master/googlemock/docs/CheatSheet.md is a good reference).\n\nIt should be something like:\n\nContains(AllOf(Field(\u0026NTPTile::title, \"\"), Field(\u0026NTPTile::url, GURL(\"http://ho.me/\")), /* etc */))\n\nwhich means\n\n\"A matcher, which matches a vector, which contains an element, which matches all of the following:\n- it has field title equal to \"\"\n- it has field url equal to GURL(\"http://ho.me/\")\n\nHowever, you don\u0027t need entire vector, but only first 4 elements. \nI am not aware of any matcher to allow this.\n\nHowever, you can use SaveArg, resize the vector and then EXPECT. Otherwise, write a custom matcher which resizes a vector and then applies a matcher.",
      "range": {
        "startLine": 604,
        "startChar": 30,
        "endLine": 604,
        "endChar": 56
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d19b5d5_17f1c73e",
        "filename": "components/ntp_tiles/most_visited_sites_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 623,
      "author": {
        "id": 1200319
      },
      "writtenOn": "2017-07-07T13:12:48Z",
      "side": 1,
      "message": "This expectation pretty much covers that a topsites tile gets properly replaced.",
      "range": {
        "startLine": 623,
        "startChar": 2,
        "endLine": 623,
        "endChar": 13
      },
      "revId": "456c75735547729305b375d7106943fde44be24c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}