{
  "comments": [
    {
      "key": {
        "uuid": "d39da93e_6bb88f39",
        "filename": "chrome/browser/android/vr_shell/vr_shell.cc",
        "patchSetId": 2
      },
      "lineNbr": 173,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T14:45:52Z",
      "side": 1,
      "message": "Hmm I don\u0027t think we want to attach the observer to this webcontents as we\u0027ll start updating toolbar state and other state based on a non-visible webcontents.\n\nWhy not just set web_contents_ to null when we have a native page? The only reason you need to use the web contents is to check incognito state, which you could just do once here without storing it.",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 19
      },
      "revId": "9fd19ac2d88482f27928e147ab5c597acf0acfc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d624a71c_eb8a6e78",
        "filename": "chrome/browser/android/vr_shell/vr_shell.cc",
        "patchSetId": 2
      },
      "lineNbr": 173,
      "author": {
        "id": 1213279
      },
      "writtenOn": "2017-08-17T15:31:18Z",
      "side": 1,
      "message": "Correct me if I\u0027m wrong, but isn\u0027t the web_contents_ we get a representation of the native page? So, we want the toolbar model state be based on these web contents.\n\nI actually need to pass the web_contents_ to the ChromeToolbarModelDelegate in https://chromium-review.googlesource.com/c/617947 so that the toolbar model gets the proper URL. That is the reason I keep it.",
      "parentUuid": "d39da93e_6bb88f39",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 19
      },
      "revId": "9fd19ac2d88482f27928e147ab5c597acf0acfc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46ae5065_ac387113",
        "filename": "chrome/browser/android/vr_shell/vr_shell.cc",
        "patchSetId": 2
      },
      "lineNbr": 173,
      "author": {
        "id": 1002411
      },
      "writtenOn": "2017-08-17T15:50:35Z",
      "side": 1,
      "message": "It might be, I don\u0027t know. If you\u0027ve tested this thoroughly and things work as expected then I\u0027m okay with this.\n\nHowever, I\u0027m pretty sure this web contents can be null, and while it\u0027s safe to create the observer on a null webcontents, wouldn\u0027t the incognito state and URL be wrong?",
      "parentUuid": "d624a71c_eb8a6e78",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 19
      },
      "revId": "9fd19ac2d88482f27928e147ab5c597acf0acfc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ce25704_7e2627a0",
        "filename": "chrome/browser/android/vr_shell/vr_shell.cc",
        "patchSetId": 2
      },
      "lineNbr": 173,
      "author": {
        "id": 1213279
      },
      "writtenOn": "2017-08-17T16:23:34Z",
      "side": 1,
      "message": "Do you know in which cases the web contents can be null?\n\nWe can query the incognito state from the tab. However, dtrainer@ thought that we always have  web contents in a previous code review and suggested getting the incognito state from the web contents regardless of whether it is a native page or not.\n\nThe ToolbarModelImpl returns about:blank if the web contents are null. I would do the same, as null web contents seem like an edge case. Alternatively, we could hide the URL. That is what we do right now, assuming it is a native page. But lets discuss in the review of the other CL.\n\nI checked all native pages in https://cs.chromium.org/chromium/src/chrome/android/java/src/org/chromium/chrome/browser/UrlConstants.java. They all work. And you can navigate back and forth from the NTP and history page.",
      "parentUuid": "46ae5065_ac387113",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 19
      },
      "revId": "9fd19ac2d88482f27928e147ab5c597acf0acfc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}