{
  "comments": [
    {
      "key": {
        "uuid": "eb88206f_80361a58",
        "filename": "ios/web_view/internal/signin/cwv_authentication_controller.mm",
        "patchSetId": 5
      },
      "lineNbr": 40,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "I think that on dealloc, it may make sense to call [self tokenServiceProvider]-\u003eSetAuthenticationController(nil);",
      "range": {
        "startLine": 40,
        "startChar": 1,
        "endLine": 40,
        "endChar": 0
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38d4c040_43112b76",
        "filename": "ios/web_view/internal/signin/cwv_authentication_controller.mm",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "I guess this is due to the fact that these objects are created in the wrong order: CWVAuthenticationController is created after the the token service provider.\n\nI personally think it would probably be better to have an initialize method be called after the delegate is set (instead of doing this when delegate is set). I mean, what happens if setDelegate is set twice (once to a real object and once to nil for example)?",
      "range": {
        "startLine": 47,
        "startChar": 31,
        "endLine": 47,
        "endChar": 58
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26d93e31_c0182b08",
        "filename": "ios/web_view/internal/signin/ios_web_view_signin_client.h",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "I think you should probably pass |token_service_provider| on the constructor and remove this setter methog.",
      "range": {
        "startLine": 32,
        "startChar": 6,
        "endLine": 32,
        "endChar": 53
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8141105_fec8e07a",
        "filename": "ios/web_view/internal/signin/web_view_profile_oauth2_token_service_ios_provider_impl.h",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "One idea would be to pass the client here. In the internal code, you could do something like signin_client-\u003eGetAuthenticationController() when you need to get the authentication controller.",
      "range": {
        "startLine": 21,
        "startChar": 2,
        "endLine": 21,
        "endChar": 49
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7515f6e_327a2cd2",
        "filename": "ios/web_view/internal/signin/web_view_profile_oauth2_token_service_ios_provider_impl.mm",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "callback should probably be called with some error here.",
      "range": {
        "startLine": 29,
        "startChar": 8,
        "endLine": 29,
        "endChar": 19
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1cc3271_46b85001",
        "filename": "ios/web_view/internal/signin/web_view_profile_oauth2_token_service_ios_provider_impl.mm",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "Same here",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 19
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc76a52e_a2f2dc40",
        "filename": "ios/web_view/internal/signin/web_view_profile_oauth2_token_service_ios_provider_impl.mm",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-10-31T16:03:58Z",
      "side": 1,
      "message": "Use the mapping of errors from Chrome iOS.",
      "range": {
        "startLine": 77,
        "startChar": 9,
        "endLine": 77,
        "endChar": 50
      },
      "revId": "247bf1fbb0f24f75a40c7a1566c170969c327c96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}