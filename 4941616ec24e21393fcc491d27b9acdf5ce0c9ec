{
  "comments": [
    {
      "key": {
        "uuid": "9ef4e8a1_8685edc8",
        "filename": "gpu/command_buffer/service/gles2_cmd_decoder.cc",
        "patchSetId": 2
      },
      "lineNbr": 20423,
      "author": {
        "id": 1000770
      },
      "writtenOn": "2018-02-07T01:52:45Z",
      "side": 1,
      "message": "The above change disagrees with the check of internal_format here. I suspect that internal_format is either wrong or is referring to the client/ES side of the command buffer. When the GL context is !ES I don\u0027t believe the internal format could really be GL_BGRA as desktop GL has GL_EXT_bgra rather than GL_EXT_texture_format_BGRA8888.",
      "range": {
        "startLine": 20423,
        "startChar": 10,
        "endLine": 20423,
        "endChar": 75
      },
      "revId": "4941616ec24e21393fcc491d27b9acdf5ce0c9ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5a21227_2bdf87e1",
        "filename": "gpu/command_buffer/service/gles2_cmd_decoder.cc",
        "patchSetId": 2
      },
      "lineNbr": 20423,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2018-02-07T06:06:35Z",
      "side": 1,
      "message": "internal_format here is the client-side notion of internal format. It is translated into what the underlying GL driver needs by the code at https://cs.chromium.org/chromium/src/ui/gl/gl_gl_api_implementation.cc?l\u003d34 when we call GL from command buffer code, but that is bypassed by the bindings we give to skia. So the change looks about right, but note that there is also a workaround for mesa there, was introduced in https://codereview.chromium.org/2164723003, we may need it here too.\n\nHow is texture_info.fFormat used exactly? I assume we\u0027re not calling glTexStorage2D or glTexImage2D on that texture (since it\u0027s already allocated)?",
      "parentUuid": "9ef4e8a1_8685edc8",
      "range": {
        "startLine": 20423,
        "startChar": 10,
        "endLine": 20423,
        "endChar": 75
      },
      "revId": "4941616ec24e21393fcc491d27b9acdf5ce0c9ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}