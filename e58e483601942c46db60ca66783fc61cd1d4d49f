{
  "comments": [
    {
      "key": {
        "uuid": "3502ebb8_4c6af53f",
        "filename": "content/browser/web_contents/web_contents_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 1472,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-10-19T23:41:28Z",
      "side": 1,
      "message": "This function is making me sad.\n\nThe tab gets the icon via the OnAudioStateChanged. We already have a delegate call OnAudioStateChanged, and now we\u0027re getting a WebContentsObserver call DidUpdateAudioState.\n\nFirst, can we make the name the same between the delegate and the observer. Second, can we simplify this? Have one path for the tab, the omnibox, and the users of the delegate?",
      "range": {
        "startLine": 1461,
        "startChar": 5,
        "endLine": 1472,
        "endChar": 1
      },
      "revId": "e58e483601942c46db60ca66783fc61cd1d4d49f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d1f9a2b_311589f5",
        "filename": "content/browser/web_contents/web_contents_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 1472,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2017-10-20T17:13:30Z",
      "side": 1,
      "message": "I understand your concerns, but DidUpdateAudioState more closely follows the naming of methods in WebContentsObserver, so I hesitate to change the name there. Regarding the delegate and tab paths, I don\u0027t really know enough about them to make a call as to whether they can be easily combined into a single path. Is there someone I can talk to who has insights into those codepaths?",
      "parentUuid": "3502ebb8_4c6af53f",
      "range": {
        "startLine": 1461,
        "startChar": 5,
        "endLine": 1472,
        "endChar": 1
      },
      "revId": "e58e483601942c46db60ca66783fc61cd1d4d49f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "428b88d7_e68152e4",
        "filename": "content/browser/web_contents/web_contents_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 1472,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-10-20T20:50:17Z",
      "side": 1,
      "message": "generally, if only the owner of the webcontents needs a notification, it goes into webcontentsdelegate. WebContentsObserver is when multiple classes want to know when something happen, or when there\u0027s one but it\u0027s not the owner (and hence, delegate) of the webcontents.\n\nIn this case, it seems like Browser which is what owns the tabs can relay this to other code in src/chrome/browser, and you shouldn\u0027t have to add a new method.",
      "parentUuid": "7d1f9a2b_311589f5",
      "range": {
        "startLine": 1461,
        "startChar": 5,
        "endLine": 1472,
        "endChar": 1
      },
      "revId": "e58e483601942c46db60ca66783fc61cd1d4d49f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb7e4adf_41749578",
        "filename": "content/browser/web_contents/web_contents_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 1472,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2017-10-20T21:33:23Z",
      "side": 1,
      "message": "That\u0027s fair, but right now AFAICT, if the WebContentsImpl calls OnAudioStateChanged on the Browser, the Browser has no way of telling which WebContents called it, so wouldn\u0027t know which TabSpecificContentSettings to inform of the state change, unless we change the method signature to include a WebContents* in the args.",
      "parentUuid": "428b88d7_e68152e4",
      "range": {
        "startLine": 1461,
        "startChar": 5,
        "endLine": 1472,
        "endChar": 1
      },
      "revId": "e58e483601942c46db60ca66783fc61cd1d4d49f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8dd407a_44050372",
        "filename": "content/browser/web_contents/web_contents_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 1472,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-10-20T21:35:39Z",
      "side": 1,
      "message": "I\u0027m cool with adding a WebContents* source to the OnAudioStateChanged call.",
      "parentUuid": "cb7e4adf_41749578",
      "range": {
        "startLine": 1461,
        "startChar": 5,
        "endLine": 1472,
        "endChar": 1
      },
      "revId": "e58e483601942c46db60ca66783fc61cd1d4d49f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92d7006e_38064c5d",
        "filename": "content/browser/web_contents/web_contents_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 1472,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2017-10-23T17:02:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f8dd407a_44050372",
      "range": {
        "startLine": 1461,
        "startChar": 5,
        "endLine": 1472,
        "endChar": 1
      },
      "revId": "e58e483601942c46db60ca66783fc61cd1d4d49f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}