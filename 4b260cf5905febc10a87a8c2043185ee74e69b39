{
  "comments": [
    {
      "key": {
        "uuid": "b2ec08c5_83d1ca86",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 54,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-12-02T00:11:18Z",
      "side": 1,
      "message": "A brief comment here to describe the lifetime semantics of this class would be useful.",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a340bba8_fcf5709a",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 54,
      "author": {
        "id": 1120879
      },
      "writtenOn": "2017-12-02T01:24:43Z",
      "side": 1,
      "message": "There is such a comment in mojo_video_decoder_service.h (and most of one on Destroy()); I worry that if I have too many copies of that information that it will get out of sync more easily.\n\nDo you have a preferred singular place to document the lifetime?",
      "parentUuid": "b2ec08c5_83d1ca86",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69c65d44_ffb476d5",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 61,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-12-02T00:11:18Z",
      "side": 1,
      "message": "Nit: just pass this on line 59 as well and call the two-argument constructor of mojo::Binding",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "715c7130_69198641",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 61,
      "author": {
        "id": 1120879
      },
      "writtenOn": "2017-12-02T01:24:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "69c65d44_ffb476d5",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad16ac69_d0ee3b51",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 95,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-12-02T00:11:18Z",
      "side": 1,
      "message": "Do we expect this to happen in practice? Or is this a bug / something malicious?",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a2ce346_a542f736",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 95,
      "author": {
        "id": 1120879
      },
      "writtenOn": "2017-12-02T01:24:43Z",
      "side": 1,
      "message": "This would indicate a bug or something malicious, but since the overall behavior of MojoVideoDecoderService also doesn\u0027t yet implement a policy for what to do in such cases, I didn\u0027t try to come up with one for this CL.",
      "parentUuid": "ad16ac69_d0ee3b51",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbce0fc1_65d713e1",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 95,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-12-04T20:50:07Z",
      "side": 1,
      "message": "OK, let\u0027s call ReportBadMessage() on the binding-- though this won\u0027t actually result in a process kill if the service code isn\u0027t running in the context of the browser service, it\u0027s probably a reasonably generic way of trying to track these things. And it will close the binding to prevent receiving any more messages.",
      "parentUuid": "8a2ce346_a542f736",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7d7b8bb_0ffb7176",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 114,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-12-02T00:11:18Z",
      "side": 1,
      "message": "Is it possible for there to be a connection error, but for subsequent video frames to still be registered here? Would that cause this to be leaked?",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd46b9eb_8a84adda",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 114,
      "author": {
        "id": 1120879
      },
      "writtenOn": "2017-12-02T01:24:43Z",
      "side": 1,
      "message": "Yes, it\u0027s possible up until Destroy() is called. Register() checks |connected_| to ensure that |video_frames_| remains empty in such a case.\n\nI added a comment in Register() to make that more clear.",
      "parentUuid": "e7d7b8bb_0ffb7176",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fde80c3_26d5b522",
        "filename": "media/mojo/services/mojo_video_decoder_service.cc",
        "patchSetId": 9
      },
      "lineNbr": 114,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-12-04T20:50:07Z",
      "side": 1,
      "message": "Hm...\n\nWould it make sense for MojoVideoDecoderService to just hold a WeakPtr to this, and have this class delete itself on connection error? I feel like maybe why I keep asking for comments is because we\u0027re manually emulating the role of WeakPtr.",
      "parentUuid": "bd46b9eb_8a84adda",
      "revId": "4b260cf5905febc10a87a8c2043185ee74e69b39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}