{
  "comments": [
    {
      "key": {
        "uuid": "5cdd659e_8db9c21d",
        "filename": "ios/web/web_state/ui/crw_web_controller.mm",
        "patchSetId": 7
      },
      "lineNbr": 2318,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-04T21:35:08Z",
      "side": 0,
      "message": "The code below treats all messages as main frame messages, so this change may introduce a bunch of different bugs. With that I believe we should keep ignoring all messages by default. In subsequent CLs we can start trusting messages on case by case basis assuming that receiving code distinguishes iframes from main frames. WDYT?",
      "range": {
        "startLine": 2318,
        "startChar": 14,
        "endLine": 2318,
        "endChar": 0
      },
      "revId": "5311d6efaa575c768e53ebe6ce09ab33d123bcac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "110dfa3f_dcdcab59",
        "filename": "ios/web/web_state/ui/crw_web_controller.mm",
        "patchSetId": 7
      },
      "lineNbr": 2318,
      "author": {
        "id": 1128440
      },
      "writtenOn": "2017-12-05T23:08:31Z",
      "side": 0,
      "message": "Atm only form.acitive and form.submit messages are sent. These events are needed only for Password Manager and Autofill, both of them support iframes (in Password Manager I\u0027m sure 100%, since I fixed some bugs about this, in Autofill I\u0027m not sure that it would fill in all cases, but in worst case it fails to fill, that should be considered as Autofill bug separetely).\n\nSo what do you think about adding in this CL a simple function, that would filter for iframes all not form.acitive and form.submit messages?",
      "parentUuid": "5cdd659e_8db9c21d",
      "range": {
        "startLine": 2318,
        "startChar": 14,
        "endLine": 2318,
        "endChar": 0
      },
      "revId": "5311d6efaa575c768e53ebe6ce09ab33d123bcac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28b4eec0_15a5456c",
        "filename": "ios/web/web_state/ui/crw_web_controller.mm",
        "patchSetId": 7
      },
      "lineNbr": 2318,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-05T23:24:24Z",
      "side": 0,
      "message": "Any page can send any message and our code may not be prepared to handle iframe messages safely.  I don\u0027t think we should have a function which knows which handlers support iframe messages and which do not. We can pass an extra boolean to respondToMessage:userIsInteracting:originURL: and then pass it further to individual handlers via contextdictionary. But that\u0027s probably too much for this CL. WDYT?",
      "parentUuid": "110dfa3f_dcdcab59",
      "range": {
        "startLine": 2318,
        "startChar": 14,
        "endLine": 2318,
        "endChar": 0
      },
      "revId": "5311d6efaa575c768e53ebe6ce09ab33d123bcac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98792f81_16b5ee2e",
        "filename": "ios/web/web_state/ui/crw_web_controller.mm",
        "patchSetId": 7
      },
      "lineNbr": 2318,
      "author": {
        "id": 1128440
      },
      "writtenOn": "2017-12-06T21:56:48Z",
      "side": 0,
      "message": "Ok, agree that we can do it in the following CL. I\u0027ve returned checking for main frame for now.",
      "parentUuid": "28b4eec0_15a5456c",
      "range": {
        "startLine": 2318,
        "startChar": 14,
        "endLine": 2318,
        "endChar": 0
      },
      "revId": "5311d6efaa575c768e53ebe6ce09ab33d123bcac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}