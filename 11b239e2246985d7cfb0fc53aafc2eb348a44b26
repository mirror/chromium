{
  "comments": [
    {
      "key": {
        "uuid": "21d4d549_c803339c",
        "filename": "device/u2f/mock_u2f_ble_connection.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "The style guide requires all parameters passed by reference to be const. Use ControlPointLengthCallback* instead.",
      "range": {
        "startLine": 25,
        "startChar": 47,
        "endLine": 25,
        "endChar": 74
      },
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ea3ffcc_c30e5436",
        "filename": "device/u2f/mock_u2f_ble_connection.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "21d4d549_c803339c",
      "range": {
        "startLine": 25,
        "startChar": 47,
        "endLine": 25,
        "endChar": 74
      },
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f5235de_77163cae",
        "filename": "device/u2f/u2f_ble_device.cc",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "You may want to use a WeakPtrFactory to check if running |callback| has freed |this| like we do in U2fHidDevice.",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1da54635_36770aeb",
        "filename": "device/u2f/u2f_ble_device.cc",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f5235de_77163cae",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "853621d1_8412f811",
        "filename": "device/u2f/u2f_ble_device_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-19T21:40:36Z",
      "side": 1,
      "message": "Here I\u0027m not sure if I\u0027m doing enough testing. I do test every method of U2fBleDevice\u0027s public interface, but the class does quite a bit of non-trivial logic and also inherits public methods from U2fDevice, which I am not testing here.\n\nAlso I suppose doing some integration testing with the Mock Bluetooth classes would be a good idea as well, but that would require quite some refactoring of the U2fBleTransaction tests.\n\nWhat is your take on this?",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8242347_4bd5be1a",
        "filename": "device/u2f/u2f_ble_device_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "I think this is fine for now. The important thing is to lay the groundwork for writing tests to exercise bugs we find later.",
      "parentUuid": "853621d1_8412f811",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fca42623_cb445a4c",
        "filename": "device/u2f/u2f_ble_device_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c8242347_4bd5be1a",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e0059c4_ae28bfa4",
        "filename": "device/u2f/u2f_ble_transaction.cc",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "invocation",
      "range": {
        "startLine": 43,
        "startChar": 39,
        "endLine": 43,
        "endChar": 50
      },
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "926b6956_f6447001",
        "filename": "device/u2f/u2f_ble_transaction.cc",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "OnRequestFragmentWritten",
      "range": {
        "startLine": 43,
        "startChar": 53,
        "endLine": 43,
        "endChar": 70
      },
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "588d2294_73495057",
        "filename": "device/u2f/u2f_ble_transaction.cc",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e0059c4_ae28bfa4",
      "range": {
        "startLine": 43,
        "startChar": 39,
        "endLine": 43,
        "endChar": 50
      },
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef2adf0c_3deffe9d",
        "filename": "device/u2f/u2f_ble_transaction.cc",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "926b6956_f6447001",
      "range": {
        "startLine": 43,
        "startChar": 53,
        "endLine": 43,
        "endChar": 70
      },
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f97c092e_c87e735b",
        "filename": "device/u2f/u2f_ble_transaction.cc",
        "patchSetId": 2
      },
      "lineNbr": 102,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "Write this as a switch?",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "290b7942_dca9928a",
        "filename": "device/u2f/u2f_ble_transaction.cc",
        "patchSetId": 2
      },
      "lineNbr": 102,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Unfortunately not possible due to request_frame_-\u003ecommand() not being a compile time constant.",
      "parentUuid": "f97c092e_c87e735b",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4f8b13b_f5432ca0",
        "filename": "device/u2f/u2f_ble_transaction.h",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-19T21:40:36Z",
      "side": 1,
      "message": "I\u0027m a bit torn about this. In theory this class could live in an anonymous namespace in u2f_ble_device.cc, as U2fBleDevice should be the only class using this. However, I feel like the class is a bit too large for being in the anon namespace, which is why I decided to move it into its own file. But I must admit I\u0027m not very happy about this either. WDYT?",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99d473b1_1c2ffb38",
        "filename": "device/u2f/u2f_ble_transaction.h",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "I think this is fine, just add a class-level comment describing the relationship between this and U2fBleDevice. I like how the fragment management state machine is kept separate from the device connection state machine.",
      "parentUuid": "b4f8b13b_f5432ca0",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd86170f_a0dddad1",
        "filename": "device/u2f/u2f_ble_transaction.h",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99d473b1_1c2ffb38",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55134dbb_f211d86b",
        "filename": "device/u2f/u2f_hid_device.cc",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1113896
      },
      "writtenOn": "2017-12-20T01:16:07Z",
      "side": 1,
      "message": "This is redundant with your change to u2f_hid_device.h.",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cab2ef52_d1a130c4",
        "filename": "device/u2f/u2f_hid_device.cc",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1179305
      },
      "writtenOn": "2017-12-20T13:42:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55134dbb_f211d86b",
      "revId": "11b239e2246985d7cfb0fc53aafc2eb348a44b26",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}