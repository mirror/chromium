{
  "comments": [
    {
      "key": {
        "uuid": "18b56fc0_f90c6f81",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 950,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-08-10T01:25:59Z",
      "side": 1,
      "message": "Is it possible for the order of views in the model to change even though the bounds for each index don\u0027t change? Could this leave shelf items in the wrong place if they were reordered by dragging or by some item\u0027s status changing (unpinning a running app that was pinned between non-running apps), etc.? I never understood the view model or ideal bounds code well, you might want to ping skuhne@ for review.",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5922a05c_8268014a",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 950,
      "author": {
        "id": 1160212
      },
      "writtenOn": "2017-08-10T18:54:22Z",
      "side": 1,
      "message": "I didn\u0027t think of this. Perhaps we should only act on the app list button and maybe only if |is_tablet_mode_animating_| is true, to avoid touching too much. skuhne@ thoughts?",
      "parentUuid": "18b56fc0_f90c6f81",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d12e056_78c8043d",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 950,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2017-08-11T23:15:43Z",
      "side": 1,
      "message": "There are two things you should test:\n1. Have the two different users with different shelf icon orders (and maybe even moving one shelf to a different corner (left / bottom / right)) and use the Ctrl + Shift + \u003c / \u003e to switch between the two users. This will re-arrange all items.\n2. either pin / unpin an item (so that the order changes) - or drag an item of a running application before / behind another running application to change the order.\n\nIf that works (visually) it\u0027s ok.\n\nIf that works all is fine.\n\nBeside that: The ideal bounds get computed when the shelf changes in appearance (size / orientation / ..) and the items need to be re-arranged. It computes then the end positions for the icon item at visual position \u003cx\u003e in the shelf.\n\nThis got introduced with the work to allow the user to move the shelf 3-5 years ago (wow - time flies) by a team member which left some years ago.",
      "parentUuid": "5922a05c_8268014a",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33b575e1_994ef85c",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 958,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-08-10T01:25:59Z",
      "side": 1,
      "message": "Would it make more sense to skip AnimateViewTo on a per-view basis? ie. don\u0027t check if they\u0027re all equivalent and then early return, but check if the new and old ideal bounds for each view are equivalent and then skip the animation for that one view? (I\u0027m not actually sure if that would actually help anything...)",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79357fbd_bf0ec564",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 958,
      "author": {
        "id": 1160212
      },
      "writtenOn": "2017-08-10T18:54:22Z",
      "side": 1,
      "message": "I think that would be better, but what do you think of only touching the AppListButton approach?",
      "parentUuid": "33b575e1_994ef85c",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79069df9_1c35fde0",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 958,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-08-10T19:09:55Z",
      "side": 1,
      "message": "Limiting the scope of this change sounds good to me. Otherwise, I\u0027d defer to Stefan, or we might both need a deeper understanding of the code to yield something that works as intended.",
      "parentUuid": "79357fbd_bf0ec564",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39dad170_ebf8699e",
        "filename": "ash/shelf/shelf_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 958,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2017-08-11T23:15:43Z",
      "side": 1,
      "message": "If I am not mistaken, the positions calculated here are used as the final resting positions for each icon upon shelf property change. So...\n1. change shelf property\n2. calculate the \"ideal bounds\"\n3. move the item on position \u003cx\u003e in the model to the position \u003cx\u003e of the ideal bounds.\n4. Since each item has its old location and gets the new one, they simply move from old to ideal.\n\nWith that this should all work.",
      "parentUuid": "79069df9_1c35fde0",
      "revId": "6ea39ed325b0e6733065111e90aa198f90fe6669",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}