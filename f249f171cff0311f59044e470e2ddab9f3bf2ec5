{
  "comments": [
    {
      "key": {
        "uuid": "e1625d0d_9059f8f2",
        "filename": "components/printing/browser/print_composite_client.cc",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T05:03:54Z",
      "side": 1,
      "message": "I\u0027m not sure where this shmem handle comes from; can we trust the sender to never pass invalid arguments, such that Unwrap fails?\n\nAlso, I double-checked and I misread the Mojo code: Mojo\u0027s wrap and unwrap functions don\u0027t do anything special for invalid handles--which makes sense. But we still don\u0027t need to do anything special; Map() will return false in that case \u003d)",
      "revId": "f249f171cff0311f59044e470e2ddab9f3bf2ec5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7aa23686_fac0706a",
        "filename": "components/printing/browser/print_composite_client.cc",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-10-25T16:26:56Z",
      "side": 1,
      "message": "When the handle is not optional, mojo will validate it and fail on invalid handle. Since ours is optional, I added a check here in case upwrap fails. As you said, for the uninitialized handle with mojo::kInvalidHandleValue, it will fail on Map().",
      "parentUuid": "e1625d0d_9059f8f2",
      "revId": "f249f171cff0311f59044e470e2ddab9f3bf2ec5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d4b31b0_f656d741",
        "filename": "components/printing/browser/print_composite_client.cc",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T16:31:51Z",
      "side": 1,
      "message": "This validation should happen at a lower level though, when Mojo is deserializing the bytes from the wire, right? So is it necessary to check again here? We shouldn\u0027t ever reach this, because message validation failure should cause Mojo not to even invoke the implementation.",
      "parentUuid": "7aa23686_fac0706a",
      "revId": "f249f171cff0311f59044e470e2ddab9f3bf2ec5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}