{
  "comments": [
    {
      "key": {
        "uuid": "450f00c8_09ca940b",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 389,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-25T20:56:19Z",
      "side": 1,
      "message": "I\u0027m not really sure this needs to be a CHECK, but that\u0027s how it\u0027s written elsewhere.",
      "range": {
        "startLine": 389,
        "startChar": 8,
        "endLine": 389,
        "endChar": 45
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c8e6a26_cbd1eb71",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 389,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-25T21:43:14Z",
      "side": 1,
      "message": "Is it the case that if this CHECK fires then something fundamental has changed in the way the world works, such that we should be concerned?",
      "parentUuid": "450f00c8_09ca940b",
      "range": {
        "startLine": 389,
        "startChar": 8,
        "endLine": 389,
        "endChar": 45
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16390a8d_73f4d4d0",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 389,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-25T23:30:21Z",
      "side": 1,
      "message": "I don\u0027t know that that\u0027s true. I talked to Bruce earlier and he mentioned that it might be OK to just DCHECK this. The danger here is that if something breaks, we won\u0027t notice the power regression as easily. Not sure if we have power bots for Windows? If we do, then It probably makes sense for these to just be DCHECKs.",
      "parentUuid": "9c8e6a26_cbd1eb71",
      "range": {
        "startLine": 389,
        "startChar": 8,
        "endLine": 389,
        "endChar": 45
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9df31708_e2bb1397",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 392,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-25T23:34:08Z",
      "side": 1,
      "message": "At this point we\u0027ll be dropping the queue\u0027s reference to the BindState, potentially causing parameter deletion, where previously that would happen in RunTask(), and we\u0027d then spin back through the loop looking for more work - I can\u0027t see a problem with that offhand, but if we had a huge number of cancelled tasks holding complex objects alive, it might conceivably introduce jank.\n\nSeems unlikely to be a big issue but perhaps we should temporarily limit the number of tasks we\u0027ll sweep, to play safe?",
      "range": {
        "startLine": 392,
        "startChar": 6,
        "endLine": 392,
        "endChar": 14
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8891fe37_8556ceda",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 452,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-25T23:34:08Z",
      "side": 1,
      "message": "nit: |auto| doesn\u0027t feel appropriate here; is the type of delayed_work_queue_.top() really so verbose?",
      "range": {
        "startLine": 452,
        "startChar": 10,
        "endLine": 452,
        "endChar": 14
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "352d3b0d_172c9965",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 467,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-25T20:56:19Z",
      "side": 1,
      "message": "This block is pretty similar to ProcessNextDelayedNonNestableTask() but I wasn\u0027t able to think of a good way to share the code blocks without making things harder to read.",
      "range": {
        "startLine": 451,
        "startChar": 0,
        "endLine": 467,
        "endChar": 14
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28e030d8_068033c8",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 564,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-25T21:43:14Z",
      "side": 1,
      "message": "Naming makes it non-obvious what the result of Sweep...Queue() means, IMO - looks like it means \"queue is empty\".  Would it make sense to change the function to HaveDelayedWorkAfterSweep() or something along those lines?",
      "range": {
        "startLine": 564,
        "startChar": 6,
        "endLine": 564,
        "endChar": 27
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38e7a09a_0ef7bef0",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 2
      },
      "lineNbr": 564,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-25T23:30:21Z",
      "side": 1,
      "message": "Per the discussion, renamed to SweepDelayedQueueAndReturnFalseIfEmpty",
      "parentUuid": "28e030d8_068033c8",
      "range": {
        "startLine": 564,
        "startChar": 6,
        "endLine": 564,
        "endChar": 27
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d38a3b0f_b842d1ff",
        "filename": "base/message_loop/message_loop.h",
        "patchSetId": 2
      },
      "lineNbr": 368,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-25T21:43:14Z",
      "side": 1,
      "message": "Needs moar explanatory comment.",
      "range": {
        "startLine": 368,
        "startChar": 7,
        "endLine": 368,
        "endChar": 28
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e898e34_b6f353aa",
        "filename": "base/message_loop/message_loop.h",
        "patchSetId": 2
      },
      "lineNbr": 368,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-25T23:30:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d38a3b0f_b842d1ff",
      "range": {
        "startLine": 368,
        "startChar": 7,
        "endLine": 368,
        "endChar": 28
      },
      "revId": "2dc8187307f139fe08f91fa94ca167002873318c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}