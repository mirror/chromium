{
  "comments": [
    {
      "key": {
        "uuid": "f18a53c3_6e267d88",
        "filename": "chrome/browser/extensions/api/omnibox/omnibox_api.h",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-10T06:09:29Z",
      "side": 1,
      "message": "nit: Please put this near OnInputStart() and revise both sets of comments to clarify the difference between them.  (Move the implementation upward too.)\n\nAlso, please describe what the return value represents.",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e70ded8_88f92549",
        "filename": "chrome/browser/extensions/api/omnibox/omnibox_api.h",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 1172234
      },
      "writtenOn": "2017-11-13T19:28:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f18a53c3_6e267d88",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb956d52_53ec2939",
        "filename": "components/omnibox/browser/keyword_extensions_delegate.h",
        "patchSetId": 5
      },
      "lineNbr": 59,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-10T06:09:29Z",
      "side": 1,
      "message": "nit: Please put this next to EnterExtensionKeywordMode and also revise comments to clarify the difference between them.\n\nAnd move the implementation to the corresponding place too.",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39d44988_64632f94",
        "filename": "components/omnibox/browser/keyword_extensions_delegate.h",
        "patchSetId": 5
      },
      "lineNbr": 59,
      "author": {
        "id": 1172234
      },
      "writtenOn": "2017-11-13T19:28:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb956d52_53ec2939",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "872f4d4e_449fa19a",
        "filename": "components/omnibox/browser/keyword_provider.cc",
        "patchSetId": 5
      },
      "lineNbr": 222,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-10T06:09:29Z",
      "side": 1,
      "message": "Shouldn\u0027t this function check somewhere around here that the template_url is actually an extension and not try to proceed if so?",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50609da0_1e2cc1b2",
        "filename": "components/omnibox/browser/keyword_provider.cc",
        "patchSetId": 5
      },
      "lineNbr": 222,
      "author": {
        "id": 1172234
      },
      "writtenOn": "2017-11-13T19:28:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "872f4d4e_449fa19a",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c647c3eb_5b6e7cbd",
        "filename": "components/omnibox/browser/keyword_provider.cc",
        "patchSetId": 5
      },
      "lineNbr": 597,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-10T06:09:29Z",
      "side": 1,
      "message": "I don\u0027t thinks this test is right.  Previously GetKeywordForText() would return the empty string if it finds an extension keyword and that keyword is disabled.\nNow it returns the empty string if this function returns false.  This function returns false for all non-extension keywords and for disable keywords.\n\nI think this function should be called IsKeywordEnabled, and it should return\n  return (template_url-\u003etype() !\u003d TemplateURL::OMNIBOX_API_EXTENSION) ||\n         (extensions_delegate_ \u0026\u0026\n          extensions_delegate_-\u003eIsEnabledExtension(\n              template_url-\u003eGetExtensionId()));\n\nThe code in GetKeywordForText() does not need to be changed.\n\nYou will have to slightly revise the call in DeleteMatch() to make sure the keyword is an extension before calling this function.\n\nIf you take this implementation suggestion, remember to also revise the comment for this function.",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5194b74_6c01b483",
        "filename": "components/omnibox/browser/keyword_provider.cc",
        "patchSetId": 5
      },
      "lineNbr": 597,
      "author": {
        "id": 1172234
      },
      "writtenOn": "2017-11-13T19:28:01Z",
      "side": 1,
      "message": "I\u0027ve made the suggested revisions. Just one thing though, with regards to DeleteMatch(), should the check to make sure the keyword is an extension be embedded in the IsKeywordEnabled? For example:\n\nreturn (template_url-\u003etype() !\u003d TemplateURL::OMNIBOX_API_EXTENSION) ||\n       (template_url-\u003etype() \u003d\u003d TemplateURL::OMNIBOX_API_EXTENSION \u0026\u0026\n        extensions_delegate_ \u0026\u0026\n        extensions_delegate_-\u003eIsEnabledExtension(\n              template_url-\u003eGetExtensionId()));",
      "parentUuid": "c647c3eb_5b6e7cbd",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c09baef_7e69182e",
        "filename": "components/omnibox/browser/keyword_provider.cc",
        "patchSetId": 5
      },
      "lineNbr": 597,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-14T01:01:50Z",
      "side": 1,
      "message": "\u003e I\u0027ve made the suggested revisions. Just one thing though, with regards to DeleteMatch(), should the check to make sure the keyword is an extension be embedded in the IsKeywordEnabled? For example:\n\u003e \n\u003e return (template_url-\u003etype() !\u003d TemplateURL::OMNIBOX_API_EXTENSION) ||\n\u003e        (template_url-\u003etype() \u003d\u003d TemplateURL::OMNIBOX_API_EXTENSION \u0026\u0026\n\u003e         extensions_delegate_ \u0026\u0026\n\u003e         extensions_delegate_-\u003eIsEnabledExtension(\n\u003e               template_url-\u003eGetExtensionId()));\n\nJudging by the list of Types():\n  enum Type {\n    // Regular search engine.\n    NORMAL,\n    // Installed by extension through Override Settings API.\n    NORMAL_CONTROLLED_BY_EXTENSION,\n    // The keyword associated with an extension that uses the Omnibox API.\n    OMNIBOX_API_EXTENSION,\n    // Installed only on this device. Should not be synced.\n    LOCAL,\n  };\nhttps://cs.chromium.org/chromium/src/components/search_engines/template_url.h?l\u003d469-478\n\nI\u0027m not sure.  The distinction only matters for the second and fourth types on that list.  I don\u0027t know enough about the differences between those four types and whether control can reach the code that uses this function for non-NORMAL, non-OMNIBOX_API_EXTENSION extensions.\n\nIn other words, it\u0027s up to you; I\u0027ll trust your judgment.",
      "parentUuid": "c5194b74_6c01b483",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe39066e_8d9addcc",
        "filename": "components/omnibox/browser/omnibox_edit_model.cc",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-10T06:09:29Z",
      "side": 1,
      "message": "No need to comment in the code, but is there a reason this call goes where it does?\n(as opposed to before the OnTemporaryTextMaybeChanged calls in the if statements above, or even the calls around like 737-740)",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6c2e5cd_d2da8674",
        "filename": "components/omnibox/browser/omnibox_edit_model.cc",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1172234
      },
      "writtenOn": "2017-11-13T19:28:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe39066e_8d9addcc",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca304ccb_39003d55",
        "filename": "components/omnibox/browser/omnibox_edit_model.cc",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1172795
      },
      "writtenOn": "2017-11-13T19:29:21Z",
      "side": 1,
      "message": "It was placed here so that any tab or space specific code can execute before the OnKeywordEntered event is handled.\n\nThinking about this now, it makes more sense to put this OnKeywordEntered handling earlier, as soon as keyword mode is entered. I have adjusted this and placed the call right after line 740.",
      "parentUuid": "fe39066e_8d9addcc",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6dd5913_825fa38c",
        "filename": "components/omnibox/browser/omnibox_edit_model.cc",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-14T01:01:50Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ca304ccb_39003d55",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f054240_a1dfa03e",
        "filename": "components/omnibox/browser/omnibox_edit_model.h",
        "patchSetId": 5
      },
      "lineNbr": 442,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-11-10T06:09:29Z",
      "side": 1,
      "message": "nit: Move declaration and implementation near the other keyword functions above.",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d450d30e_fa9d47fb",
        "filename": "components/omnibox/browser/omnibox_edit_model.h",
        "patchSetId": 5
      },
      "lineNbr": 442,
      "author": {
        "id": 1172234
      },
      "writtenOn": "2017-11-13T19:28:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f054240_a1dfa03e",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee6dbfc2_338a25df",
        "filename": "components/omnibox/browser/omnibox_edit_model.h",
        "patchSetId": 5
      },
      "lineNbr": 442,
      "author": {
        "id": 1172795
      },
      "writtenOn": "2017-11-13T19:29:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f054240_a1dfa03e",
      "revId": "03591f2786436bc2cc17368c4e32fc37e3bbc4b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}