{
  "comments": [
    {
      "key": {
        "uuid": "a1186d33_d621c028",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-11-15T01:15:06Z",
      "side": 1,
      "message": "A comment in \"WebKit/public/platform/TaskType.h\" says,\n\n  // Tasks that must not be throttled should be posted here, but the usage\n  // should be very limited.\n  kUnthrottled,\n\nI wonder if we should have a dedicated task type for realtime audio (and video?) that is never throttled (+altimin@)",
      "range": {
        "startLine": 57,
        "startChar": 56,
        "endLine": 57,
        "endChar": 78
      },
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca8aa74f_73a2e1e9",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-15T04:37:28Z",
      "side": 1,
      "message": "What task types do other audio tasks use?",
      "parentUuid": "a1186d33_d621c028",
      "range": {
        "startLine": 57,
        "startChar": 56,
        "endLine": 57,
        "endChar": 78
      },
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4c121be_88648f1e",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-11-15T01:15:06Z",
      "side": 1,
      "message": "For readability and safeness, how about strictly checking state transition like this?\n\nswitch (state) {\n  case kPending:\n    NOTREACHED()\n        \u003c\u003c \"The state never returns to kPending.\";\n    break;\n  case kRunning:\n    DCHECK_EQ(kPending, processor_state_);\n    processor_state_ \u003d state;\n    break;\n  case kStopped:\n    // I don\u0027t know whether this expectation is correct :)\n    NOTREACHED()\n        \u003c\u003c \"The state is never changed once it reaches kStopped.\";\n    break;\n  case kError:\n    processor_state_ \u003d state;\n    break\n  DispatchEvent(...);\n}",
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4925486_30462f14",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-11-15T01:34:24Z",
      "side": 1,
      "message": "Sorry, these are explicitly wrong and incomplete. Maybe...\n\nswitch (processor_state_) {\n  case kPending:\n    DCHECK(new_state \u003d\u003d kRunning || new_state \u003d\u003d kError);\n    break;\n  case kRunning:\n    DCHECK(new_state \u003d\u003d kStopped || new_state \u003d\u003d kError);\n    break;\n  case kStopped:\n  case kError:\n    NOTREACHED()\n        \u003c\u003c \"The state is never changed once it reaches kStopped or kError.\";\n    return;\n  }\n  processor_state_ \u003d new_state;\n  DispatchEvent(...);\n}",
      "parentUuid": "d4c121be_88648f1e",
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cbce042_378b03ee",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-15T04:37:28Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "a4925486_30462f14",
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a2b3964_30722b0a",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-11-15T01:15:06Z",
      "side": 1,
      "message": "\u0027default\u0027 is not necessary because all cases are handled. We might want to move NOTREACHED() to line 328.",
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "343ef7e0_f6c09fb9",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-15T04:37:28Z",
      "side": 1,
      "message": "Use an enum class.",
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b3e8616_97da16b7",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-11-15T01:15:06Z",
      "side": 1,
      "message": "How about clarifying a thread posted tasks will run?",
      "revId": "eca88fed578ead63d6fef9117d25003561c00dc3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}