{
  "comments": [
    {
      "key": {
        "uuid": "af5864f6_725716c9",
        "filename": "ios/web/web_state/ui/crw_web_controller.mm",
        "patchSetId": 1
      },
      "lineNbr": 3877,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-09-07T00:59:31Z",
      "side": 1,
      "message": "FYI: web_view_internal_creation_util.mm sets this to NO.",
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "455f21ac_20cb091c",
        "filename": "ios/web/web_state/ui/crw_web_controller.mm",
        "patchSetId": 1
      },
      "lineNbr": 3877,
      "author": {
        "id": 1230570
      },
      "writtenOn": "2017-09-07T06:20:19Z",
      "side": 1,
      "message": "I originally planned to add getter/setter for this, but I started to think that maybe we should just use the default value for this property instead i.e., YES in iOS 10 or later, and NO for iOS 9 or before.\n\nBecause we can enable/disable the link preview by implementing WebStateDelegate::ShouldPreviewLink() instead. It returns false by default, so it won\u0027t immediately enable the link preview on Chromium.\n\nWhat do you think?",
      "parentUuid": "af5864f6_725716c9",
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9fa1c5e9_fabbc062",
        "filename": "ios/web/web_state/web_state_impl.mm",
        "patchSetId": 1
      },
      "lineNbr": 522,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-09-07T00:59:31Z",
      "side": 1,
      "message": "nit: s/nullptr/nil",
      "range": {
        "startLine": 522,
        "startChar": 21,
        "endLine": 522,
        "endChar": 28
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c98ef9fb_5cda1a8c",
        "filename": "ios/web/web_state/web_state_impl.mm",
        "patchSetId": 1
      },
      "lineNbr": 522,
      "author": {
        "id": 1230570
      },
      "writtenOn": "2017-09-07T03:59:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fa1c5e9_fabbc062",
      "range": {
        "startLine": 522,
        "startChar": 21,
        "endLine": 522,
        "endChar": 28
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8251a5eb_70bbc620",
        "filename": "ios/web_view/internal/cwv_web_view.mm",
        "patchSetId": 1
      },
      "lineNbr": 337,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-09-07T00:59:31Z",
      "side": 1,
      "message": "nit: From Chromium Style Guide: \"Don\u0027t use else after return\"\n\nhttps://chromium.googlesource.com/chromium/src/+/master/styleguide/c++/c++.md#code-formatting",
      "range": {
        "startLine": 337,
        "startChar": 4,
        "endLine": 337,
        "endChar": 8
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77e8b895_ca5036d8",
        "filename": "ios/web_view/internal/cwv_web_view.mm",
        "patchSetId": 1
      },
      "lineNbr": 337,
      "author": {
        "id": 1230570
      },
      "writtenOn": "2017-09-07T03:59:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8251a5eb_70bbc620",
      "range": {
        "startLine": 337,
        "startChar": 4,
        "endLine": 337,
        "endChar": 8
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56346b5b_08b7c3a4",
        "filename": "ios/web_view/public/cwv_ui_delegate.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-09-07T00:59:31Z",
      "side": 1,
      "message": "Is this called only for links or for all elements? Should this be webView:shouldPreviewElement: instead to be fully compatible with WKWebView API?",
      "range": {
        "startLine": 68,
        "startChar": 37,
        "endLine": 68,
        "endChar": 61
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a68dea8_339ea592",
        "filename": "ios/web_view/public/cwv_ui_delegate.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1230570
      },
      "writtenOn": "2017-09-07T03:59:51Z",
      "side": 1,
      "message": "It looks only called for links for now as far as I tested, though Apple may extend it in the future. The doc says:\n\u003e This method is only invoked for elements that have a default preview in WebKit.\nAnd I guess links are the only elements with preview for now.\nhttps://developer.apple.com/documentation/webkit/wkuidelegate/1648359-webview?language\u003dobjc\n\nI was just lazy to define the equivalent of WKPreviewElementInfo, which is used in the original API. (Assuming you don\u0027t prefer to use WKPreviewElementInfo as is in our API.)\n\nSo I passed linkURL instead, which is the only field of WKPreviewElementInfo for now. I also renamed the method because I feel this signature looks a bit weird:\n- (BOOL)webView:(CWVWebView*)webView shouldPreviewElement:(NSURL*)linkURL;\n\nBut I don\u0027t have strong opinion anyway. Do you prefer to define CWVPreviewElementInfo for consistency with WKWebView API? Or do you want just consistent method names as above?",
      "parentUuid": "56346b5b_08b7c3a4",
      "range": {
        "startLine": 68,
        "startChar": 37,
        "endLine": 68,
        "endChar": 61
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff7a0498_7b13c2b6",
        "filename": "ios/web_view/public/cwv_ui_delegate.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-09-07T18:01:05Z",
      "side": 1,
      "message": "I think we should follow WKWebView API concepts where possible. Changing ios/web_view API later will be more work for us.",
      "parentUuid": "3a68dea8_339ea592",
      "range": {
        "startLine": 68,
        "startChar": 37,
        "endLine": 68,
        "endChar": 61
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68464973_ca60f72b",
        "filename": "ios/web_view/public/cwv_ui_delegate.h",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-09-07T00:59:31Z",
      "side": 1,
      "message": "Same question here. Should this be fully compatible with WKWebView API?",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 42
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db885da8_207c2159",
        "filename": "ios/web_view/public/cwv_ui_delegate.h",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1230570
      },
      "writtenOn": "2017-09-07T03:59:51Z",
      "side": 1,
      "message": "Ditto.",
      "parentUuid": "68464973_ca60f72b",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 42
      },
      "revId": "2eba4006e0a6dea30f37d99b2cb04f20161736f6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}