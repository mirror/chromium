{
  "comments": [
    {
      "key": {
        "uuid": "0da80922_acf8c2d1",
        "filename": "chrome/browser/about_flags.cc",
        "patchSetId": 3
      },
      "lineNbr": 3560,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "nit: The name doesn\u0027t quite reflect what the flag does. Maybe \"top-sites-from-site-engagement\" or something like that?",
      "range": {
        "startLine": 3560,
        "startChar": 63,
        "endLine": 3560,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38e5418e_36be54ce",
        "filename": "chrome/browser/about_flags.cc",
        "patchSetId": 3
      },
      "lineNbr": 3560,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0da80922_acf8c2d1",
      "range": {
        "startLine": 3560,
        "startChar": 63,
        "endLine": 3560,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ecbc299_48e4d124",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "optional: Could use std::partial_sort here. I don\u0027t know how large the vector will usually be, so might or might not matter.",
      "range": {
        "startLine": 33,
        "startChar": 43,
        "endLine": 33,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81ba5e65_b73eed59",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "std::sort is probably okay since it\u0027s rare we\u0027ll sort anything more than 50 origins here.",
      "parentUuid": "4ecbc299_48e4d124",
      "range": {
        "startLine": 33,
        "startChar": 43,
        "endLine": 33,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e7808b4_244e7bcd",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "const auto\u0026",
      "range": {
        "startLine": 60,
        "startChar": 7,
        "endLine": 60,
        "endChar": 11
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0de37cb_7a3a0f42",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e7808b4_244e7bcd",
      "range": {
        "startLine": 60,
        "startChar": 7,
        "endLine": 60,
        "endChar": 11
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20cd5731_442a3417",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "If the last query happens to fail, the callback will never be run?",
      "range": {
        "startLine": 88,
        "startChar": 11,
        "endLine": 88,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2840a40d_383b4975",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "I was under the impression that the |success| variable would be false if a query failed, but this callback would still be run.",
      "parentUuid": "20cd5731_442a3417",
      "range": {
        "startLine": 88,
        "startChar": 11,
        "endLine": 88,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30062897_6781cf69",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-06T08:38:59Z",
      "side": 1,
      "message": "What I meant is: If success is false, then you early out here, and never check below whether this was the last outstanding callback. So |callback| (the method parameter) will never be run.",
      "parentUuid": "2840a40d_383b4975",
      "range": {
        "startLine": 88,
        "startChar": 11,
        "endLine": 88,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "990f68a4_dc80e6c2",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-12T06:20:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30062897_6781cf69",
      "range": {
        "startLine": 88,
        "startChar": 11,
        "endLine": 88,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13a3189e_82e929cb",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "optional: Instead of |urls| plus |index|, could directly bind the relevant element.",
      "range": {
        "startLine": 89,
        "startChar": 37,
        "endLine": 89,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "215454c3_75b52a0f",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "13a3189e_82e929cb",
      "range": {
        "startLine": 89,
        "startChar": 37,
        "endLine": 89,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd6151e9_b8b44757",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "I think this won\u0027t work if a second QueryMostVisitedURLs call is started before the previous one completes: Then this will only go to zero for the second query, and the callback for the first one will never get run.\n\nMaybe there should be a \"Request\" class that handles getting the info from HistoryService for a single QueryMostVisitedURLs call? I think that\u0027d make things easier to follow. That class could also hold some data such as |urls| and |callback|, so not everything has to be bound to callbacks.\nMight also be good to get some tests for this.",
      "range": {
        "startLine": 91,
        "startChar": 34,
        "endLine": 91,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f697e12_56b4b58c",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "This behaviour was intentional. If we initiated a second call, I wanted to aggregate them into one so that only the second would finish (my understanding is that it would override the first anyone). Can I do this, or should both overlapping requests actually succeed?\n\nI\u0027m currently thinking about the best way to structure tests. We can\u0027t directly test the implementation in the existing TopSitesImplUnittest because that\u0027s in components. Either I\u0027ll need to write a totally separate set of unit tests for TopSitesImpl in //chrome, or I\u0027ll just add a SiteEngagementTopSitesProviderUnittest and sanity check it in a variety of scenarios in isolation from TopSitesImpl. I\u0027m leaning towards the latter option since it should be sufficient - thoughts?",
      "parentUuid": "cd6151e9_b8b44757",
      "range": {
        "startLine": 91,
        "startChar": 34,
        "endLine": 91,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7256767a_be29653b",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-06T08:07:35Z",
      "side": 1,
      "message": "I think it\u0027s sufficient to unit-test your new provider only, without actual integration tests.\n\nYou could consider updating TopSitesImpl unit tests to *not* use the default provider and instead use some test double, but I don\u0027t think it\u0027s desirable.\n\nEither way, the fact that TopSitesImpl properly exercises providers already has test coverage, so more integration tests (for siteengagement) do not add value IMO.",
      "parentUuid": "7f697e12_56b4b58c",
      "range": {
        "startLine": 91,
        "startChar": 34,
        "endLine": 91,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "244a01b1_8b11524b",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-06T08:38:59Z",
      "side": 1,
      "message": "Re aggregating or not: Without looking up how exactly the provider is used, I can\u0027t tell whether aggregating is okay, which is kind of the point: It\u0027s much harder to reason about things this way. Also (presumably) the default provider does not aggregate. So I vote for serving both requests.\nIf you are really sure that aggregating is fine, then please at least document that behavior clearly on the interface.\n\nAgreed that unit tests for the new provider are sufficient.",
      "parentUuid": "7256767a_be29653b",
      "range": {
        "startLine": 91,
        "startChar": 34,
        "endLine": 91,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f44ca9cb_4d66179f",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-12T06:20:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "244a01b1_8b11524b",
      "range": {
        "startLine": 91,
        "startChar": 34,
        "endLine": 91,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c78754ce_145ebdb8",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-05T13:04:21Z",
      "side": 1,
      "message": "Any particular reason to not inject HistoryService in the constructor, which is more common?",
      "range": {
        "startLine": 25,
        "startChar": 47,
        "endLine": 25,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6474401b_ae75b411",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "It seemed a bit wasteful to have a HistoryService pointer on the owning TopSitesImpl as well as in here, which was why I passed it in.",
      "parentUuid": "c78754ce_145ebdb8",
      "range": {
        "startLine": 25,
        "startChar": 47,
        "endLine": 25,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2e16e4e_423748eb",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-06T08:07:35Z",
      "side": 1,
      "message": "Not that I\u0027m feeling strongly, but I think simpler APIs are preferable, even if it means a bit of extra boilerplate in certain implementations. It\u0027s simpler to reason about this interface not necessarily involving a historyservice.",
      "parentUuid": "6474401b_ae75b411",
      "range": {
        "startLine": 25,
        "startChar": 47,
        "endLine": 25,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5782220f_d07c5668",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-12T06:20:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2e16e4e_423748eb",
      "range": {
        "startLine": 25,
        "startChar": 47,
        "endLine": 25,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6509e388_db2f9215",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-05T13:04:21Z",
      "side": 1,
      "message": "You can probably remove this and make it an implementation detail of frecencyprovider?",
      "range": {
        "startLine": 27,
        "startChar": 20,
        "endLine": 27,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "684fdd17_f207359e",
        "filename": "chrome/browser/engagement/site_engagement_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6509e388_db2f9215",
      "range": {
        "startLine": 27,
        "startChar": 20,
        "endLine": 27,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af53aa6a_0f247acd",
        "filename": "chrome/browser/history/top_sites_factory.cc",
        "patchSetId": 3
      },
      "lineNbr": 111,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "nit: \"\u003d nullptr\" isn\u0027t required, that the default",
      "range": {
        "startLine": 111,
        "startChar": 6,
        "endLine": 111,
        "endChar": 13
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24116e40_9c7cc161",
        "filename": "chrome/browser/history/top_sites_factory.cc",
        "patchSetId": 3
      },
      "lineNbr": 111,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "af53aa6a_0f247acd",
      "range": {
        "startLine": 111,
        "startChar": 6,
        "endLine": 111,
        "endChar": 13
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "817ceedb_4a84f36b",
        "filename": "chrome/browser/history/top_sites_factory.cc",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-05T13:04:21Z",
      "side": 1,
      "message": "I would recommend moving the code above to a helper function and then avoid the local variable here and the std::move.",
      "range": {
        "startLine": 119,
        "startChar": 3,
        "endLine": 119,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08e6c967_21936566",
        "filename": "chrome/browser/history/top_sites_factory.cc",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "817ceedb_4a84f36b",
      "range": {
        "startLine": 119,
        "startChar": 3,
        "endLine": 119,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "476fa929_b3cb4ee2",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "nit: not required",
      "range": {
        "startLine": 18,
        "startChar": 76,
        "endLine": 18,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0892975_86c0af87",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Without this, compilation fails with the following issue:\n\nerror: invalid application of \u0027sizeof\u0027 to an incomplete type \u0027history::TopSitesProvider\u0027\n\nThis is because TopSitesProvider is only forward-declared in top_sites_impl.h (std::unique_ptr\u003cX\u003e can be used as a member with just a forward declaration of X). I removed the forward declaration in top_sites_impl.h and included this there to get around the problem.",
      "parentUuid": "476fa929_b3cb4ee2",
      "range": {
        "startLine": 18,
        "startChar": 76,
        "endLine": 18,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21cee9cf_2a3f542c",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-06T08:38:59Z",
      "side": 1,
      "message": "SG, thanks! Resolved then.",
      "parentUuid": "c0892975_86c0af87",
      "range": {
        "startLine": 18,
        "startChar": 76,
        "endLine": 18,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "efb9cedf_2ae260ed",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "/*history_service\u003d*/",
      "range": {
        "startLine": 34,
        "startChar": 38,
        "endLine": 34,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f13beca_9232a51e",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "efb9cedf_2ae260ed",
      "range": {
        "startLine": 34,
        "startChar": 38,
        "endLine": 34,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb2b2a4a_43b5309e",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "/*provider\u003d*/",
      "range": {
        "startLine": 35,
        "startChar": 38,
        "endLine": 35,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17ed059c_1574ae48",
        "filename": "chrome/browser/thumbnails/thumbnail_service_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb2b2a4a_43b5309e",
      "range": {
        "startLine": 35,
        "startChar": 38,
        "endLine": 35,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7f6777d_8d2a513d",
        "filename": "components/history/core/browser/top_sites_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 420,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "Why?",
      "range": {
        "startLine": 420,
        "startChar": 54,
        "endLine": 420,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a33ec567_0260a30c",
        "filename": "components/history/core/browser/top_sites_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 420,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Hmmm, good point. Gone.",
      "parentUuid": "f7f6777d_8d2a513d",
      "range": {
        "startLine": 420,
        "startChar": 54,
        "endLine": 420,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51f7109a_d171ad31",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.cc",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "optional: \"\u003d default\"",
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "073c2d0a_36fc881b",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "nit: remove \";\" (it messes up the auto-formatting)",
      "range": {
        "startLine": 17,
        "startChar": 43,
        "endLine": 17,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7d3b9d6_dab01d2c",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Ack, that\u0027s why this looked broken.",
      "parentUuid": "073c2d0a_36fc881b",
      "range": {
        "startLine": 17,
        "startChar": 43,
        "endLine": 17,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6355353_4d7b764f",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T08:47:05Z",
      "side": 1,
      "message": "Please put this into its own file.",
      "range": {
        "startLine": 28,
        "startChar": 79,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e834e4b_f13a01a3",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-05T13:04:21Z",
      "side": 1,
      "message": "Somewhat related, mentioned here to loop treib@ in: is this naming desirable? Since none of the HistoryService APIs use this term (\"frecency\" doesn\u0027t occur in related code) nor guarantee that needs to be the implementation, I think it could be misleading. How about DefaultMostVisitedProvider?\n\nAlternatively rename QueryMostVisitedURLs()--\u003eQueryTopSites() and TopSitesMostVisitedProvider--\u003eTopSitesProvider.\n\ntreib@, WDYT?",
      "parentUuid": "b6355353_4d7b764f",
      "range": {
        "startLine": 28,
        "startChar": 79,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebe31bcb_3fd859e8",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-10-05T13:15:01Z",
      "side": 1,
      "message": "You\u0027re right, we shouldn\u0027t introduce \"frecency\" as yet another term for \"most visited\"/\"top sites\".\nMaybe call the interface just \"TopSitesProvider\" and then this implementation can be \"MostVisitedProvider\", or \"MostVisitedTopSitesProvider\" if we want to be wordy? Or \"DefaultTopSitesProvider\" would be fine with me too.",
      "parentUuid": "4e834e4b_f13a01a3",
      "range": {
        "startLine": 28,
        "startChar": 79,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "660d2f95_f99578d7",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-05T13:22:05Z",
      "side": 1,
      "message": "Agreed, great! Since we need to make a call, let\u0027s do the following:\ninterface TopSitesProvider\nimpl DefaultTopSitesProvider\n\nFor the function name, stick to QueryMostVisitedURLs() or alternatively ProvideTopSites(). Since treib@ didn\u0027t speak up, you can choose dominick (but it also doesn\u0027t involve a file rename ;-)",
      "parentUuid": "ebe31bcb_3fd859e8",
      "range": {
        "startLine": 28,
        "startChar": 79,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "add3fa5f_ecc3715a",
        "filename": "components/history/core/browser/top_sites_most_visited_provider.h",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-10-06T05:09:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "660d2f95_f99578d7",
      "range": {
        "startLine": 28,
        "startChar": 79,
        "endLine": 28,
        "endChar": 0
      },
      "revId": "34c44875572150a9ae275c8f90a9f3a356155c76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}