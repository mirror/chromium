{
  "comments": [
    {
      "key": {
        "uuid": "9dde10dd_8a35f1dc",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2018-01-29T17:33:38Z",
      "side": 1,
      "message": "I\u0027m a little surprised that if you want to track counts you aren\u0027t also tracking the number of times the window was restored and iconified.",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb7202a2_6f7d14df",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1003321
      },
      "writtenOn": "2018-02-01T05:39:39Z",
      "side": 1,
      "message": "Yeah, it\u0027s hard to think of everything when requesting a UKM collection review from privacy.\n\nWhat\u0027s \"iconified\"? I only see some references in relation to minimize, which is tracked here.",
      "parentUuid": "9dde10dd_8a35f1dc",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c63509cc_63d44258",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2018-02-01T20:56:36Z",
      "side": 1,
      "message": "Sorry, iconified and minimized are the same thing.",
      "parentUuid": "bb7202a2_6f7d14df",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "586e3680_d3fab0a0",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 204,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2018-01-29T17:33:38Z",
      "side": 1,
      "message": "Is there a reason why you need the two phase Update and then sanitize? Is there a reason Update can\u0027t call (or do) the sanitize step?",
      "range": {
        "startLine": 204,
        "startChar": 9,
        "endLine": 204,
        "endChar": 35
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebaa64bf_5479aafb",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 204,
      "author": {
        "id": 1003321
      },
      "writtenOn": "2018-02-01T05:39:39Z",
      "side": 1,
      "message": "Just that it complicates the call site -- we want to update a member variable and create a temporary.\n\nWe\u0027re starting to prototype inferencing now, where we\u0027ll be using these metrics to make predictions instead of (or in addition to) logging. So I also expect some churn in these structures anyway.",
      "parentUuid": "586e3680_d3fab0a0",
      "range": {
        "startLine": 204,
        "startChar": 9,
        "endLine": 204,
        "endChar": 35
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad066a68_a7db552d",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 204,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2018-02-01T20:56:36Z",
      "side": 1,
      "message": "I\u0027m not sure I understand. Could you elaborate on what my proposal complicates?",
      "parentUuid": "ebaa64bf_5479aafb",
      "range": {
        "startLine": 204,
        "startChar": 9,
        "endLine": 204,
        "endChar": 35
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8dda40c0_0a9353f6",
        "filename": "chrome/browser/ui/tabs/window_activity_watcher.cc",
        "patchSetId": 3
      },
      "lineNbr": 204,
      "author": {
        "id": 1003321
      },
      "writtenOn": "2018-02-02T07:12:19Z",
      "side": 1,
      "message": "If I understand your proposal, we\u0027d do something like:\n\n  WindowMetrics new_ukm_metrics \u003d\n      UpdateAndGetSanitizedVersion(browser_, \u0026current_metrics_);\n\nThis function would do two things (change state, and generate a transformation of that state). I\u0027d rather explicitly do the bookkeeping (UpdateMetrics) and subsequent sanitizing (SanitizeWindowMetricsForUkm).\n\nIn case you\u0027re asking why we need a separate |current_metrics_| and sanitized |last_reported_metrics_|: to build the sanitized WindowMetrics, we have to start with the saved non-sanitized WindowMetrics that has the raw values -- otherwise we can\u0027t track counters like MaximizeCount that get bucketized. That\u0027s|current_metrics_|.",
      "parentUuid": "ad066a68_a7db552d",
      "range": {
        "startLine": 204,
        "startChar": 9,
        "endLine": 204,
        "endChar": 35
      },
      "revId": "39ab710f376cd379fc4583a9bb17effbc1528e0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}