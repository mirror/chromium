{
  "comments": [
    {
      "key": {
        "uuid": "fd6542dd_a0aa3512",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T15:57:08Z",
      "side": 1,
      "message": "do we need this part? it doesn\u0027t seem correct that we\u0027d move focus away from the active window just because it\u0027s no longer system modal. shouldn\u0027t it require a user action or the window to become non-activatable for the focus to move away?",
      "range": {
        "startLine": 555,
        "startChar": 4,
        "endLine": 558,
        "endChar": 5
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "135c479c_880dd4c3",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-08T21:44:17Z",
      "side": 1,
      "message": "This is necessary to support the following scenario.\n1) You have FB chat head, which isn\u0027t focused.\n2) You got ANR\n3) You close ANR. A user expect the focus back to the original window, but\n  not chat head.\n\nThis isn\u0027t perfect because opposite happen when you get ANR while using ChatHead, but I think this is better because former scenario is a lot more common than latter.",
      "parentUuid": "fd6542dd_a0aa3512",
      "range": {
        "startLine": 555,
        "startChar": 4,
        "endLine": 558,
        "endChar": 5
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06459000_d355bafa",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T22:43:13Z",
      "side": 1,
      "message": "How about we save the active window when entering system modal state and then restore it when leaving this state?",
      "parentUuid": "135c479c_880dd4c3",
      "range": {
        "startLine": 555,
        "startChar": 4,
        "endLine": 558,
        "endChar": 5
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5510f50b_77245491",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-08T23:07:36Z",
      "side": 1,
      "message": "There is no guarantee that old active window will be still activatable nor alive. Ash has a logic to find the right one upon deactivation.",
      "parentUuid": "06459000_d355bafa",
      "range": {
        "startLine": 555,
        "startChar": 4,
        "endLine": 558,
        "endChar": 5
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b75393c9_3edc02e5",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T23:41:08Z",
      "side": 1,
      "message": "so can we limit the Deactivate() call to when the widget was not active when entering system modal mode? An active window losing focus when entering+leaving system modal state seems like a bad regression..",
      "parentUuid": "5510f50b_77245491",
      "range": {
        "startLine": 555,
        "startChar": 4,
        "endLine": 558,
        "endChar": 5
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e6cb6f2_4e75a682",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-09T01:27:14Z",
      "side": 1,
      "message": "Sounds reasonable. Done.",
      "parentUuid": "b75393c9_3edc02e5",
      "range": {
        "startLine": 555,
        "startChar": 4,
        "endLine": 558,
        "endChar": 5
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bc6b294_20b01729",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 789,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T15:57:08Z",
      "side": 1,
      "message": "nit: this just seems to reference the bug you\u0027re fixing. I don\u0027t think we need this here as the change makes sense on its own.",
      "range": {
        "startLine": 788,
        "startChar": 13,
        "endLine": 789,
        "endChar": 25
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "987727d2_971298a0",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 789,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-08T21:44:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6bc6b294_20b01729",
      "range": {
        "startLine": 788,
        "startChar": 13,
        "endLine": 789,
        "endChar": 25
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccd1532a_f5ed2811",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 792,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T15:57:08Z",
      "side": 1,
      "message": "nit: this doesn\u0027t seem like the right place to track this issue as this CL makes sense independent of future work related to task IDs. remove this TODO from here or are you expecting this code to change as a result of that?",
      "range": {
        "startLine": 790,
        "startChar": 13,
        "endLine": 792,
        "endChar": 24
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "641fb04b_a08ebddc",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 792,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-08T21:44:17Z",
      "side": 1,
      "message": "Yes, we can remove this \"if\" once we fix the 65460424. This is necessary because we\u0027re using the same shell_surface for all system/alert window, as they do not have task id.",
      "parentUuid": "ccd1532a_f5ed2811",
      "range": {
        "startLine": 790,
        "startChar": 13,
        "endLine": 792,
        "endChar": 24
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96935ce5_48e5d2a7",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 792,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T22:43:13Z",
      "side": 1,
      "message": "I\u0027m not convinced that we should remove the \"if\" even after fixing that. I think a window becoming activatable should not result in it stealing focus unless it\u0027s system modal. I think you\u0027re improving the code here by adding this if-statement. Wdyt?",
      "parentUuid": "641fb04b_a08ebddc",
      "range": {
        "startLine": 790,
        "startChar": 13,
        "endLine": 792,
        "endChar": 24
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b0b4eea_0d71be0f",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 792,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-08T23:07:36Z",
      "side": 1,
      "message": "What I\u0027m going to do is to separate modal dialog window and no modal system window. Non modal system window should be added to other container (probably overlay/popup/always on top), and act like normal window except that it\u0027s above normal windows. This is necessary to run multiple apps that uses system window and activate them separately.",
      "parentUuid": "96935ce5_48e5d2a7",
      "range": {
        "startLine": 790,
        "startChar": 13,
        "endLine": 792,
        "endChar": 24
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "800957e8_16c1edff",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 792,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-08T23:41:08Z",
      "side": 1,
      "message": "Two different top-level shell surface for this sgtm. Getting rid of the dynamic system modal handling would be really nice.",
      "parentUuid": "8b0b4eea_0d71be0f",
      "range": {
        "startLine": 790,
        "startChar": 13,
        "endLine": 792,
        "endChar": 24
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89f0459f_7c2b1147",
        "filename": "components/exo/shell_surface.cc",
        "patchSetId": 2
      },
      "lineNbr": 792,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2017-09-09T01:27:14Z",
      "side": 1,
      "message": "yep",
      "parentUuid": "800957e8_16c1edff",
      "range": {
        "startLine": 790,
        "startChar": 13,
        "endLine": 792,
        "endChar": 24
      },
      "revId": "38f7b88c2c4fed0aab07c25dac30c9fa9dac22fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}