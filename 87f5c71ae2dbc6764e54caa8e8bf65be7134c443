{
  "comments": [
    {
      "key": {
        "uuid": "d6a5829d_1185fdab",
        "filename": "chrome/browser/search/BUILD.gn",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "Are these really public? Seems to me that dependents shouldn\u0027t need to know anything about :local_ntp_code_generate",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 13
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3843ada_be866f96",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "I don\u0027t know if Chromium Python files are supposed to follow the Google Python style guide, but I\u0027d assume it\u0027s a good idea. An easy start would be to apply the google/yapf formatter:\n\n  $ sudo apt-get install python-pip  # if you don\u0027t have pip(1)\n  $ sudo pip install yapf            # if you don\u0027t have yapf(1)\n  $ yapf -i generate_integrity_header.py",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bd18eba_184d8cd7",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T09:53:23Z",
      "side": 1,
      "message": "We don\u0027t have much of a Python styleguide: https://chromium.googlesource.com/chromium/src/+/master/styleguide/styleguide.md\n\nHowever, it does specify two-space indents, but yapf makes it four-space indents, so I guess it doesn\u0027t apply here.",
      "parentUuid": "c3843ada_be866f96",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3ffd142_5789ed91",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T10:03:19Z",
      "side": 1,
      "message": "Ah right, should be yapf --style\u003dgoogle because of course we don\u0027t use the standard style.\n\n(I\u0027m not sure if it will actually change anything important. The only thing I noticed was surrounding top-level definitions with two blank lines, which is common to both PEP8 and Google style)",
      "parentUuid": "8bd18eba_184d8cd7",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e8871139_e2747b01",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T11:09:25Z",
      "side": 1,
      "message": "--style\u003dgoogle still does four-space indents for some reason. There\u0027s --style\u003dchromium though, so I applied that. Mostly it inserted a few more newlines.",
      "parentUuid": "f3ffd142_5789ed91",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bbcf4e6d_e879de82",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "1. optparse.OptionParser is replaced by argparse.ArgumentParser in more recent Python code. You\u0027d add_argument() for {input,output}_path:\n\n  parser.add_argument(\"input_path\", help\u003d\"\")\n  parser.add_argument(\"output_path\", help\u003d\"\")\n  args \u003d parser.parse_args()\n  # use args.input_path and args.output_path\n\n2. Google Python style only wants modules imported, so no from x import y here. (it\u0027s OK when y is a child module)",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48df5a32_583fb491",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T09:53:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bbcf4e6d_e879de82",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c01b0bd_794db6cb",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "You want os.path.basename(), right?",
      "range": {
        "startLine": 20,
        "startChar": 21,
        "endLine": 20,
        "endChar": 49
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "053b80d7_d790c9c0",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T09:53:23Z",
      "side": 1,
      "message": "Yep :)  Done.",
      "parentUuid": "2c01b0bd_794db6cb",
      "range": {
        "startLine": 20,
        "startChar": 21,
        "endLine": 20,
        "endChar": 49
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "300ff10f_b21279cc",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "Optional: rather than these specific replacements, you could use `re.sub(\"\\W\", \"_\", input_filename.upper())`",
      "range": {
        "startLine": 27,
        "startChar": 40,
        "endLine": 27,
        "endChar": 76
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d13433c2_9c133b5d",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T09:53:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "300ff10f_b21279cc",
      "range": {
        "startLine": 27,
        "startChar": 40,
        "endLine": 27,
        "endChar": 76
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1500ef29_e8d8d098",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "Optional: You\u0027re not using an include guard for the header. Might be nice to wrap it in \"#ifndef define_name\"",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "249f086a_3f4d7ef3",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T09:53:23Z",
      "side": 1,
      "message": "I thought about that, and decided it\u0027s not worth the effort:\n- The file should only ever be included once anyway.\n- If it were included multiple times, nothing very bad would happen.\n- It\u0027s somewhat inconvenient to produce a proper include guard, since we\u0027d need the path relative to src/ (we only have the path relative to the BUILD.gn file).",
      "parentUuid": "1500ef29_e8d8d098",
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11fc140e_41077161",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1150535
      },
      "writtenOn": "2017-07-13T09:29:08Z",
      "side": 1,
      "message": "__doc__ isn\u0027t very meaningful without a file-level docstring :) You could add one or remove this (if you keep it, consider changing to description\u003d__doc__ and letting the parser generate its own usage string)",
      "range": {
        "startLine": 35,
        "startChar": 30,
        "endLine": 35,
        "endChar": 37
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87ceb734_c3efcd90",
        "filename": "chrome/browser/search/tools/generate_integrity_header.py",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-13T09:53:23Z",
      "side": 1,
      "message": "I\u0027ve added a description string. Running the script with -h seems to have the intended output now.",
      "parentUuid": "11fc140e_41077161",
      "range": {
        "startLine": 35,
        "startChar": 30,
        "endLine": 35,
        "endChar": 37
      },
      "revId": "87f5c71ae2dbc6764e54caa8e8bf65be7134c443",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}