{
  "comments": [
    {
      "key": {
        "uuid": "0b61e74f_44a7ce6f",
        "filename": "chrome/browser/browsing_data/browsing_data_file_system_helper_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-26T00:17:06Z",
      "side": 1,
      "message": "This doesn\u0027t match the impl. Maybe you want to ask chrome/browser/browsing_data/OWNERS about this?",
      "revId": "d2b58d5f7991876d0942580c2b306378977f4d9c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d8d58d1_b0f92816",
        "filename": "chrome/browser/browsing_data/browsing_data_file_system_helper_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-07-26T00:32:35Z",
      "side": 1,
      "message": "\u003e This doesn\u0027t match the impl. Maybe you want to ask chrome/browser/browsing_data/OWNERS about this?\n\nHmm.. actually maybe this one doesn\u0027t need updating. I\u0027ll double check by spamming cq a few more times.",
      "parentUuid": "0b61e74f_44a7ce6f",
      "revId": "d2b58d5f7991876d0942580c2b306378977f4d9c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "400afd23_2bf827fa",
        "filename": "chrome/browser/browsing_data/browsing_data_file_system_helper_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-07-26T00:54:27Z",
      "side": 1,
      "message": "\u003e \u003e This doesn\u0027t match the impl. Maybe you want to ask chrome/browser/browsing_data/OWNERS about this?\n\u003e \n\u003e Hmm.. actually maybe this one doesn\u0027t need updating. I\u0027ll double check by spamming cq a few more times.\n\nLuckily, Notify calls QuitWhenIdle, not Quit. So the two are pretty much equivalent. Updated comments and methods and removed Notify altogether.\n\nSwitching to content::RunAllBlockingPoolTasksUntilIdle definitely is required, although I didn\u0027t dig into the details. I guess existing code uses QuitWhenIdle rather than Quit is already working around something.",
      "parentUuid": "9d8d58d1_b0f92816",
      "revId": "d2b58d5f7991876d0942580c2b306378977f4d9c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1bc9227_80a76374",
        "filename": "chrome/browser/browsing_data/browsing_data_file_system_helper_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 1115965
      },
      "writtenOn": "2017-07-26T01:33:46Z",
      "side": 1,
      "message": "I think this assumes Notify() will have been called once the current loop and the pool is idle? So it assumes idle means success. If a bug is introduced that prevents Notify() from being called, how would we know?\n\nWould it make sense to change Notify() to call Quit() and to change the BlockUntilNotified()\n  base::RunLoop().Run();  // won\u0027t stop until Notify() is called\n  content::RunAllBlockingPoolTasksUntilIdle();  // flushes everything else thru till idle",
      "parentUuid": "400afd23_2bf827fa",
      "revId": "d2b58d5f7991876d0942580c2b306378977f4d9c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2777892_5fc61a1e",
        "filename": "chrome/browser/browsing_data/browsing_data_file_system_helper_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-07-26T02:03:10Z",
      "side": 1,
      "message": "\u003e I think this assumes Notify() will have been called once the current loop and the pool is idle? So it assumes idle means success. If a bug is introduced that prevents Notify() from being called, how would we know?\n\u003e \n\u003e Would it make sense to change Notify() to call Quit() and to change the BlockUntilNotified()\n\u003e   base::RunLoop().Run();  // won\u0027t stop until Notify() is called\n\u003e   content::RunAllBlockingPoolTasksUntilIdle();  // flushes everything else thru till idle\n\nDone except Notify calling RunLoop().Quit() doesn\u0027t appear to work for some reason, so kept QuitWhenIdle.",
      "parentUuid": "a1bc9227_80a76374",
      "revId": "d2b58d5f7991876d0942580c2b306378977f4d9c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f558221_70e17c9f",
        "filename": "chrome/browser/browsing_data/browsing_data_file_system_helper_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-07-26T02:16:05Z",
      "side": 1,
      "message": "\u003e \u003e I think this assumes Notify() will have been called once the current loop and the pool is idle? So it assumes idle means success. If a bug is introduced that prevents Notify() from being called, how would we know?\n\u003e \u003e \n\u003e \u003e Would it make sense to change Notify() to call Quit() and to change the BlockUntilNotified()\n\u003e \u003e   base::RunLoop().Run();  // won\u0027t stop until Notify() is called\n\u003e \u003e   content::RunAllBlockingPoolTasksUntilIdle();  // flushes everything else thru till idle\n\u003e \n\u003e Done except Notify calling RunLoop().Quit() doesn\u0027t appear to work for some reason, so kept QuitWhenIdle.\n\nOh wait. I think Notify needs to call Quit on the same RunLoop instance. I\u0027ll try that tomorrow..",
      "parentUuid": "a2777892_5fc61a1e",
      "revId": "d2b58d5f7991876d0942580c2b306378977f4d9c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}