{
  "comments": [
    {
      "key": {
        "uuid": "080d558a_78f0f8f5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-08-04T06:53:46Z",
      "side": 1,
      "message": "IIUC, this was used for retaining a live registration in the browser process from a controlled page. I\u0027m not really sure whether we really needed to do it because ServiceWorkerProviderHost also retains the associated registration.\n\nHmmm... I guess... disassociation happens in the browser process side and then in the controlled page side, so we wanted to make the registration alive until disassociation happens in the controlled page side in order to ensure that ServiceWorkerDispatcherHost can appropriately handle IPC messages (not as bad IPC) from the controlled page until the last minute...?",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26982074_8fa88a22",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-08-04T06:56:17Z",
      "side": 1,
      "message": "For example, https://chromium.googlesource.com/chromium/src/+blame/891cdcc6b3c69700611dc1da347e8082ff39c787/content/browser/service_worker/service_worker_dispatcher_host.cc#436",
      "parentUuid": "080d558a_78f0f8f5",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec77f1ec_216fc5fb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-08-04T06:58:58Z",
      "side": 1,
      "message": "Oh, in this OnUnregistration case, the controlled page has a ServiceWorkerRegistration JS-object that retains an inter-process reference, so this is not a problem. Sorry.",
      "parentUuid": "26982074_8fa88a22",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bc45620_2a982296",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-08-04T07:21:44Z",
      "side": 1,
      "message": "OK. I read through the codebase and didn\u0027t find problems like this.\n\n(Just in case, I\u0027d like to ask you to double-check inter-process reference is not broken by this change)",
      "parentUuid": "ec77f1ec_216fc5fb",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55a2458e_187ae936",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-08-04T07:52:32Z",
      "side": 1,
      "message": "Thanks for looking.\n\nI looked through some GetLiveRegistration callsites and it looks OK.\n\nFrom some more code archaeology, I think we originally did AssociateRegistration in order to have .ready populated immediately \u003chttps://codereview.chromium.org/477593007\u003e, then later changed it to ask the browser process for the registration lazily \u003chttps://codereview.chromium.org/894973003\u003e.",
      "parentUuid": "2bc45620_2a982296",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87e9d688_ea8810e6",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-08-04T05:25:33Z",
      "side": 1,
      "message": "At this point should we just deprecate this delegate interface? (maybe in a follow-up)",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "545786ca_9f6d2b63",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-08-04T07:52:32Z",
      "side": 1,
      "message": "Yep I\u0027m hoping so. Or even removing ProviderContext totally.",
      "parentUuid": "87e9d688_ea8810e6",
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f362b62a_3cd0cc20",
        "filename": "content/child/service_worker/service_worker_provider_context.h",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-08-04T06:53:46Z",
      "side": 1,
      "message": "the the -\u003e the",
      "range": {
        "startLine": 46,
        "startChar": 48,
        "endLine": 47,
        "endChar": 9
      },
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c68670f_d429715b",
        "filename": "content/child/service_worker/service_worker_provider_context.h",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-08-04T07:52:32Z",
      "side": 1,
      "message": "haha i totally broke these sentences. Revised. Done.",
      "parentUuid": "f362b62a_3cd0cc20",
      "range": {
        "startLine": 46,
        "startChar": 48,
        "endLine": 47,
        "endChar": 9
      },
      "revId": "f110c3831b8524b60e4c980cacf9858e88625c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}