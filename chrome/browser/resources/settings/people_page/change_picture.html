<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-icons/iron-icons.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-selector/iron-selector.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/polymer/polymer.html">
<link rel="import" href="chrome://md-settings/people_page/camera.html">
<link rel="import" href="chrome://md-settings/people_page/change_picture_private_api.html">

<dom-module id="settings-change-picture">
  <link rel="import" type="css"
      href="chrome://md-settings/settings_shared.css">
  <link rel="import" type="css" href="change_picture.css">
  <template>
    <div id="container" class="settings-box">
      <div id="availableIcons" class="start">
        <iron-selector id="selector" on-iron-activate="onImageActivate_"
            selected-item="{{selectedItem_}}">
          <img id="cameraImage" class="bordered-image" data-type="camera"
              src="chrome://theme/IDR_BUTTON_USER_IMAGE_TAKE_PHOTO"
              alt="[[i18n('takePhoto')]]" hidden="[[!cameraPresent_]]">
          <img id="profileImage" data-type="profile"
              src="[[profileImageUrl_]]"
              alt="[[i18n('profilePhotoLoading')]]">
          <img id="oldImage" data-type="old"
              src="[[oldImageUrl_]]" hidden="[[!oldImageUrl_]]">
          <template is="dom-repeat" items="[[defaultImages_]]">
            <img data-type="default" src="[[item.url]]" alt="[[item.title]]">
          </template>
        </iron-selector>
      </div>
      <div id="previewPane">
        <img i18n-values="alt:previewAltText" src="[[selectedItem_.src]]"
            hidden="[[isCameraActive_(cameraPresent_, selectedItem_)]]">
        <div id="discardControlBar" hidden="[[isDiscardHidden_(selectedItem_)]]">
          <paper-icon-button id="discardOldImage" tabindex="2" icon="delete"
              i18n-values="title:discardPhoto" on-tap="onTapDiscardOldImage_">
          </paper-icon-button>
        </div>
        <settings-camera
            camera-active="[[isCameraActive_(cameraPresent_, selectedItem_)]]"
            on-phototaken="onPhotoTaken_">
      </div>
    </div>
  </template>
  <script src="change_picture.js"></script>
</dom-module>
