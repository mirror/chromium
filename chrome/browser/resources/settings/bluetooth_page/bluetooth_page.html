<link rel="import" href="chrome://resources/polymer/v1_0/polymer/polymer.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-icons/device-icons.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-list/iron-list.html">
<link rel="import" href="chrome://resources/polymer/v1_0/neon-animation/neon-animatable.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-button/paper-button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="chrome://resources/cr_elements/cr_collapse/cr_collapse.html">
<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://md-settings/settings_page/settings_animated_pages.html">
<link rel="import" href="bluetooth_device_list_item.html">

<dom-module id="settings-bluetooth-page">
  <link rel="import" type="css" href="chrome://md-settings/settings_shared.css">
  <link rel="import" type="css" href="bluetooth_page.css">
  <template>
    <settings-animated-pages id="pages" current-route="{{currentRoute}}"
        section="bluetooth">
      <neon-animatable id="main">
        <div class="settings-box">
          <div class="layout horizontal center">
            <iron-icon icon="device:bluetooth"></iron-icon>
            <span class="flex" i18n-content="bluetoothEnable"></span>
            <cr-expand-button id="expandListButton"
                hidden$="[[!bluetoothEnabled]]"
                expanded="{{deviceListExpanded}}">
            </cr-expand-button>
            <paper-toggle-button id="enableBluetooth"
                checked="{{bluetoothEnabled}}"
                on-change="onBluetoothEnabledChange_">
            </paper-toggle-button>
          </div>
          <cr-collapse opened="[[deviceListExpanded]]">
            <div id="deviceList" class="layout vertical"
                on-device-event="onDeviceEvent_">
              <span hidden$="[[haveDevices_(deviceList.splices)]]"
                  i18n-content="bluetoothNoDevices">
              </span>
              <template is="dom-repeat" items="[[deviceList]]"
                  filter="deviceIsPaired_">
                <bluetooth-device-list-item device="[[item]]">
                </bluetooth-device-list-item>
              </template>
            </div>
            <div class="settings-box" hidden$="[[!bluetoothEnabled]]">
              <paper-button id="addDevice" i18n-content="bluetoothAddDevice"
                  on-tap="onAddDeviceTap_">
              </paper-button>
            </div>
          </cr-collapse>
        </div>
      </neon-animatable>
    </settings-animated-pages>
  </template>
  <script src="bluetooth_page.js"></script>
</dom-module>
