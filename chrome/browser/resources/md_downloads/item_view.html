<link rel="import" href="chrome://resources/html/cr.html">
<link rel="import" href="chrome://resources/html/load_time_data.html">
<link rel="import" href="chrome://resources/polymer/v1_0/polymer/polymer.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-material/paper-material.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-progress/paper-progress.html">
<link rel="import" href="chrome://resources/cr_elements/v1_0/cr_button/cr_button.html">
<link rel="import" href="chrome://downloads/action_service.html">
<link rel="import" href="chrome://downloads/constants.html">
<link rel="import" href="chrome://downloads/throttled_icon_loader.html">

<dom-module id="downloads-item-view">
  <template>
    <div id="date-container">
      <div id="since"></div>
      <div id="date"></div>
    </div>

    <paper-material id="safe" hidden$="[[isDangerous_]]"
        on-dragstart="onDragStart_">
      <div id="safe-icon-wrapper">
        <img id="safe-icon" alt="">
      </div>
      <div id="details">
        <div id="title-area">
          <cr-button id="file-link" column-type="name"
              on-click="onFileLinkClick_"></cr-button>
          <span id="name"></span>
          <span id="status"></span>
        </div>
        <div>
          <a id="src-url" target="_blank" column-type="url"></a>
        </div>
        <div>
          <cr-button id="show" column-type="show" on-click="onShowClick_"
              i18n-content="controlShowInFolder"></cr-button>
          <a id="retry" column-type="retry" i18n-content="controlRetry"
              download></a>
          <cr-button id="pause" column-type="pause" on-click="onPauseClick_"
              i18n-content="controlPause"></cr-button>
          <cr-button id="resume" column-type="resume" on-click="onResumeClick_"
              i18n-content="controlResume"></cr-button>
          <cr-button id="cancel" column-type="cancel" on-click="onCancelClick_"
              i18n-content="controlCancel"></cr-button>
          <span id="controlled-by"
              i18n-values=".innerHTML:controlByExtension"></span>
        </div>
        <paper-progress id="progress"></paper-progress>
      </div>
      <div id="remove-wrapper">
        <paper-icon-button id="safe-remove" column-type="remove" icon="clear"
            on-click="onRemoveClick_"
            i18n-content="controlRemoveFromList"></paper-icon-button>
      </div>
    </paper-material>

    <paper-material id="dangerous" hidden$="[[!isDangerous_]]">
      <img id="dangerous-icon" alt="">
      <div id="description"></div>
      <div id="malware-controls" hidden$="[[!isMalware_]]">
        <cr-button id="restore" column-type="save"
            on-click="onRestoreOrSaveClick_"
            i18n-content="dangerRestore"></cr-button>
        <cr-button id="dangerous-remove" column-type="discard"
            on-click="onDangerousRemoveOrDiscardClick_"
            i18n-content="controlRemoveFromList"></cr-button>
      </div>
      <button id="save" column-type="save" i18n-content="dangerSave"
          on-click="onRestoreOrSaveClick_" hidden$="[[isMalware_]]"></button>
      <button id="discard" column-type="discard" i18n-content="dangerDiscard"
          on-click="onDangerousRemoveOrDiscardClick_"
          hidden$="[[isMalware_]]"></button>
    </paper-material>

    <div id="end-cap"></div>
  </template>
  <link rel="import" type="css" href="chrome://downloads/shared_style.css">
  <link rel="import" type="css" href="chrome://downloads/item_view.css">
  <script src="chrome://downloads/item_view.js"></script>
</dom-module>
