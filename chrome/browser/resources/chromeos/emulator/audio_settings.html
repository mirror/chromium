<link rel="import" href="chrome://resources/polymer/v1_0/polymer/polymer.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-icons/iron-icons.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-button/paper-button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-input/paper-input.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-toggle-button/paper-toggle-button.html">

<dom-module id="audio-settings">
  <link rel="import" type="css" href="audio_settings.css">
  <template>
    <div class="layout vertical">
      <div class="element-label">[[title]]</div>
      <form id="audio-settings-form">
        <div class="layout vertical">
          <span class="form-label">Nodes</span>
          <template is="dom-repeat" items="[[nodes]]">
            <div class="device-container">
              <div class="audio-node">
                <div class="element-label">[[item.deviceName]]</div>
                <paper-input value="{{item.deviceName}}" label="Name">
                </paper-input>
                <paper-input value="{{item.id}}" label="ID" pattern="^\d{5}"
                    error-message="Invalid ID: Must be 5 digits">
                </paper-input>
                <span class="toggle-button-label">Is Input</span>
                <paper-toggle-button checked="{{item.isInput}}">
                </paper-toggle-button>
                <span class="toggle-button-label">Active</span>
                <paper-toggle-button checked="{{item.active}}">
                </paper-toggle-button>
                <div class="device-field">
                  <label>
                    <span class="form-label">Audio Node Type</span>
                    <paper-radio-group selected="{{item.type}}">
                      <template is="dom-repeat"
                          items="[[nodeTypeOptions]]" as="option">
                        <paper-radio-button name="[[option.type]]"
                            >[[option.name]]</paper-radio-button>
                      </template>
                    </paper-radio-group>
                  </label>
                </div>
                <paper-button raised class="colored" on-click="insertAudioNode"
                    event.model.index="[[index]]">Add Node</paper-button>
                <paper-button raised class="colored" on-click="removeAudioNode"
                    event.model.index="[[index]]">Remove Node</paper-button>
              </div>
            </div>
          </template>
          <paper-button on-click="appendNewNode">
            <paper-icon-button icon="add"></paper-icon-button>
            <span>New Node</span>
          </paper-button>
        </div>
      </form>
    </div>
  </template>
  <script src="audio_settings.js"></script>
</dom-module>
