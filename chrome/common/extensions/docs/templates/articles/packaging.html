<h1>Packaging</h1>

<p>
  All of an extensions files are organized in a single directory.
  The directory is distributed to users as a special ZIP file with a
  <code><a href="/crx">.crx</a></code> suffix.
  Extensions that are <a href="/hosting">hosted</a> on the
  <a href="https://chrome.google.com/webstore/category/extensions">
    Chrome Webstore</a>
  are uploaded as <code>.zip</code> files through the
  <a href="https://chrome.google.com/webstore/developer/dashboard">
  Developer Dashboard</a>.
  Through this process, the <code>.crx</code> file is auto-created.
  No other steps are required for Webstore hosting.
</p>
<p>
  If an extension is hosted outside the Webstore,
  the directory will need to be converted to a <code>.crx</code>
  file manually.
</p>

<h2 id="creating">Creating a .crx Package</h2>

<p>
  Extension directories are converted to <code>.crx</code>
  files at the <span id="extension_management">Extensions Management Page.
  Navigate to <code>chrome://extensions/</code> in the ominibox,
  or click on the Chrome menu,
  hover over "More Tools" then select "Extensions"</span>.
</p>
<p>
  On the Extensions Management Page, enable "Developer mode"
  by checking the box in the top right-hand corner and
  select "Pack extension...".
</p>

<img src="{{static}}/images/packaging/packaging_devmode.png"
 height="100"
 alt="Developer Mode is Checked then Click Pack Extension">

<p>
  Specify the path to the extension’s folder
  in the Extension root directory field then click "Pack Extension".
  Ignore the Private Key field for a first time package.
</p>

<img src="{{static}}/images/packaging/packaging_root.png"
 height="200"
 alt="Specify Extension Path then Click Pack Extension">

<p>
  The extension packager will create two files,
  a <code>.crx</code> file and a <code>.pem</code> file,
  which contains the extension’s private key.
</p>
<img src="{{static}}/images/packaging/packaging_files.png"
 height="200"
 alt="Packaged Extension Files">

 <p>
   <b>Do not lose the private key!</b>
   Keep the <code>.pem</code> file secret and in a safe place.
   It will be needed later to <a href="#update">update</a> the extension.
 </p>
<h2 id="update">Updating a .crx Package</h2>

<p>
  Update an extensions <code>.crx</code> file
  by increasing the version number in <code>manifest.json</code>.
</p>
<pre data-filename="manifest.json">
  {
    ...
    <b>"version": "1.5",</b>
    ...
    }
  }</pre>
  <pre data-filename="manifest.json">
  {
    ...
    <b>"version": "1.6",</b>
    ...
    }
  }
</pre>
<p>
  Return to the
  <a href="/packaging#extension_management">Extensions Management Page</a>
  and click he <b>Pack extension...</b> button.
  Specify the path to the extensions directory and the location of private key.
</p>

<img src="{{static}}/images/packaging/packaging_updating.png"
 height="200"
 alt="Updating Extension Files">
<p>
  The page will provide the path for the updated packaged extension.
</p>
 <img src="{{static}}/images/packaging/packaging_updated.png"
  height="150"
  alt="Updating Extension Files">

<h2 id="packaging">Packaging through Command Line</h2>

<p>
  Package extensions by invoking
  <a href="https://www.chromium.org/developers/how-tos/run-chromium-with-flags">
    <code>chrome.exe</code></a> at the command line.
  Use the <code>--pack-extension</code> flag
  to specify the location of the extension's folder.
  Use <code>--pack-extension-key</code>
  to specify the location of the extension's private key file.
</p>

<pre>
  chrome.exe --pack-extension=C:\myext --pack-extension-key=C:\myext.pem
</pre>

<h2 id="format">Packaging Format and Scripts</h2>
<p>
  For more information on the format, as well as pointers to scripts you can use
  to create <code>.crx</code> files, see <a href="crx">CRX Package Format</a>.
</p>
