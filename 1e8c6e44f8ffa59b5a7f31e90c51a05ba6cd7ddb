{
  "comments": [
    {
      "key": {
        "uuid": "ec462741_0248cafd",
        "filename": "third_party/WebKit/Source/core/frame/csp/SourceListDirective.cpp",
        "patchSetId": 18
      },
      "lineNbr": 209,
      "author": {
        "id": 1211509
      },
      "writtenOn": "2017-11-28T08:30:25Z",
      "side": 1,
      "message": "I\u0027d still like to see you doing the `SchemeRegistry` check here: you\u0027ll be exposing the keyword to the web if you don\u0027t, as discussed earlier. Did you have issues moving this over?",
      "revId": "1e8c6e44f8ffa59b5a7f31e90c51a05ba6cd7ddb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee7004a3_72cd680c",
        "filename": "third_party/WebKit/Source/core/frame/csp/SourceListDirective.cpp",
        "patchSetId": 18
      },
      "lineNbr": 209,
      "author": {
        "id": 1211509
      },
      "writtenOn": "2017-11-28T16:59:44Z",
      "side": 1,
      "message": "(Since we\u0027re coming up against the branch point, I\u0027ll go ahead and LGTM this so you can get the rest of the stamps you\u0027ll need to land it. I would like to see this changed before the branch point, but I don\u0027t need to look at it again once you\u0027ve got the check in place.)",
      "parentUuid": "ec462741_0248cafd",
      "revId": "1e8c6e44f8ffa59b5a7f31e90c51a05ba6cd7ddb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa69fdef_edcb7356",
        "filename": "third_party/WebKit/Source/core/frame/csp/SourceListDirective.cpp",
        "patchSetId": 18
      },
      "lineNbr": 209,
      "author": {
        "id": 1144619
      },
      "writtenOn": "2017-11-28T16:59:59Z",
      "side": 1,
      "message": "I don\u0027t think we have access to the URL here, but I\u0027m trying to plumb the option in from higher up the stack. I didn\u0027t quite get it done yesterday, but I should have it out today. I do think it\u0027s important to have that check here so that wasm-eval still gets flagged as an error on the web at large.",
      "parentUuid": "ec462741_0248cafd",
      "revId": "1e8c6e44f8ffa59b5a7f31e90c51a05ba6cd7ddb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57d29a3f_1e423526",
        "filename": "third_party/WebKit/Source/core/frame/csp/SourceListDirective.cpp",
        "patchSetId": 18
      },
      "lineNbr": 209,
      "author": {
        "id": 1144619
      },
      "writtenOn": "2017-11-28T19:49:01Z",
      "side": 1,
      "message": "My latest patch has this working (https://crrev.com/c/761244/19). At the point where we parse the source list, we can\u0027t see the URL. Instead, when we create the ContentSecurityPolicy object, I set a flag there based on the URL we get from the response headers and check this flag when parsing the source list.",
      "parentUuid": "aa69fdef_edcb7356",
      "revId": "1e8c6e44f8ffa59b5a7f31e90c51a05ba6cd7ddb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80b3f7af_30428022",
        "filename": "third_party/WebKit/Source/platform/weborigin/SchemeRegistry.cpp",
        "patchSetId": 18
      },
      "lineNbr": 55,
      "author": {
        "id": 1211509
      },
      "writtenOn": "2017-11-28T08:30:25Z",
      "side": 1,
      "message": "Blink shouldn\u0027t know about `chrome-extension`. I\u0027d prefer for this to be empty in Blink, and populated by the embedder.\n\n`SchemeRegistry::RegisterURLSchemeAsAllowingServiceWorkers()` is a good example of how this might work, routing through `WebSecurityPolicy::RegisterURLSchemeAsAllowingServiceWorkers()` to expose the registry to the embedder in `extensions::Dispatcher::OnSetSessionInfo()`.",
      "revId": "1e8c6e44f8ffa59b5a7f31e90c51a05ba6cd7ddb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "702bda38_2dad9754",
        "filename": "third_party/WebKit/Source/platform/weborigin/SchemeRegistry.cpp",
        "patchSetId": 18
      },
      "lineNbr": 55,
      "author": {
        "id": 1144619
      },
      "writtenOn": "2017-11-28T20:53:20Z",
      "side": 1,
      "message": "Done\n\nThanks for the suggestion!",
      "parentUuid": "80b3f7af_30428022",
      "revId": "1e8c6e44f8ffa59b5a7f31e90c51a05ba6cd7ddb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}