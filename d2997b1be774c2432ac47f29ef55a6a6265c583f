{
  "comments": [
    {
      "key": {
        "uuid": "1e19a1c1_c53a7c0c",
        "filename": "base/memory/shared_memory_helper.cc",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "Please double check, but this is likely redundant, as OS_LINUX includes OS_CHROMEOS.",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06af39fb_2415dd14",
        "filename": "base/memory/shared_memory_helper.cc",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e19a1c1_c53a7c0c",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1d6a185_b2078751",
        "filename": "base/memory/shared_memory_helper.h",
        "patchSetId": 18
      },
      "lineNbr": 26,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "Before, it was obvious the fp/readonly_fd out params from CreateAnonymousSharedMemory() maps to the same PrepareMapFile() in params. That\u0027s no longer the case. Can CreateAnonymousSharedMemory()\u0027s ScopedFILE* out param become a ScopedFD* as well?",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77f371fa_aaa9a715",
        "filename": "base/memory/shared_memory_helper.h",
        "patchSetId": 18
      },
      "lineNbr": 26,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Good point! Done.",
      "parentUuid": "e1d6a185_b2078751",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb3d6f77_6dff79bc",
        "filename": "base/memory/shared_memory_helper.h",
        "patchSetId": 18
      },
      "lineNbr": 28,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "nit: You renamed \"fp\" to \"fd\" in the .cc file. Please update here as well.",
      "range": {
        "startLine": 28,
        "startChar": 29,
        "endLine": 28,
        "endChar": 31
      },
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a802a7b8_8198c4cd",
        "filename": "base/memory/shared_memory_helper.h",
        "patchSetId": 18
      },
      "lineNbr": 28,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb3d6f77_6dff79bc",
      "range": {
        "startLine": 28,
        "startChar": 29,
        "endLine": 28,
        "endChar": 31
      },
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "435241b4_4dd13158",
        "filename": "base/memory/shared_memory_mac.cc",
        "patchSetId": 18
      },
      "lineNbr": 149,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "nit: 1 declaration per line please.",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c07e080_94c836d3",
        "filename": "base/memory/shared_memory_mac.cc",
        "patchSetId": 18
      },
      "lineNbr": 149,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "435241b4_4dd13158",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1a75c93_90260fad",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 84,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "Is it just ChromeOS that\u0027s missing this syscall? We may want to file a bug to remove this check someday when ChromeOS eventually stops using pre 3.17 kernels. Maybe see if the ChromeOS kernel folks are willing to own it?",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1816946b_50319617",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 84,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-11-28T04:54:26Z",
      "side": 1,
      "message": "Do we have a limit for how old the kernel can be on desktop Linux? I think we still have some cros devices with older kernels but most recent devices are on 3.18 and up I think.",
      "parentUuid": "e1a75c93_90260fad",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fb2ee64_8baa5d49",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 84,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "I created the bug. At least the ChromeOS trybots fail to have this, so I guess the run in a less recent version. For linux the define is there, but I\u0027m not sure if we support other older builds.",
      "parentUuid": "1816946b_50319617",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56b95cf5_93b0eef3",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 84,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T09:03:05Z",
      "side": 1,
      "message": "The running kernel actually doesn\u0027t matter. It\u0027s the sysroot or system headers used in the build environment that matters. I\u0027ll mention it on the bug.",
      "parentUuid": "5fb2ee64_8baa5d49",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "472e26a5_5059e5fc",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 84,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T09:17:12Z",
      "side": 1,
      "message": "So I have a ChromeOS chroot environment, but I rarely use it and it\u0027s probably horribly out of date. Yet path/to/chromeos/chroot/usr/include/asm/unistd_64.h has __NR_memfd_create defined, just like the Linux sysroot.\n\nThat makes me wonder, did patch set 6 fail because shared_memory_helper.h tried to use __NR_memfd_create, and the header just forget to #include \"unistd.h\" ? And somehow Linux got lucky?",
      "parentUuid": "56b95cf5_93b0eef3",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2149ffeb_9cbaad8e",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 84,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T19:33:02Z",
      "side": 1,
      "message": "I tried running a copy of this CL through the trybots without the __NR_memfd_create check and it still failed. Oh well. Let\u0027s leave it in for now and work on the bug to determine why it\u0027s failing and what criteria need to be met to remove the TODO.",
      "parentUuid": "472e26a5_5059e5fc",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98d3baa5_6d98e1b9",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 137,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "One declaration per line here as well.",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82dc18de_49e6fbb0",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 137,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98d3baa5_6d98e1b9",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4199efb1_97b0e3b7",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 163,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "should this use is_valid() for consistency?",
      "range": {
        "startLine": 163,
        "startChar": 10,
        "endLine": 163,
        "endChar": 16
      },
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49ae97f6_0bf67314",
        "filename": "base/memory/shared_memory_posix.cc",
        "patchSetId": 18
      },
      "lineNbr": 163,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4199efb1_97b0e3b7",
      "range": {
        "startLine": 163,
        "startChar": 10,
        "endLine": 163,
        "endChar": 16
      },
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9909a403_e7131ef3",
        "filename": "base/memory/shared_memory_unittest.cc",
        "patchSetId": 18
      },
      "lineNbr": 379,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "Here and below, can you say \"When the memfd_create syscall is available, ...\" ? A reader who doesn\u0027t understand what \"__NR_memfd_create\" means and don\u0027t have knowledge of memfd_create won\u0027t be able to easily figure out if it is a variable, function, or something else.",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1359047_d3f97e30",
        "filename": "base/memory/shared_memory_unittest.cc",
        "patchSetId": 18
      },
      "lineNbr": 379,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done. Tried to make it clearer.",
      "parentUuid": "9909a403_e7131ef3",
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5af6b35_c124a150",
        "filename": "base/memory/shared_memory_unittest.cc",
        "patchSetId": 18
      },
      "lineNbr": 576,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-11-28T02:17:09Z",
      "side": 1,
      "message": "\"SharedMemory does not\" to clarify what \"we\" means here.",
      "range": {
        "startLine": 576,
        "startChar": 35,
        "endLine": 576,
        "endChar": 43
      },
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d90e3268_c28b3cd0",
        "filename": "base/memory/shared_memory_unittest.cc",
        "patchSetId": 18
      },
      "lineNbr": 576,
      "author": {
        "id": 1181605
      },
      "writtenOn": "2017-11-28T05:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a5af6b35_c124a150",
      "range": {
        "startLine": 576,
        "startChar": 35,
        "endLine": 576,
        "endChar": 43
      },
      "revId": "d2997b1be774c2432ac47f29ef55a6a6265c583f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}