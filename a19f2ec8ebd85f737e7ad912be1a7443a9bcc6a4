{
  "comments": [
    {
      "key": {
        "uuid": "a0c1ede8_54c14e05",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 854,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-20T18:51:49Z",
      "side": 1,
      "message": "should we return true here? we\u0027re not ignoring the paint request, just deferring it",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6774e0ec_7bc43eb8",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 854,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2017-09-22T22:41:46Z",
      "side": 1,
      "message": "We will return true.",
      "parentUuid": "a0c1ede8_54c14e05",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1122f9b1_05550b99",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 874,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-22T21:32:14Z",
      "side": 1,
      "message": "we don\u0027t this",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aaafdaea_b2f623a7",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 874,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2017-09-22T22:41:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1122f9b1_05550b99",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82784cb3_dfcf5430",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 882,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-22T21:32:14Z",
      "side": 1,
      "message": "if (paint_deferred_ \u0026\u0026 content_layer_)\n  return;\n\nfor consistency",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23ed3039_552574c7",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 882,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2017-09-22T22:41:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82784cb3_dfcf5430",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1eaf7b15_60d04cbd",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 889,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-22T21:32:14Z",
      "side": 1,
      "message": "don\u0027t think we need this",
      "range": {
        "startLine": 889,
        "startChar": 6,
        "endLine": 889,
        "endChar": 26
      },
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "871a4e5c_c27a6e3f",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 889,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2017-09-22T22:41:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1eaf7b15_60d04cbd",
      "range": {
        "startLine": 889,
        "startChar": 6,
        "endLine": 889,
        "endChar": 26
      },
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa18264_4b7150d6",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 917,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-20T18:51:49Z",
      "side": 1,
      "message": "why not \"paint_region_.Union(deferred_paint_region_);\" here? or maybe better \"damage_region_.Union(deferred_damage_region_)\" ?",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecc345c5_23fc3a1a",
        "filename": "ui/compositor/layer.cc",
        "patchSetId": 6
      },
      "lineNbr": 917,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2017-09-22T22:41:46Z",
      "side": 1,
      "message": "We do not need this.",
      "parentUuid": "3aa18264_4b7150d6",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35e9025a_fa47158b",
        "filename": "ui/compositor/layer.h",
        "patchSetId": 6
      },
      "lineNbr": 364,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-20T18:51:49Z",
      "side": 1,
      "message": "Can we remove this in favor of using SetPaintDeferred? SetPaintDeferred provides the same functionality just more advanced..",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fc00b14_b88215bf",
        "filename": "ui/compositor/layer.h",
        "patchSetId": 6
      },
      "lineNbr": 549,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-09-20T18:51:49Z",
      "side": 1,
      "message": "can you explain why we need this? if we need to store the damage region in addition to paint_region then why is this not \"deferred_damaged_region_\"? and why is deferred_damaged_region_ not enough but we need deferred_paint_region_ too?",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61adde45_6e6a03b6",
        "filename": "ui/compositor/layer.h",
        "patchSetId": 6
      },
      "lineNbr": 549,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2017-09-20T20:42:27Z",
      "side": 1,
      "message": "IIUR, the new API needs to fulfill the following two requirements at the same time:\n1. In deferring paint, any calls of SchedulePaint(invalid_rect) will accumulate all invalid_rect and postpone painting the damage. Let\u0027s say the two time points are: paint_deferred_start and paint_deferred_end. And we need one variable to remember the accumulated damage, which is deferred_paint_region_ in the cl.\n\n2. \"All UI changes to the layer needs to work as usual. We just want to defer paint\". SchedulePaint(invalid_rect) is the only place to change damaged_region_. damaged_region_ will be used in SendDamagedRects() to mark cc_layer_-\u003einputs_-\u003eupdate_rect. SendDamagedRects() is called for every BeginMainFrame. If at this time damaged_region is empty, the layer will not be added to the layers_that_should_push_properties_ so that there is no damage to be pushed through property trees. If we want UI changes work, such as ui::Layer::SetBoundsFromAnimation, we need another variable to remember the accumulated damage between two SendDamagedRects() or two BeginMainFrame. This is the variable damaged_region_since_last_send_ in this cl.\n\n3. Other UI effects such as SetTransform will call other path to add the layer to layers_that_should_push_properties_ through Layer::SetSubtreePropertyChanged. So it is not affected by this cl.",
      "parentUuid": "7fc00b14_b88215bf",
      "revId": "a19f2ec8ebd85f737e7ad912be1a7443a9bcc6a4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}