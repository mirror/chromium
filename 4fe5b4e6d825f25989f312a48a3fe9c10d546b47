{
  "comments": [
    {
      "key": {
        "uuid": "a6d59a02_86b9df8b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-11-30T17:29:34Z",
      "side": 1,
      "message": "bug number?",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bdd7842_004b25a9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-01T03:15:04Z",
      "side": 1,
      "message": "There is no bug appropriate to this fix. Should I write \u0027Bug: None\u0027 ?",
      "parentUuid": "a6d59a02_86b9df8b",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7f97299_ae10243d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-12-01T18:46:26Z",
      "side": 1,
      "message": "No, its ok for that line to be missing if there isn\u0027t a bug. However, I\u0027m surprised that there isn\u0027t a bug in this case.\n\nHow was this issue found in the first place?  There should probably be a bug filed first reporting how/why chrome crashes, under what circumstances, how to reproduce, etc.",
      "parentUuid": "4bdd7842_004b25a9",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d5ebb3c_563b9beb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-02T06:54:09Z",
      "side": 1,
      "message": "\u003e How was this issue found in the first place?  There should probably be a bug filed first reporting how/why chrome crashes, under what circumstances, how to reproduce, etc.\n\nWe have several crashes in our browser and a reason of crash is empty data from which IPC::Message is constructed. But we do not know why empty data appears here, we assume the problem is in a render (or other child) process. And because we do not know the real reason of a crash, we cannot reproduce it.\n\nI could attach stack trace of a crash, but I did not found a button \"attach file\" or something else. How can I attach a stack trace?",
      "parentUuid": "c7f97299_ae10243d",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af04e877_153df84d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-12-04T20:16:35Z",
      "side": 1,
      "message": "The place to attach a stack trace would be in a new issue report at https://bugs.chromium.org/p/chromium/issues/entry, along with your explanation that you aren\u0027t sure why but that the problem is an emtpy IPC message.\n\nThen, this CL can link back to that bug entry via the BUG: link I mentioned earlier.",
      "parentUuid": "0d5ebb3c_563b9beb",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d79bcf91_f1d4b213",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-30T16:32:08Z",
      "side": 1,
      "message": "why not use OnBadMessageReceived in this case? i.e. this shouldn\u0027t happen normally",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51c3131c_6f5338bc",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-11-30T17:29:34Z",
      "side": 1,
      "message": "nit: comment describing what this does?\n\nAlso +1 to John\u0027s comment. Is it because we don\u0027t even have a Message\u0026 to pass in this particular case?",
      "range": {
        "startLine": 38,
        "startChar": 2,
        "endLine": 38,
        "endChar": 38
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "201e7620_a1845730",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-01T03:12:03Z",
      "side": 1,
      "message": "It is because the Message is in invalid state, but OnBadMessageReceived uses message.type() for logging. And, as I wrote earlier, method type() causes ACCESS_VIOLATION (message.header_ is nullptr)",
      "parentUuid": "d79bcf91_f1d4b213",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bee8174_ef423a49",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-01T03:12:03Z",
      "side": 1,
      "message": "\u003ecomment describing what this does?\n\nOk, I will add.\n\n\u003eAlso +1 to John\u0027s comment. Is it because we don\u0027t even have a Message\u0026 to pass in this particular case?\n\nSee my reply to John\u0027s comment.",
      "parentUuid": "51c3131c_6f5338bc",
      "range": {
        "startLine": 38,
        "startChar": 2,
        "endLine": 38,
        "endChar": 38
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4245702_5991cde3",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-04T15:09:29Z",
      "side": 1,
      "message": "\u003e\u003ecomment describing what this does?\ndone",
      "parentUuid": "8bee8174_ef423a49",
      "range": {
        "startLine": 38,
        "startChar": 2,
        "endLine": 38,
        "endChar": 38
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbfa68a8_dbec3b4b",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-12-04T15:14:33Z",
      "side": 1,
      "message": "ok can we change OnBadMessageReceived to first check message.IsValid() before type() ?",
      "parentUuid": "201e7620_a1845730",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "958d47cc_618245b0",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-04T15:26:48Z",
      "side": 1,
      "message": "\u003e ok can we change OnBadMessageReceived to first check message.IsValid() before type() ?\n\nYes, we can. But why we should pass invalid message to OnBadMessageReceived()? As I think we call OnBadMessageReceived() for Message and OnBrokenMessageReceived() for non message.\nMaybe I wrong understood you and you mean just to add additional check (OnBrokenMessageReceived will present too)?",
      "parentUuid": "dbfa68a8_dbec3b4b",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "312a234b_38d226b3",
        "filename": "ipc/ipc_listener.h",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-12-04T20:37:32Z",
      "side": 1,
      "message": "I\u0027m suggesting reusing OnBadMessageReceived because this is a corner case that we don\u0027t hit in the chromium repo. In general it\u0027s better to avoid extra callbacks on this interface which is implemented by many places, if we can reuse existing methods.",
      "parentUuid": "958d47cc_618245b0",
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec1203ef_e23690fa",
        "filename": "ipc/ipc_message_pipe_reader.cc",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-11-30T17:29:34Z",
      "side": 1,
      "message": "Is there a way we can even avoid making a message if data.size() is no good, rather than using the ?-operator in the constructor?",
      "range": {
        "startLine": 90,
        "startChar": 2,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70f3e2ca_b011b7b7",
        "filename": "ipc/ipc_message_pipe_reader.cc",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-01T03:12:03Z",
      "side": 1,
      "message": "I could change it like this\n\n  if (data.empty()) {\n    delegate_-\u003eOnBrokenDataReceived();\n    return;\n  }\n  Message message(reinterpret_cast\u003cconst char*\u003e(data.data()),\n                  static_cast\u003cuint32_t\u003e(data.size()));\n  if (!message.IsValid()) {\n    delegate_-\u003eOnBrokenDataReceived();\n    return;\n  }\n\nDo you prefer this way?",
      "parentUuid": "ec1203ef_e23690fa",
      "range": {
        "startLine": 90,
        "startChar": 2,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59e32b86_c8a1fedd",
        "filename": "ipc/ipc_message_pipe_reader.cc",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1116053
      },
      "writtenOn": "2017-12-01T18:46:26Z",
      "side": 1,
      "message": "Yes, its a bit longer, but I think its clearer this way.",
      "parentUuid": "70f3e2ca_b011b7b7",
      "range": {
        "startLine": 90,
        "startChar": 2,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16c92094_dafb86e7",
        "filename": "ipc/ipc_message_pipe_reader.cc",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-02T06:54:09Z",
      "side": 1,
      "message": "\u003e Yes, its a bit longer, but I think its clearer this way.\n\nOk, I will change it.",
      "parentUuid": "59e32b86_c8a1fedd",
      "range": {
        "startLine": 90,
        "startChar": 2,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab4e5535_6107edf4",
        "filename": "ipc/ipc_message_pipe_reader.cc",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1254135
      },
      "writtenOn": "2017-12-04T15:09:29Z",
      "side": 1,
      "message": "\u003e\u003e Yes, its a bit longer, but I think its clearer this way.\n\ndone",
      "parentUuid": "16c92094_dafb86e7",
      "range": {
        "startLine": 90,
        "startChar": 2,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "4fe5b4e6d825f25989f312a48a3fe9c10d546b47",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}