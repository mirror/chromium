{
  "comments": [
    {
      "key": {
        "uuid": "b5f18d52_4920d372",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/toolbar/ToolbarPhone.java",
        "patchSetId": 3
      },
      "lineNbr": 1265,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-08-08T20:20:37Z",
      "side": 0,
      "message": "does this break the snapshot in the old version of chrome?\n\nI wonder why this was conditionalized before.",
      "range": {
        "startLine": 1265,
        "startChar": 24,
        "endLine": 1265,
        "endChar": 43
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b93258d0_52ab9907",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/toolbar/ToolbarPhone.java",
        "patchSetId": 3
      },
      "lineNbr": 1265,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-08T20:57:25Z",
      "side": 0,
      "message": "IIRC it had something to do with capturing snapshots in odd transition states of the toolbar.  If we\u0027re grabbing the snapshot we don\u0027t really want to ever grab it while we\u0027re animating or in some view that doesn\u0027t make sense.  I don\u0027t know if it\u0027s still relevant though.",
      "parentUuid": "b5f18d52_4920d372",
      "range": {
        "startLine": 1265,
        "startChar": 24,
        "endLine": 1265,
        "endChar": 43
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "555e7c21_699ed1f2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/toolbar/ToolbarPhone.java",
        "patchSetId": 3
      },
      "lineNbr": 1265,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-08-08T23:33:31Z",
      "side": 0,
      "message": "Ted, were you referring to the #getAlpha and forceDraw bits of the condition or mTextureCaptureMode?\n\nI think we still need mTextureCaptureMode to ensure we\u0027re not drawing unnecessarily when capturing the texture for use in the compositor layer. I added back the check for ToolbarPhone.java in a helper method that BottomToolbarPhone overrides.",
      "parentUuid": "b5f18d52_4920d372",
      "range": {
        "startLine": 1265,
        "startChar": 24,
        "endLine": 1265,
        "endChar": 43
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f2a4a92_a71b158d",
        "filename": "chrome/browser/android/compositor/layer/toolbar_layer.cc",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-08-08T20:20:37Z",
      "side": 0,
      "message": "I thought this was needed when we were drawing the snapshot for theme color toolbars where the location bar background was transparent a bit.  I don\u0027t really recall this well enough to know whether it is still needed, but just wanted to clarify we tested on various theme colors in the old UI.",
      "range": {
        "startLine": 76,
        "startChar": 21,
        "endLine": 76,
        "endChar": 22
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e9a3afb_bdc009fd",
        "filename": "chrome/browser/android/compositor/layer/toolbar_layer.cc",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-08T20:57:25Z",
      "side": 0,
      "message": "Ah shoot that makes sense.  Sorry I didn\u0027t remember theme colors as a reason we added this.",
      "parentUuid": "4f2a4a92_a71b158d",
      "range": {
        "startLine": 76,
        "startChar": 21,
        "endLine": 76,
        "endChar": 22
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e2d554d_1c7b127f",
        "filename": "chrome/browser/android/compositor/layer/toolbar_layer.cc",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-08-08T23:33:31Z",
      "side": 0,
      "message": "I added it back, easy enough!\n\nI did test theme colors in the old UI with and without this removed and they seem to work, but I expect there\u0027s some case I\u0027m not hitting so it\u0027s safer to leave this in for now and rip it out after Chrome Home launches.",
      "parentUuid": "1e9a3afb_bdc009fd",
      "range": {
        "startLine": 76,
        "startChar": 21,
        "endLine": 76,
        "endChar": 22
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7126df70_e142fca7",
        "filename": "chrome/browser/android/compositor/layer/toolbar_layer.cc",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-08-09T18:01:31Z",
      "side": 0,
      "message": "The test case I would try is:\n\nTab 1 has a theme color of A\nTab 2 has a theme color of B\n\nSide swipe between tabs 1 and 2.  Since we only grab one snapshot and just anonymize it for the second tab, side swiping will show both tabs with the same theme color instead of different ones.",
      "parentUuid": "6e2d554d_1c7b127f",
      "range": {
        "startLine": 76,
        "startChar": 21,
        "endLine": 76,
        "endChar": 22
      },
      "revId": "73786a799a4795940a639868166aec2b16c3ebad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}