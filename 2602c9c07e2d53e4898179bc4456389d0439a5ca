{
  "comments": [
    {
      "key": {
        "uuid": "115aa6d8_ca9a45c9",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 192,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-01-17T01:58:37Z",
      "side": 1,
      "message": "would it make sense to fail if a profile with |guid| does not exist?\n(I\u0027d imagine that id address has guid set, the intention is to update existing profile rather then create a new one)?",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afcb8119_a5973d2e",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 192,
      "author": {
        "id": 1153419
      },
      "writtenOn": "2018-01-18T21:13:56Z",
      "side": 1,
      "message": "This should only happen if we get a sync notification to delete the address while we are editing it. This should be pretty rare. In this case I think creating returning would be fine. Should I return with an error like at line 185? I don\u0027t know the implications of returning an error.",
      "parentUuid": "115aa6d8_ca9a45c9",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3655319f_13fac449",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 192,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-01-18T21:55:53Z",
      "side": 1,
      "message": "I think that would be reasonable, from the perspective of the API - if we cannot find an entry to update, it\u0027s an error (especially if we allow setting partial information - we might end up with an unexpected result); and the function already errors out in certain situations.\n\nThough, you might check with someone more familiar with the expectations of the UI.",
      "parentUuid": "afcb8119_a5973d2e",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ed12ecf_05de43c7",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 192,
      "author": {
        "id": 1153419
      },
      "writtenOn": "2018-01-19T20:55:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3655319f_13fac449",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56cabe70_6dac4dbc",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 195,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-01-17T01:58:37Z",
      "side": 1,
      "message": "can you add api tests for this change?",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25a5cc3a_d99b8f3a",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 195,
      "author": {
        "id": 1153419
      },
      "writtenOn": "2018-01-18T21:13:56Z",
      "side": 1,
      "message": "I tried looking at other classes for an example of a good api test but I\u0027m having trouble. Could you point me to one?\n\nOtherwise my idea is that we should mock a personal_data_manager an make sure the right calls are made (Update vs Create). Would that make sense?",
      "parentUuid": "56cabe70_6dac4dbc",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f99bccf0_df54c651",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 195,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-01-18T21:55:53Z",
      "side": 1,
      "message": "Actually, autofill_private_api already has some API test :)\n\nhttps://cs.chromium.org/chromium/src/chrome/browser/extensions/api/autofill_private/autofill_private_apitest.cc\nhttps://cs.chromium.org/chromium/src/chrome/test/data/extensions/api_test/autofill_private/test.js\n\nFrom my understanding, the issue is that updating address/credit card entry with partial information resets the rest of the entry information?\n\nMaybe you could add a API test that creates a credit card (address), then sets only a subset of the information, and finally verifies that the unset information was not cleared (you should be able to do all of that in autofill_provider/test.js).\n\nIf there is some info that is generally inaccessible from JS layer, you might do the first and the last step in C++ portiona of the test (i.e. before and after calling RunAutofillSubtest)",
      "parentUuid": "25a5cc3a_d99b8f3a",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78ba944c_55ad101b",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 195,
      "author": {
        "id": 1153419
      },
      "writtenOn": "2018-01-19T20:55:28Z",
      "side": 1,
      "message": "Ahhhh thanks for the tip on the .js file. It makes more sense now. I changed the tests that add an entry to test more thoroughly and added tests for updating cards and addresses. I\u0027ll take a look at those flaky tests in the file next week. It seems like it would be useful to have them.",
      "parentUuid": "f99bccf0_df54c651",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6590a30_a81ba210",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 283,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-01-17T01:58:37Z",
      "side": 1,
      "message": "guid being valid does not necessary imply that the profile is an existing one - at least not by looking at this method only\n(it will happily proceed if a valid, non existing GUID is passed to it),",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ac9ccb3_df6fefb0",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 283,
      "author": {
        "id": 1153419
      },
      "writtenOn": "2018-01-18T21:13:56Z",
      "side": 1,
      "message": "In this case checking if the guid is empty should give the same result but would maybe be more clear?\n\nSince we are in the settings, it should almost never happen that an existing card gets deleted while the user is editing it. Maybe some late sync from another chrome? In any case, UpdateCreditCard will return without doing anything if it cannot find.",
      "parentUuid": "e6590a30_a81ba210",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39d7844e_4e8658f7",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 283,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-01-18T21:55:53Z",
      "side": 1,
      "message": "yeah, but it would be more readable to remember before hand whether the entry is new or not, and check that here.",
      "parentUuid": "4ac9ccb3_df6fefb0",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6723e902_38be37a9",
        "filename": "chrome/browser/extensions/api/autofill_private/autofill_private_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 283,
      "author": {
        "id": 1153419
      },
      "writtenOn": "2018-01-19T20:55:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39d7844e_4e8658f7",
      "revId": "2602c9c07e2d53e4898179bc4456389d0439a5ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}