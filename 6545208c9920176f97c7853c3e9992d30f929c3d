{
  "comments": [
    {
      "key": {
        "uuid": "1a57a8fa_b0590aa5",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1160859
      },
      "writtenOn": "2018-01-25T16:52:02Z",
      "side": 1,
      "message": "I don\u0027t think we should change the numbering here. It doesn\u0027t give enough benefit imho compared with the loss of continuity on the graphs by leaving them the same.",
      "range": {
        "startLine": 17,
        "startChar": 29,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0234fd8_c888c460",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-25T21:36:21Z",
      "side": 1,
      "message": "My understanding is that we reached a state where the enums were overlapping, so some values have ambiguous semantics.  Do you have a suggestion for how to handle this, both now and going forward, without renumbering?\n\nOne possibility is to temporarily record two histograms: One with the new numbering scheme, and one with the old one.  Once the new one builds up a sufficient amount of history, we can stop recording the old one.",
      "parentUuid": "1a57a8fa_b0590aa5",
      "range": {
        "startLine": 17,
        "startChar": 29,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6781623_9fec7c75",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-25T21:36:21Z",
      "side": 1,
      "message": "nit: If we do keep the renumbering, please add a brief comment explaining why this enum starts at 54.",
      "range": {
        "startLine": 17,
        "startChar": 2,
        "endLine": 17,
        "endChar": 32
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df63734c_9135f019",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2018-01-25T21:37:56Z",
      "side": 1,
      "message": "Ack. Will revert.",
      "parentUuid": "1a57a8fa_b0590aa5",
      "range": {
        "startLine": 17,
        "startChar": 29,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc767ab6_061d401a",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2018-01-25T21:39:35Z",
      "side": 1,
      "message": "They are not overlapping. The chrome::ResultCode values are off by 1.",
      "parentUuid": "df63734c_9135f019",
      "range": {
        "startLine": 17,
        "startChar": 29,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e990d98_f76fa84f",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-25T21:44:55Z",
      "side": 1,
      "message": "Presumably they\u0027re off by 1 because previously they were correct, and then were shifted by 1, i.e. made overlapping (across different versions of Chrome).  Am I misunderstanding the history?",
      "parentUuid": "bc767ab6_061d401a",
      "range": {
        "startLine": 17,
        "startChar": 29,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f7510e2_342d4330",
        "filename": "chrome/common/chrome_result_codes.h",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2018-01-25T21:49:06Z",
      "side": 1,
      "message": "The use of content::RESULT_CODE_LAST_CODE as RESULT_CODE_CHROME_START means adding a content::ResultCode enum shifts all the chrome::ResultCode enum values by 1.\n\nThere\u0027s no enum value overlap within any Chrome version, but yes, Chrome NN-56 values overlap with 57-65 values. I didn\u0027t understand what you meant by overlapping.",
      "parentUuid": "1e990d98_f76fa84f",
      "range": {
        "startLine": 17,
        "startChar": 29,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebe38188_73baea23",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 5
      },
      "lineNbr": 7214,
      "author": {
        "id": 1160859
      },
      "writtenOn": "2018-01-25T17:50:53Z",
      "side": 1,
      "message": "also, I don\u0027t think we can go and update these until any code changes have perculated all the way through channels. I think I would prefer just fixing the values to reflect current code reality, and adding the static_assert...",
      "range": {
        "startLine": 7214,
        "startChar": 14,
        "endLine": 7214,
        "endChar": 16
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a744bcf_400ce619",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 5
      },
      "lineNbr": 7214,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-25T21:36:21Z",
      "side": 1,
      "message": "I agree, at least partially: We should keep the previous values mapped, and update their labels to indicate which, if any, store ambiguous data.\n\nSince this conflicts with allowing the content enum space to grow, I would recommend forking off a new histogram to record the values with the new label semantics.  In order to preserve continuity, we could record both metrics in parallel for a time (as I also suggested in a separate comment).  I\u0027m certainly open to other ideas as well!",
      "parentUuid": "ebe38188_73baea23",
      "range": {
        "startLine": 7214,
        "startChar": 14,
        "endLine": 7214,
        "endChar": 16
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4f98ef3_4a8f90e4",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 5
      },
      "lineNbr": 7214,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2018-01-25T21:37:56Z",
      "side": 1,
      "message": "My thought was, since these are already wrong, just give up and do something futureproof. But I\u0027m not really the stakeholder here, so I\u0027ll be happy to change these to reflect the current reality.",
      "parentUuid": "ebe38188_73baea23",
      "range": {
        "startLine": 7214,
        "startChar": 14,
        "endLine": 7214,
        "endChar": 16
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ac0dab1_8f172cfc",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 5
      },
      "lineNbr": 7214,
      "author": {
        "id": 1160859
      },
      "writtenOn": "2018-01-25T21:46:26Z",
      "side": 1,
      "message": "to further complicate things, the browser watcher logs Stability.BrowserExitCodes which is of type WindowsExitCode which is also wrong. This also needs updating.\n\nin summary there\u0027s three metrics using these codes:\n Stability.BrowserExitCodes\n CrashExitCodes.Extension\n CrashExitCodes.Renderer\n\nI know this is kicking the can down the road (for when we want to add something to content/public/common/result_codes.h) but I do prefer this CL to update the codes to reflect reality (so at least data flowing right now from Chrome has the right labels on dashboard) and then we can come up with a plan in another CL to renumber, potentially landing a new histogram. When we do that, we can also consider consolidating the two enums into one-enum-to-rule-them-all.",
      "parentUuid": "f4f98ef3_4a8f90e4",
      "range": {
        "startLine": 7214,
        "startChar": 14,
        "endLine": 7214,
        "endChar": 16
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00ba2413_b97ceb50",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 5
      },
      "lineNbr": 7214,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-25T21:50:12Z",
      "side": 1,
      "message": "I suppose that, given how long this enum has been inaccurate, we might as well do that.  I would ask that we also add a note to each affected histogram in histograms.xml to warn anyone viewing the data that any data from before M57 (or whichever milestone is appropriate) will have inaccurate labels.",
      "parentUuid": "5ac0dab1_8f172cfc",
      "range": {
        "startLine": 7214,
        "startChar": 14,
        "endLine": 7214,
        "endChar": 16
      },
      "revId": "6545208c9920176f97c7853c3e9992d30f929c3d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}