{
  "comments": [
    {
      "key": {
        "uuid": "a2ba465c_df8b11a2",
        "filename": "cc/trees/layer_tree_host_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 3847,
      "author": {
        "id": 1002110
      },
      "writtenOn": "2017-10-25T15:29:06Z",
      "side": 1,
      "message": "Looks like this change is already in a separate CL.",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca24af95_0333bc38",
        "filename": "cc/trees/ukm_manager_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1002110
      },
      "writtenOn": "2017-10-25T15:29:06Z",
      "side": 1,
      "message": "Would it be clearer to name these expected_final_checkerboard_ and expected_final_missing_tiles_?",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5deaeea2_06e3b2b7",
        "filename": "cc/trees/ukm_manager_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-10-25T18:52:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ca24af95_0333bc38",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d55d1074_68fe2fa1",
        "filename": "cc/trees/ukm_manager_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-10-25T20:16:36Z",
      "side": 1,
      "message": "Really Done.",
      "parentUuid": "5deaeea2_06e3b2b7",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50b0aa4d_ea17ea62",
        "filename": "content/renderer/render_widget.cc",
        "patchSetId": 6
      },
      "lineNbr": 2513,
      "author": {
        "id": 1001500
      },
      "writtenOn": "2017-10-25T16:58:47Z",
      "side": 1,
      "message": "This does not seem correct to me. The LocalRoot can be in a completely different URL than an iframe, which can be on a different origin.",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6491886d_02982de9",
        "filename": "content/renderer/render_widget.cc",
        "patchSetId": 6
      },
      "lineNbr": 2513,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-10-25T17:44:51Z",
      "side": 1,
      "message": "I\u0027d definitely appreciate some input on this. I\u0027m not very clear on the RenderFrame\u003c-\u003eRenderWidget relationship but my understanding was that the same widget/compositor can render a subtree of RenderFrames, which will have different URLs. So I wasn\u0027t sure what to use here. I tried looking at the scroll UKM for an example and looks like they just take the main frame URL irrespective of which frame the event went to (https://cs.chromium.org/chromium/src/content/browser/renderer_host/input/render_widget_host_latency_tracker.cc?dr\u0026l\u003d436).",
      "parentUuid": "50b0aa4d_ea17ea62",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a67503ea_6dc58bce",
        "filename": "content/renderer/render_widget.cc",
        "patchSetId": 6
      },
      "lineNbr": 2513,
      "author": {
        "id": 1001433
      },
      "writtenOn": "2017-10-25T18:42:37Z",
      "side": 1,
      "message": "This isn\u0027t great, but I\u0027m not sure what better options are. An issue with using the local root\u0027s URL is that it can be a different value depending on whether there are OOPIFs present or not, which doesn\u0027t seem right. Using the main frame URL seems like it would be desirable, but I don\u0027t think that\u0027s currently available in OOPIF processes (within Blink we can always access the origin of the main frame on the frame\u0027s SecurityContext, but I don\u0027t think the full URL is replicated to every process).\n\nWould it add to much complexity to have the service keep track of the main frame\u0027s URL, and use that for all records from subframes?",
      "parentUuid": "6491886d_02982de9",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf2296ed_ab02d2f2",
        "filename": "content/renderer/render_widget.cc",
        "patchSetId": 6
      },
      "lineNbr": 2513,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-10-25T18:52:46Z",
      "side": 1,
      "message": "I\u0027d also be fine with just checking if the root is the main frame and only logging ukm if that\u0027s the case. Adding complexity to record data from OOPIF doesn\u0027t seem worth it.",
      "parentUuid": "a67503ea_6dc58bce",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a7143aa_b3a0db2e",
        "filename": "content/renderer/render_widget.cc",
        "patchSetId": 6
      },
      "lineNbr": 2513,
      "author": {
        "id": 1001433
      },
      "writtenOn": "2017-10-25T19:04:09Z",
      "side": 1,
      "message": "That could be a reasonable option, you can check if the main frame is local and return early if not. Just note that the frequency of OOPIFs on all Chrome channels will be increasing considerably over the next several months (except on Android), so it might cause some skew over time.",
      "parentUuid": "bf2296ed_ab02d2f2",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1785cf9f_6b4f6efe",
        "filename": "content/renderer/render_widget.cc",
        "patchSetId": 6
      },
      "lineNbr": 2513,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-10-25T20:16:36Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "3a7143aa_b3a0db2e",
      "revId": "bd7ebd9a8e10fd29b432514102440e0615636003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}