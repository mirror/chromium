{
  "comments": [
    {
      "key": {
        "uuid": "6ab0ecb7_080de50a",
        "filename": "third_party/WebKit/LayoutTests/editing/execCommand/outdent-break-with-style-expected.txt",
        "patchSetId": 17
      },
      "lineNbr": 9,
      "author": {
        "id": 1161824
      },
      "writtenOn": "2017-06-28T04:42:37Z",
      "side": 1,
      "message": "Why are these quotes being added?",
      "range": {
        "startLine": 9,
        "startChar": 3,
        "endLine": 9,
        "endChar": 0
      },
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50fb0d9a_c8537971",
        "filename": "third_party/WebKit/LayoutTests/editing/execCommand/outdent-break-with-style-expected.txt",
        "patchSetId": 17
      },
      "lineNbr": 9,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-28T11:50:25Z",
      "side": 1,
      "message": "I will look into it.",
      "parentUuid": "6ab0ecb7_080de50a",
      "range": {
        "startLine": 9,
        "startChar": 3,
        "endLine": 9,
        "endChar": 0
      },
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29ec4208_4fcea274",
        "filename": "third_party/WebKit/LayoutTests/editing/execCommand/outdent-break-with-style-expected.txt",
        "patchSetId": 17
      },
      "lineNbr": 9,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-29T11:47:17Z",
      "side": 1,
      "message": "I\u0027ve reduced it to this:\n\n\u003c!DOCTYPE html\u003e\n\u003cscript\u003e\n  onload \u003d () \u003d\u003e {\n    getSelection().collapse(document.body, 0);\n    document.execCommand(\"InsertImage\",false);\n    document.execCommand(\"Indent\");\n\n    function dumpDOM(node, indent) {\n      console.log(indent + node.nodeName);\n      for (var i \u003d 0; i \u003c node.childNodes.length; i++) {\n        dumpDOM(node.childNodes[i], \"\u003e\"+indent);\n      }\n    }\n    dumpDOM(document.body, \"\");\n  }\n\u003c/script\u003e\n\u003cbody contenteditable\u003e \u003c!--comment--\u003e \u003c/body\u003e\n\n\nBefore the \"Indent\" command, the layout tree has two consecutive LayoutText boxes (from the initial content of body) without this CL, but this CL does not create one for the last one. This is intentional. The old code would for some reason nuke the comment and whitespaces as part of the \"Indent\" operation which puts the inserted image into a blockquote. For the layout tree which doesn\u0027t have the second LayoutText, this doesn\u0027t happen, and the whitespace + comment is indented along with the img.\n\nFwiw, Gecko keeps the whitespace + comment as well (they also have a preceding BR).",
      "parentUuid": "50fb0d9a_c8537971",
      "range": {
        "startLine": 9,
        "startChar": 3,
        "endLine": 9,
        "endChar": 0
      },
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85c2c3e6_2a3d7001",
        "filename": "third_party/WebKit/LayoutTests/editing/execCommand/outdent-break-with-style-expected.txt",
        "patchSetId": 17
      },
      "lineNbr": 9,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-30T12:22:37Z",
      "side": 1,
      "message": "What happens is that Indent starts with a selection which only includes the inserted image. After it clones the image into a blockquote, it deletes the selection which starts by expanding it with MostForwardCaretPosition() which includes whitespaces with LayoutText objects. Without this CL, we created unnecessary subsequent whitespace LayoutTexts which means it would expand the selection to the last whitespace LayoutText which means it included a script tag in between.\n\nThere is no reason why we should create the extra whitespace LayoutTexts, even for editing. For all I know, this may actually be a fix, all the time it actually is now closer to what Gecko does.",
      "parentUuid": "29ec4208_4fcea274",
      "range": {
        "startLine": 9,
        "startChar": 3,
        "endLine": 9,
        "endChar": 0
      },
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "203815b3_e23b9819",
        "filename": "third_party/WebKit/LayoutTests/fast/dom/Element/scroll-width-hidden-expected.txt",
        "patchSetId": 17
      },
      "lineNbr": 2,
      "author": {
        "id": 1161824
      },
      "writtenOn": "2017-06-28T04:42:37Z",
      "side": 1,
      "message": "I see a lot of these expectations are losing a whitespace, is that expected?",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f736fcd0_5681e206",
        "filename": "third_party/WebKit/LayoutTests/fast/dom/Element/scroll-width-hidden-expected.txt",
        "patchSetId": 17
      },
      "lineNbr": 2,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-28T11:50:25Z",
      "side": 1,
      "message": "Yes, it\u0027s expected. It\u0027s either multiple whitespace layout objects which are collapsed, or otherwise unnecessary whitespace layout objects which are removed by this CL. In this particular case, we are not creating a LayoutText for the whitespace following the absolute positioned div because the previous inline in-flow \"Tests that.. \" ends with a whitespace.\n\nThe spaces in the dumpAsText() tests come from text nodes with a LayoutObject, so \"missing\" spaces does not mean they\u0027re not in the DOM.",
      "parentUuid": "203815b3_e23b9819",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d8f8899_550f291f",
        "filename": "third_party/WebKit/Source/core/dom/Element.cpp",
        "patchSetId": 17
      },
      "lineNbr": 2140,
      "author": {
        "id": 1161824
      },
      "writtenOn": "2017-06-28T04:42:37Z",
      "side": 1,
      "message": "nit: continue should be capitalized",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84c7e706_15c7457f",
        "filename": "third_party/WebKit/Source/core/dom/Element.cpp",
        "patchSetId": 17
      },
      "lineNbr": 2140,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-28T11:50:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9d8f8899_550f291f",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ad19c5c_2f4eb7a0",
        "filename": "third_party/WebKit/Source/core/dom/WhitespaceAttacher.cpp",
        "patchSetId": 17
      },
      "lineNbr": 36,
      "author": {
        "id": 1161824
      },
      "writtenOn": "2017-06-28T04:42:37Z",
      "side": 1,
      "message": "Nit: The references to last_display_contents_ here seem out of context (only references to the layout_object in the code itself). Was this comment meant to go up with DCHECK(!last_display_contents_ ? Or possibly below in DidVisitText?",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcc74581_6b0da904",
        "filename": "third_party/WebKit/Source/core/dom/WhitespaceAttacher.cpp",
        "patchSetId": 17
      },
      "lineNbr": 36,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-28T11:50:25Z",
      "side": 1,
      "message": "This probably made sense in an earlier iteration. Removing. I\u0027ve added documentation/invariants in the next patch set.",
      "parentUuid": "8ad19c5c_2f4eb7a0",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0afd0b4e_a9dfbfe9",
        "filename": "third_party/WebKit/Source/core/dom/WhitespaceAttacher.cpp",
        "patchSetId": 17
      },
      "lineNbr": 65,
      "author": {
        "id": 1161824
      },
      "writtenOn": "2017-06-28T04:42:37Z",
      "side": 1,
      "message": "nit: Please add a comment for why this should be null here?",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee7818bb_dd5b1dea",
        "filename": "third_party/WebKit/Source/core/dom/WhitespaceAttacher.cpp",
        "patchSetId": 17
      },
      "lineNbr": 65,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-06-28T11:50:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0afd0b4e_a9dfbfe9",
      "revId": "c0790b9fdcb4b39014e3f0782a6b6c88085c4294",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}