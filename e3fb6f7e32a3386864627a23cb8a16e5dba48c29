{
  "comments": [
    {
      "key": {
        "uuid": "10311d24_11c0155b",
        "filename": "chrome/browser/resources/settings/device_page/night_light_slider.js",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-09-30T01:14:07Z",
      "side": 0,
      "message": "Sorry, I forgot that I added this here for a reason. The removal of this causes the slider knobs to be completely wrong the *first time* you load the display settings page. We need to add this back unless you know of a better solution.",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 94,
        "endChar": 7
      },
      "revId": "e3fb6f7e32a3386864627a23cb8a16e5dba48c29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79be4f74_0d77115f",
        "filename": "chrome/browser/resources/settings/device_page/night_light_slider.js",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-10-02T19:16:17Z",
      "side": 0,
      "message": "We should make this more clear. When ready() is called, pref values should allready be set, so customTimesChanged_ and hourFormatChanged_ should both have been called.\n\nHowever, the element may not be fully rendered when those initial pref values are set, so changes to elements prior to ready() may get lost.\n\nHere is what I would suggest:\n1. Set this.startKnob_ \u003d this.$.startKnob and this.endKnob_ \u003d this.$.endKnob here. [*]\n2. Modify customTimesChanged_ to just set this.startTime_ and this.endTime_.\n3. Add an updateKnobs() observer that takes as input all members that it needs, including startKnob_ and endKnob_. Then it will ge triggered once everything has been defined (or when anything changes).\n\n[*] (You could also just define a single isReady_ property to indicate that foo.$.* is ready and use that in your observer if that seems more clear).",
      "parentUuid": "10311d24_11c0155b",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 94,
        "endChar": 7
      },
      "revId": "e3fb6f7e32a3386864627a23cb8a16e5dba48c29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26a5179e_beb63c6c",
        "filename": "chrome/browser/resources/settings/device_page/night_light_slider.js",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-10-03T17:25:43Z",
      "side": 0,
      "message": "Thanks! This should work, I will give it a try. But what I\u0027m trying to understand here is what is wrong with the current approach. It seems less plumbing.",
      "parentUuid": "79be4f74_0d77115f",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 94,
        "endChar": 7
      },
      "revId": "e3fb6f7e32a3386864627a23cb8a16e5dba48c29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82152d1e_95ed4dc6",
        "filename": "chrome/browser/resources/settings/device_page/night_light_slider.js",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-10-03T17:36:06Z",
      "side": 0,
      "message": "This was confusing. hourFormatChanged_ is already getting called, and, based on the name of the method, it is called correctly. The dependency on \u0027ready\u0027 was uncelar (which is why it got removed).",
      "parentUuid": "26a5179e_beb63c6c",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 94,
        "endChar": 7
      },
      "revId": "e3fb6f7e32a3386864627a23cb8a16e5dba48c29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "423c7f77_3fd6e3eb",
        "filename": "chrome/browser/resources/settings/device_page/night_light_slider.js",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-10-03T18:09:42Z",
      "side": 0,
      "message": "Got it, thanks!\n\nI gave it a try an unfortunately it didn\u0027t work. I made sure that customTimesChanged_() gets invoked whenever any of the observed values is updated, however, the knobs remain erroneously in the left of the slider. There must be a timing issue. \n\nReading through the Polymer docs of the initialization order: https://www.polymer-project.org/1.0/docs/devguide/registering-elements#initialization-order, I tried to use attached() instead, but it didn\u0027t work either. The only way I got it to work was by using this.async(); \n\nThe docs above talks about using this.async() but for \"Initialization timing for siblings\", I don\u0027t think we care about siblings here, but this.async() was the only I got it to work.\n\nWhat\u0027s going on?",
      "parentUuid": "82152d1e_95ed4dc6",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 94,
        "endChar": 7
      },
      "revId": "e3fb6f7e32a3386864627a23cb8a16e5dba48c29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}