{
  "comments": [
    {
      "key": {
        "uuid": "fe8de333_4c8593a3",
        "filename": "third_party/WebKit/Source/core/layout/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1214,
      "author": {
        "id": 1116039
      },
      "writtenOn": "2017-07-07T19:32:05Z",
      "side": 1,
      "message": "Just trying to understand what\u0027s happening here.  This codepath determines the position of the main GraphicsLayer for the LayoutView, right?  How does it work in the non RLS case?  I would have thought it should be 0,0 there too, since the scroll origin is plumbed into the PLC scroll layer.",
      "revId": "5e5158e6788d2930378d0e1fb1e9c65377a6ca14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50487d63_d69dcac6",
        "filename": "third_party/WebKit/Source/core/layout/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1214,
      "author": {
        "id": 1001706
      },
      "writtenOn": "2017-07-07T21:45:14Z",
      "side": 1,
      "message": "I generated a few graphics layer tree dumps that will hopefully clarify it.  All of these were generated with RLS enabled:\n\n- RTL body with frame overflow:\nhttps://paste.googleplex.com/6633618109628416\n\n- RTL div with overflow:\nhttps://paste.googleplex.com/6606157162479616\n\nWith this patch applied, the RTL div example is unchanged, but the RTL body example becomes:\n\nhttps://paste.googleplex.com/5510343233110016\n\nAs you can see, in the RTL body example, the main top-level graphics layer has a non-zero position, which is bonkers.  The scroll origin is already accounted for in the offsetFromLayoutObject of the scrolling contents layer.\n\nIn the RTL div example, the main graphics layer for the div does not have the scroll origin added into its position.\n\nWith this patch applied, the scroll origin is likewise not added into the position of the main graphics layer on the root PaintLayer.",
      "parentUuid": "fe8de333_4c8593a3",
      "revId": "5e5158e6788d2930378d0e1fb1e9c65377a6ca14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf2ceea7_7539ef21",
        "filename": "third_party/WebKit/Source/core/layout/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1214,
      "author": {
        "id": 1116039
      },
      "writtenOn": "2017-07-07T21:59:22Z",
      "side": 1,
      "message": "That all makes sense, but my question was, why isn\u0027t it zero when RLS is disabled?",
      "parentUuid": "50487d63_d69dcac6",
      "revId": "5e5158e6788d2930378d0e1fb1e9c65377a6ca14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9282789b_0dfcbb62",
        "filename": "third_party/WebKit/Source/core/layout/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1214,
      "author": {
        "id": 1001706
      },
      "writtenOn": "2017-07-09T04:55:57Z",
      "side": 1,
      "message": "Here\u0027s the graphics layer tree for the non-RLS frame scroll example:\n\nhttps://paste.googleplex.com/5431515685060608\n\nIt appears that the position of the scrolling content layer is offset by the position of the root content layer.",
      "parentUuid": "bf2ceea7_7539ef21",
      "revId": "5e5158e6788d2930378d0e1fb1e9c65377a6ca14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85d65578_a5375796",
        "filename": "third_party/WebKit/Source/core/layout/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1214,
      "author": {
        "id": 1116039
      },
      "writtenOn": "2017-07-10T17:48:58Z",
      "side": 1,
      "message": "This only raises more questions in my mind.  But I\u0027ll investigate them without blocking this patch.",
      "parentUuid": "9282789b_0dfcbb62",
      "revId": "5e5158e6788d2930378d0e1fb1e9c65377a6ca14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}