{
  "comments": [
    {
      "key": {
        "uuid": "50855a63_4f566fe8",
        "filename": "chrome_server/chrome_server.cc",
        "patchSetId": 33
      },
      "lineNbr": 52,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "is WinRT used? maybe this isn\u0027t needed.",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af9d99e2_0d22cbc1",
        "filename": "chrome_server/chrome_server.cc",
        "patchSetId": 33
      },
      "lineNbr": 52,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "If we remove this, ActivatorRegisterer.Run() won\u0027t do anything. So I think we should keep WinRt.",
      "parentUuid": "50855a63_4f566fe8",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2843491_76916537",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 22,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "since i\u0027m pretty sure this is the wrong thing, wdyt about leaving this out for now? have you been able to confirm that NotificationActivator::Activate is being called now? can you see what sort of data it receives?",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d5d8288_51031159",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 22,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "I\u0027ve removed the call to LaunchChromeIfNotRunning() and the related code.\n\nYes, NotificationActivator::Activate is now called reliably after the waitable event is introduced to prevent the EXE from exiting. \n\nI\u0027ve added an example of the input data in the format of comment in the code here. I will start the discussion in the design doc soon. Once we finalize the desired behavior, I will implement it using following CLs.",
      "parentUuid": "e2843491_76916537",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2165ed9d_84bf25d2",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 39,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "since registration is done within Run(), i don\u0027t see a compelling reason for this to be out in the dtor. may as well keep unregistration closer to registration itself. is there really a need for a class for this hunk of code anyway? it looks like a straight-up function that registers, waits, then unregisters would work fine. if you like having a class, i suggest breaking Run() up into the different phases so that Run() itself is only:\n\n...Run() {\n  RegisterClassObjects();\n  WaitForZeroObjectCount();\n  UnregisterClassObjects();\n}\n\nbut i think you could as easily do this without a class, too.",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5dbbea88_cea0addc",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 39,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "1 -\u003e arraysize(cookies_); provided that you follow my suggestion in the .h file",
      "range": {
        "startLine": 39,
        "startChar": 62,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69732e30_07a08a61",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 39,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5dbbea88_cea0addc",
      "range": {
        "startLine": 39,
        "startChar": 62,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5997d8d7_b5108e05",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 39,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Indeed, it will do without a class, but I prefer to have one to encapsulate all these.\n\nI have broken up Run() and shuffle the code as recommended.",
      "parentUuid": "2165ed9d_84bf25d2",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f07b3e2f_1c394414",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 74,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "are these \u003c\u003e needed?",
      "range": {
        "startLine": 74,
        "startChar": 53,
        "endLine": 74,
        "endChar": 55
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "957835ae_dffe1e3d",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 74,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "i have a slight preference for using the variant of Create that takes an object pointer and a member function pointer. the rules about using lambdas with captures are a bit subtle, so why not avoid the issue altogether.",
      "range": {
        "startLine": 74,
        "startChar": 47,
        "endLine": 74,
        "endChar": 53
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87dd55c9_d831643c",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 74,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Done. My bad, I forgot to remove it.",
      "parentUuid": "f07b3e2f_1c394414",
      "range": {
        "startLine": 74,
        "startChar": 53,
        "endLine": 74,
        "endChar": 55
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bbaa4d9_f598a561",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 74,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Done. I have switch to the Create() that takes an object pointer and a member function pointer.",
      "parentUuid": "957835ae_dffe1e3d",
      "range": {
        "startLine": 74,
        "startChar": 47,
        "endLine": 74,
        "endChar": 53
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fb6bd57_0b2334a1",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 78,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "the call to Create above returns the instance, so please move \"auto\u0026 module\" up to line 74 and remove this call to GetModule",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e5ddece_333630f8",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 78,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fb6bd57_0b2334a1",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a655f366_28cc3f29",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 82,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "1 -\u003e arraysize(class_ids)",
      "range": {
        "startLine": 82,
        "startChar": 73,
        "endLine": 82,
        "endChar": 74
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77443765_32b714c3",
        "filename": "chrome_server/notification_activator.cc",
        "patchSetId": 33
      },
      "lineNbr": 82,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a655f366_28cc3f29",
      "range": {
        "startLine": 82,
        "startChar": 73,
        "endLine": 82,
        "endChar": 74
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d55656f_c340ab98",
        "filename": "chrome_server/notification_activator.h",
        "patchSetId": 33
      },
      "lineNbr": 11,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "since this would impact any other files that #include this header, i think it\u0027s better to figure out a way to keep this (and there inclusion of wrl/module.h) fully within the .cc file.",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7584e31c_fcd2f956",
        "filename": "chrome_server/notification_activator.h",
        "patchSetId": 33
      },
      "lineNbr": 11,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "You are right. But I think we need to include \u003cwrl\\module.h\u003e here in this header file as we need to use the mswr thing in class declaration. It will be pointless if only moving the #define to the .cc file. So I am a bit lost. I\u0027ve changed it to TODO for now.",
      "parentUuid": "6d55656f_c340ab98",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "646d6071_83a838d0",
        "filename": "chrome_server/notification_activator.h",
        "patchSetId": 33
      },
      "lineNbr": 11,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-29T01:26:47Z",
      "side": 1,
      "message": "Please ignore my previous reply. There is no need to include \u003cwrl/module.h\u003e here at all. Instead, \u003cwrl/implements.h\u003e is the right one. Now that \u003cwrl/module.h\u003e is only included in notification_activator_registrar.cc, I have defined the macro there.",
      "parentUuid": "7584e31c_fcd2f956",
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08c9bc90_20bbeff2",
        "filename": "chrome_server/notification_activator.h",
        "patchSetId": 33
      },
      "lineNbr": 58,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2018-01-26T14:33:22Z",
      "side": 1,
      "message": "nit: make this an array of fixed-size 1, then put a static_assert in the .cc file at the point where the IID array is created to ensure that the two arrays are the same size. this will help protect from someone in the future adding another class ID but forgetting to make the appropriate accommodation here.",
      "range": {
        "startLine": 58,
        "startChar": 2,
        "endLine": 58,
        "endChar": 7
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac79f5bf_f4c341ca",
        "filename": "chrome_server/notification_activator.h",
        "patchSetId": 33
      },
      "lineNbr": 58,
      "author": {
        "id": 1228990
      },
      "writtenOn": "2018-01-27T01:19:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08c9bc90_20bbeff2",
      "range": {
        "startLine": 58,
        "startChar": 2,
        "endLine": 58,
        "endChar": 7
      },
      "revId": "d71f47e2050dce15bb484333b161b551c30cb49b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}