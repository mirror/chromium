{
  "comments": [
    {
      "key": {
        "uuid": "5927b61d_d1d385bf",
        "filename": "ios/chrome/browser/ui/main/browser_view_wrangler.mm",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-20T21:33:50Z",
      "side": 1,
      "message": "We should call this method only for clean exit and \"termination\" does not necessarily mean clean exit. Would it be better to have a new -[BrowserViewInformation closeIncognitoTabs] method just to close all incognito tabs? I\u0027m worrying that |cleanupTabsForTermination| can be misused.  \n\nAlso would it be useful to explain in the comments why we want to close all Incognito Tabs?\n\nWDYT?",
      "revId": "5285265b22db474db36a24f0718aa66bc12063b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43dc812a_259050c0",
        "filename": "ios/chrome/browser/ui/main/browser_view_wrangler.mm",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-12-20T22:10:12Z",
      "side": 1,
      "message": "We actually only call cleanup/termination code (from MainApplicationDelegate applicationWillTerminate:) in the \"clean exit\" situation. If the system kills the app, no callbacks are called into our app, so this should be safe.\n\nI was going to have two methods, but they need to be plummed through MainController above and since it\u0027s only called from one spot, I thought it make more sense to have a single method.\n\nExplaining why we do this could be useful. Thoughts on if I should reference the bug for full discussion from the code?",
      "parentUuid": "5927b61d_d1d385bf",
      "revId": "5285265b22db474db36a24f0718aa66bc12063b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccb2eb43_677e20eb",
        "filename": "ios/chrome/browser/ui/main/browser_view_wrangler.mm",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-20T22:17:54Z",
      "side": 1,
      "message": "The issue is \"cleanupTabsForTermination\" name. The name suggests that method should be called for termination, but it should only be called for clean exit. haltAllTabs and closeIncognitoTabs names would clearly communicate what the methods do. I can not think of a good name for method which actually does 2 different things (halting tabs and closing incognito tabs), and this is actually because the method should not really do 2 different things.\n\nI\u0027m not objecting having this method, only it\u0027s name.",
      "parentUuid": "43dc812a_259050c0",
      "revId": "5285265b22db474db36a24f0718aa66bc12063b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ce1956e_19927181",
        "filename": "ios/chrome/browser/ui/main/browser_view_wrangler.mm",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-12-21T21:27:23Z",
      "side": 1,
      "message": "I agree this is confusing. I actually think we don\u0027t need this method at all nor replacements since we already expose the tab models. PTAL at the latest patch. and with updated tests! :)",
      "parentUuid": "ccb2eb43_677e20eb",
      "revId": "5285265b22db474db36a24f0718aa66bc12063b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}