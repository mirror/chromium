{
  "comments": [
    {
      "key": {
        "uuid": "be81fa20_dbd73476",
        "filename": "media/mojo/clients/mojo_video_encode_accelerator.cc",
        "patchSetId": 8
      },
      "lineNbr": 140,
      "author": {
        "id": 1123894
      },
      "writtenOn": "2017-07-15T07:43:26Z",
      "side": 1,
      "message": "Clients, such as RTCVideoEncoder, expect Initialize() to return false synchronously. Here we are always returning true and NotifyError() doesn\u0027t do same thing as return false. Why not make the service side return a value here?\nhttps://cs.chromium.org/chromium/src/content/renderer/media/gpu/rtc_video_encoder.cc?rcl\u003dc3591587a699a76a6409b560022dda89b2b1d05e\u0026l\u003d815",
      "range": {
        "startLine": 140,
        "startChar": 9,
        "endLine": 140,
        "endChar": 13
      },
      "revId": "c95418b78464d017eb35b76ee2b3c591b8bf7c14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea7947b3_a8db827f",
        "filename": "media/mojo/clients/mojo_video_encode_accelerator.cc",
        "patchSetId": 8
      },
      "lineNbr": 140,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-07-17T03:38:08Z",
      "side": 1,
      "message": "\u003e Here we are always returning true and NotifyError() doesn\u0027t do same thing as return false. Why not make the service side return a value here?\n\nEven if we were to return a boolean it wouldn\u0027t be enough - we \nneed to also make this call Sync (note that it\u0027s already Sync in \nIPC).  \n\nLonger term, wouldn\u0027t we like to make this asynchronous?\nFiled a bug since it\u0027s beyond the scope of this mojification,\nhttps://crbug.com/744210.",
      "parentUuid": "be81fa20_dbd73476",
      "range": {
        "startLine": 140,
        "startChar": 9,
        "endLine": 140,
        "endChar": 13
      },
      "revId": "c95418b78464d017eb35b76ee2b3c591b8bf7c14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4aa3c115_c0d9dd72",
        "filename": "media/mojo/clients/mojo_video_encode_accelerator.cc",
        "patchSetId": 8
      },
      "lineNbr": 140,
      "author": {
        "id": 1123894
      },
      "writtenOn": "2017-07-19T23:09:17Z",
      "side": 1,
      "message": "I think from a high-level perspective, it makes sense that Initialize() returns a value synchronously as it is doing now. Based on that, we can go to the fallback straight away and avoid sending frames for encode that would be lost. Also, if there is no fallback it can affect the codec choice. \n\nAFAIK it can be done in the mojo IDL via [Sync] although discouraged. We can do that within this CL. WDYT?\n\n[0] https://www.chromium.org/developers/design-documents/mojo/synchronous-calls",
      "parentUuid": "ea7947b3_a8db827f",
      "range": {
        "startLine": 140,
        "startChar": 9,
        "endLine": 140,
        "endChar": 13
      },
      "revId": "c95418b78464d017eb35b76ee2b3c591b8bf7c14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fdefa8e_7a60bff6",
        "filename": "media/mojo/clients/mojo_video_encode_accelerator.h",
        "patchSetId": 8
      },
      "lineNbr": 36,
      "author": {
        "id": 1123894
      },
      "writtenOn": "2017-07-15T07:43:26Z",
      "side": 1,
      "message": "This class only makes use of VideoEncodeAcceleratorSupportedProfiles so pass that instead?",
      "range": {
        "startLine": 36,
        "startChar": 40,
        "endLine": 36,
        "endChar": 47
      },
      "revId": "c95418b78464d017eb35b76ee2b3c591b8bf7c14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "501f4fef_9958ddb0",
        "filename": "media/mojo/clients/mojo_video_encode_accelerator.h",
        "patchSetId": 8
      },
      "lineNbr": 36,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2017-07-17T03:38:08Z",
      "side": 1,
      "message": "Very true. Done.",
      "parentUuid": "5fdefa8e_7a60bff6",
      "range": {
        "startLine": 36,
        "startChar": 40,
        "endLine": 36,
        "endChar": 47
      },
      "revId": "c95418b78464d017eb35b76ee2b3c591b8bf7c14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}