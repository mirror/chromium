{
  "comments": [
    {
      "key": {
        "uuid": "68bd033a_cde612b5",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 1160,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-10-12T02:09:42Z",
      "side": 1,
      "message": "Hmm.  I\u0027m worried about regressing some intentional behavior from https://codereview.chromium.org/2161393002/, since it looks like I included this behavior of checking the current frame tree on purpose.\n\nFrom my notes at the time, it looks like it might have been related to fast/history/same-document-iframes-changing-pushstate.html layout test, which tried to ensure that iframe2 didn\u0027t show up in the output.\n\nDoes your CL pass that layout test?  It does seem related to how you\u0027re clearing the missing items, though there\u0027s some tradeoffs there (as mentioned above).\n\nOn a related note, what about the other call to CloneAndReplace in RendererDidNavigateNewSubframe?  If we went this route, I wonder if that should behave the same way, and if we should just change the parameters and behavior of CloneAndReplace.",
      "revId": "284ab3bf8a02e27c998e33755e72ffe8f63e5d82",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf37ffd1_70040682",
        "filename": "content/browser/frame_host/navigation_controller_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 1160,
      "author": {
        "id": 1186495
      },
      "writtenOn": "2017-10-12T18:04:12Z",
      "side": 1,
      "message": "Well, iframe2 does not show in the output at all if the missing items are cleared on load stop. In the beginning it is present in the first NavigationEntry (as without the CL), but is removed after finishing the back navigation. If I remove the \"clear missing items on load stop\" part, iframe2 is inevitably present in both NavigationEntries, but the rest of tested conditions hold true, i.e. same-document navigations still take place and iframe2 is not re-added to DOM and/or frame tree.\n\nAs for RendererDidNavigateNewSubframe, I managed to create a test that reproduces a similar (buggy) behavior using that path. So yes, it looks like in this case we should keep all entries as well.",
      "parentUuid": "68bd033a_cde612b5",
      "revId": "284ab3bf8a02e27c998e33755e72ffe8f63e5d82",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}