{
  "comments": [
    {
      "key": {
        "uuid": "4b1a6102_00acf2aa",
        "filename": "components/viz/host/host_frame_sink_manager.cc",
        "patchSetId": 14
      },
      "lineNbr": 131,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "call this iter",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdded354_68c9d330",
        "filename": "components/viz/host/host_frame_sink_manager.cc",
        "patchSetId": 14
      },
      "lineNbr": 131,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b1a6102_00acf2aa",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd0bd59d_041d5d94",
        "filename": "components/viz/host/host_frame_sink_manager.cc",
        "patchSetId": 14
      },
      "lineNbr": 135,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "const FrameSinkData\u0026 data \u003d iter-\u003esecond;\n\nif (data.client)\n  data.client-\u003eOnFrameTokenChanged(frame_token);\n\nthe client might be nullptr.",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93a2070a_e099dcd2",
        "filename": "components/viz/host/host_frame_sink_manager.cc",
        "patchSetId": 14
      },
      "lineNbr": 135,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd0bd59d_041d5d94",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b23d48b_57c1cda9",
        "filename": "components/viz/service/frame_sinks/frame_sink_manager_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 155,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "Called when |frame_token| is changed on a submitted CompositorFrame. The other stuff happens in the browser and viz shouldn\u0027t know about it.",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee397a77_bd0e6d49",
        "filename": "components/viz/service/frame_sinks/frame_sink_manager_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 155,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b23d48b_57c1cda9",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0fa7b7b_6af7bd24",
        "filename": "content/browser/renderer_host/browser_compositor_view_mac.h",
        "patchSetId": 14
      },
      "lineNbr": 32,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "nit: OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ece55eeb_2b2e9b15",
        "filename": "content/browser/renderer_host/browser_compositor_view_mac.h",
        "patchSetId": 14
      },
      "lineNbr": 32,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0fa7b7b_6af7bd24",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e008da6_11f15ce6",
        "filename": "content/browser/renderer_host/browser_compositor_view_mac.mm",
        "patchSetId": 14
      },
      "lineNbr": 473,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "nit: OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fae52f66_cc34f6d1",
        "filename": "content/browser/renderer_host/browser_compositor_view_mac.mm",
        "patchSetId": 14
      },
      "lineNbr": 473,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e008da6_11f15ce6",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ddaef578_dd4ea194",
        "filename": "content/browser/renderer_host/render_widget_host_view_android.cc",
        "patchSetId": 14
      },
      "lineNbr": 1214,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80d02c37_ed56af26",
        "filename": "content/browser/renderer_host/render_widget_host_view_android.cc",
        "patchSetId": 14
      },
      "lineNbr": 1214,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ddaef578_dd4ea194",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79442d04_130746cd",
        "filename": "content/browser/renderer_host/render_widget_host_view_android.h",
        "patchSetId": 14
      },
      "lineNbr": 241,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa796b84_5cac3567",
        "filename": "content/browser/renderer_host/render_widget_host_view_android.h",
        "patchSetId": 14
      },
      "lineNbr": 241,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79442d04_130746cd",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24b1765_dd248575",
        "filename": "content/browser/renderer_host/render_widget_host_view_aura.h",
        "patchSetId": 14
      },
      "lineNbr": 103,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "Also call this OnFrameTokenChanged?",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e25c0832_9e166ff5",
        "filename": "content/browser/renderer_host/render_widget_host_view_aura.h",
        "patchSetId": 14
      },
      "lineNbr": 103,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "or change all other call to ProcessFramesBeforeToken. I have all updated all names to OnFrameTokenChanged.",
      "parentUuid": "d24b1765_dd248575",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c714733_aa782361",
        "filename": "content/browser/renderer_host/render_widget_host_view_mac.h",
        "patchSetId": 14
      },
      "lineNbr": 498,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "808d06b5_fbb82bf7",
        "filename": "content/browser/renderer_host/render_widget_host_view_mac.h",
        "patchSetId": 14
      },
      "lineNbr": 498,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c714733_aa782361",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3572b1de_d3bc3229",
        "filename": "content/browser/renderer_host/render_widget_host_view_mac.mm",
        "patchSetId": 14
      },
      "lineNbr": 408,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "793e6226_a178fa78",
        "filename": "content/browser/renderer_host/render_widget_host_view_mac.mm",
        "patchSetId": 14
      },
      "lineNbr": 408,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3572b1de_d3bc3229",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2122160c_7ebd58a5",
        "filename": "services/ui/ws/server_window.h",
        "patchSetId": 14
      },
      "lineNbr": 243,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T20:06:02Z",
      "side": 1,
      "message": "Please implement this. I think you should basically do the same kind of plumbing as OnFirstSurfaceActivation.",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4d7ebbd_8b6e8789",
        "filename": "services/ui/ws/server_window.h",
        "patchSetId": 14
      },
      "lineNbr": 243,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-08T21:59:03Z",
      "side": 1,
      "message": "You can do this in a separate CL.",
      "parentUuid": "2122160c_7ebd58a5",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13a72c41_3f9f7fb5",
        "filename": "services/ui/ws/server_window.h",
        "patchSetId": 14
      },
      "lineNbr": 243,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "As we have discussed in person, this will be implemented in a separated cl.",
      "parentUuid": "a4d7ebbd_8b6e8789",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0499bb98_005be579",
        "filename": "services/viz/privileged/interfaces/compositing/frame_sink_manager.mojom",
        "patchSetId": 14
      },
      "lineNbr": 113,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "This isn\u0027t quite true. It sends to the client when a surface of the provided |frame_sink_id|\nactivates.",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10091cb5_75e134b5",
        "filename": "services/viz/privileged/interfaces/compositing/frame_sink_manager.mojom",
        "patchSetId": 14
      },
      "lineNbr": 113,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0499bb98_005be579",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35e4c352_9a6a7eab",
        "filename": "services/viz/privileged/interfaces/compositing/frame_sink_manager.mojom",
        "patchSetId": 14
      },
      "lineNbr": 114,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-11-08T21:51:40Z",
      "side": 1,
      "message": "Is FrameSinkManagerClient the best place for this? With mus-ws, the mus-ws will have the FrameSinkManagerClient. But, from what I understand, we would still want the FrameToken to reach the browser. Wouldn\u0027t it be easier to send this FrameToken over CompositorFrameSinkClient to the embedder instead? That way, it would always reach the browser, regardless of whether browser is the viz-host or not.",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d51678d5_1b3a75dd",
        "filename": "services/viz/privileged/interfaces/compositing/frame_sink_manager.mojom",
        "patchSetId": 14
      },
      "lineNbr": 114,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-08T21:59:03Z",
      "side": 1,
      "message": "That depends on what you want to do. If we go through CompositorFrameSinkClient you end up deep in layer compositor code (potentially on the compositor thread). Do we want to do to the parent or to the host? CompositorFrameSinkClient doesn\u0027t seem like the right place to do this to me.",
      "parentUuid": "35e4c352_9a6a7eab",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e78e2545_a2ee6848",
        "filename": "services/viz/privileged/interfaces/compositing/frame_sink_manager.mojom",
        "patchSetId": 14
      },
      "lineNbr": 114,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-11-10T21:22:42Z",
      "side": 1,
      "message": "The parent (i.e. the browser) is the one interested in this message right now. Having to go from embedded client (renderer) to viz to viz-host (mus) to embedder (browser) is I think one too many hops. viz has all the information needed to directly notify the embedder at the right time, and I think that\u0027s the right thing to do. We can discuss whether that happens through CompositorFrameSinkClient, or some other interface. Although CFSC feels like the right place to know about frame-tokens.\n\nAnyway, I don\u0027t want to block this CL. There\u0027s work left to do for mus anyway.",
      "parentUuid": "d51678d5_1b3a75dd",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d891bd50_df8d886d",
        "filename": "services/viz/privileged/interfaces/compositing/frame_sink_manager.mojom",
        "patchSetId": 14
      },
      "lineNbr": 114,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-13T16:03:47Z",
      "side": 1,
      "message": "FWIW, I think frametoken should go through FrameSinkManagerClient for a couple of reasons. 1. the Viz host has the canonical view of the embedding hierarchy (viz can be stale) and so we should go to the host for finding the parent. 2. I\u0027m not sure the parent client in the case of OOPIF cares about frame tokens...it depends on how we end up using them with OOPIFs ( we don\u0027t really at the moment ). I suspect the viz host cares more than the parent.",
      "parentUuid": "e78e2545_a2ee6848",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10f50c8e_20880f4e",
        "filename": "ui/android/delegated_frame_host_android.cc",
        "patchSetId": 14
      },
      "lineNbr": 222,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae5a8981_81cc690d",
        "filename": "ui/android/delegated_frame_host_android.cc",
        "patchSetId": 14
      },
      "lineNbr": 222,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "10f50c8e_20880f4e",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2b7420f_ee807d4c",
        "filename": "ui/android/delegated_frame_host_android.h",
        "patchSetId": 14
      },
      "lineNbr": 45,
      "author": {
        "id": 1115911
      },
      "writtenOn": "2017-11-07T19:57:07Z",
      "side": 1,
      "message": "OnFrameTokenChanged",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fef50c0b_92628075",
        "filename": "ui/android/delegated_frame_host_android.h",
        "patchSetId": 14
      },
      "lineNbr": 45,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-11-09T03:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e2b7420f_ee807d4c",
      "revId": "b883a266ddfc69ab813d2d5cee5819bdacff036b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}