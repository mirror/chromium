{
  "comments": [
    {
      "key": {
        "uuid": "1b1a3161_d952a5ea",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-27T09:04:13Z",
      "side": 1,
      "message": "Why not compute it here? We already have the Document \u003d)",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 52,
        "endChar": 72
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "157bf6fb_c2b37bab",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2017-05-30T15:16:10Z",
      "side": 1,
      "message": "This is used to know if the HTMLMediaElement instance should have boolean requiring user gesture to play. Returning `true` here would have side effects. I\u0027ve renamed the method to make it clearer.",
      "parentUuid": "1b1a3161_d952a5ea",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 52,
        "endChar": 72
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28f0c5d8_2b0d8e71",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2017-05-17T15:58:30Z",
      "side": 1,
      "message": "There is a format issue here that is fixed locally. Not uploading again to avoid getting the bots to spin for nothing.",
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65488066_42d7d521",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-27T09:04:13Z",
      "side": 1,
      "message": "Should we consider defaulting to false? The document is detached, and while playing the video probably won\u0027t do anything, it doesn\u0027t seem like we should autoplay at all.\n\n(Maybe the check that the document isn\u0027t detached should be higher in the stack, but I\u0027m not really an expert on the autoplay code)",
      "range": {
        "startLine": 224,
        "startChar": 13,
        "endLine": 224,
        "endChar": 17
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ec5fa5c_941d29e3",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2017-05-30T15:16:10Z",
      "side": 1,
      "message": "If `IsLockedPendingUserGesture` returns true, it means that the element is locked and a user gesture is required. `false` would mean that autoplay is allowed.",
      "parentUuid": "65488066_42d7d521",
      "range": {
        "startLine": 224,
        "startChar": 13,
        "endLine": 224,
        "endChar": 17
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "732fd332_2cfac734",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.h",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1125369
      },
      "writtenOn": "2017-05-17T18:28:13Z",
      "side": 1,
      "message": "The semantic diff of kDocumentUserGestureRequired vs kUserGestureRequired is not clear to me. Is it or the rest of the enums described somewhere?\n\nOne particular question re the new addition is that it seems to suggest a model a bit more involved than what we target for our \"User Activation\" project.  IIUC, as if we need to differentiate between a user gesture in this document vs its subframe.  Am I missing something around autoplay?",
      "range": {
        "startLine": 28,
        "startChar": 4,
        "endLine": 28,
        "endChar": 32
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "144a416e_0cace1db",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.h",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-18T05:56:10Z",
      "side": 1,
      "message": "What\u0027s the \"user activation project\"?",
      "parentUuid": "732fd332_2cfac734",
      "range": {
        "startLine": 28,
        "startChar": 4,
        "endLine": 28,
        "endChar": 32
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30bc41c7_e441ac65",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.h",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2017-05-18T09:53:58Z",
      "side": 1,
      "message": "I see kDocumentUserGestureRequired as the autoplay policy for user activation project. I\u0027m just using what\u0027s currently in the code base at the moment to kick things.\n\nThe difference between kDocumentUserGestureRequired and kUserGestureRequired is that the former would use the sticky bit and the latter the \"real time\" one. The kUserGestureRequired is the default on Android nowadays and is using the current UserGestureIndicator path.\n\n@Mustaq, what do you see as more involved than the User Activation project?\n@Daniel, a started might be https://crbug.com/696617",
      "parentUuid": "144a416e_0cace1db",
      "range": {
        "startLine": 28,
        "startChar": 4,
        "endLine": 28,
        "endChar": 32
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc0cca26_60549fe3",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.h",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1125369
      },
      "writtenOn": "2017-05-24T16:03:24Z",
      "side": 1,
      "message": "Thanks for explaining the diffs here and in our 1:1. I am taking back my comment about things possibly getting involved.\n\nThe main source of my confusion was our existing user gesture code: we have some historical crafts (like DocumentUserGestureToken class which adds nothing to the base class) that I am currently cleaning up.  From that perspective, I wrongly assumed that your new enum here implies a document-vs-non-document distinction!\n\nTo avoid future confusions, can we please clarify the enum and associated policy string here?  E.g. something like\ns/kDocumentUserGestureRequired/kStickyUserActivationRequired/ ?\n\nAny chance we can align the previous enums/strings too with our new plan? I am not sure how much of those are exposed, so can\u0027t judge the compat risk at all.  Correct me if this is impossible.",
      "parentUuid": "30bc41c7_e441ac65",
      "range": {
        "startLine": 28,
        "startChar": 4,
        "endLine": 28,
        "endChar": 32
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdb565aa_f43f8e4e",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.h",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2017-05-30T15:16:10Z",
      "side": 1,
      "message": "Those enums are meant to describe the autoplay policy. They need to be understood by people who work on autoplay and the main difference with the new policy is that the user gesture is per-document. The implementation details are not really important. Happy to rename \"kDocumentActivationRequired\" and add a comment.\n\nThe kUserGestureRequired is the current policy on Android and I don\u0027t think we can easily change the behaviour. Our goal is to move everything to kDocumentUserActivationRequired in which case we will be able to simply stop supporting the other ones instead of changing the behaviour. WDYT?",
      "parentUuid": "bc0cca26_60549fe3",
      "range": {
        "startLine": 28,
        "startChar": 4,
        "endLine": 28,
        "endChar": 32
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9a8c454_acc28d63",
        "filename": "third_party/WebKit/Source/core/html/media/AutoplayPolicy.h",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1125369
      },
      "writtenOn": "2017-05-30T19:47:46Z",
      "side": 1,
      "message": "Sg, thanks. We can defer the naming, just wanted to make sure nothing is dependent on DocumentUserGestureToken (which is now gone).",
      "parentUuid": "fdb565aa_f43f8e4e",
      "range": {
        "startLine": 28,
        "startChar": 4,
        "endLine": 28,
        "endChar": 32
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36362472_d6a1e871",
        "filename": "third_party/WebKit/public/web/WebSettings.h",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1125369
      },
      "writtenOn": "2017-05-17T18:28:13Z",
      "side": 1,
      "message": "Need to update web_preferences.h?",
      "range": {
        "startLine": 117,
        "startChar": 5,
        "endLine": 117,
        "endChar": 22
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6798b79_2d894fd9",
        "filename": "third_party/WebKit/public/web/WebSettings.h",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2017-05-18T09:53:58Z",
      "side": 1,
      "message": "I will update it when the implementation is ready to be exposed to chrome://flags",
      "parentUuid": "36362472_d6a1e871",
      "range": {
        "startLine": 117,
        "startChar": 5,
        "endLine": 117,
        "endChar": 22
      },
      "revId": "b8209c34c8c3e56a8fee34a54333601fa999d5f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}