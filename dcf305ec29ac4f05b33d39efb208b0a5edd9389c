{
  "comments": [
    {
      "key": {
        "uuid": "2ac13313_dcfbd876",
        "filename": "components/ukm/ukm_recorder_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1124674
      },
      "writtenOn": "2017-11-17T19:47:13Z",
      "side": 1,
      "message": "Computing this from the metric aggregates won\u0027t work for events that have no metrics, like Plugins.FlashInstance.  I think it also won\u0027t be correct to take the minimum, e.g. if I have two event instances:\n\nEventA w/ Metric Foo\nEventA w/ Metric Bar\n\nAnd both are sampled, number of EventA s that are dropped is 2, which can\u0027t be derived from the dropped counts of the metrics.",
      "range": {
        "startLine": 129,
        "startChar": 6,
        "endLine": 129,
        "endChar": 73
      },
      "revId": "dcf305ec29ac4f05b33d39efb208b0a5edd9389c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f4d79af_e036fdfe",
        "filename": "components/ukm/ukm_recorder_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1117419
      },
      "writtenOn": "2017-11-17T20:10:27Z",
      "side": 1,
      "message": "I didn\u0027t realize there were events without metrics.  In that case I\u0027ll have to create a structure beside the flat_map that counts events.  Easy enough.",
      "parentUuid": "2ac13313_dcfbd876",
      "range": {
        "startLine": 129,
        "startChar": 6,
        "endLine": 129,
        "endChar": 73
      },
      "revId": "dcf305ec29ac4f05b33d39efb208b0a5edd9389c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "244c11b7_212c2635",
        "filename": "third_party/metrics_proto/ukm/aggregate.proto",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1124674
      },
      "writtenOn": "2017-11-17T19:51:50Z",
      "side": 1,
      "message": "I\u0027m also somewhat skeptical that we dropped counts on individual metrics, since we shouldn\u0027t be doing sampling on individual metrics.",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "dcf305ec29ac4f05b33d39efb208b0a5edd9389c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6110e67a_affc6634",
        "filename": "third_party/metrics_proto/ukm/aggregate.proto",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1117419
      },
      "writtenOn": "2017-11-17T20:10:27Z",
      "side": 1,
      "message": "Correct: no per-metric sampling.  Event-sampling only.\n\nMy understanding is that an event metric isn\u0027t guaranteed to have a 1:1 relationship with the event.  A given metric could be recorded 0, 1, or more times per event.  Thus, these counts may not match the per-event counts.",
      "parentUuid": "244c11b7_212c2635",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "dcf305ec29ac4f05b33d39efb208b0a5edd9389c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c23a168_dbafc00a",
        "filename": "third_party/metrics_proto/ukm/aggregate.proto",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1124674
      },
      "writtenOn": "2017-11-17T20:19:24Z",
      "side": 1,
      "message": "Metrics should only be recorded 0 or 1 times per event (though the API doesn\u0027t yet enforce this), but I suppose the 0/1 is still enough uncertainty here.",
      "parentUuid": "6110e67a_affc6634",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "dcf305ec29ac4f05b33d39efb208b0a5edd9389c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}