{
  "comments": [
    {
      "key": {
        "uuid": "a0a69e38_977c6568",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-08-01T18:49:23Z",
      "side": 1,
      "message": "nit: I\u0027d say with Transparent or something, cuz the color is not an argument.",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29280f69_f51a5969",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-08-01T18:49:23Z",
      "side": 1,
      "message": "confused at the claim the quad has an opaque rect when it\u0027s transparent. should it still occlude things? Can you leave a comment here and explain why? Maybe it should be OccludingTransparent in the function name or something, this should be very clear I think, as there\u0027s a lot going on.",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78f4da42_cb74e56d",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1108704
      },
      "writtenOn": "2017-08-01T19:03:50Z",
      "side": 1,
      "message": "Good point. Right now this is only used in overlay which is after occlusion, I don\u0027t think direct renderer looks at the occlusion rect of solid color quads.\n\nI am guessing that we want a transparent quad instead of remove the quad is we don\u0027t want to deal with the moving memory around. I could only keep the rect and sqs and set other rects to empty to show it\u0027s transparent?",
      "parentUuid": "29280f69_f51a5969",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8900e0cf_e3fb10cb",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-08-01T19:14:51Z",
      "side": 1,
      "message": "Display does not look at occlusion yet, but will soon with yiyix@\u0027s work.\n\nIf it\u0027s just for overlay, the overlay will occlude what the quad would have, so we can prevent overdraw behind the overlay. But we should make this all explicit.",
      "parentUuid": "78f4da42_cb74e56d",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4824bde1_382e61b6",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1108704
      },
      "writtenOn": "2017-08-01T19:21:13Z",
      "side": 1,
      "message": "Overlay is right before drawing in direct renderer: https://cs.chromium.org/chromium/src/cc/output/direct_renderer.cc?type\u003dcs\u0026q\u003dprocessforoverlay\u0026l\u003d312, yiyix@\u0027s occlusion work would happen before that.\n\nIt is also used in underlay. It could depends on what yiyix@\u0027s occlusion algorithm look at during direct renderer\u0027s draw. Whichever rect that looks at it should be empty.",
      "parentUuid": "8900e0cf_e3fb10cb",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c59cb23_bbb30c85",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-08-01T19:27:36Z",
      "side": 1,
      "message": "Oh I see, you\u0027re right. The opaque rects are not important then, so we can make them empty like you said, thanks. Pointing out they are becoming transparent in the function name should still help the caller know what\u0027s happening.",
      "parentUuid": "4824bde1_382e61b6",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c442dd5b_f93f08c6",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000608
      },
      "writtenOn": "2017-08-01T19:29:03Z",
      "side": 1,
      "message": "The reason the quad is marked as opaque is that we want ShouldDrawWithBlending() to be false so that it draws without blending so that the corresponding area of the backbuffer is filled with transparent black. Otherwise the quad wouldn\u0027t do anything.",
      "parentUuid": "4824bde1_382e61b6",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83139412_351cc78d",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1108704
      },
      "writtenOn": "2017-08-01T19:35:10Z",
      "side": 1,
      "message": "I see, thanks for clarification. I am going to mark the opaque_rect and visible rect as empty, which would make ShouldDrawWithBlending false, and shouldn\u0027t occlude anything. Will add comment.",
      "parentUuid": "c442dd5b_f93f08c6",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5ca00c2_e56df068",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000608
      },
      "writtenOn": "2017-08-01T19:37:40Z",
      "side": 1,
      "message": "No, if visible_rect is empty then the quad won\u0027t be drawn, which defeats the purpose.",
      "parentUuid": "83139412_351cc78d",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78d8a619_cf453f7c",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-08-01T18:49:23Z",
      "side": 1,
      "message": "also not clear to me why this would be preserved given its transparent now, this seems redundant?",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2ec2622_e04e2bf0",
        "filename": "cc/quads/render_pass.cc",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000608
      },
      "writtenOn": "2017-08-01T19:29:03Z",
      "side": 1,
      "message": "Yeah, if the quad is using blending then using Sk_ColorTRANSPARENT won\u0027t work.",
      "parentUuid": "78d8a619_cf453f7c",
      "revId": "d5e9bbddb7b344d33b7efc4c4e1a16f9e292a900",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}