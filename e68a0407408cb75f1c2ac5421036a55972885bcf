{
  "comments": [
    {
      "key": {
        "uuid": "152e86f1_31187de7",
        "filename": "extensions/browser/api/media_perception_private/media_perception_api_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-02-07T17:48:49Z",
      "side": 1,
      "message": "can we use ScopedObserver for this?",
      "revId": "e68a0407408cb75f1c2ac5421036a55972885bcf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "525504e1_91a3f6a0",
        "filename": "extensions/browser/api/media_perception_private/media_perception_api_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-02-07T18:33:47Z",
      "side": 1,
      "message": "Sure, done.\n\nNote that, RemoveAll is still called explicitly in order to keep the current behavior (i.e., removing the observer before StopMediaAnalytics, and invalidating weakptrs).\nIf the order can be swapped, we can defer the removing to its dtor, instead. WDYT?",
      "parentUuid": "152e86f1_31187de7",
      "revId": "e68a0407408cb75f1c2ac5421036a55972885bcf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "282b2e01_1ab4aa89",
        "filename": "extensions/browser/api/media_perception_private/media_perception_api_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2018-02-08T00:43:54Z",
      "side": 1,
      "message": "yes, I think order can be swapped\n\nStopMediaAnalytics just starts a dbus call, so any media analytics state change would be async and thus missed by the observer whether we stop observing media analytics before or after call to upstart client.",
      "parentUuid": "525504e1_91a3f6a0",
      "revId": "e68a0407408cb75f1c2ac5421036a55972885bcf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}