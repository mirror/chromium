{
  "comments": [
    {
      "key": {
        "uuid": "75130c38_87e16b4a",
        "filename": "ui/events/ozone/evdev/event_converter_evdev_impl.cc",
        "patchSetId": 13
      },
      "lineNbr": 48,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2018-02-07T17:59:36Z",
      "side": 1,
      "message": "Add the has_tablet_ here and use that.",
      "range": {
        "startLine": 48,
        "startChar": 27,
        "endLine": 48,
        "endChar": 28
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a35eb37a_eeaa6b7e",
        "filename": "ui/events/ozone/evdev/input_device_factory_evdev.cc",
        "patchSetId": 13
      },
      "lineNbr": 112,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2018-02-07T17:59:36Z",
      "side": 1,
      "message": "Should be able to remove this an let it fall through.",
      "range": {
        "startLine": 112,
        "startChar": 13,
        "endLine": 112,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ba8ebf4_8592f2da",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2018-02-07T17:59:36Z",
      "side": 1,
      "message": "Can you move this check into EventConverterEvdevImpl and only call TabletHandler::ProcessEvents() when its true? I\u0027d like it to be easier to see that no tablet processing happens for non-tablets.",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96d7e52a_af32b6f4",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2018-02-07T18:30:00Z",
      "side": 1,
      "message": "Actually I need tablet code to process ABS_EVENT for my non tablet device, that\u0027s the purpose of this change.",
      "parentUuid": "1ba8ebf4_8592f2da",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0db4da3_c1657ba1",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2018-02-07T18:35:31Z",
      "side": 1,
      "message": "Your device wants tablet-like absolute input behavior. What would go wrong if HasTablet() returned true for your device?",
      "parentUuid": "96d7e52a_af32b6f4",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f3979b4_1a156f88",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2018-02-07T18:46:35Z",
      "side": 1,
      "message": "To make \"HasTablet\" as true, it seems I need a kernel side change for the goldfish events driver. Since that driver is also used by android images.  Android image still want to keep old behavior, so the kernel driver have to have some logic to provide INPUT_PROP_DIRECT or INPUT_PROP_POINTER dynamically. I think that\u0027s lots of unecassary trouble.",
      "parentUuid": "c0db4da3_c1657ba1",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2b57e46_e2d611c4",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2018-02-07T18:53:53Z",
      "side": 1,
      "message": "Not necessarily, HasTablet() is a userspace determination in our code (EventDeviceInfo class). If you post the capabilities of your device that would be very helpful in determining how to get it to go down the right code path.\n\nBTW, Do you want touch behavior, or mouse behavior? Since this was for Android, it seems like it may have been meant for touch input, not mouse input.",
      "parentUuid": "7f3979b4_1a156f88",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d9ba765_b96f30b2",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2018-02-07T19:33:07Z",
      "side": 1,
      "message": "I want mouse bevavior for chrome os. touch behavior for android. This is done at emulator side: when it\u0027s booting chrome os, it\u0027s sending out mouse event. And when booting android, it\u0027s sending out touch events. Here is the capacity, any suggestion?\n\nconst DeviceAbsoluteAxis goldfishAbsAxes[] \u003d {\n    {ABS_X, {0, 0, 32767, 0, 0, 0}},\n    {ABS_Y, {0, 0, 32767, 0, 0, 0}},\n    {ABS_Z, {0, 0, 1, 0, 0, 0}},\n    {ABS_MT_SLOT, {0, 0, 9, 0, 0, 0}},\n    {ABS_MT_TOUCH_MAJOR, {0, 0, 2147483647, 0, 0, 0}},\n    {ABS_MT_POSITION_X, {0, 0, 32767, 0, 0, 0}},\n    {ABS_MT_POSITION_Y, {0, 0, 32767, 0, 0, 0}},\n    {ABS_MT_TRACKING_ID, {0, 0, 10, 0, 0, 0}},\n    {ABS_MT_PRESSURE, {0, 0, 256, 0, 0, 0}},\n};\nconst DeviceCapabilities goldfish \u003d {\n    /* path */ \"/sys/devices/platform/GFSH0002:00/input/input2/event2\",\n    /* name */ \"qwerty2\",\n    /* phys */ \"\",\n    /* uniq */ \"\",\n    /* bustype */ \"0019\",\n    /* vendor */ \"0000\",\n    /* product */ \"0000\",\n    /* version */ \"0000\",\n    /* prop */ \"0\",\n    /* ev */ \"2f\",\n    /* key */ \"1f0 0 ffffffffffffffff ffffffffffffffff ffffffff00000000 70000 fffffeffffffffff ffffffffffffffff ffffffffffffffff fffffffffffffffe\",\n    /* rel */ \"100\",\n    /* abs */ \"661800000000007\",\n    /* msc */ \"0\",\n    /* sw */ \"17\",\n    /* led */ \"0\",\n    /* ff */ \"0\",\n    goldfishAbsAxes,\n    arraysize(goldfishAbsAxes),\n};",
      "parentUuid": "a2b57e46_e2d611c4",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e2325b0_b6c49488",
        "filename": "ui/events/ozone/evdev/tablet_handler.cc",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2018-02-07T20:51:20Z",
      "side": 1,
      "message": "Why do you want that behavior, though? Aren\u0027t you mostly concerned with running Android apps, which means touch input would be fine?\n\nWith axes like ABS_MT_TOUCH_MAJOR and ABS_MT_PRESSURE, this seems like a touch device and should generate touch events. Except, apparently it also has a full set of mouse buttons. And it doesn\u0027t report BTN_TOUCH unlike all touch screens.\n\nI\u0027m not sure we should try to handle this device in the general probing path at all. We might just have to look at the driver name and configure it that way because the reported capabilities are just too crazy.\n\nHow does the X input driver handle this device? What about libinput?",
      "parentUuid": "9d9ba765_b96f30b2",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "7ee66eafca9fbdaaba5f7f10c2b0ad1e49026814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}