{
  "comments": [
    {
      "key": {
        "uuid": "23bde948_13c76e9e",
        "filename": "chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 799,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2017-12-21T17:18:24Z",
      "side": 1,
      "message": "Is it possible to get this from WallpaperControllerClient? WallpaperController runs in ash and this might break when ash is not part of the browser process.",
      "revId": "9b2c59441fcca20d9ddb0a7498bfe5328c6df3f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a90a0b2f_09e92c54",
        "filename": "chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 799,
      "author": {
        "id": 1118421
      },
      "writtenOn": "2017-12-21T19:35:46Z",
      "side": 1,
      "message": "There are some workaround codes in WallpaperControllerClient::BindAndSetClient() to make it work under MASH, see https://cs.chromium.org/chromium/src/chrome/browser/ui/ash/wallpaper_controller_client.cc?rcl\u003d8ec879093d434fa180ce98bf88a7738aa8bc463c\u0026l\u003d254. Later this function will be extracted to a util file which will be placed under //ash/public/cpp.",
      "parentUuid": "23bde948_13c76e9e",
      "revId": "9b2c59441fcca20d9ddb0a7498bfe5328c6df3f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8e081a0_7b952092",
        "filename": "chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 799,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2017-12-21T20:03:20Z",
      "side": 1,
      "message": "My point is that the code in WallpaperControllerClient::BindAndSetClient sets correct path value in ash process via mojo. The code in WallpaperController records the path value in a static variable, which is process specific, i.e. only set in ash. The code here runs inside the browser process thus it would not get the correct value in ash process.",
      "parentUuid": "a90a0b2f_09e92c54",
      "revId": "9b2c59441fcca20d9ddb0a7498bfe5328c6df3f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "349ce8ca_b11ce0ed",
        "filename": "chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 799,
      "author": {
        "id": 1118421
      },
      "writtenOn": "2017-12-21T20:59:06Z",
      "side": 1,
      "message": "The path are set twice, one in ash process (via mojo) and the other in browser process (via static variable assignment in WallpaperControllerClient::BindAndSetClient(), see https://cs.chromium.org/chromium/src/chrome/browser/ui/ash/wallpaper_controller_client.cc?rcl\u003d984f604436155b09389c7b2e396b4513dfc09a88\u0026l\u003d254). It\u0027s a workaround for now and will be moved to a utility file under //ash/public/cpp, see crbug.com/795159.",
      "parentUuid": "c8e081a0_7b952092",
      "revId": "9b2c59441fcca20d9ddb0a7498bfe5328c6df3f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "221365eb_4c4da1c7",
        "filename": "chrome/browser/ui/ash/wallpaper_controller_client.cc",
        "patchSetId": 3
      },
      "lineNbr": 107,
      "author": {
        "id": 1179965
      },
      "writtenOn": "2017-12-21T03:26:36Z",
      "side": 1,
      "message": "optional nit: add this as an additional parameter of SetClientAndPaths to avoid having two IPC calls in Init(). Or, only send this if |IsDeviceWallpaperPolicyEnforced()| returns true, since the default value in WallpaperController is initialized with false.",
      "revId": "9b2c59441fcca20d9ddb0a7498bfe5328c6df3f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bcc6f03_acfc7fbc",
        "filename": "chrome/browser/ui/ash/wallpaper_controller_client.cc",
        "patchSetId": 3
      },
      "lineNbr": 107,
      "author": {
        "id": 1118421
      },
      "writtenOn": "2017-12-21T19:35:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "221365eb_4c4da1c7",
      "revId": "9b2c59441fcca20d9ddb0a7498bfe5328c6df3f0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}