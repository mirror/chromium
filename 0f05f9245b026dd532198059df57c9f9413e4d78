{
  "comments": [
    {
      "key": {
        "uuid": "794147e1_e84efb48",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2017-11-22T10:24:28Z",
      "side": 1,
      "message": "I put this under (os \u003c 1013) because it seems to work fine without this rule.",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6485eb6d_d0bc13ed",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-11-22T11:21:21Z",
      "side": 1,
      "message": "Okay. Is it still needed in v2 for 10.12?",
      "parentUuid": "794147e1_e84efb48",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca869c75_716d22a1",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-11-22T11:22:24Z",
      "side": 1,
      "message": "Ah, never mind, just saw your comment on the bug.",
      "parentUuid": "6485eb6d_d0bc13ed",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "476019db_de6ac854",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1137859
      },
      "writtenOn": "2017-11-22T13:58:45Z",
      "side": 1,
      "message": "This has implications outside of just font usage, I wouldn\u0027t actually expect this to do anything without the browser explicitly issuing the extension. Were you able to understand why this is necessary for it to work:?",
      "parentUuid": "ca869c75_716d22a1",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63ec7fa2_2b7849a9",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1144624
      },
      "writtenOn": "2017-11-22T15:16:14Z",
      "side": 1,
      "message": "It\u0027s related to https://codereview.chromium.org/2510923003\n\nI\u0027m surprised this isn\u0027t needed on 10.13 though.",
      "parentUuid": "476019db_de6ac854",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5bdf37b_13552b2d",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1137859
      },
      "writtenOn": "2017-11-22T15:33:09Z",
      "side": 1,
      "message": "Yeah, Dominik, do you have an automated test for downloaded fonts that would verify this on 10.13. Actually, since downloaded fonts appear to have regressed multiple times now, isn\u0027t this something we should add a browser test for with this CL? I assume browser tests run in a sandboxed browser.",
      "parentUuid": "63ec7fa2_2b7849a9",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84b97d64_c3d3ccec",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-11-22T15:42:08Z",
      "side": 1,
      "message": "Unfortunately, at this point I don\u0027t, since this would somehow involve telling the mac OS bots to download those fonts. As far as I can tell, this is something that usually requires a user action on the machine that the font is downloaded, too, i.e. going to FontBook and enabling/downloading them. I can ask someone at Apple if there is an API to trigger such downloads.",
      "parentUuid": "d5bdf37b_13552b2d",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a64fec7_1a5df75a",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2017-11-22T16:00:12Z",
      "side": 1,
      "message": "I\u0027m not 100% sure if 10.13 is fine with this in all cases. Excluding 10.13 is based on \nmy local test (see https://bugs.chromium.org/p/chromium/issues/detail?id\u003d786777#c24 ). \n\nBTW, I didn\u0027t have to download the font in question on either of my Macs (10.12 or 10.13), but the font is somewhere else (or I couldn\u0027t find it) other than regular places ( /System/Librray/Fonts, /Library/Fonts or ~/Library/FOnts) on both machines.",
      "parentUuid": "84b97d64_c3d3ccec",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4ec673e_b290d124",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-11-22T16:02:25Z",
      "side": 1,
      "message": "Can you check the location referenced in patch set 1 of the CL that Robert mentioned:\nhttps://codereview.chromium.org/2510923003/diff/1/content/renderer/renderer.sb\n\n\"/System/Library/Assets/com_apple_MobileAsset_Font3*\"",
      "parentUuid": "8a64fec7_1a5df75a",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e4a4dd7_6724ad37",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2017-11-22T19:33:49Z",
      "side": 1,
      "message": "On my macOS 10.13 MB,  I have \"/System/Library/Assets/com_apple_MobileAsset_Font4* (instead of Font3).  With \u0027strings /System/Library/Assets/com_apple_MobileAsset_Font4.{plist,xml} | grep Hanzi\u0027, I can find multiple instances of HanziPen fonts. \n\nIn the test I used (taken from the bug you fixed for sandbox v1), \u0027HanziPen TC\u0027 is specified, but DOM Inspector says that it\u0027s using \u0027HanziPen SC\u0027. On macOS 10.12 (where the access to fonts.com.apple is allowed), DOM Inspector says that \u0027HanziPen TC\u0027 is used as specified in the test html. \n\n\nLet me get rid of the OS-check and see if that makes any difference on macOS 10.13.",
      "parentUuid": "c4ec673e_b290d124",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8881ad9a_b9cf9c6a",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1151758
      },
      "writtenOn": "2017-11-22T21:00:51Z",
      "side": 1,
      "message": "With the OS condition removed (i.e. the line is activated on 10.13 as well), I got the correct font in DOM inspector (ie. when HanziPen TC is specified, I got it instead of HanziPen SC). \n\nSo, I\u0027ll remove the condition.",
      "parentUuid": "2e4a4dd7_6724ad37",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9976366c_540542e1",
        "filename": "services/service_manager/sandbox/mac/renderer_v2.sb",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-11-23T07:22:04Z",
      "side": 1,
      "message": "Thanks for digging in and testing this further. Good that we have this change in the v2 rules.",
      "parentUuid": "8881ad9a_b9cf9c6a",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "0f05f9245b026dd532198059df57c9f9413e4d78",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}