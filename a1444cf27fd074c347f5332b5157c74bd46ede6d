{
  "comments": [
    {
      "key": {
        "uuid": "21df2325_791b1ef6",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 486,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-10-12T07:30:40Z",
      "side": 1,
      "message": "FaviconService::CloneFaviconMappingsForPages() should be called from here instead of the other place. The other place gets called when the favicon has expired as well",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa692b6d_8a7fa6a1",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 486,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-16T05:21:56Z",
      "side": 1,
      "message": "The main contribution of this patch is precisely for favicons that haven\u0027t expired. If a favicon did expire, future SetFavicons() will anyway update redirects. Am I missing something?",
      "parentUuid": "21df2325_791b1ef6",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c22cbecf_eff17152",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 486,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-16T10:24:48Z",
      "side": 1,
      "message": "Sorry, I understand what you mean now. Your claiming the opposite, right? No need to do anything if SetFavicons() is going to be called anyway.\n\nI\u0027m not sure I agree. First, the cost of writing should be negligible considering favicons expire rarely. Second, one of the goals of this patch is that we cover all cases where a user clicks on a gray NTP tile so it gets fixed (for the cases where Chrome displays a favicon in other UIs, e.g. tab switcher). I think keeping the logic simple is better, even for cases where for example the download of the favicon was interrupted. WDYT?",
      "parentUuid": "aa692b6d_8a7fa6a1",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e60215d3_3130b0f6",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 486,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-10-18T14:11:46Z",
      "side": 1,
      "message": "Yes, I am claiming that there is no need to call CloneFaviconMappingsForPage() if SetFavicons() is going to be called anyways for expired favicons.\n\nI agree that the database write is not the issue.\n\nPersonally I think that doing the database write via CloneFaviconMappingsForPage() at the end of a code path (right before a return) makes more sense. I am unconvinced that your approach is simpler.",
      "parentUuid": "c22cbecf_eff17152",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be8d3ed_363dd83f",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 486,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-18T14:24:32Z",
      "side": 1,
      "message": "When I refer to simplicity, it\u0027s user-visible logic simplicity. Here what my proposal does in the context of the mobile NTP: opening an NTP tile leads to a page with a favicon (in terms of tab switcher favicon), it will also show up in the NTP.\n\nIf we rely on SetFavicons() being called, the situation is more complex because it relies on a few things:\n1) Favicon candidates being reported early enough (e.g. before the user navigates away or stops the load).\n2) The download being successful (*some* download), i.e. return a 200.\n3) In the case of web manifests, there are even more delays and error cases.\n\nIt seems obvious to me that not depending on additional steps is logically simpler. Thoughts?",
      "parentUuid": "e60215d3_3130b0f6",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb495b72_150a56ac",
        "filename": "components/history/core/browser/history_backend.cc",
        "patchSetId": 5
      },
      "lineNbr": 2234,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-10-12T07:30:40Z",
      "side": 1,
      "message": "Nit: \"favicons\" -\u003e \"favicon\"",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31e47b6f_b210047e",
        "filename": "components/history/core/browser/history_backend.cc",
        "patchSetId": 5
      },
      "lineNbr": 2234,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-16T05:21:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb495b72_150a56ac",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23f0d5c6_a239dcda",
        "filename": "components/history/core/browser/history_backend.cc",
        "patchSetId": 5
      },
      "lineNbr": 2236,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-10-12T07:30:40Z",
      "side": 1,
      "message": "\"whose FaviconID is not in |icon_ids|\" -\u003e \"with FaviconID other than |icon_id|\"",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "749d57e3_10903d41",
        "filename": "components/history/core/browser/history_backend.cc",
        "patchSetId": 5
      },
      "lineNbr": 2236,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-10-16T05:21:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "23f0d5c6_a239dcda",
      "revId": "a1444cf27fd074c347f5332b5157c74bd46ede6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}