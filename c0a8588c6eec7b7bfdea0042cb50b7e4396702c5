{
  "comments": [
    {
      "key": {
        "uuid": "93c37ca6_fced7e40",
        "filename": "third_party/WebKit/Tools/Scripts/webkitpy/common/net/git_cl.py",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 1231539
      },
      "writtenOn": "2017-12-01T20:21:12Z",
      "side": 1,
      "message": "Does this introduce a regression?\n\nIn https://crbug.com/785178 we saw Swarming tasks with URL like: https://ci.chromium.org/p/chromium/builders/luci.chromium.try/linux_android_rel_ng/6768\n\nSo perhaps we should filter out both \u0027/task/\u0027 and \u0027/builders/\u0027? Again, I\u0027m a bit wary about these seemingly arbitrary rules. Who shall we ask to know the URL schemas for sure?",
      "revId": "c0a8588c6eec7b7bfdea0042cb50b7e4396702c5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07219204_e7d48596",
        "filename": "third_party/WebKit/Tools/Scripts/webkitpy/common/net/git_cl.py",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2017-12-02T00:09:04Z",
      "side": 1,
      "message": "We don\u0027t actually care about the specific URL of a build, or whether the build is run via LUCI or Buildbot, we only care about whether we can grab a build number for the builder.\n\nThe build number is used to (1) filter out older builds for the same builder, and (2) to determine the URL to fetch layout test results from Google Storage.\n\nThe situation now is that the URLs like https://build.chromium.org/p/tryserver.blink/builders/mac10.10_blink_rel/builds/4830 now redirect to LUCI-UI, which has URLs like https://ci.chromium.org/buildbot/tryserver.blink/mac10.10_blink_rel/4830.\n\nBut, there still may be some builds that have swarming task IDs but now build numbers, which we usually still want to ignore.\n\nBut you\u0027re right, the substring \u0027/task/\u0027 is a bit arbitrary. Another approach might be to first modify git cl try-results to include more information; it could include any information in https://chromium.googlesource.com/infra/infra/+/master/appengine/cr-buildbucket/doc/index.md#build, including result_details_json, which includes buildnumber for all the builds that we care about. Does that seem better?",
      "parentUuid": "93c37ca6_fced7e40",
      "revId": "c0a8588c6eec7b7bfdea0042cb50b7e4396702c5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a39a0c34_08d51f33",
        "filename": "third_party/WebKit/Tools/Scripts/webkitpy/common/net/git_cl.py",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 1231539
      },
      "writtenOn": "2017-12-02T00:25:12Z",
      "side": 1,
      "message": "Thanks for the explanation.\n\nI think it\u0027s the uncertainty that worries me a bit here. I don\u0027t know why *some* builds have swarming IDs but no build numbers. It seems this should be fixed somewhere earlier in the pipeline. The ideal solution is either to make sure all builds have build numbers (and include them in the responses), or to filter out builds without build numbers earlier if for some reason they are unavoidable and people never need them.\n\nMeanwhile, I think we can land this CL first, as this piece of code has always been working like this and we are not sure when the switch will be flipped. We can investigate better solutions later.",
      "parentUuid": "07219204_e7d48596",
      "revId": "c0a8588c6eec7b7bfdea0042cb50b7e4396702c5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}