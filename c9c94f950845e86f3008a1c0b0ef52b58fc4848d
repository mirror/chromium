{
  "comments": [
    {
      "key": {
        "uuid": "44d38141_e1b17956",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 117,
      "author": {
        "id": 1136204
      },
      "writtenOn": "2018-01-02T22:12:30Z",
      "side": 1,
      "message": "How about a \nTODO(crbug.com/nnnn) for, \"Future work will update the Favicon Service to allow\nhostname-bound querying\".\n\nassuming that would remove the need to prepend a scheme.",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38cb836e_bd9522fe",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 117,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-03T12:25:16Z",
      "side": 1,
      "message": "Adding the TODO doesn\u0027t make much sense to me because it won\u0027t involve any changes here (so when the work is done we\u0027d have to touch this file and remove the TODO). WDYT?",
      "parentUuid": "44d38141_e1b17956",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "646d9a2c_2ee5bcde",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 117,
      "author": {
        "id": 1136204
      },
      "writtenOn": "2018-01-03T20:20:01Z",
      "side": 1,
      "message": "Ah, I mistook the \"allow hostname-bound querying\" to mean that the scheme would no longer be necessary -- so this could be removed.",
      "parentUuid": "38cb836e_bd9522fe",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4e38bfa_9f23b24b",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 117,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-07T22:50:28Z",
      "side": 1,
      "message": "Yeah, for the scheme to no longer be necessary, we\u0027d need to change quite a bit of the backend (i.e. remove the GURL conversion and pass a string to the thumbnail database rather than a GURL). It\u0027s possible, but not certain, that would be a better route, but due to the changes required I\u0027m hesitant to make a call and add a TODO without more thinking. :)",
      "parentUuid": "646d9a2c_2ee5bcde",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d3a2321_3880a3aa",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1136204
      },
      "writtenOn": "2018-01-02T22:12:30Z",
      "side": 1,
      "message": "WDYT of using https in place of http; Or checking for IsSecure on the cookie to see if https should be used; Or adding a bug/todo about fetching icons via https?",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b2b3414_b6b1c83c",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-03T12:25:16Z",
      "side": 1,
      "message": "How complex is it to get a cookie from |url| and check isSecure on it from a chrome:// page? The favicon URL is something like chrome://favicon/\u003c|url| param here\u003e, and it\u0027s purely a guess here as to whether the site was accessed over HTTP or HTTPS in the backend favicon database.\n\nSite Details and other things with SiteSettingsBehaviour use HTTP currently, and I\u0027d say that HTTP is still the right guess the majority of the time (majority of traffic is over HTTPS but I think the majority of sites is still HTTP).",
      "parentUuid": "0d3a2321_3880a3aa",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0450a3f7_76f65a52",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1136204
      },
      "writtenOn": "2018-01-03T20:20:01Z",
      "side": 1,
      "message": "Okay.\n\nWell, in the future, if some sites are not showing icons in http (but do with https) we can look into adding the secure flag since it\u0027s not currently passed down from c++ afaik. The secure flag would need to be added in https://cs.chromium.org/chromium/src/chrome/browser/ui/webui/settings/settings_cookies_view_handler.cc?type\u003dcs\u0026q\u003dreloadCookies\u0026l\u003d393\n\nOr, instead of the flag, we could pass down an icon url from c++. (Which would take more bytes to transfer, but may be more robust).",
      "parentUuid": "1b2b3414_b6b1c83c",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c22e475_5a3042a4",
        "filename": "chrome/browser/resources/settings/site_settings/site_data.js",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-07T22:50:28Z",
      "side": 1,
      "message": "One of these two would help the robustness here. I\u0027m thinking more about icons in settings generally as a part of the All Sites work so I\u0027ll follow up. Passing an icon URL up seems better to me, but we\u0027d still have the problem of finding an icon URL in the cases where we don\u0027t have an exact match. :)",
      "parentUuid": "0450a3f7_76f65a52",
      "revId": "c9c94f950845e86f3008a1c0b0ef52b58fc4848d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}