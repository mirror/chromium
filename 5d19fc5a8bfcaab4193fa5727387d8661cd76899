{
  "comments": [
    {
      "key": {
        "uuid": "68d559d0_b3d2ebc3",
        "filename": "content/browser/child_process_security_policy_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 1077,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-10-10T17:25:15Z",
      "side": 1,
      "message": "The last 2 crash keys are either 1) global data or 2) data specific to RenderProcessHost being killed.  So - maybe these 2 crash keys would be useful for *all* kills done via content::ReceivedBadMessage and therefore could be set by implementation of content::ReceivedBadMessage (OTOH, the BrowserMessageFilter-flavoured overload doesn\u0027t seem aware of RenderProcessHost...).  Also - in the future we might add other RPH-based data (SiteInstance?  dedicated to CWS/extensions/safe-browsing-jail?).\n\nI also wonder if something like |requested_origin| and |requested_url| are commonly known for various flavours of renderer kills - maybe these could be optional parameters of content::ReceivedBadMessage (which could then log them as crash keys if present).\n\nWDYT?",
      "range": {
        "startLine": 1065,
        "startChar": 0,
        "endLine": 1077,
        "endChar": 3
      },
      "revId": "5d19fc5a8bfcaab4193fa5727387d8661cd76899",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "168a1399_382d63ee",
        "filename": "content/browser/child_process_security_policy_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 1077,
      "author": {
        "id": 1118209
      },
      "writtenOn": "2017-10-10T20:54:26Z",
      "side": 1,
      "message": "Yes, good point.  I\u0027ve moved those two crash keys into RPH::ShutdownForBadMessage, which should handle all renderer kills.  (content::ReceivedBadMessage wouldn\u0027t work for the password kills, which go through its own ReceivedBadMessage handler in components/.)\n\nThis required exposing the origin lock out of CPSPI - Charlie seemed ok with that, given that this is all still within content/.  It also means that we\u0027ll get those crash keys set on all renderer kills and not just the CPSP ones, including those outside of content/ - which I think we agree is also desirable.",
      "parentUuid": "68d559d0_b3d2ebc3",
      "range": {
        "startLine": 1065,
        "startChar": 0,
        "endLine": 1077,
        "endChar": 3
      },
      "revId": "5d19fc5a8bfcaab4193fa5727387d8661cd76899",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}