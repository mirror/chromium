{
  "comments": [
    {
      "key": {
        "uuid": "d2496ccf_a652bb8e",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2018-02-06T21:51:30Z",
      "side": 1,
      "message": "I think you should add a method to WidgetObserver (maybe \"OnAddedToWidget\"; sky will probably have an opinion on the name) that will be called when AddObserver is called, then you don\u0027t need to change the callsites. I also think this should just call OnWidgetVisibilityChanged(bubble_widget, bubble_widget-\u003eIsVisible()), or at least have them delegate to the same method.",
      "range": {
        "startLine": 66,
        "startChar": 6,
        "endLine": 66,
        "endChar": 19
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fe95f1b_e1fb5580",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1126912
      },
      "writtenOn": "2018-02-06T23:11:57Z",
      "side": 1,
      "message": "Observing a widget !\u003d being added to it, so that is confusing. Calling it OnWidgetObserving and letting sky@ have input too.\n\nGood suggestion, thanks!",
      "parentUuid": "d2496ccf_a652bb8e",
      "range": {
        "startLine": 66,
        "startChar": 6,
        "endLine": 66,
        "endChar": 19
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb32e3cd_ee16dfa7",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2018-02-07T00:14:20Z",
      "side": 1,
      "message": "The pattern you have here basically comes down to:\nsource-\u003eAddObserver(x);\n// In AddObserver impl:\nx-\u003eYouAddedMe();\n\nThat\u0027s weird, and I don\u0027t think such a function belongs in WidgetObserver. If code creating the widget needs to know when the widget has been created it should be responsible for tracking that. By which I mean don\u0027t change the base class just because it\u0027s convenient.",
      "parentUuid": "3fe95f1b_e1fb5580",
      "range": {
        "startLine": 66,
        "startChar": 6,
        "endLine": 66,
        "endChar": 19
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca54beac_4c6ba442",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2018-02-06T21:51:30Z",
      "side": 1,
      "message": "nit: no {}",
      "range": {
        "startLine": 204,
        "startChar": 14,
        "endLine": 204,
        "endChar": 16
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "037fd0ff_f3495df9",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.cc",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 1126912
      },
      "writtenOn": "2018-02-06T23:11:57Z",
      "side": 1,
      "message": "pref keeping since it\u0027s part of an if-else block",
      "parentUuid": "ca54beac_4c6ba442",
      "range": {
        "startLine": 204,
        "startChar": 14,
        "endLine": 204,
        "endChar": 16
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a8d1822_b1149217",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1126912
      },
      "writtenOn": "2018-02-06T21:08:06Z",
      "side": 1,
      "message": "Note that this is protected to prevent AddObserver calls from the outside that misses highlighting the icon.",
      "range": {
        "startLine": 29,
        "startChar": 23,
        "endLine": 29,
        "endChar": 33
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21a318d8_1d2e9cc4",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1151884
      },
      "writtenOn": "2018-02-06T21:51:30Z",
      "side": 1,
      "message": "From Google C++ style guide: \"All inheritance should be public\"",
      "parentUuid": "1a8d1822_b1149217",
      "range": {
        "startLine": 29,
        "startChar": 23,
        "endLine": 29,
        "endChar": 33
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13106f5d_78f1736b",
        "filename": "chrome/browser/ui/views/location_bar/bubble_icon_view.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1126912
      },
      "writtenOn": "2018-02-06T23:11:57Z",
      "side": 1,
      "message": "Fixed w/ your other suggestion (removes need for OnBubbleWidgetCreated).",
      "parentUuid": "21a318d8_1d2e9cc4",
      "range": {
        "startLine": 29,
        "startChar": 23,
        "endLine": 29,
        "endChar": 33
      },
      "revId": "419e37fa08de497d514f10cc29febfb472ee1ef9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}