{
  "comments": [
    {
      "key": {
        "uuid": "1fc59dc5_b089d19f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "s/adapter// because the process includes both adapter and HAL implementation.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62f082e9_19968a24",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1fc59dc5_b089d19f",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ed95dba_68f66674",
        "filename": "media/capture/video/chromeos/camera_hal_delegate.cc",
        "patchSetId": 4
      },
      "lineNbr": 72,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "PostTask before Signal so we make sure error handler is set before other tasks.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22f0b711_ae67b258",
        "filename": "media/capture/video/chromeos/camera_hal_delegate.cc",
        "patchSetId": 4
      },
      "lineNbr": 72,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "But line 231 expect it is already signaled.\nDCHECK(camera_module_set_.IsSignaled());",
      "parentUuid": "7ed95dba_68f66674",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d2122fe_77e9b775",
        "filename": "media/capture/video/chromeos/camera_hal_delegate.cc",
        "patchSetId": 4
      },
      "lineNbr": 72,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done. Changed line 231 to DCHECK(camera_module_.is_bound()).",
      "parentUuid": "22f0b711_ae67b258",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0119084a_fa6b1eff",
        "filename": "media/capture/video/chromeos/camera_hal_delegate.cc",
        "patchSetId": 4
      },
      "lineNbr": 72,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ed95dba_68f66674",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8a74c6b_ab16f71f",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "IIUC, there is already a colon in the PLOG output\nhttps://cs.chromium.org/chromium/src/base/logging.cc?type\u003dcs\u0026l\u003d915\n\nI feel original message \"pipe2()\" is enough \nhttps://cs.chromium.org/chromium/src/components/arc/arc_session.cc?type\u003dcs\u0026q\u003d%5Cbpipe2%5Cb+package:%5Echromium$\u0026l\u003d76",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3d52a6c_c4de615e",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8a74c6b_ab16f71f",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84436280_7c4ad480",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "ditto\n\nand other PLOGs below.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f869d038_dc2d79a1",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "84436280_7c4ad480",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f8ae40f_028c832e",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T07:13:07Z",
      "side": 1,
      "message": "stop proxy_thread_?",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "595f8c98_34c4acbc",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7f8ae40f_028c832e",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2619b4a9_fa57e64c",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 113,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "We should wait for the result of CreateSocket. Otherwise the capture thread may be stuck waiting for camera_module_set in CameraHalDelegate::GetDeviceDescriptors. Right?",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a4d2db4_d0af64da",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 113,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2619b4a9_fa57e64c",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6438288f_90616634",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "Document if Start() returns false, CameraHalDelegate won\u0027t be created and this function won\u0027t be called.",
      "range": {
        "startLine": 119,
        "startChar": 23,
        "endLine": 119,
        "endChar": 32
      },
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd6da270_ae0acaf4",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6438288f_90616634",
      "range": {
        "startLine": 119,
        "startChar": 23,
        "endLine": 119,
        "endChar": 32
      },
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bb93a35_937a1be6",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 127,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "s/ProxyThread/CameraProxyThread/\ns/BlockingIOThread/CameraBlockingIOThread/",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae806bdf_d7fd72f8",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 127,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8bb93a35_937a1be6",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba8a7203_00ec9070",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "If procy_thread_ is stopped, no need to call PostTask.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "754a2689_ad29178d",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba8a7203_00ec9070",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f309c6e_43779d9c",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 252,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "Since you already use cancel_fd to terminate,\nwhy not just use a simple while loop here? what\u0027s the difference?",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "175046fe_f3c2b9dc",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 252,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Re-posting the task and using a simple while loop are equivalent here. I\u0027ve combined CreateServiceLoop and WaitForIncomingConnection into one StartServiceLoop function with a while loop.",
      "parentUuid": "5f309c6e_43779d9c",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7417174b_42aa5c7e",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 271,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "I\u0027m not sure..., do you still need to keep reference of observers after server is registered?\n\nIIUC, the only usage of client_observers_ is OnCameraHalClientConnectionError(), which is actually doing nothing.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc5630ce_031797bc",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 271,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "The server (i.e. the camera HAL) may crash. Keeping the reference of the client observers allows us to re-establish the Mojo channels once server is reconnected.",
      "parentUuid": "7417174b_42aa5c7e",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a5a1214_53f9c576",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 271,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-21T03:51:30Z",
      "side": 1,
      "message": "Sounds good. Please mention for this auto re-connect behavior in .h or .mojom.",
      "parentUuid": "dc5630ce_031797bc",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01ff0a78_64d0ed56",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 271,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-22T01:43:39Z",
      "side": 1,
      "message": "Added some comments about this mechanism in the CameraHalDispatcherImpl class docstring in camera_hal_dispatcher.h.",
      "parentUuid": "6a5a1214_53f9c576",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fddb43b5_428207c1",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "maybe you can use mojo::StrongBinding instead, then you don\u0027t need a central |bindings_| to bookkeep.\n\nthe idea is, a new class named PeerHandler. A PeerHandler is created when each new peer connected. PeerHandler StrongBinding to the CameraHalDspatcher interface. When connection closed, it will destroy itself.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3367fa28_3561e08c",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-21T03:37:55Z",
      "side": 1,
      "message": "I can\u0027t use mojo::StrongBinding here since the CameraHalDispatcher bindings I have here all points to the same impl. instance. I\u0027ve changed to use mojo::BindingSet instead.",
      "parentUuid": "fddb43b5_428207c1",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bf12ce2_fc423b10",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 336,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "Maybe let the server itself to handle (log) connect lost. Then the dispatcher no need to care anything after the client is connected to the server.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6575c907_04a170e3",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 336,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "This method handles the Mojo connection error between the client and the dispatcher.\n\nThe server and the client (e.g. the camera HAL and the Android cameraserver process) have another Mojo channel, which is created with the help of the dispatcher, for the camera functions and they have error handlers for this camera Mojo channel as well.",
      "parentUuid": "3bf12ce2_fc423b10",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c2a7b43_2602175f",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 350,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "let\u0027s print a log if this fails.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0e483c9_7ff296c7",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 350,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c2a7b43_2602175f",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d0ef215_6d09d953",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 24,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "Do we still need weak pointer?",
      "range": {
        "startLine": 24,
        "startChar": 19,
        "endLine": 24,
        "endChar": 34
      },
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7679e6b_454e7bd6",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 24,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "It\u0027s not needed anymore. Removed.",
      "parentUuid": "4d0ef215_6d09d953",
      "range": {
        "startLine": 24,
        "startChar": 19,
        "endLine": 24,
        "endChar": 34
      },
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c19fed12_271b7ec3",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T06:29:39Z",
      "side": 1,
      "message": "s/SetUpChannel/OnChannelSetUp/ because the channel has been set up.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "644d2df2_51e8f498",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done. Changed this is OnChannelCreated.",
      "parentUuid": "c19fed12_271b7ec3",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed12813f_c857c6bf",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 28,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T07:13:07Z",
      "side": 1,
      "message": "Add some documentation to say the things in the change description and the design doc. For example, what the server is and what the clients are.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70c690be_f6da2fb4",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 28,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed12813f_c857c6bf",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9ad9522_0a26ee1c",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1001841
      },
      "writtenOn": "2017-06-20T07:13:07Z",
      "side": 1,
      "message": "nit: change to IsStarted because IsRunning has mutex inside?",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6ccdf8c_5b826be6",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e9ad9522_0a26ee1c",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a852dfce_435a0eed",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 39,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "this looks non-trivial. please move the implementation to .cc file.",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "285e406f_5442dfd7",
        "filename": "media/capture/video/chromeos/camera_hal_dispatcher_impl.h",
        "patchSetId": 4
      },
      "lineNbr": 39,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a852dfce_435a0eed",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ad7befc_72ccb9be",
        "filename": "media/capture/video/chromeos/mojo/arc_camera3_service.mojom",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "1. what if there are more than one server trying to register\n2. do you need unregister mechanism? for example, what if the server want to close itself?",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a47c667_67f58dc4",
        "filename": "media/capture/video/chromeos/mojo/arc_camera3_service.mojom",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "1. There\u0027s only one camera HAL thus only one server on the system. If somehow a second server tries to register, this function should simply drop the request.\n\n2. The server and the dispatcher should keep connected as long as the system is on so that camera service is always available. I guess the unregister mechanism we have now is the Mojo connection error handlers, which is usually triggered by crash of one end of the channel.",
      "parentUuid": "4ad7befc_72ccb9be",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a750a539_c51dfcd5",
        "filename": "media/capture/video/chromeos/mojo/arc_camera3_service.mojom",
        "patchSetId": 4
      },
      "lineNbr": 22,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "what if there is no server reigstered yet when a client register?",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e165fe6_26623405",
        "filename": "media/capture/video/chromeos/mojo/arc_camera3_service.mojom",
        "patchSetId": 4
      },
      "lineNbr": 22,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "The dispatcher will wait until the server registers, and then create the Mojo channel for each registered clients.",
      "parentUuid": "a750a539_c51dfcd5",
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "924f9ffe_c84b474f",
        "filename": "media/capture/video/chromeos/video_capture_device_factory_chromeos.cc",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1001849
      },
      "writtenOn": "2017-06-20T10:19:39Z",
      "side": 1,
      "message": "i\u0027m not sure, should this be \"||\" ?",
      "range": {
        "startLine": 30,
        "startChar": 60,
        "endLine": 30,
        "endChar": 62
      },
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07c61882_31a17505",
        "filename": "media/capture/video/chromeos/video_capture_device_factory_chromeos.cc",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1001646
      },
      "writtenOn": "2017-06-20T14:53:36Z",
      "side": 1,
      "message": "It should be \u0026\u0026 here. We only need to start the CameraHalDispatcherImpl singleton once.",
      "parentUuid": "924f9ffe_c84b474f",
      "range": {
        "startLine": 30,
        "startChar": 60,
        "endLine": 30,
        "endChar": 62
      },
      "revId": "bd44a938461cc2a5af96b35647b6c09a09061874",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}