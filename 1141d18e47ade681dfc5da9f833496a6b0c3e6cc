{
  "comments": [
    {
      "key": {
        "uuid": "bb6f3dab_44f434aa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "Please update the description to conform with the new objective of this patch.",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 23
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adea7359_dbcdc819",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "suggestion: This query might be a little better:\n\n`SELECT state, count(*) FROM prefetch_items WHERE creation_time \u003c ? GROUP BY state`\n\nBut this will require reverting back to the FactoryGet method from before to be able to report more than \"1\" for each bucket.\n\nisherman@: can you confirm there\u0027s no other way?",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 122,
        "endChar": 32
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5b464bc_5554f9ee",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "Good suggestion, but we decided not to do it for timing reasons,  We might well want to do this later.",
      "parentUuid": "adea7359_dbcdc819",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 122,
        "endChar": 32
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f6ac5c8_efb3e249",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-12T01:06:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c5b464bc_5554f9ee",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 122,
        "endChar": 32
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9d4a95a_cabd04f8",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 124,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "Move this to be a named constant defined in the top of this file. Also add a comment to it stating changes should be reflected in the respective histogram\u0027s description.",
      "range": {
        "startLine": 124,
        "startChar": 66,
        "endLine": 124,
        "endChar": 67
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be8c1d1d_e07fb963",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 124,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a9d4a95a_cabd04f8",
      "range": {
        "startLine": 124,
        "startChar": 66,
        "endLine": 124,
        "endChar": 67
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b8e6917_049b74b7",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 161,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "Comment needs updating.",
      "range": {
        "startLine": 161,
        "startChar": 70,
        "endLine": 161,
        "endChar": 75
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "425de1ef_f46377c4",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 161,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b8e6917_049b74b7",
      "range": {
        "startLine": 161,
        "startChar": 70,
        "endLine": 161,
        "endChar": 75
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d563385a_2bf10855",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "In the interest of gathering data also for the states expired above let\u0027s move this call up to line 142, before expiration runs.",
      "range": {
        "startLine": 163,
        "startChar": 2,
        "endLine": 163,
        "endChar": 18
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8c24799_80975074",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "It might be better to put it here. If the user is off the internet and this task doesn\u0027t run, we should probably not report anything that is going to get cleaned up properly, since the intent of this check is to find problems not handled by the normal cases.  We discussed this offline, and agreed to leave the statement here.",
      "parentUuid": "d563385a_2bf10855",
      "range": {
        "startLine": 163,
        "startChar": 2,
        "endLine": 163,
        "endChar": 18
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e93681a6_727eab24",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task.cc",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-12T01:06:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d8c24799_80975074",
      "range": {
        "startLine": 163,
        "startChar": 2,
        "endLine": 163,
        "endChar": 18
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa202fb6_fe164c8d",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 179,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "nit: add a comment on why the specific value chosen here is important for this test.",
      "range": {
        "startLine": 179,
        "startChar": 26,
        "endLine": 179,
        "endChar": 27
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "344215b1_2e800bdb",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 179,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aa202fb6_fe164c8d",
      "range": {
        "startLine": 179,
        "startChar": 26,
        "endLine": 179,
        "endChar": 27
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a84b6df_6ca48483",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 378,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "With the change to move ReportStuckItems to run before expiration this test might not be needed as the ones above -- especially HandlesStalesInAllStatesCorrectly if changing many_hours to be more than 7 days -- should be able to cover well both this reporting and expiration.",
      "range": {
        "startLine": 378,
        "startChar": 36,
        "endLine": 378,
        "endChar": 62
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b79608b_c656df7e",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 378,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "Left as is since we did not move the ReportStuckItems call",
      "parentUuid": "9a84b6df_6ca48483",
      "range": {
        "startLine": 378,
        "startChar": 36,
        "endLine": 378,
        "endChar": 62
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2424d38d_206c71c9",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 378,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-12T01:06:12Z",
      "side": 1,
      "message": "This test covers the added functionality enough so this is a suggestion for a follow up CL:\nWe\u0027d better cover the whole of the current StaleEntryFinalizerTask implementation by repurposing some of the existing tests to also cover this reporting. This involves mostly changing dates and adding histogram checks.",
      "parentUuid": "6b79608b_c656df7e",
      "range": {
        "startLine": 378,
        "startChar": 36,
        "endLine": 378,
        "endChar": 62
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20f676f5_c2d4918f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 3
      },
      "lineNbr": 52096,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T22:35:02Z",
      "side": 1,
      "message": "- Please mention the precise time used (instead of just enough).\n- \"has expired\" is confusing as entries are not in fact expired.\n\nSuggestion:  \nA prefetch item was found in this state after more than 7 days since its creation, time enough for it to have been finalized by the pipeline.",
      "range": {
        "startLine": 52094,
        "startChar": 0,
        "endLine": 52096,
        "endChar": 14
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4527d92b_eecad491",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 3
      },
      "lineNbr": 52096,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:52:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20f676f5_c2d4918f",
      "range": {
        "startLine": 52094,
        "startChar": 0,
        "endLine": 52096,
        "endChar": 14
      },
      "revId": "1141d18e47ade681dfc5da9f833496a6b0c3e6cc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}