{
  "comments": [
    {
      "key": {
        "uuid": "6ea59e9b_478c6a04",
        "filename": "content/browser/accessibility/browser_accessibility_manager.h",
        "patchSetId": 4
      },
      "lineNbr": 39,
      "author": {
        "id": 1000678
      },
      "writtenOn": "2017-06-21T00:22:34Z",
      "side": 1,
      "message": "If we\u0027re trying to improve this semantically,\nx11 feels wrong because the code doesn\u0027t care if it\u0027s x11, it\nreally just cares about ATK support for a desktop Linux distro.\n\nIn the spirit of \"test for feature\" this should really be use_atk, not use_x11. That\u0027d require making sure that build files only compile\nbrowser_accessibility_manager_auralinux when use_atk is true and not\njust when use_x11 is true.\n\nActually I seem to recall that this caused a problem with Chromecast\nbecause it runs on Linux and has libatk installed, but we have no need\nfor ATK support on that platform.\n\nI think we really do need some sort of \"is desktop Linux\" define.\nMaybe today that\u0027s the same as use_x11, but will it be several years\nfrom now? For example, what if we added Wayland support?",
      "revId": "b4a44794c0a6276ffbe3a605c119a17d1b8d722c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adcb0093_e6d82118",
        "filename": "content/browser/accessibility/browser_accessibility_manager.h",
        "patchSetId": 4
      },
      "lineNbr": 39,
      "author": {
        "id": 1208920
      },
      "writtenOn": "2017-06-24T00:08:24Z",
      "side": 1,
      "message": "The build system defines use_atk as \"desktop linux \u0026\u0026 x11\"\n(https://cs.chromium.org/chromium/src/build/config/ui.gni?rcl\u003d2f1b767b58201b9e51e71f32eb57c57e17bd4793\u0026l\u003d68).\n\nIn the code, OS_LINUX \u0026\u0026 !OS_CHROMEOS \u003d\u003d desktop linux. Therefore, I\u0027ve passed use_atk as a buildflag and use it here (and the few other places in accessibility) and it _should_ be a NOP for chromecast etc (from my understanding).",
      "parentUuid": "6ea59e9b_478c6a04",
      "revId": "b4a44794c0a6276ffbe3a605c119a17d1b8d722c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc6c0f33_a719412a",
        "filename": "content/browser/accessibility/browser_accessibility_manager.h",
        "patchSetId": 4
      },
      "lineNbr": 39,
      "author": {
        "id": 1000678
      },
      "writtenOn": "2017-06-26T15:58:11Z",
      "side": 1,
      "message": "Since we have is_desktop_linux in the build system, any\nreason we shouldn\u0027t just have IS_DESKTOP_LINUX as a C++ macro?\n\nThen this code would be IS_DESKTOP_LINUX and HAS_ATK, which would\nbe the most semantically and technically accurate I could imagine.\n\nEither way, lgtm - I don\u0027t want to hold this up, I\u0027m just\nusing this as an excuse to figure out how to improve it\nfurther. I may do a follow-up after this change but I\ndon\u0027t want to slow you down.",
      "parentUuid": "adcb0093_e6d82118",
      "revId": "b4a44794c0a6276ffbe3a605c119a17d1b8d722c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}