{
  "comments": [
    {
      "key": {
        "uuid": "c4d9cfb7_d70a659c",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 322,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-14T17:56:19Z",
      "side": 1,
      "message": "Is there any reason to have this separate function now? Move it to BrowserCommandController::ExecuteCommandWithDisposition.",
      "range": {
        "startLine": 322,
        "startChar": 31,
        "endLine": 322,
        "endChar": 64
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bca407fa_e12fed83",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 322,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-12-14T19:01:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c4d9cfb7_d70a659c",
      "range": {
        "startLine": 322,
        "startChar": 31,
        "endLine": 322,
        "endChar": 64
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19226b9b_73308693",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1202,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-14T17:56:19Z",
      "side": 1,
      "message": "browser_ is never null, so you shouldn\u0027t need this check. Are you sure you need the window check too?",
      "range": {
        "startLine": 1202,
        "startChar": 6,
        "endLine": 1202,
        "endChar": 15
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d8c3897_d082f6d3",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1202,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-12-14T19:01:20Z",
      "side": 1,
      "message": "I think I had a crash some time back where one of these was null, and now I checked that browser_ is never null so it must have been the window. But now I also checked the window, and it should also never be null. I probably messed up something back then or misremembered. Removed the check.",
      "parentUuid": "19226b9b_73308693",
      "range": {
        "startLine": 1202,
        "startChar": 6,
        "endLine": 1202,
        "endChar": 15
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d25ef036_2e7e3e88",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1219,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-14T17:56:19Z",
      "side": 1,
      "message": "optional: add a function only if DCHECKs are enabled that ensures no other commands are enabled.",
      "range": {
        "startLine": 1218,
        "startChar": 7,
        "endLine": 1219,
        "endChar": 53
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b7dab86_8154bf17",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1219,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-12-14T19:01:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d25ef036_2e7e3e88",
      "range": {
        "startLine": 1218,
        "startChar": 7,
        "endLine": 1219,
        "endChar": 53
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2744d3f9_987cf9a9",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1293,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-12-14T17:30:51Z",
      "side": 1,
      "message": "WindowOpenApiTest.OpenLockedFullscreenWindow [1] is crashing here, the active tab index being -1 (this function is called from UpdateCommandsForLockedFullscreenMode). Not sure how to handle this. Will do some more thinking.\n\n[1] https://cs.chromium.org/chromium/src/chrome/browser/extensions/window_open_apitest.cc?type\u003dcs\u0026q\u003dWindowOpenApiTest+OpenLockedFullscreenWindow\u0026sq\u003dpackage:chromium\u0026l\u003d415",
      "range": {
        "startLine": 1293,
        "startChar": 18,
        "endLine": 1293,
        "endChar": 60
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6270c8b6_91aa3018",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1293,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-14T17:56:19Z",
      "side": 1,
      "message": "That likely means you\u0027re calling this function when the tabstrip is empty. What does the stack trace look like? Probably easiest fix is to early out in UpdateCommandsForLockedFullscreenMode if the tabstrip is empty.",
      "parentUuid": "2744d3f9_987cf9a9",
      "range": {
        "startLine": 1293,
        "startChar": 18,
        "endLine": 1293,
        "endChar": 60
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1a53b08_f0558dfa",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1293,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-12-14T19:01:20Z",
      "side": 1,
      "message": "I\u0027m sure the tabstrip is empty, no idea why that happens tho. Here\u0027s the stacktrace https://paste.googleplex.com/5280901911019520. I\u0027ve actually added a check before calling UpdateCommandsForFind instead of an early out because I don\u0027t want to somehow end up in the locked fullscreen state without disabling most of the commands. Another option is to put the check in here before calling IsTabBlocked, WDYT?",
      "parentUuid": "6270c8b6_91aa3018",
      "range": {
        "startLine": 1293,
        "startChar": 18,
        "endLine": 1293,
        "endChar": 60
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b52968a_e3cd0eca",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1293,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-14T22:36:08Z",
      "side": 1,
      "message": "Maybe the test isn\u0027t creating any tabs? It is the case that when the tabstrip goes empty we don\u0027t immediately destroy the window. We post a task that deletes the browser. I don\u0027t know enough about this api to know how it hooks in it. How does the extension code find a browser and target it? I suspect this problem isn\u0027t specific to just locked fullscreen. Are there other checks in extension code to early out if the tabstrip is empty?",
      "parentUuid": "e1a53b08_f0558dfa",
      "range": {
        "startLine": 1293,
        "startChar": 18,
        "endLine": 1293,
        "endChar": 60
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bd69594_f49f5991",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1293,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-12-15T00:10:07Z",
      "side": 1,
      "message": "I\u0027ll investigate this further tomorrow. Are you fine with me fixing this in a follow up CL? I\u0027d really like to land this one soon.",
      "parentUuid": "2b52968a_e3cd0eca",
      "range": {
        "startLine": 1293,
        "startChar": 18,
        "endLine": 1293,
        "endChar": 60
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77b5959a_639de9f1",
        "filename": "chrome/browser/ui/browser_command_controller.cc",
        "patchSetId": 32
      },
      "lineNbr": 1293,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-15T16:09:09Z",
      "side": 1,
      "message": "I\u0027m ok landing with an early out in UpdateCommandsForLockedfullscreenMode if the tabstrip is empty and a followup investigation. It may be it\u0027s necessary, but we should understand that before assuming it is.",
      "parentUuid": "0bd69594_f49f5991",
      "range": {
        "startLine": 1293,
        "startChar": 18,
        "endLine": 1293,
        "endChar": 60
      },
      "revId": "fa0f2b43646b2feb4c9fd033b3801dec486c4972",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}