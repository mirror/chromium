{
  "comments": [
    {
      "key": {
        "uuid": "22af4407_cff1f07a",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "I was going to suggest using template arguments to capture this pattern, e.g. RunOnUIThread(C cb, T arg).\n\nAlthough it seem like you\u0027d also have to std::move |sink| below, which is a no-op but a bit of a waste.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7d3cc73_52aaffae",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "You could bind the reply TaskRunner in to the Callback (e.g. grab it with SequenceTaskRunnerHandle::Get()) to avoid the need to explicitly mention the UI thread here.",
      "range": {
        "startLine": 21,
        "startChar": 2,
        "endLine": 22,
        "endChar": 44
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86874694_492d4385",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Note that these implementations mean that a called that invokes Stop() can still find itself being called-back at some later time, if these tasks were in-flight at the time.\n\nYou could avoid that by moving these to be methods on DialMediaSinkService and posting them through a WeakPtr, which you invalidate in Stop().",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 31,
        "endChar": 1
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "675eb480_f74d1a1b",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 36,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Is there actually a UI-thread requirement, or just a requirement that it\u0027s the same thread as the rest of the calls?",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 41
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86866422_18e8c48c",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Under what circumstances do we expect Start() to be called multiple times?  Won\u0027t this early-exit confuse callers, since the second and subsequent pairs of callbacks won\u0027t get invoked?",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 53,
        "endChar": 11
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "665bb06b_cafafd8e",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "When would a caller pass in a null callback?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cbb9c0a_d1f026cf",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 60,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Is there a reason to create the implementation lazily?\n\nIt seems like this would be simpler to implement by passing the callbacks in the ctor to set everything up, and just calling Start() to post a task to start the implementation.\n\nYou\u0027d need to have some state reflecting whether the impl_ successfully started to check in the rest of the API before posting additional tasks, so maybe it doesn\u0027t buy you as much as I thought at first.\n\nOr are different callbacks needed to be passed each time it\u0027s started?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b49c0a3e_e396570e",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 65,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Will this always succeed, or does there need to be a callback to return a result?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec207460_452b357f",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 78,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Could impl_-\u003eStop() cause impl_ to destroy itself to reduce the number of tasks by one (you would still have to release the unique_ptr first)?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3873a93_49061820",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 78,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Is there any need for Stop() at all, given that it neither has a return-value nor any sort of completion-callback, presumably the work could just be done in the destructor?",
      "parentUuid": "ec207460_452b357f",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19831fad_9615e435",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 86,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "You\u0027re assuming that impl_ successfully started before this task is posted?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbbf70ff_ed3a6ed9",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 98,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Similar comment as above.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09cd31b4_ba6c8235",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Do you think we can eventually remove the dependency on content::BrowserContext (and thus the UI thread)?   Maybe a NOTE/TODO here explaining the situation / path forward?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15309faa_05fddc43",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 43,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "So if a new sink is added, both callbacks are invoked, but if a sink is removed, only |sink_discovery_cb| is run?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9eda022_00430491",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Can you add more specific documentation for each of the methods below?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c99c727_4776aa4c",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 55,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "I know we force discovery on a user gesture (opening the dialog).\nIs there a need for both of these methods in the API?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "943055ca_0697cb3e",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 27,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "nit: given by task_runner() (the public API)",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86179e81_ddac399f",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 49,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "I\u0027m assuming that this object can only be run on one thread at the moment?\n\nIn the future we want components to have greater thread mobility, so it would make sense to allow the owner to pass in the task runner to use.\n\nThis would also make the set_for_test method unnecessary.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d169972_240e7f75",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Nit: add blank line before",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4489c6fa_a2ee47de",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 85,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Is there a way we can validate that this callback is invoked properly by mocking the behavior of the impl?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb1787dc_b9009f6f",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "nit: can you just bind |task_runner_| in the closure instead of |this| here and below?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c6f63b1_493aabbf",
        "filename": "chrome/browser/media/router/discovery/dial/dial_media_sink_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 132,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Nit: A slightly better test would validate correct arguments are passed to the callback.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb30ecfd_957ce6f1",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 92,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "As noted for DIAL, this implementation means that callers may see their callback invoked _after_ Stop() has returned - we should either prevent that, by posting via the CastMediaSinkService\u0027 WeakPtr, or document it.",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 92,
        "endChar": 61
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c792743_450d25d6",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 213,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Check that impl_ hasn\u0027t been released first?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "786ef0fe_0bf27453",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 225,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Do we really need the IO -\u003e UI -\u003e IO hop to pass a DIAL sink from the DIAL discovery impl to the Cast discovery impl?\n\nCan the DialMediaSinkService hand a callback directly from its impl to register with the Cast impl?  I imagine they will always share the same task sequence.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2828f3b1_6bf69518",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 225,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "This seems to be an artefact of having the TaskRunner associated with the objects themselves, rather than having them use SequenceTaskRunnerHandle or similar to post to their own TaskRunner, and requiring the calling code to manage the actual thread assignments?",
      "parentUuid": "786ef0fe_0bf27453",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f88fab3a_09da3b72",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 43,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Why is it desirable to no-op if already started? What happens if we re-start with a different callback, then?",
      "range": {
        "startLine": 43,
        "startChar": 33,
        "endLine": 43,
        "endChar": 59
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "014f273c_30e87138",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Do we actually need this API, or could we just do the work in the destructor?",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 50,
        "endChar": 14
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab6b0043_6b2b5d61",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service.h",
        "patchSetId": 8
      },
      "lineNbr": 85,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "This should always be set in the ctor?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "136daeb5_539ef639",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 177,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "This is unused in this class AFAICT.  Can we just remove it (and the dependency on the UI thread?)",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1687829a_3cb3954d",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 283,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "nit: Why quantize to 100ms granularity? Is this just to avoid inadvertently triggering high-precision timers?",
      "range": {
        "startLine": 283,
        "startChar": 40,
        "endLine": 283,
        "endChar": 66
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bed4bf95_ab2e7172",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 322,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "This is rather vague; can we be more specific, e.g. \"on which methods are called\" or \"on which work is done\" or similar?\n\nWhy do we have methods in this class which _don\u0027t_ run on this task-runner?",
      "range": {
        "startLine": 322,
        "startChar": 29,
        "endLine": 322,
        "endChar": 58
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53775ee2_5ba027c7",
        "filename": "chrome/browser/media/router/mojo/media_router_desktop.cc",
        "patchSetId": 8
      },
      "lineNbr": 162,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "OK, the \"sink added\" callback is optional because we can run in a mode with in-browser DIAL discovery but no in-browser Cast discovery.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "080e454f_3e993d45",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "throttle invocations of the callback",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f82b7ed3_03dde2e0",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "This needs to be virtual, since you have virtual methods.",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 26
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81c6781c_9a8f0431",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 30,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "nit: Looks like some of this comment went missing?",
      "range": {
        "startLine": 30,
        "startChar": 37,
        "endLine": 30,
        "endChar": 63
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "523ed05e_96ae6c53",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 38,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "OnDiscoveryComplete ?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1827a348_83804d6d",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 47,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Is this for testing?  Or to cancel the current round of discovery?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa34d20a_8c6bfb01",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "When is it okay to call this method?  Any time after StartTimer()?  Please document.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f655ba8_c89e4b7d",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 63,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Better named as finish_timer_secs_ ?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bdc7391_85a69fb0",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Where is FetchCompleted() declared?",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53f1367e_abf26686",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-11-20T17:39:57Z",
      "side": 1,
      "message": "Maybe: \"Timer for completing the current round of discovery.\"\nIt\u0027s not clear what is being \"fetched\" in this API.",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4d9d763_a89d30c2",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "\"finish\" is also a little strange terminology; is this a _timeout_ or actually the timer for stopping discovery, for example?",
      "parentUuid": "53f1367e_abf26686",
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e7fd072_f8208365",
        "filename": "chrome/common/media_router/discovery/media_sink_service_base.h",
        "patchSetId": 8
      },
      "lineNbr": 74,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "DISALLOW_COPY_AND_ASSIGN here.",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 74,
        "endChar": 2
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ebe7845_772f8d73",
        "filename": "components/cast_channel/cast_socket_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 36,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "If this is leaked then can we just use a static here, e.g:\n\nCastSocketService::GetInstance() {\n  static CastSocketService* instance \u003d new CastSocketService;\n  return instance;\n}",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 36,
        "endChar": 79
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2cb7cc21_79633112",
        "filename": "components/cast_channel/cast_socket_service.h",
        "patchSetId": 8
      },
      "lineNbr": 64,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "nit: It seems a little strange to associate this with the CastSocketService itself, if it is then the callers that must arrange to use it.",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 64,
        "endChar": 3
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "105e18fc_c8012fad",
        "filename": "components/cast_channel/cast_socket_service.h",
        "patchSetId": 8
      },
      "lineNbr": 98,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "nit: You could just do:\n\nDCHECK(task_runner_-\u003eBelongsToCurrentThread())\n\nto avoid the need for this.",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 98,
        "endChar": 38
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ac351d4_04e6e64a",
        "filename": "extensions/browser/api/cast_channel/cast_channel_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 172,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "Is it valid for this instance to be torn-down via delete, or should we just DCHECK(!observer_) here?",
      "range": {
        "startLine": 169,
        "startChar": 0,
        "endLine": 172,
        "endChar": 3
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37af24db_e12dc96c",
        "filename": "extensions/browser/api/cast_channel/cast_channel_api.cc",
        "patchSetId": 8
      },
      "lineNbr": 181,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-21T01:23:45Z",
      "side": 1,
      "message": "nit: Now that this is a handler rather than one-of-many \"observers\", can we rename it accordingly?",
      "range": {
        "startLine": 181,
        "startChar": 2,
        "endLine": 181,
        "endChar": 11
      },
      "revId": "08f70b2a4d62c7effd9392d095fab4164eb7e288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}