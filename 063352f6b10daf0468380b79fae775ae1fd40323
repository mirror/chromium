{
  "comments": [
    {
      "key": {
        "uuid": "12ad4888_0d915697",
        "filename": "chrome/browser/background_fetch/background_fetch_delegate_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "Haven\u0027t seen the rest of the CL yet, but should we just immediately treat it as a failure on incognito for now?  We can return a null download service if that works better (do we already?) so you can tell easily.",
      "range": {
        "startLine": 53,
        "startChar": 2,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "991fdaaa_56b5f02d",
        "filename": "chrome/browser/background_fetch/background_fetch_delegate_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "It will never get here in Incognito mode, as the factory returns nullptr for the BackgroundFetchDelegate in that case.",
      "parentUuid": "12ad4888_0d915697",
      "range": {
        "startLine": 53,
        "startChar": 2,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd72ea29_8638df3c",
        "filename": "chrome/browser/background_fetch/background_fetch_delegate_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 131,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "Sadness :(!  I think this is fixed now.",
      "range": {
        "startLine": 130,
        "startChar": 6,
        "endLine": 131,
        "endChar": 75
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35101f56_71608203",
        "filename": "chrome/browser/background_fetch/background_fetch_delegate_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 131,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd72ea29_8638df3c",
      "range": {
        "startLine": 130,
        "startChar": 6,
        "endLine": 131,
        "endChar": 75
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee108cab_bcb16f61",
        "filename": "chrome/browser/background_fetch/background_fetch_delegate_impl.h",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Add a comment about the lifetime, e.g. \"Outlives this\" if that\u0027s the case (is it?).",
      "range": {
        "startLine": 56,
        "startChar": 29,
        "endLine": 56,
        "endChar": 46
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f234df49_937ec0b7",
        "filename": "chrome/browser/background_fetch/background_fetch_delegate_impl.h",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T16:53:19Z",
      "side": 1,
      "message": "That reminds me. The DelegateFactory should probably depend on the DownloadServiceFactory.",
      "parentUuid": "ee108cab_bcb16f61",
      "range": {
        "startLine": 56,
        "startChar": 29,
        "endLine": 56,
        "endChar": 46
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bb40df0_8079ac16",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "Do you have to set the others as nullptr?",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 31
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3917c94_cc1abf76",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Yes, I should have null\u0027ed delegate_ and added some DCHECKs.",
      "parentUuid": "7bb40df0_8079ac16",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 31
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "630473ae_129822b1",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 28,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Is OnServiceInitialized always called before any of the other methods (except OnServiceUnavailable)? If so, could you add that to the comments in download::Client to make tha contract clearer.",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 11
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8537d785_569739f6",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 28,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T16:53:19Z",
      "side": 1,
      "message": "Yes it is. I think it pretty much already says that.",
      "parentUuid": "630473ae_129822b1",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 11
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5724e3ac_8b49c78d",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Nit: std::make_unique",
      "range": {
        "startLine": 43,
        "startChar": 6,
        "endLine": 43,
        "endChar": 22
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "033b2da0_f785aabe",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T16:53:19Z",
      "side": 1,
      "message": "I updated this in patch set 9.",
      "parentUuid": "5724e3ac_8b49c78d",
      "range": {
        "startLine": 43,
        "startChar": 6,
        "endLine": 43,
        "endChar": 22
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fd70fa9_43e539c9",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 47,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "Add a TODO to validate the chain/headers before returning CONTINUE?",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 52
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f3fbb90_e8ea223e",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 47,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7fd70fa9_43e539c9",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 52
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cc3e71a6_673ef5aa",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 47,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Please add a link to https://crbug.com/711354 and mention this TODO on that bug, to make sure we don\u0027t ship this :)\n\nAlso, we should probably make this method be:\n\n`return delegate_-\u003eOnDownloadStarted(...)`\n\nand make this decision somewhere closer to content/.",
      "parentUuid": "3f3fbb90_e8ea223e",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 52
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82a94236_f4ea7029",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 71,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "Add a TODO to return false if the background fetch hasn\u0027t finished yet?",
      "range": {
        "startLine": 71,
        "startChar": 2,
        "endLine": 71,
        "endChar": 14
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1ebdd28_e97f8fc4",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.cc",
        "patchSetId": 7
      },
      "lineNbr": 71,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82a94236_f4ea7029",
      "range": {
        "startLine": 71,
        "startChar": 2,
        "endLine": 71,
        "endChar": 14
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70cf13c5_d43e4178",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "// namespace download for consistency?",
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "919a3320_104193f5",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "I don\u0027t actually use the DownloadService so I\u0027ll just delete it for now.",
      "parentUuid": "70cf13c5_d43e4178",
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "239b7b60_3aed3d49",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "Add \"// download::Client implementation.\" over this block of methods?",
      "range": {
        "startLine": 32,
        "startChar": 2,
        "endLine": 32,
        "endChar": 28
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f22ac71f_1da73dac",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "239b7b60_3aed3d49",
      "range": {
        "startLine": 32,
        "startChar": 2,
        "endLine": 32,
        "endChar": 28
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb8c2548_64e828b5",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 48,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "new line before private members?",
      "range": {
        "startLine": 48,
        "startChar": 2,
        "endLine": 48,
        "endChar": 44
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f5a907f_96845e58",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 48,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb8c2548_64e828b5",
      "range": {
        "startLine": 48,
        "startChar": 2,
        "endLine": 48,
        "endChar": 44
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e628c59c_c611a04b",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 49,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Add a comment about the lifetime, e.g. \"Outlives this\" if that\u0027s the case (is it?).",
      "range": {
        "startLine": 49,
        "startChar": 31,
        "endLine": 49,
        "endChar": 40
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16daf3d3_4836f7e1",
        "filename": "chrome/browser/background_fetch/background_fetch_download_client.h",
        "patchSetId": 7
      },
      "lineNbr": 49,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T16:53:19Z",
      "side": 1,
      "message": "Now you\u0027ve made me thing about it. Especially now that I\u0027ve made the DelegateImplFactory depend on the DownloadService, this is not true.\n\nIt\u0027s probably impossible to trigger since they\u0027ll probably both be destroyed in the same task, so no Client methods could be called in the meantime, but I think I\u0027ll play it safe. I\u0027ll make this a WeakPtr since the DelegateImpl already has a WeakPtrFactory. (The alternative would be for DownloadService to forward its ShutDown method to all of its clients).\n\nI\u0027ll go replace all those DCHECKS with if()s",
      "parentUuid": "e628c59c_c611a04b",
      "range": {
        "startLine": 49,
        "startChar": 31,
        "endLine": 49,
        "endChar": 40
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bf44abf_43bf401c",
        "filename": "chrome/browser/download/download_service_factory.cc",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Nit: std::make_unique, unless you feel strongly about remaining consistent with other uses in this file.",
      "range": {
        "startLine": 68,
        "startChar": 21,
        "endLine": 68,
        "endChar": 37
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76f12511_44f3219b",
        "filename": "components/download/internal/proto/entry.proto",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-09-26T21:33:43Z",
      "side": 1,
      "message": "D\u0027oh we set the public API to -1, -2, -3 but didn\u0027t adjust this one.  That\u0027s ok though we handle the conversions manually in proto_conversions.cc",
      "range": {
        "startLine": 15,
        "startChar": 3,
        "endLine": 15,
        "endChar": 42
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b5913be_23d589b6",
        "filename": "components/download/internal/proto/entry.proto",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1204345
      },
      "writtenOn": "2017-09-27T14:37:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "76f12511_44f3219b",
      "range": {
        "startLine": 15,
        "startChar": 3,
        "endLine": 15,
        "endChar": 42
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1cd6341_e72a8398",
        "filename": "content/browser/background_fetch/background_fetch_delegate_proxy_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Could this just use the MockBackgroundFetchDelegate now?",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 80,
        "endChar": 39
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b662ac0_75c5e5e9",
        "filename": "content/public/browser/background_fetch_delegate.h",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Unused?",
      "range": {
        "startLine": 52,
        "startChar": 2,
        "endLine": 52,
        "endChar": 18
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93eb3316_df0612ae",
        "filename": "content/public/browser/background_fetch_delegate.h",
        "patchSetId": 7
      },
      "lineNbr": 109,
      "author": {
        "id": 1000788
      },
      "writtenOn": "2017-09-27T15:59:01Z",
      "side": 1,
      "message": "Add that |client| must outlive this?",
      "range": {
        "startLine": 109,
        "startChar": 2,
        "endLine": 109,
        "endChar": 68
      },
      "revId": "063352f6b10daf0468380b79fae775ae1fd40323",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}