{
  "comments": [
    {
      "key": {
        "uuid": "2fddd403_f4115c92",
        "filename": "cc/scheduler/compositor_timing_history.cc",
        "patchSetId": 32
      },
      "lineNbr": 932,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "nit, use boolean expressions for assignment rather than if (expression) { v \u003d true } else { v \u003d false }, i.e.:\nprevious_frame_had_main_thread_animations_ \u003d main_thread_animations_count \u003e 0;",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa515ac4_f9f29854",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 23,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "Can\u0027t we avoid that by calling WillDraw?",
      "range": {
        "startLine": 23,
        "startChar": 26,
        "endLine": 23,
        "endChar": 70
      },
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8891d431_5b527490",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 25,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "This should be set by calling DidActivate",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5c20875_6abdc582",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 298,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "If used_new_active_tree is true shouldn\u0027t we also call WillBeginMainFrame, DidCommit, and DidActivate? I think if we\u0027re properly simulating the frame production we won\u0027t have to manually set the draw and active tree times and it will be a more complete test.",
      "range": {
        "startLine": 298,
        "startChar": 26,
        "endLine": 298,
        "endChar": 30
      },
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a2c22f2_73c761f0",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 300,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "Add another frame where the animation is gone and then another one starts. I.e. to ensure we don\u0027t report the durations between any animation frames.",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e24853f_3e01abf4",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 311,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "Looks like these tests could be a lot shorter by having a helper do all of the necessary calls to advance by a particular time, activate a tree, call did draw, etc..",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70e80318_faa49d87",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 365,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "Add a comment why we don\u0027t want to report this. That it results from a different animation so we don\u0027t want to measure the times from a different animation type.",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54be9703_5df783a3",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 384,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "This can be merged with the above, just switch from compositable to non-compositable and back.",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dce5ea0b_e06f17dd",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 450,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "These tests seem roughly like duplicates of the above MainThreadNotReportedAfter*",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9373835_af40e99d",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 509,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "I\u0027d like to see this test verify that we get the time between new active tree draws, as this is the special case for main thread animations.",
      "range": {
        "startLine": 509,
        "startChar": 40,
        "endLine": 509,
        "endChar": 41
      },
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85feb000_f97f80ce",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 513,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "I think we don\u0027t always have to test all three animation types, once we\u0027ve established they aren\u0027t accidentally reported together by earlier tests we can omit separately testing main thread and main thread compositable. If we want to I\u0027d prefer to see a pattern which avoids the code duplication (e.g. a parameterized test).",
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8bed00f_5b5c1f1f",
        "filename": "cc/scheduler/compositor_timing_history_unittest.cc",
        "patchSetId": 32
      },
      "lineNbr": 547,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-10-04T15:34:32Z",
      "side": 1,
      "message": "Same here, we should test that when there are both main thread and composited animations that they get the correct times, the main thread being between using new active trees and the composited being the time between every frame.",
      "range": {
        "startLine": 547,
        "startChar": 40,
        "endLine": 547,
        "endChar": 41
      },
      "revId": "d0eccdf7912ee53b2535b6dfc264d5061d9bae16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}