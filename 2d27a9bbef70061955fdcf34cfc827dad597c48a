{
  "comments": [
    {
      "key": {
        "uuid": "73f3cbd1_05de9d63",
        "filename": "ios/web/download/download_task_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 81,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-11-13T09:31:13Z",
      "side": 1,
      "message": "Please give a name to the parameter.",
      "range": {
        "startLine": 81,
        "startChar": 18,
        "endLine": 81,
        "endChar": 63
      },
      "revId": "2d27a9bbef70061955fdcf34cfc827dad597c48a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e20e5126_e9bb71ab",
        "filename": "ios/web/download/download_task_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 81,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-11-13T18:32:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "73f3cbd1_05de9d63",
      "range": {
        "startLine": 81,
        "startChar": 18,
        "endLine": 81,
        "endChar": 63
      },
      "revId": "2d27a9bbef70061955fdcf34cfc827dad597c48a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "982a39cc_7aa5a75d",
        "filename": "ios/web/download/download_task_impl.mm",
        "patchSetId": 8
      },
      "lineNbr": 272,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-11-13T09:31:13Z",
      "side": 1,
      "message": "Can this be changed to \"base::OnceCallback\"?",
      "range": {
        "startLine": 272,
        "startChar": 10,
        "endLine": 272,
        "endChar": 18
      },
      "revId": "2d27a9bbef70061955fdcf34cfc827dad597c48a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd513410_6076e773",
        "filename": "ios/web/download/download_task_impl.mm",
        "patchSetId": 8
      },
      "lineNbr": 272,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-11-13T18:32:30Z",
      "side": 1,
      "message": "I don\u0027t know. I\u0027ve tried to use OnceCallback:\n\nvoid DownloadTaskImpl::GetCookies(\n    base::OnceCallback\u003cvoid(NSArray\u003cNSHTTPCookie*\u003e*)\u003e callback) {\n  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);\n  if (@available(iOS 11, *)) {\n    WebThread::PostTask(WebThread::IO, FROM_HERE,\n                        base::Bind(\u0026DownloadTaskImpl::GetWKCookies,\n                                   weak_factory_.GetWeakPtr(), std::move(callback)));\n  } else {\n    std::move(callback).Run([NSArray array]);\n  }\n}\n\nAnd I see this error:\n\nShowing Recent Messages\n../../base/bind.h:59:3: error: static_assert failed due to requirement \u0027param_is_forwardable\u0027 \"Bound argument |i| of type |Arg| cannot be forwarded as |Unwrapped| to the bound functor, which declares it as |Param|.\"\n\n\nError goes away after commenting out WebThread::PostTask call.",
      "parentUuid": "982a39cc_7aa5a75d",
      "range": {
        "startLine": 272,
        "startChar": 10,
        "endLine": 272,
        "endChar": 18
      },
      "revId": "2d27a9bbef70061955fdcf34cfc827dad597c48a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99530f24_2897ccde",
        "filename": "ios/web/download/download_task_impl.mm",
        "patchSetId": 8
      },
      "lineNbr": 272,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-11-14T10:05:50Z",
      "side": 1,
      "message": "I think you would have had to change all base::Callback to base::OnceCallback (so also change GetWKCookies) and then use base::BindOnce instead of base::Bind (otherwise you could convert a OnceCallback to a Callback by doing base::Bind(InvokeOnceCallback, std::move(once_callback))).\n\nBut I\u0027m okay if you land this CL with base::Callback. I\u0027ll see what need to be fixed to use base::OnceCallback and send a followup CL if possible (using base::OnceCallback is just an optimization, so it is not blocking).",
      "parentUuid": "fd513410_6076e773",
      "range": {
        "startLine": 272,
        "startChar": 10,
        "endLine": 272,
        "endChar": 18
      },
      "revId": "2d27a9bbef70061955fdcf34cfc827dad597c48a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}