{
  "comments": [
    {
      "key": {
        "uuid": "f95ed31b_2b2f9aee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 7,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "There\u0027s still \"legacy\" here",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1aa31bee_9fc664b6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 7,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f95ed31b_2b2f9aee",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9807fdb_46063d7d",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/get_all_no_arguments_empty_cookie_jar.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "nit: The preferred style here is \"should return an empty array\".\n\nAlso, if you want the output, I\u0027d do assert_array_equals and rely on testharness.js to get a better impl for that.",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "768ecc05_2ef9f364",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/get_all_no_arguments_empty_cookie_jar.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c9807fdb_46063d7d",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca10da7f_89661953",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "1) does unprefixed need to be first? it\u0027d be nice if all the getAll tests would be adjacent when sorting, so they can be run together.\n\n2) I think we\u0027ve informally converged on snake_casing with exceptions for names in Web APIs. My tests in cookie-store/ are good examples. IndexedDB tests were written before this, and the Web API names lowercased (i.e. idbobjectstore instead of IDBObjectStore).\n\nTo that end, cookieStore_getAll_ordering_with_explicit_domain.html?\n\nTBH I\u0027d put all the ordering tests in cookieStore_getAll_ordering, but separate files have their benefits, so this last suggestion is very optional. However, it has the merit of getting rid of \"unprefixed\", which seems odd. Along these lines, I think you can make this \".https\" and add tests for the __Host- / __Secure- ordering rules (assuming they\u0027re special, as \"unprefixed\" here suggests).",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7956d231_70fbc034",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "unprefixed moved to the end\n\nrenamed tests\n\ni intend to add prefixed cases separately in a follow-up change (some of them fail differently right now)",
      "parentUuid": "ca10da7f_89661953",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68a5d4a9_88d681d3",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 6,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "I think it\u0027d make sense to have a 2nd meta name\u003d\"help\" with href\u003d\"https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-02#section-5.5\", as it covers cookie ordering.",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca781440_ceb123ed",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 6,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68a5d4a9_88d681d3",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d185463b_07e89a9b",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 15,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "nit: I think the comment is now redundant with the code.",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d2b77a1_a9e265f6",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 15,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d185463b_07e89a9b",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b9064f8_f0ec478b",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "I don\u0027t understand what this means. Can you please refer to a standard?\n\nI think WPT tests should express the standards (either as currently written or as we plan to write / change them), and should only refer to specific browsers when doing workarounds (which should be rare).",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60d9a1c7_b03d2376",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "Unless I\u0027m missing something, the draft cookie RFC does not actually specify UA behavior for this, and leaves it to non-normative notes/guidance for cookie-setting applications (called \"servers\" there, somewhat confusingly):\n\nhttps://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-02#section-4.1.2.3\n\n  \"If the server omits the Domain attribute, the user\n   agent will return the cookie only to the origin server.\n\n  \"WARNING: Some existing user agents treat an absent Domain attribute\n   as if the Domain attribute were present and contained the current\n   host name.  For example, if example.com returns a Set-Cookie header\n   without a Domain attribute, these user agents will erroneously send\n   the cookie to www.example.com as well.\"\n\nRemoved reference to browser names, added a meta help link to that.",
      "parentUuid": "2b9064f8_f0ec478b",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5355c227_d85e506b",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "nit 1: It\u0027d be nice if we standardize on _ in JS identifiers and - in strings, so we can easily tell them apart.\n\nnit 2: You seem to be inconsistent between \"implied\" and \"implicit\" in this CL. How about dropping both? \u0027value1\u0027, \u0027value2-with-explicit-domain\u0027, \u0027value3\u0027.",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcf427c1_1c05a0df",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "cookie names and values have their own traditional conventions - i have tried to follow those.\n\nswitched from implied to implicit to more accurately reflect what\u0027s happening.\n\nleft the suffix in place so that the intent is clearer when attempting to debug a failing test.",
      "parentUuid": "5355c227_d85e506b",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f8860f_d9c0ea02",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2018-01-16T23:29:52Z",
      "side": 1,
      "message": "I don\u0027t think that standards from other apps are relevant here, and I think there is value in having a separation between cookie names and identifiers, so please switch to dashes.",
      "parentUuid": "dcf427c1_1c05a0df",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b91b942d_72c10d56",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 24,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "I think you can test for the ordering that you want without the duplicate \"name2\" cookie, assuming all cookies with an explicit domain should sort before or after all cookies without an explicit domain.\n\nReasoning: The duplicate makes things confusing. Without it, you can just assert that mapping cookie names yields [\u0027name1\u0027, \u0027name3\u0027, \u0027name2\u0027], at which point you can switch to \u0027name2-with-explicit-domain\u0027.\n\nFollowing this to conclusion, the cookies should be written in the order \u0027name1\u0027, \u0027name2-with-explicit-domain\u0027, \u0027name3\u0027, so the names ordering (what devs see) matches the creation timestamp ordering (what the implementation should see).",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bc17476_7bcd13b5",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 24,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "I want to explicitly show that the same name appearing more than once is ordered correctly at each occurrence and that all instances are visible. See the new names and let me know what you think.",
      "parentUuid": "b91b942d_72c10d56",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7731ad1_8951ba7c",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 24,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2018-01-16T23:29:52Z",
      "side": 1,
      "message": "I think that ordering is a separate concern from shadowing, and should be tested separately. Tests should be as small as possible.\n\nThe test I suggested proves that ordering takes explicit domains into account in a clear way as \"name1, name3, name2\" is a clear departure from the expected alphabetical ordering.\n\nYou can have a separate test for shadowing where you write two \"same-name\" cookies with implicit / explicit domain and assert that you get 2 \u0027same-name\u0027 cookies.",
      "parentUuid": "9bc17476_7bcd13b5",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a964c4c1_7f33ce8c",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_path_and_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "Can you please avoid using the same name for different cookies? It makes things hard to debug.\n\nPlease have a separate test for shadowing -- that removes one of the duplicate names.",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0521694_66209862",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_path_and_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "We can\u0027t use different names in this test case - the test would not be testing shadowing then. However I no longer use the same cookie names across multiple cases.\n\nTesting shadowing interactions with ordering is exactly the point of this test.",
      "parentUuid": "a964c4c1_7f33ce8c",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da0bdc7e_d8988b5a",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_path_and_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2018-01-16T23:29:52Z",
      "side": 1,
      "message": "I didn\u0027t intend to suggest globally unique cookie names. Names like\n\"unprefixed_getAll_domain_shadowing1_unshadowed\" are too long to remember, so they make the tests very hard to read. Please make names long enough to be clear within a test.\n\nWhile tests that cover interaction are valuable, I expect that we\u0027ll get most of the value from simple tests that cover each aspect of the spec independently. I think this is particularly true for an emerging spec -- as browsers implement, we can use the implementation bugs as hints for which interaction tests are needed.\n\nAt the very least, we should not have a test covering the interaction of A and B if we don\u0027t have separate tests for A and B. The above is then re-stated as \"also, we should not have interaction tests unless we have very good reasons to think they\u0027d hit bugs.\"",
      "parentUuid": "e0521694_66209862",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7eb4131e_1139bcd1",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_path_and_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1163599
      },
      "writtenOn": "2017-11-22T23:45:38Z",
      "side": 1,
      "message": "If you go along the try/finally path, you should wrap the cookie.set calls in it as well. Rationale: if later calls fail (e.g., because the options are unsupported) the earlier cookies would get cleared.\n\nFWIW, I opted to not add a try/finally scope in my tests because I plan to use add_cleanup as soon as it supports Promises.",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdec55f7_506fb4d3",
        "filename": "third_party/WebKit/LayoutTests/external/wpt/cookie-store/unprefixed_get_all_path_and_domain.tentative.html",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1204072
      },
      "writtenOn": "2018-01-11T23:39:04Z",
      "side": 1,
      "message": "Done. Leaving out try/finally caused too many problems when multiple tests run in the same file since cookies are global state and the different tests no longer share cookie names",
      "parentUuid": "7eb4131e_1139bcd1",
      "revId": "d21ce84d231f22d5fbf1cbceea6307fee19f3e2c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}