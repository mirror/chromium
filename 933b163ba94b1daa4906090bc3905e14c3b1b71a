{
  "comments": [
    {
      "key": {
        "uuid": "87b27969_10ef60b6",
        "filename": "media/audio/mac/audio_low_latency_input_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 524,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-10-26T08:56:36Z",
      "side": 1,
      "message": "We want to enable this for WebRTC only. Can it be enabled from the ProcessedLocalAudioSource (currently only used by WebRTC)? I suppose it\u0027s not aware of any device id.",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c32d1806_e6db97c4",
        "filename": "media/audio/mac/audio_low_latency_input_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 524,
      "author": {
        "id": 1210379
      },
      "writtenOn": "2017-10-26T09:09:38Z",
      "side": 1,
      "message": "No, setting this in ProcessedLocalAudioSource directly seems like a bad idea. If anything, we should plumb some information about what the consumer wants (or already provides), that may originate in ProcessedLocalAudioSource. Or perhaps just a \"This is WebRTC\" flag. There\u0027s already something akin to that in GetAutomaticGainControl(), though I\u0027m unsure how directly it maps to just WebRTC.",
      "parentUuid": "87b27969_10ef60b6",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "012157cc_54529422",
        "filename": "media/audio/mac/audio_low_latency_input_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 524,
      "author": {
        "id": 1159974
      },
      "writtenOn": "2017-11-20T16:35:21Z",
      "side": 1,
      "message": "Is there something we could do through AudioParameters, perhaps? There are flags to indicate which platform effects should be _enabled_ for a stream. Maybe we could widen the scope of that enum or add a similar one for things we _don\u0027t_ want.",
      "parentUuid": "c32d1806_e6db97c4",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d79d671_a8e06973",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1088,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-10-26T08:56:36Z",
      "side": 1,
      "message": "The user could change settings after this, and we may not honor that when unsuppressing. \n\n1. NR enabled.\n2. We disable here.\n3. User changes setting, maybe back and forth, settling for disabled. Expects this to stick.\n4. We enable it again when unsuppressing.\n\nIs it possible to listen to property changes for this property? If it changes when listening we just don\u0027t touch it in unsuppress...()",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e59ff2a_2da165f9",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1088,
      "author": {
        "id": 1210379
      },
      "writtenOn": "2017-10-26T09:09:38Z",
      "side": 1,
      "message": "Sure is! I _think_ there\u0027s a very slim chance that this would happen, and I\u0027m not quite certain what\u0027d be the expected behavior. Ignoring changes if the user\u0027s done something definitely seems reasonable, though.\n\nCurrently, this\u0027ll only fail if the user decides that it should be off but was on from the start. Since this would only come into play once we\u0027ve already disabled it, it\u0027s unclear if the user setting this back to \"disabled\" is intended to mean \"I always want this disabled\" or \"I just want to put things back as they were before I started messing around in Settings\".",
      "parentUuid": "6d79d671_a8e06973",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "362a34b8_9f4d9887",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1088,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-10-26T09:28:35Z",
      "side": 1,
      "message": "Indeed. We can\u0027t know for sure what the user means. Let\u0027s discuss offline.",
      "parentUuid": "2e59ff2a_2da165f9",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c97f720a_4c8ccba3",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1088,
      "author": {
        "id": 1159974
      },
      "writtenOn": "2017-11-20T16:35:21Z",
      "side": 1,
      "message": "Let\u0027s! :)",
      "parentUuid": "362a34b8_9f4d9887",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c304e768_9bce1829",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1092,
      "author": {
        "id": 1246244
      },
      "writtenOn": "2017-10-25T13:29:26Z",
      "side": 1,
      "message": "If error happens here, is it worthwhile to try to disable at line 1095 below?",
      "range": {
        "startLine": 1092,
        "startChar": 8,
        "endLine": 1092,
        "endChar": 65
      },
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abb3e31b_50e1592b",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1092,
      "author": {
        "id": 1210379
      },
      "writtenOn": "2017-10-25T13:44:14Z",
      "side": 1,
      "message": "I\u0027m not sure I understand what you\u0027re saying. :/\nShould probably move the block from 1095 into the if (result \u003d\u003d noErr) block for clarity, but it should effectively be the same.\n\nIf changing the noise reduction state is not supported (through these means), we\u0027ll just want to do nothing for now. Perhaps trace this with stats as well, since it\u0027s a bit experimental. Would be fun to see how often it\u0027s supported.\n\nHmm, perhaps other devices could have this as well, where we\u0027d want to _not_ disable it. Try to filter on built-in devices only?",
      "parentUuid": "c304e768_9bce1829",
      "range": {
        "startLine": 1092,
        "startChar": 8,
        "endLine": 1092,
        "endChar": 65
      },
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab30f784_ddf36c14",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1107,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-10-26T08:56:36Z",
      "side": 1,
      "message": "If you follow my point below, this can be checked above and return early. Same with the other not supported path.",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59b6f10e_29cec8fc",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1110,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-10-26T08:56:36Z",
      "side": 1,
      "message": "For clarity, if not supported we shouldn\u0027t count.",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a77618d_fdab9304",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1110,
      "author": {
        "id": 1210379
      },
      "writtenOn": "2017-10-26T09:09:38Z",
      "side": 1,
      "message": "Why not?",
      "parentUuid": "59b6f10e_29cec8fc",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "202cb1a3_20dd3fe7",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1110,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2017-10-26T09:28:35Z",
      "side": 1,
      "message": "It makes it clear for the reader that it\u0027s not relevant and not used if NR isn\u0027t supported.",
      "parentUuid": "0a77618d_fdab9304",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4d66e92_67284e9b",
        "filename": "media/audio/mac/audio_manager_mac.cc",
        "patchSetId": 2
      },
      "lineNbr": 1110,
      "author": {
        "id": 1159974
      },
      "writtenOn": "2017-11-20T16:35:21Z",
      "side": 1,
      "message": "Hmm, you may be right...\n\nThe problem I have with that is it would require me to keep more state, specifically in AUAudioInputStream, to remember if SuppressNoiseReduction succeeded and, only then call UnsuppressNoiseReduction. That, or remove the checks enforcing that they are called the same number of times.",
      "parentUuid": "202cb1a3_20dd3fe7",
      "revId": "933b163ba94b1daa4906090bc3905e14c3b1b71a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}