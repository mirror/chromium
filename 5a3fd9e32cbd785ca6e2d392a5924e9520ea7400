{
  "comments": [
    {
      "key": {
        "uuid": "cf3a2b74_b0bc46a1",
        "filename": "ios/chrome/app/main_controller.mm",
        "patchSetId": 3
      },
      "lineNbr": 1438,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "Does this code early return because _settingsNavigationController presence mean that |SavePasswordsSettings| is already shown? Would it be better to add isSettingsUIDisplayed method to avoid awkward code?\n\nIf you think that we should not spend time on fixing MainController, then adding comments is good enough.",
      "range": {
        "startLine": 1438,
        "startChar": 4,
        "endLine": 1438,
        "endChar": 10
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2131306_cb82da41",
        "filename": "ios/chrome/app/main_controller.mm",
        "patchSetId": 3
      },
      "lineNbr": 1438,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T18:54:13Z",
      "side": 1,
      "message": "The code early returns to prevent presentation of a settings screen when any settings screen is presented.\n\nA bit out of scope for this CL. This CL is just moving the already existing showSavePasswordsSettings method to the ApplicationCommands pragma, with no changes to the implementation. \n\nNot sure that a comment would add much value beyond the code itself, and it is a common idiom used all over main controller.",
      "parentUuid": "cf3a2b74_b0bc46a1",
      "range": {
        "startLine": 1438,
        "startChar": 4,
        "endLine": 1438,
        "endChar": 10
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77dabf9a_70f6faa9",
        "filename": "ios/chrome/app/main_controller.mm",
        "patchSetId": 3
      },
      "lineNbr": 1438,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T20:44:37Z",
      "side": 1,
      "message": "The code is completely non-obvious and comment could help with the situation. This CL touches the code and there is no harm to add non functional changes, like documenting obvious parts of the code.",
      "parentUuid": "c2131306_cb82da41",
      "range": {
        "startLine": 1438,
        "startChar": 4,
        "endLine": 1438,
        "endChar": 10
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c677e5bf_e0b1c4eb",
        "filename": "ios/chrome/app/main_controller.mm",
        "patchSetId": 3
      },
      "lineNbr": 1438,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T21:06:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77dabf9a_70f6faa9",
      "range": {
        "startLine": 1438,
        "startChar": 4,
        "endLine": 1438,
        "endChar": 10
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ee646a6_863a3349",
        "filename": "ios/chrome/browser/passwords/password_controller.h",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "Please document |dispatcher| ownership (weak vs. strong).",
      "range": {
        "startLine": 54,
        "startChar": 37,
        "endLine": 54,
        "endChar": 56
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39740b09_439c5031",
        "filename": "ios/chrome/browser/passwords/password_controller.h",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T18:54:13Z",
      "side": 1,
      "message": "This is an interesting case, and I don\u0027t think we have established coding conventions for this since the ARC conversion, and most cases do not add special comment for the dispatcher.\n\nA few thoughts:\n1. Style guide says that no additional comments are required for ARC managed objects.\n2. Additionally, I thought that when an id\u003c?\u003e is passed somewhere, the convention was for it not to be retained.\n3. Last, at the password controller level, it is just passing dispatcher through to the password generation agent. It does not know if the password generation agent retains the dispatcher. As of now, it does not, but it theoretically could change and then this comment goes stale.",
      "parentUuid": "4ee646a6_863a3349",
      "range": {
        "startLine": 54,
        "startChar": 37,
        "endLine": 54,
        "endChar": 56
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3e11faa_c5dd9395",
        "filename": "ios/chrome/browser/passwords/password_controller.h",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T20:44:37Z",
      "side": 1,
      "message": "1. Style Guide says \"Every non-trivial interface, public and private, should have an accompanying comment describing its purpose and how it fits into the larger picture.\". The fact that dispatcher is not retained is important piece of the information which is not obvious from the code and hence should be at least documented in the comments.\n2. Obj-C convention is that strong is default ownership.\n3. Ownership is a part of API contract for PasswordController and PasswordGenerationAgent. PasswordController has to know about PasswordGenerationAgent\u0027s API contract.",
      "parentUuid": "39740b09_439c5031",
      "range": {
        "startLine": 54,
        "startChar": 37,
        "endLine": 54,
        "endChar": 56
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63cb9514_a3253963",
        "filename": "ios/chrome/browser/passwords/password_controller.h",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T21:06:21Z",
      "side": 1,
      "message": "Will start discussion about convention.",
      "parentUuid": "c3e11faa_c5dd9395",
      "range": {
        "startLine": 54,
        "startChar": 37,
        "endLine": 54,
        "endChar": 56
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f89b063_0218b1d0",
        "filename": "ios/chrome/browser/passwords/password_controller.h",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 62,
        "startChar": 21,
        "endLine": 62,
        "endChar": 23
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "504a04ce_d7950d89",
        "filename": "ios/chrome/browser/passwords/password_generation_agent.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 46,
        "startChar": 26,
        "endLine": 46,
        "endChar": 45
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f86d0220_6d1a070a",
        "filename": "ios/chrome/browser/passwords/password_generation_agent.h",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 92,
        "startChar": 23,
        "endLine": 92,
        "endChar": 25
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63b114c1_fc3bee82",
        "filename": "ios/chrome/browser/tabs/tab.mm",
        "patchSetId": 3
      },
      "lineNbr": 510,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "passwordsUIDelegate (variable name)",
      "range": {
        "startLine": 510,
        "startChar": 26,
        "endLine": 510,
        "endChar": 45
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5dd265d_003dab1d",
        "filename": "ios/chrome/browser/tabs/tab.mm",
        "patchSetId": 3
      },
      "lineNbr": 510,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T18:54:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63b114c1_fc3bee82",
      "range": {
        "startLine": 510,
        "startChar": 26,
        "endLine": 510,
        "endChar": 45
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3cc6267_a3e3b568",
        "filename": "ios/chrome/browser/tabs/tab.mm",
        "patchSetId": 3
      },
      "lineNbr": 522,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-21T23:23:44Z",
      "side": 1,
      "message": "Why do we need to move _suggestionController and _inputAccessoryViewController?",
      "range": {
        "startLine": 522,
        "startChar": 2,
        "endLine": 522,
        "endChar": 23
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f93ebe55_7a205f3b",
        "filename": "ios/chrome/browser/tabs/tab.mm",
        "patchSetId": 3
      },
      "lineNbr": 522,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-21T23:26:05Z",
      "side": 1,
      "message": "[self suggestionProviders] and [self accessoryViewProviders] get providers from password controller.",
      "parentUuid": "f3cc6267_a3e3b568",
      "range": {
        "startLine": 522,
        "startChar": 2,
        "endLine": 522,
        "endChar": 23
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec223ba4_0e68f10d",
        "filename": "ios/chrome/browser/tabs/tab.mm",
        "patchSetId": 3
      },
      "lineNbr": 522,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-21T23:27:58Z",
      "side": 1,
      "message": "Right! Got it.",
      "parentUuid": "f93ebe55_7a205f3b",
      "range": {
        "startLine": 522,
        "startChar": 2,
        "endLine": 522,
        "endChar": 23
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f724386_288b8a97",
        "filename": "ios/chrome/browser/tabs/tab.mm",
        "patchSetId": 3
      },
      "lineNbr": 522,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T18:54:13Z",
      "side": 1,
      "message": "Resolving",
      "parentUuid": "ec223ba4_0e68f10d",
      "range": {
        "startLine": 522,
        "startChar": 2,
        "endLine": 522,
        "endChar": 23
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd894b5a_c325d0bf",
        "filename": "ios/chrome/browser/ui/commands/application_commands.h",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "6 out of 12 methods in this protocol are related to settings. How about creating a separate protocol just to handle settings? At this point ApplicationCommands is quite big and we should probably stop growing it.",
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94b71f46_bce038a4",
        "filename": "ios/chrome/browser/ui/commands/application_commands.h",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T18:54:13Z",
      "side": 1,
      "message": "The agreed upon design/refactoring plan for removing IDC Command was to group all commands implemented in MainController under ApplicationCommands, and all commands under BVC as BrowserCommands. Making multiple protocols would add complexity at various levels of the codebase, including adding protocols that MainController/BVC must implement, whenever the dispatcher is referenced, setting up proper command forwarding, etc.",
      "parentUuid": "cd894b5a_c325d0bf",
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66de673c_2b0299a5",
        "filename": "ios/chrome/browser/ui/commands/application_commands.h",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T20:44:37Z",
      "side": 1,
      "message": "I would argue that following Single Responsibility principle removes the complexity at various levels of the codebase. If there could be a dispatcher which is responsible only for \"settings command\", then we should not make another dispatcher responsible for handling settings in addition to many other things.\n\nThe code in this header already deviates from \"agreed design plan\", because of ApplicationSettingsCommands protocol, so seems like further deviations should not be an issue. \n\nMaking MainController/BVC  conform to 2 protocols instead of 1 does not add any additional complexity. Can you think about any other examples why moving Settings Commands to a separate protocol would be bad.",
      "parentUuid": "94b71f46_bce038a4",
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a2c3835_a295fc1f",
        "filename": "ios/chrome/browser/ui/commands/application_commands.h",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T21:06:21Z",
      "side": 1,
      "message": "We resolved offline.",
      "parentUuid": "66de673c_2b0299a5",
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a94af722_0b5f016e",
        "filename": "ios/chrome/browser/ui/commands/application_commands.h",
        "patchSetId": 3
      },
      "lineNbr": 67,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-08-22T01:16:30Z",
      "side": 1,
      "message": "nit: \"Shows the Save Passwords Settings UI\"?",
      "range": {
        "startLine": 67,
        "startChar": 3,
        "endLine": 67,
        "endChar": 36
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "911f8f75_356d9783",
        "filename": "ios/chrome/browser/ui/commands/application_commands.h",
        "patchSetId": 3
      },
      "lineNbr": 67,
      "author": {
        "id": 1191445
      },
      "writtenOn": "2017-08-22T18:54:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a94af722_0b5f016e",
      "range": {
        "startLine": 67,
        "startChar": 3,
        "endLine": 67,
        "endChar": 36
      },
      "revId": "5a3fd9e32cbd785ca6e2d392a5924e9520ea7400",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}