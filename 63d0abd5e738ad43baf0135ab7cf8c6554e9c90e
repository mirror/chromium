{
  "comments": [
    {
      "key": {
        "uuid": "305adacd_3f3b12ab",
        "filename": "chrome/browser/chromeos/power/ml/user_activity_logger_delegate_ukm.h",
        "patchSetId": 10
      },
      "lineNbr": 39,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-01-05T23:15:13Z",
      "side": 1,
      "message": "i\u0027m still concerned that this will be confusing. the member is named \"is_active\", but it appears (per this comment) to actually contain \"is the tab active in a visible browser\". the second sentence confuses me more by talking about whether the browser is at the forefront or not (why does stacking order matter?).\n\ni\u0027d prefer it if you instead just used this \"is_active\" member in concordance with how \"active\" is typically used: this is true if the tab is the currently-selected tab within its window. in other words, each browser window will have exactly one tab with is_active\u003dtrue, regardless of whether the browser is visible, focused, at the forefront, etc.\n\nyou already have other members for is_browser_focused and is_browser_visible, so i don\u0027t understand why it\u0027s necessary to integrate any other information about the tab\u0027s browser into the is_active member.",
      "revId": "63d0abd5e738ad43baf0135ab7cf8c6554e9c90e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b8b447f_370532e7",
        "filename": "chrome/browser/chromeos/power/ml/user_activity_logger_delegate_ukm.h",
        "patchSetId": 10
      },
      "lineNbr": 39,
      "author": {
        "id": 1215104
      },
      "writtenOn": "2018-01-07T22:01:19Z",
      "side": 1,
      "message": "Each browser indeed has 1 active tab (as indicated by the active index), but in order for a tab\u0027s is_active\u003dtrue, this tab also needs to be in a browser that is (1). not minimized (i.e. visible) and (2). the last active one (in the impl, I looped through all browsers from the last active). \n\nThe reason I put \"forefront\" here is because there could be 2 browsers A and B, and A is in front of B and completely (or partially) covers B. From my discussion with Micheal I understand both A and B are visible. However, the active tab in A is more important. In the general case, I think the browsers at the forefront are likely to be the last active ones.\n\nBy the way, in the case of above example with A and B browsers, it is possible that neither of them is focused, e.g. there is an app that\u0027s in focus. \n\nIf it make things clearer, I could add another browser property e.g. is_browser_at_front, which is true if browser is the last active one that is visible, and this should be the browser at the forefront. We can then make is_active to be a tab property, meaning whether the tab is selected in its browser. What do you think?",
      "parentUuid": "305adacd_3f3b12ab",
      "revId": "63d0abd5e738ad43baf0135ab7cf8c6554e9c90e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cafc71c2_bca86c5f",
        "filename": "chrome/browser/chromeos/power/ml/user_activity_logger_delegate_ukm.h",
        "patchSetId": 10
      },
      "lineNbr": 39,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-01-08T00:29:14Z",
      "side": 1,
      "message": "i understand that you\u0027re interested in being able to distinguish whether a given active tab is likely to be \"in the forefront\", but i still don\u0027t understand why that wouldn\u0027t already be possible to figure out by checking is_active \u0026\u0026 is_browser_focused (given a tab-property version of is_active). will the system that\u0027s consuming these logs be able to infer correlations like that?",
      "parentUuid": "8b8b447f_370532e7",
      "revId": "63d0abd5e738ad43baf0135ab7cf8c6554e9c90e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dff1adf7_8783e266",
        "filename": "chrome/browser/chromeos/power/ml/user_activity_logger_delegate_ukm.h",
        "patchSetId": 10
      },
      "lineNbr": 39,
      "author": {
        "id": 1215104
      },
      "writtenOn": "2018-01-08T00:45:02Z",
      "side": 1,
      "message": "We wouldn\u0027t be able to infer which tab is at the front from \"is_active\" and \"is_browser_focused\" alone. The reason is there may be an app that\u0027s in focus, and then all \"is_browser_focused\" will be false. However, in this case, we\u0027re still interested in finding out which tab is at the front among all the tabs in the browsers. We do have plan to log apps separately in the future, but for now, we\u0027d like to understand the most \"important\"/\"active\" tabs.",
      "parentUuid": "cafc71c2_bca86c5f",
      "revId": "63d0abd5e738ad43baf0135ab7cf8c6554e9c90e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38edd637_84625377",
        "filename": "chrome/browser/chromeos/power/ml/user_activity_logger_delegate_ukm.h",
        "patchSetId": 10
      },
      "lineNbr": 39,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-01-08T14:51:22Z",
      "side": 1,
      "message": "thanks for the explanation! could you add an additional field like is_topmost_browser, in that case?\n\ni\u0027d like to avoid combining multiple concepts into individual fields if at all possible, since doing so both limits flexibility in the future and also often results in imprecise names that don\u0027t fully describe all of what\u0027s being represented.",
      "parentUuid": "dff1adf7_8783e266",
      "revId": "63d0abd5e738ad43baf0135ab7cf8c6554e9c90e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}