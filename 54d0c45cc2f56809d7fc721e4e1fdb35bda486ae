{
  "comments": [
    {
      "key": {
        "uuid": "3ce20650_4b35d028",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2155,
      "author": {
        "id": 1003330
      },
      "writtenOn": "2017-11-22T00:12:13Z",
      "side": 1,
      "message": "It is a little bit scary, since GraphicsLayer use this to adjust visual rects of converted display items. Will need to verify the visual rects are still correct in both SPv1 and SPv175.",
      "revId": "54d0c45cc2f56809d7fc721e4e1fdb35bda486ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dee695c_5cf4eaab",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2155,
      "author": {
        "id": 1002481
      },
      "writtenOn": "2017-11-22T00:37:33Z",
      "side": 1,
      "message": "There are a lot of layout tests testing scrollbars in various configurations. All layout tests passed for SPv1 and there are no regressions for SPv175 with this CL. Anyway I will look into the details of visual rect change.",
      "parentUuid": "3ce20650_4b35d028",
      "revId": "54d0c45cc2f56809d7fc721e4e1fdb35bda486ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8758e2ec_6c099031",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2155,
      "author": {
        "id": 1003330
      },
      "writtenOn": "2017-11-22T00:55:07Z",
      "side": 1,
      "message": "cc::PainterScrollbarLayer probably used a different code path than regular cc::PictureLayer, maybe RTree culling is not done there (thus insensitive to visual rect).\n\nI think the visual rect of cc drawing display items are very likely changed by this CL, but I\u0027m not sure whether it is more correct before or after. Thanks for investigating and please let me know what you found!",
      "parentUuid": "0dee695c_5cf4eaab",
      "revId": "54d0c45cc2f56809d7fc721e4e1fdb35bda486ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03de3d34_89d4b91f",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2155,
      "author": {
        "id": 1002481
      },
      "writtenOn": "2017-11-22T05:01:28Z",
      "side": 1,
      "message": "After some investigation, I think the new visual rect is correct.\n\nFor SPv1, the final cc visual rect is unchanged, because it\u0027s added by the offset in GraphicsLayer::VisualRect(), then in DrawingDisplayItem::AppendToWebDisplayItemList() the same offset is subtracted, so the final visual rect of a GraphicsLayer is still (0,0, size).\n\nFor SPv175+, a scrollbar layer\u0027s VisualRect is correct to be in layer state (which is the local border box state of the containing box) coordinates.",
      "parentUuid": "8758e2ec_6c099031",
      "revId": "54d0c45cc2f56809d7fc721e4e1fdb35bda486ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}