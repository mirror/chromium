{
  "comments": [
    {
      "key": {
        "uuid": "91b3bfc3_35e60704",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-05T22:17:09Z",
      "side": 1,
      "message": "Can we move this file to ios/web/system_cookie_store_util.mm to mirror the header location?",
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db0f5108_fe824061",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1148823
      },
      "writtenOn": "2017-12-06T21:10:10Z",
      "side": 1,
      "message": "As per discussion, this shouldn\u0027t make a big difference as it doesn\u0027t introduce any harm.\nAlso if i move this to root directory i\u0027ll have to add ios/net dependency in the BUILD file (right now ios/net dependency is only used in ios/web/net/)",
      "parentUuid": "91b3bfc3_35e60704",
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b95b4f44_d9c7643d",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-05T22:17:09Z",
      "side": 1,
      "message": "s/base::MakeUnique/std::make_unique\n\nand no need for base/memory/ptr_util.h include",
      "range": {
        "startLine": 29,
        "startChar": 19,
        "endLine": 29,
        "endChar": 29
      },
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c177c966_9747602a",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1148823
      },
      "writtenOn": "2017-12-06T21:10:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b95b4f44_d9c7643d",
      "range": {
        "startLine": 29,
        "startChar": 19,
        "endLine": 29,
        "endChar": 29
      },
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62010705_399c2299",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-05T22:17:09Z",
      "side": 1,
      "message": "This will return main cookie store for Incognito, which may lead to privacy bugs.",
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b492b640_d89d801c",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1148823
      },
      "writtenOn": "2017-12-06T21:10:10Z",
      "side": 1,
      "message": "Right now we use NSHTTPSystemCookieStorage for everything. As it seems that persistentCookieStore is readonly (from nshttpcookiestore) this doesn\u0027t affect the privacy. I\u0027ll update that if needed when i remove the persistentcookiestore",
      "parentUuid": "62010705_399c2299",
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76399bde_4ffaee71",
        "filename": "ios/web/net/cookies/system_cookie_store_util.mm",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-07T15:29:22Z",
      "side": 1,
      "message": "It\u0027s unclear to me why this new API should leak cookie from the regular browsing session to Incognito. How embedder knows that it\u0027s ok to send cookie for Incognito on iOS 11 and *not ok* to send cookie for Incognito on iOS 10?",
      "parentUuid": "b492b640_d89d801c",
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5743117_46730123",
        "filename": "ios/web/net/cookies/system_cookie_store_util_unittest.mm",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-05T22:17:09Z",
      "side": 1,
      "message": "From Unit testing best practices: \"Test code using real APIs - donâ€™t define back doors only for tests.\" http://go/unit-test-practices#public-apis\n\nWith that how about testing that cookies are piped from net::SystemCookieStore to net::SystemCookieStore on iOS 11 and NSHTTPSystemCookieStorage on iOS 10? Can we also have tests for Off The Records cookie storage?",
      "range": {
        "startLine": 33,
        "startChar": 18,
        "endLine": 33,
        "endChar": 41
      },
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3450546d_347c818d",
        "filename": "ios/web/net/cookies/system_cookie_store_util_unittest.mm",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1148823
      },
      "writtenOn": "2017-12-06T21:10:10Z",
      "side": 1,
      "message": "based on our offline discussion, i\u0027ll use enum instead of strings. as the need for defining the class type function exist outside of this unit test.",
      "parentUuid": "a5743117_46730123",
      "range": {
        "startLine": 33,
        "startChar": 18,
        "endLine": 33,
        "endChar": 41
      },
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a5354e1_50722fc1",
        "filename": "ios/web/public/system_cookie_store_util.h",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-12-05T22:17:09Z",
      "side": 1,
      "message": "This (NSHTTPSystemCookieStore) is private implementation details and callers should not be concerns about specific instances. How about explaining the functional difference between iOS 11 and 10. F.e. on iOS 10 the cookie are not up to date? Also it would be useful to explain the difference for Off The Record browser state.",
      "range": {
        "startLine": 19,
        "startChar": 24,
        "endLine": 19,
        "endChar": 47
      },
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc24bc1f_75019e65",
        "filename": "ios/web/public/system_cookie_store_util.h",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1148823
      },
      "writtenOn": "2017-12-06T21:10:10Z",
      "side": 1,
      "message": "I agree with not mentioning the type of the cookie store in details here, on the same time i think we shouldn\u0027t also tell the difference between both iOSes - instead this can be a comment on the implementation part.\nSo i added comment on the implementation to explain the difference.",
      "parentUuid": "2a5354e1_50722fc1",
      "range": {
        "startLine": 19,
        "startChar": 24,
        "endLine": 19,
        "endChar": 47
      },
      "revId": "5c6e816cdfe311f2219cdd2bd345fd5c723462a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}