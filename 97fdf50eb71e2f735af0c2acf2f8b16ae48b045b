{
  "comments": [
    {
      "key": {
        "uuid": "e7d4370a_cd7f9f2b",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 882,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T14:48:33Z",
      "side": 1,
      "message": "I\u0027m not entirely sure that pushing these tasks to front is what we want - it means that upon exiting nested message loop all non-nestable tasks get to run immediately.\n\nI believe that adding them to the end of the queue is more consistent with what we\u0027ve been doing.",
      "range": {
        "startLine": 882,
        "startChar": 43,
        "endLine": 882,
        "endChar": 52
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a07225b_fc137149",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 882,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-11T16:11:29Z",
      "side": 1,
      "message": "Currently we effectively are posting them on the front because they get posted to mesaageloop and doing what you suggest is a change of behaviour.  Maybe it\u0027s OK to do that?",
      "parentUuid": "e7d4370a_cd7f9f2b",
      "range": {
        "startLine": 882,
        "startChar": 43,
        "endLine": 882,
        "endChar": 52
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15f4d8f8_78e20444",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 882,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-12T11:20:56Z",
      "side": 1,
      "message": "Turns out it isn\u0027t safe to push them on the back, because that breaks breaks the strict monotonically increasing enqueue order within the WorkQueue.\nAttempts to fix that by assigning a new enqueue order fail due to fences with bad side-effects e.g. the IdleHelper stops working.",
      "parentUuid": "1a07225b_fc137149",
      "range": {
        "startLine": 882,
        "startChar": 43,
        "endLine": 882,
        "endChar": 52
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed96602e_cd936fdd",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_impl.h",
        "patchSetId": 2
      },
      "lineNbr": 234,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T14:48:33Z",
      "side": 1,
      "message": "It seems that \"nestable\" is the preferred spelling.",
      "range": {
        "startLine": 234,
        "startChar": 22,
        "endLine": 234,
        "endChar": 30
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f5c8ea5_cc2411d1",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_impl.h",
        "patchSetId": 2
      },
      "lineNbr": 234,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-11T16:11:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed96602e_cd936fdd",
      "range": {
        "startLine": 234,
        "startChar": 22,
        "endLine": 234,
        "endChar": 30
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d2d7dbf1_37d6da7d",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 196,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T14:48:33Z",
      "side": 1,
      "message": "nit: non_nestable_task",
      "range": {
        "startLine": 196,
        "startChar": 21,
        "endLine": 196,
        "endChar": 38
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e45ff575_34cd9e2d",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 196,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-11T16:11:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d2d7dbf1_37d6da7d",
      "range": {
        "startLine": 196,
        "startChar": 21,
        "endLine": 196,
        "endChar": 38
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84f18011_63c4568f",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T14:48:33Z",
      "side": 1,
      "message": "Note that if you\u0027re doing PushFront here that means that the order of tasks gets reverted (the last one from non_nestable_task_queue becomes first after calling PushFront).\n\nCould we add a test checking that the order stays the same?",
      "range": {
        "startLine": 198,
        "startChar": 34,
        "endLine": 198,
        "endChar": 61
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19c6fde9_e28a25bf",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-11T16:11:29Z",
      "side": 1,
      "message": "Ack.  I\u0027ve improved the existing test to detect this.",
      "parentUuid": "84f18011_63c4568f",
      "range": {
        "startLine": 198,
        "startChar": 34,
        "endLine": 198,
        "endChar": 61
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2dbea2bc_c596b760",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 491,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T14:48:33Z",
      "side": 1,
      "message": "Should this be kDelayed? Also nit: we could use the comparison directly in the deferred_task constructor instead saving it into temp variable.",
      "range": {
        "startLine": 491,
        "startChar": 68,
        "endLine": 491,
        "endChar": 78
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cf5f939_6d3005b6",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 491,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-11T16:11:29Z",
      "side": 1,
      "message": "Hmm good point it should be kDelayed.  I like the idea of it being in the constructor but we can\u0027t #include work_queue.h from task_queue_manager.h without a bunch of work.",
      "parentUuid": "2dbea2bc_c596b760",
      "range": {
        "startLine": 491,
        "startChar": 68,
        "endLine": 491,
        "endChar": 78
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5b62cff_8c7fc646",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_manager.cc",
        "patchSetId": 2
      },
      "lineNbr": 491,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T16:46:45Z",
      "side": 1,
      "message": "We could move QueueType to a separate header if you\u0027re keen :)",
      "parentUuid": "9cf5f939_6d3005b6",
      "range": {
        "startLine": 491,
        "startChar": 68,
        "endLine": 491,
        "endChar": 78
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74081687_d863661d",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_selector.cc",
        "patchSetId": 2
      },
      "lineNbr": 276,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2017-12-11T14:48:33Z",
      "side": 1,
      "message": "Is there any reason to stop using GetQueuePriority?",
      "range": {
        "startLine": 276,
        "startChar": 35,
        "endLine": 276,
        "endChar": 49
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d77dd849_6667e263",
        "filename": "third_party/WebKit/Source/platform/scheduler/base/task_queue_selector.cc",
        "patchSetId": 2
      },
      "lineNbr": 276,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-12-11T16:11:29Z",
      "side": 1,
      "message": "Yes I\u0027ve added a comment to explain.",
      "parentUuid": "74081687_d863661d",
      "range": {
        "startLine": 276,
        "startChar": 35,
        "endLine": 276,
        "endChar": 49
      },
      "revId": "97fdf50eb71e2f735af0c2acf2f8b16ae48b045b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}