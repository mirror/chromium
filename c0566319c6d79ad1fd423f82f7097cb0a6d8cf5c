{
  "comments": [
    {
      "key": {
        "uuid": "5eceb65e_b4068222",
        "filename": "components/update_client/android/java/src/org/chromium/components/update_client/ApkUtils.java",
        "patchSetId": 14
      },
      "lineNbr": 36,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "It looks like we can\u0027t rely on asserts happening in production:\n\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html#enable-disable\n\nSo it might be better to do\n\n  if (certChains.length \u003d\u003d 0) {\n      throw new SignatureNotFoundException();\n  }\n\nif we are relying on this for production correctness/safety. But if we\u0027re just checking that `ApkSignatureSchemeV2Verifier.verify` is behaving correctly, it might be enough to just check there.",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44caa793_9e7a4e5c",
        "filename": "components/update_client/android/java/src/org/chromium/components/update_client/ApkUtils.java",
        "patchSetId": 14
      },
      "lineNbr": 36,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "Suggestion taken. The condition should be impossible, so if we ever encounter this, it\u0027s a clear sign of a bug. Sounds like a perfect use of assert. Then again, ApkSignatureSchemeV2Verifier is complicated, and such a bug is imaginable. It\u0027s also conceivable that the API might change and not always guarantee a certificate in the chain. Might as well be robust.",
      "parentUuid": "5eceb65e_b4068222",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "29788e84_e27c70a0",
        "filename": "components/update_client/android/java/src/org/chromium/components/update_client/ApkUtils.java",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "Same here",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fefabd2_371fc617",
        "filename": "components/update_client/android/java/src/org/chromium/components/update_client/ApkUtils.java",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "29788e84_e27c70a0",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59b25876_03b300ba",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 398,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "Couldn\u0027t 398 – 403 just be\n\n  int[] digestAlgorithms \u003d expectedDigests.keySet().toArray();\n\n?",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fab0ba62_31074f01",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 398,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "Doesn\u0027t compile—expectedDigests.keySet() contains Integers, not ints. The loop is needed to unbox.",
      "parentUuid": "59b25876_03b300ba",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82b6b291_6302b5cd",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 466,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "Why wrap a specific type inside a less-specific type?\n\nI would just declare that this method throws GeneralSecurityException and let it throw the NSAE in this case.",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a6b18ed_0e3a8636",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 466,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82b6b291_6302b5cd",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6f4a437_dfa68b06",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 498,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "java.security.DigestException (a subclass of GSE) would be more informative/specific here.",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ddb2670_e6517912",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 498,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6f4a437_dfa68b06",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc09ec59_133104e0",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 518,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "A more specific exception type is better. If you declare this method to throw GSE generally, and not just DigestException specifically, you don\u0027t need to \u0027smuggle\u0027 these inside RuntimeException to avoid declaring them.",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28c0e46b_ae467d77",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 518,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dc09ec59_133104e0",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77fa726e_fd526933",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 638,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "Why not Integer.toHexString ? (And below)",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "795468f4_6e6d2096",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 638,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "I have no idea why the mask. Long.toHexString returns different output for negative numbers, but seems useless here. I\u0027ll change it.",
      "parentUuid": "77fa726e_fd526933",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37b41e99_2030a48c",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 1061,
      "author": {
        "id": 1001040
      },
      "writtenOn": "2017-10-11T19:49:01Z",
      "side": 1,
      "message": "What\u0027s the purpose of this class? Couldn\u0027t VerbatimX509Certificate directly extend X509Certificate?",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7c81c6c_a1e1c373",
        "filename": "third_party/android_apk_signature_verifier/java/src/org/chromium/third_party/android/util/apk/ApkSignatureSchemeV2Verifier.java",
        "patchSetId": 14
      },
      "lineNbr": 1061,
      "author": {
        "id": 1174129
      },
      "writtenOn": "2017-10-24T12:05:56Z",
      "side": 1,
      "message": "In my opinion, it aids readability by grouping the delegation methods in one place, and isolating the more interesting behavior in another. I\u0027ll add an explanatory comment to this class.",
      "parentUuid": "37b41e99_2030a48c",
      "revId": "c0566319c6d79ad1fd423f82f7097cb0a6d8cf5c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}