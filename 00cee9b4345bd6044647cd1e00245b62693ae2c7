{
  "comments": [
    {
      "key": {
        "uuid": "10edcb23_eb957b77",
        "filename": "chrome/browser/resources/settings/android_apps_page/android_apps_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2018-02-06T21:54:45Z",
      "side": 1,
      "message": "Can you register an observer for androidAppsInfo.playStoreEnabled directly instead?",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 60,
        "endChar": 42
      },
      "revId": "00cee9b4345bd6044647cd1e00245b62693ae2c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "351da259_198ca2f1",
        "filename": "chrome/browser/resources/settings/android_apps_page/android_apps_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1136695
      },
      "writtenOn": "2018-02-06T21:56:17Z",
      "side": 1,
      "message": "Who can guaranty it is called once? androidAppsInfo is called from cc code. Modifying it would lead to big refactoring.",
      "parentUuid": "10edcb23_eb957b77",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 60,
        "endChar": 42
      },
      "revId": "00cee9b4345bd6044647cd1e00245b62693ae2c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68df0516_11793db7",
        "filename": "chrome/browser/resources/settings/android_apps_page/android_apps_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2018-02-06T22:14:17Z",
      "side": 1,
      "message": "This is kind of hard to follow. How about:\n\ncurrentRouteChanged: function() {\n  if (settings.getCurrentRoute() \u003d\u003d settings.routes.ANDROID_APPS_DETAILS)\n    this.wasPlayStoreEnabled_ \u003d this.androidAppsInfo.playStoreEnabled;\n}\n\nonAndroidAppsInfoUpdate_: function() {\n  if (settings.getCurrentRoute() \u003d\u003d settings.routes.ANDROID_APPS_DETAILS) {\n    if (this.wasPlayStoreEnabled_ \u0026\u0026 !this.androidAppsInfo.playStoreEnabled)\n      settings.navigateToPreviousRoute();\n  }\n}",
      "parentUuid": "351da259_198ca2f1",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 60,
        "endChar": 42
      },
      "revId": "00cee9b4345bd6044647cd1e00245b62693ae2c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6963e935_65032068",
        "filename": "chrome/browser/resources/settings/android_apps_page/android_apps_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1136695
      },
      "writtenOn": "2018-02-06T22:49:34Z",
      "side": 1,
      "message": "That is nicer. However I still need manually reset \nthis.wasPlayStoreEnabled_ \u003d false; on navigation.\ncurrentRouteChanged is called async anyway.",
      "parentUuid": "68df0516_11793db7",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 60,
        "endChar": 42
      },
      "revId": "00cee9b4345bd6044647cd1e00245b62693ae2c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6943a923_c7354777",
        "filename": "chrome/browser/resources/settings/android_apps_page/android_apps_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2018-02-06T22:56:51Z",
      "side": 1,
      "message": "I think your latest proposal is easier to understand. Having said that, I\u0027d still take a look at  https://www.polymer-project.org/1.0/docs/devguide/observers#change-callbacks?\n\nThese observers only fire when the value changes. Maybe you could also do something as follows?\n\n// Inside |propperties|\nplayStoreEnabled: {\n  type: Boolean,\n  computed: \u0027computePlayStoreEnabled_(androidAppsInfo.playStoreEnabled)\u0027,\n  observer: \u0027onPlayStoreEnabledChanged_\u0027,\n},\n\n...\ncomputePlayStoreEnabled_: function() {\n  return androidAppsInfo.playStoreEnabled;\n},\n\nonPlayStoreEnabledChanged_: function(current, previous) {\n  // use current and previous to achieve desired logic.\n  ...\n},",
      "parentUuid": "68df0516_11793db7",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 60,
        "endChar": 42
      },
      "revId": "00cee9b4345bd6044647cd1e00245b62693ae2c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03f8e44d_0a886e45",
        "filename": "chrome/browser/resources/settings/android_apps_page/android_apps_subpage.js",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1136695
      },
      "writtenOn": "2018-02-06T23:42:48Z",
      "side": 1,
      "message": "Thanks for the idea. Using computed might be cleaner.\n\nSteven, do you have any preference?\nYou may compare PS5,6",
      "parentUuid": "6943a923_c7354777",
      "range": {
        "startLine": 51,
        "startChar": 4,
        "endLine": 60,
        "endChar": 42
      },
      "revId": "00cee9b4345bd6044647cd1e00245b62693ae2c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}