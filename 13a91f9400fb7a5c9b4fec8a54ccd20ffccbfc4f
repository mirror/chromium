{
  "comments": [
    {
      "key": {
        "uuid": "aa11e0f1_5e895ac7",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.cc",
        "patchSetId": 7
      },
      "lineNbr": 367,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-11T19:14:13Z",
      "side": 1,
      "message": "For symmetry please override RemovedFromWidget and remove observer. I don\u0027t think in practice we remove this class from the view hierarchy, but it\u0027s one of those subtle things that if changed would break code like this.",
      "range": {
        "startLine": 367,
        "startChar": 2,
        "endLine": 367,
        "endChar": 52
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d8fd5ab_3c7ce4fb",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.cc",
        "patchSetId": 7
      },
      "lineNbr": 367,
      "author": {
        "id": 1103654
      },
      "writtenOn": "2017-08-11T20:15:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aa11e0f1_5e895ac7",
      "range": {
        "startLine": 367,
        "startChar": 2,
        "endLine": 367,
        "endChar": 52
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fadcb810_e8e11dc3",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.cc",
        "patchSetId": 7
      },
      "lineNbr": 1116,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-08-11T17:21:40Z",
      "side": 1,
      "message": "Compositing is guaranteed to happen after OnPaint()?  Can you confirm there is _no_ possible way to skip compositing?  (e.g., OnPaint() ended up drawing the same thing and the compositing result is cached.  Or could they possibly happen out of order?  Is it possible to skip Paint and only do compositing?)\n\nForgive the naive questions; this is not an area I\u0027m familiar with.",
      "range": {
        "startLine": 1116,
        "startChar": 65,
        "endLine": 1116,
        "endChar": 0
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fe2b611_c84b0e42",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.cc",
        "patchSetId": 7
      },
      "lineNbr": 1116,
      "author": {
        "id": 1103654
      },
      "writtenOn": "2017-08-11T17:24:59Z",
      "side": 1,
      "message": "That\u0027s a good question. Adding fsamuel@ to confirm.",
      "parentUuid": "fadcb810_e8e11dc3",
      "range": {
        "startLine": 1116,
        "startChar": 65,
        "endLine": 1116,
        "endChar": 0
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cb1b98e_c36b2769",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.cc",
        "patchSetId": 7
      },
      "lineNbr": 1116,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-11T23:05:48Z",
      "side": 1,
      "message": "It is definitely possible that compositing happens without this OnPaint being called (e.g. if another element/view causes invalidation).\nIt is also possible, although rare that OnPaint would be called but compositing doesn\u0027t happen. 2 main cases that I can think of are that the invalidation region is obscured (e.g. another window on top), or that there is a failure in the latter part of the pipeline - e.g. GPU process crash.\nLastly, it is definitely possible that OnCompositingEnded for one frame happens after the OnPaint for the next frame.\n\nIf you want to accurately track the commits and compositing, you should advance your latency state machine through observing the full pipeline with OnPaint -\u003e OnCompositingDidCommit -\u003e OnCompositingStarted -\u003e OnCompositingEnded (though keeping in mind that any of these may not happen).",
      "parentUuid": "0fe2b611_c84b0e42",
      "range": {
        "startLine": 1116,
        "startChar": 65,
        "endLine": 1116,
        "endChar": 0
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f00cb6f_642e9887",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.cc",
        "patchSetId": 7
      },
      "lineNbr": 1116,
      "author": {
        "id": 1103654
      },
      "writtenOn": "2017-08-14T19:34:18Z",
      "side": 1,
      "message": "Thanks! Per offline discussion, added the extra state tracking to observe and drop cases where we get two OnCompositingDidCommit events in a row, which would happen in case of occlusion where compositing doesn\u0027t get done.",
      "parentUuid": "1cb1b98e_c36b2769",
      "range": {
        "startLine": 1116,
        "startChar": 65,
        "endLine": 1116,
        "endChar": 0
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b53a0508_34a7fb37",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.h",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-08-11T19:14:13Z",
      "side": 1,
      "message": "Don\u0027t inline virtual functions like this ( https://chromium.googlesource.com/chromium/src/+/master/styleguide/c++/c++.md#Inline-functions ).",
      "range": {
        "startLine": 212,
        "startChar": 9,
        "endLine": 212,
        "endChar": 29
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6893f0b0_c122fd88",
        "filename": "chrome/browser/ui/views/omnibox/omnibox_view_views.h",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1103654
      },
      "writtenOn": "2017-08-11T20:15:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b53a0508_34a7fb37",
      "range": {
        "startLine": 212,
        "startChar": 9,
        "endLine": 212,
        "endChar": 29
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "38a3a2d5_1ed3c4ae",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 49781,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-08-11T17:21:40Z",
      "side": 1,
      "message": "Please mention somewhere the caveat about multiple keystrokes.",
      "range": {
        "startLine": 49781,
        "startChar": 46,
        "endLine": 49781,
        "endChar": 0
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce5fe785_3a31dd8d",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 49781,
      "author": {
        "id": 1103654
      },
      "writtenOn": "2017-08-11T20:15:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "38a3a2d5_1ed3c4ae",
      "range": {
        "startLine": 49781,
        "startChar": 46,
        "endLine": 49781,
        "endChar": 0
      },
      "revId": "13a91f9400fb7a5c9b4fec8a54ccd20ffccbfc4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}