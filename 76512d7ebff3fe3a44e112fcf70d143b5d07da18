{
  "comments": [
    {
      "key": {
        "uuid": "58a7e661_154caad4",
        "filename": "ios/clean/chrome/browser/ui/history_popup/history_popup_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "Is this being used?",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 30
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "677fba06_843739ef",
        "filename": "ios/clean/chrome/browser/ui/history_popup/history_popup_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "Not anymore, good catch",
      "parentUuid": "58a7e661_154caad4",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 30
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fcb361a3_c6cd11cb",
        "filename": "ios/clean/chrome/browser/ui/history_popup/history_popup_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "I\u0027ve not seen this technique before. Can you elaborate on what is happening? Specific questions are: why is __block needed here?, why can\u0027t you just call [self.tabHPC dismiss..]?",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1408adb7_dc98067c",
        "filename": "ios/clean/chrome/browser/ui/history_popup/history_popup_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "This is copied from the old dismissal code, I\u0027m not exactly sure if there any caveats or reasons they were dismissing this way. But as long as we use the old box I wouldn\u0027t like to to introduce any possible bugs/issues by changing the way is dismissed. \n\nOn the other hand I think we could make this cleaner the way you propose, I guess is a matter of making the change right now, or as part of the box refactoring. I\u0027d rather the latter. WDYT?",
      "parentUuid": "fcb361a3_c6cd11cb",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19eb775a_595e1e03",
        "filename": "ios/clean/chrome/browser/ui/history_popup/history_popup_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T18:44:24Z",
      "side": 1,
      "message": "Since this is in clean, the risk of introducing a bug is not as high as in legacy code. Let\u0027s make the change. Can you add a unit test for stop?",
      "parentUuid": "1408adb7_dc98067c",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9962ea74_c2940570",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_button.h",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "appearance. highlightedImage.",
      "range": {
        "startLine": 27,
        "startChar": 22,
        "endLine": 27,
        "endChar": 66
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba9373c1_10f2423c",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_button.h",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9962ea74_c2940570",
      "range": {
        "startLine": 27,
        "startChar": 22,
        "endLine": 27,
        "endChar": 66
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00d92dd4_82e33b72",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_button.mm",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "Normally, you would set the normal, selected, and highlighted state images and simply control the button\u0027s properties: button.selected \u003d YES, button.highlighted \u003d YES. \nWould this work for your use case?",
      "range": {
        "startLine": 56,
        "startChar": 2,
        "endLine": 62,
        "endChar": 3
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50d52278_ae7385a9",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_button.mm",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "Just tried this. The problem is that after the long press is done the button automatically goes back to Normal state and self.highlighted is set to NO, so it doesn\u0027t stay highlighted",
      "parentUuid": "00d92dd4_82e33b72",
      "range": {
        "startLine": 56,
        "startChar": 2,
        "endLine": 62,
        "endChar": 3
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecba15af_5e262e07",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 133,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "Remove the extra \u0027s\u0027.",
      "range": {
        "startLine": 133,
        "startChar": 15,
        "endLine": 133,
        "endChar": 36
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1822b7b3_5ee3f1d3",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 133,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ecba15af_5e262e07",
      "range": {
        "startLine": 133,
        "startChar": 15,
        "endLine": 133,
        "endChar": 36
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d887164_5d8199ea",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "What is the codepath for when the user taps outside the popup? (Just checking where the coordinator is stopped).",
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2bf89fc_493662f5",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "That is done via the PopupMenuDelegate which the HistoryPopupCoordinator conforms to. - (void)dismissPopupMenu:(PopupMenuController*)controller is the method that gets called when the user taps outside the popup",
      "parentUuid": "8d887164_5d8199ea",
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58b1bd3c_72558b1e",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_coordinator.mm",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T18:44:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d2bf89fc_493662f5",
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd69f391_dad436ff",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_view_controller.mm",
        "patchSetId": 2
      },
      "lineNbr": 433,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "appearance.",
      "range": {
        "startLine": 433,
        "startChar": 23,
        "endLine": 433,
        "endChar": 34
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b0afe58_585b826a",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_view_controller.mm",
        "patchSetId": 2
      },
      "lineNbr": 433,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd69f391_dad436ff",
      "range": {
        "startLine": 433,
        "startChar": 23,
        "endLine": 433,
        "endChar": 34
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99db1c23_45e9e841",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_view_controller.mm",
        "patchSetId": 2
      },
      "lineNbr": 444,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T16:42:18Z",
      "side": 1,
      "message": "Is -prepareForTabHistoryPresentation necessary? In the legacy code, it dismisses the keyboard and cancels the omnibox edit.",
      "range": {
        "startLine": 444,
        "startChar": 15,
        "endLine": 444,
        "endChar": 37
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a99f574_2cd02583",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_view_controller.mm",
        "patchSetId": 2
      },
      "lineNbr": 444,
      "author": {
        "id": 1165759
      },
      "writtenOn": "2017-08-24T17:56:43Z",
      "side": 1,
      "message": "You\u0027re right! Since clean doesn\u0027t support any of that functionality yet I didn\u0027t use it. Once we implement it some dispatcher calls here should do the trick.",
      "parentUuid": "99db1c23_45e9e841",
      "range": {
        "startLine": 444,
        "startChar": 15,
        "endLine": 444,
        "endChar": 37
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54037e33_19b7200c",
        "filename": "ios/clean/chrome/browser/ui/toolbar/toolbar_view_controller.mm",
        "patchSetId": 2
      },
      "lineNbr": 444,
      "author": {
        "id": 1163361
      },
      "writtenOn": "2017-08-24T18:44:24Z",
      "side": 1,
      "message": "We should at least support the keyboard dismissal, no?",
      "parentUuid": "0a99f574_2cd02583",
      "range": {
        "startLine": 444,
        "startChar": 15,
        "endLine": 444,
        "endChar": 37
      },
      "revId": "76512d7ebff3fe3a44e112fcf70d143b5d07da18",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}