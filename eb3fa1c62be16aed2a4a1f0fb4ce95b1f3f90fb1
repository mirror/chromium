{
  "comments": [
    {
      "key": {
        "uuid": "59e57342_45c7f02d",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/TabsTest.java",
        "patchSetId": 3
      },
      "lineNbr": 1488,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-09-14T15:23:04Z",
      "side": 1,
      "message": "If we wait for the overview mode to finish hiding, to ensure the new tab open animation has finished before activity tear down, does that also fix the exception you are seeing?\n\n e.g.\n\n       UiUtils.settleDownUI(InstrumentationRegistry.getInstrumentation());\n        CriteriaHelper.pollInstrumentationThread(new Criteria(\"Should be in overview mode\") {\n            @Override\n            public boolean isSatisfied() {\n                return !mActivityTestRule.getActivity().isInOverviewMode();\n            }\n        });",
      "range": {
        "startLine": 1486,
        "startChar": 8,
        "endLine": 1488,
        "endChar": 75
      },
      "revId": "eb3fa1c62be16aed2a4a1f0fb4ce95b1f3f90fb1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c215eee_ed57dd28",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/TabsTest.java",
        "patchSetId": 3
      },
      "lineNbr": 1488,
      "author": {
        "id": 1140427
      },
      "writtenOn": "2017-09-29T23:09:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59e57342_45c7f02d",
      "range": {
        "startLine": 1486,
        "startChar": 8,
        "endLine": 1488,
        "endChar": 75
      },
      "revId": "eb3fa1c62be16aed2a4a1f0fb4ce95b1f3f90fb1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "478e6a53_74c7945c",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/TabsTest.java",
        "patchSetId": 3
      },
      "lineNbr": 1488,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-02T22:08:55Z",
      "side": 1,
      "message": "Sorry for not being super clear. I meant can we wait for overview mode to finish hiding instead of closing all tabs?",
      "parentUuid": "8c215eee_ed57dd28",
      "range": {
        "startLine": 1486,
        "startChar": 8,
        "endLine": 1488,
        "endChar": 75
      },
      "revId": "eb3fa1c62be16aed2a4a1f0fb4ce95b1f3f90fb1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b0cf31c_52630b81",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/TabsTest.java",
        "patchSetId": 3
      },
      "lineNbr": 1488,
      "author": {
        "id": 1140427
      },
      "writtenOn": "2017-10-03T00:03:16Z",
      "side": 1,
      "message": "hmm, the issue here was not overview was not done hidding, it was the tab was still left open after the test is finished, and when MonitoringInstrumentationRunner close the tab activity, its nativepage\u0027s view is still attached to window view",
      "parentUuid": "478e6a53_74c7945c",
      "range": {
        "startLine": 1486,
        "startChar": 8,
        "endLine": 1488,
        "endChar": 75
      },
      "revId": "eb3fa1c62be16aed2a4a1f0fb4ce95b1f3f90fb1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66285f5d_104010c9",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/TabsTest.java",
        "patchSetId": 3
      },
      "lineNbr": 1488,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-03T00:56:55Z",
      "side": 1,
      "message": "There are plenty of other tests that finish while a tab is showing, so, per my general CL comments, I\u0027m wondering if the root of the issue is that an animation is still running when the test finishes. Waiting for the overview to finish hiding will ensure the animation to create the new tab is finished before the test finishes.",
      "parentUuid": "5b0cf31c_52630b81",
      "range": {
        "startLine": 1486,
        "startChar": 8,
        "endLine": 1488,
        "endChar": 75
      },
      "revId": "eb3fa1c62be16aed2a4a1f0fb4ce95b1f3f90fb1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4cefa7b_fb8917cd",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/TabsTest.java",
        "patchSetId": 3
      },
      "lineNbr": 1488,
      "author": {
        "id": 1140427
      },
      "writtenOn": "2017-10-03T20:35:43Z",
      "side": 1,
      "message": "oops, sorry, I didn\u0027t realize the isSatisfied condition is activity **Not** overview mode.\nAnd you are abs right, this resolves issue because it waits for the animation to finish.\n\nDone",
      "parentUuid": "66285f5d_104010c9",
      "range": {
        "startLine": 1486,
        "startChar": 8,
        "endLine": 1488,
        "endChar": 75
      },
      "revId": "eb3fa1c62be16aed2a4a1f0fb4ce95b1f3f90fb1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}