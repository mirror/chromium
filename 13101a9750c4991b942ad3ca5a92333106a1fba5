{
  "comments": [
    {
      "key": {
        "uuid": "addcc060_b4d67de0",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T18:34:15Z",
      "side": 1,
      "message": "You need a different define for a different component, otherwise if one includes the other it will do the wrong thing on Windows.",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7532bcc6_b48fa8b1",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-22T19:16:16Z",
      "side": 1,
      "message": "I was kind of following the ui/gfx example, which seems to do this with its export/define. Can you elaborate on what you mean by a different component here? Do you mean a different define or something else?",
      "parentUuid": "addcc060_b4d67de0",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51ca86a3_c0aec406",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T19:28:44Z",
      "side": 1,
      "message": "viz_common vs viz_resource_format.\nThe VIZ_COMMON_EXPORT define expands to __declspec(dllexport) if VIZ_COMMON_IMPLEMENTATION is defined and __declspec(dllimport) if not. So if you use VIZ_COMMON_EXPORT in source compiled in viz_resource_format, and you use them in viz_common, while you\u0027re compiling viz_common, you\u0027re defining VIZ_COMMON_IMPLEMENTATION, so you are trying to \"export\" viz_resource_format symbols (even though they\u0027re defined in another component, so you should be \"importing\" them)\n\nThe solution is to have a VIZ_RESOURCE_FORMAT_EXPORT define, that is controlled by VIZ_RESOURCE_FORMAT_IMPLEMENTATION define, that is only set when compiling the viz_resource_format component.",
      "parentUuid": "7532bcc6_b48fa8b1",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79e961b0_13658375",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-22T20:21:32Z",
      "side": 1,
      "message": "Ah that makes sense, thanks. (Done)",
      "parentUuid": "51ca86a3_c0aec406",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9bc4d28_b7dd9619",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T18:34:15Z",
      "side": 1,
      "message": "Why do you need this dependency? I don\u0027t think you\u0027re using it (and I think would cause problems with the OOP raster CL)",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdc36c89_d99e25ae",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-22T19:16:16Z",
      "side": 1,
      "message": "I\u0027m including third_party/khronos/GLES2/gl2.h, which includes GLES2/gl2chromium.h, which I think is a part of this? Is there another component that better provides this header?\n\n(removing the dependency gives me:\nIn file included from ../../components/viz/common/resources/resource_format_utils.cc:9:\n../../third_party/khronos/GLES2/gl2.h:38:10: fatal error: \u0027GLES2/gl2chromium.h\u0027 file not found\n#include \u003cGLES2/gl2chromium.h\u003e\n         ^~~~~~~~~~~~~~~~~~~~~\n)",
      "parentUuid": "d9bc4d28_b7dd9619",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f03e37a_eb05fed8",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T19:28:44Z",
      "side": 1,
      "message": "What you\u0027re looking for is:\nconfigs +\u003d [ \"//third_party/khronos:khronos_headers\" ]",
      "parentUuid": "bdc36c89_d99e25ae",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2c05467_d283fbdb",
        "filename": "components/viz/common/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1002513
      },
      "writtenOn": "2017-08-22T20:21:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8f03e37a_eb05fed8",
      "revId": "13101a9750c4991b942ad3ca5a92333106a1fba5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}