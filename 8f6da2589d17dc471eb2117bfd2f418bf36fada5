{
  "comments": [
    {
      "key": {
        "uuid": "613b1c11_39969248",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/permissions/PermissionUmaUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "Could this be an assertion instead?  Or are there valid cases where the sanity check may fail?",
      "range": {
        "startLine": 32,
        "startChar": 51,
        "endLine": 32,
        "endChar": 0
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31065cd6_41e0ff40",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/permissions/PermissionUmaUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "I\u0027d assume it can\u0027t normally fail.. maybe it would be better to omit it if the histogram code will do something reasonable (assert/ignore?). BatteryStatusManager.java has a similar check, while DeviceConditions.java checks the max value is non-zero.",
      "parentUuid": "613b1c11_39969248",
      "range": {
        "startLine": 32,
        "startChar": 51,
        "endLine": 32,
        "endChar": 0
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "936b42e6_7072f55b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/permissions/PermissionUmaUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T23:42:19Z",
      "side": 1,
      "message": "The histogram code would put the data in an underflow/overflow bucket by default.  (Note that for percentile histograms, the underflow bucket is the first bucket, since it\u0027s assumed that percents don\u0027t really underflow.)\n\nChecking that the max is non-zero is probably a good idea indeed, as dividing by zero is no fun.  The other checks I\u0027m less sure about â€“ I would kind of expect the Android APIs to guarantee sane output, but maybe I\u0027m being overly optimistic?",
      "parentUuid": "31065cd6_41e0ff40",
      "range": {
        "startLine": 32,
        "startChar": 51,
        "endLine": 32,
        "endChar": 0
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2c0f4ba_b4ee8308",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/permissions/PermissionUmaUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-12T05:02:34Z",
      "side": 1,
      "message": "Other checks are gone, keeping early-return on zero denominator.",
      "parentUuid": "936b42e6_7072f55b",
      "range": {
        "startLine": 32,
        "startChar": 51,
        "endLine": 32,
        "endChar": 0
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8d0034d_c59ba9b9",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57447,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "Optional: I\u0027m a little confused as to what the difference between the existing name sets \"Permission.Engagement.Accepted\" and \"Permission.Prompt.Accepted\" is, but I\u0027d suggest perhaps grouping this as \"Permissions.Prompt.Accepted.BatteryLevel.Geolocation\".  At any rate, the existing convention seems to be that \"Permissions\" precedes \"Accepted\" precedes an additional qualifier precedes the permission type (e.g. \"Geolocation\").",
      "range": {
        "startLine": 57447,
        "startChar": 17,
        "endLine": 57447,
        "endChar": 56
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f72f77f_9ccb2fe3",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57447,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-10-10T06:42:11Z",
      "side": 1,
      "message": "If we use Permissions.Battery.Geolocation.Accepted (etc.) we can easily extend this to other permissions in the future.",
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd21e04a_40ce4346",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57447,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "I had a look...\n\n- Permissions.Engagement.(Accepted).(Geolocation) logs the site engagement score for accepted prompts.\n- Permissions.Prompt.(Accepted).(PriorDismissCount).(Geolocation) logs the number of dismisses in the past before finally accepting. PriorIgnoreCount is similar, Persisted is from a past experiment.\n\n- Permissions.Action.(Geolocation) logs allow/block/dismiss/ignore/revoke actions. With the exception of revoke, these should be the total number of entries in the matching Engagement/PriorDismissCount/PriorIgnoreCount histogram.\n\nSo for now I changed this to Permissions.BatteryLevel.(Accepted).(Geolocation), which I think is easier to navigate than having the Battery tag in the middle... but other suggestions are welcome.",
      "parentUuid": "b8d0034d_c59ba9b9",
      "range": {
        "startLine": 57447,
        "startChar": 17,
        "endLine": 57447,
        "endChar": 56
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45e441c3_2cee647c",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57451,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "nit: Why not log an actual percentage, e.g. 10*floor(battery-percentage/10)?  If you\u0027re concerned about using too many distinct buckets, consider using a sparse histogram.",
      "range": {
        "startLine": 57451,
        "startChar": 36,
        "endLine": 57451,
        "endChar": 64
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d9f2062_825035c6",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57451,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "It... didn\u0027t occur to me, done!",
      "parentUuid": "45e441c3_2cee647c",
      "range": {
        "startLine": 57451,
        "startChar": 36,
        "endLine": 57451,
        "endChar": 64
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04849f10_9376973d",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57458,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "nit: denied",
      "range": {
        "startLine": 57458,
        "startChar": 64,
        "endLine": 57458,
        "endChar": 72
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12f09923_f027e7bf",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57458,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "Sorry, fixed.",
      "parentUuid": "04849f10_9376973d",
      "range": {
        "startLine": 57458,
        "startChar": 64,
        "endLine": 57458,
        "endChar": 72
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bece27c6_28b6b104",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57467,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "nit: dismissed",
      "range": {
        "startLine": 57467,
        "startChar": 64,
        "endLine": 57467,
        "endChar": 72
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "541b04bd_c43e132f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57467,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bece27c6_28b6b104",
      "range": {
        "startLine": 57467,
        "startChar": 64,
        "endLine": 57467,
        "endChar": 72
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81813766_304cd278",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57472,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "Should I know what \"LSD\" means?  I don\u0027t... at least not in this context ;-)",
      "range": {
        "startLine": 57472,
        "startChar": 37,
        "endLine": 57472,
        "endChar": 40
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e6303c8_321b23d7",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57472,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "Renamed this - the location settings dialog is shown when you try to grant a website location permission but the Android setting is off.",
      "parentUuid": "81813766_304cd278",
      "range": {
        "startLine": 57472,
        "startChar": 37,
        "endLine": 57472,
        "endChar": 40
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c06e2284_49b16535",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57475,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "How does this differ from the GeolocationAccepted histogram?",
      "range": {
        "startLine": 57475,
        "startChar": 30,
        "endLine": 57475,
        "endChar": 52
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "825c21c8_e4ef164f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57475,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "Fixed this to actually say what it\u0027s for.",
      "parentUuid": "c06e2284_49b16535",
      "range": {
        "startLine": 57475,
        "startChar": 30,
        "endLine": 57475,
        "endChar": 52
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a147f52_092c5a82",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57480,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "Should there be a histogram for dismissed?",
      "range": {
        "startLine": 57480,
        "startChar": 70,
        "endLine": 57480,
        "endChar": 0
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa3b0be0_6d649390",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57480,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "The dialog is modal and can\u0027t be dismissed.",
      "parentUuid": "2a147f52_092c5a82",
      "range": {
        "startLine": 57480,
        "startChar": 70,
        "endLine": 57480,
        "endChar": 0
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "934c97f2_9d7f6834",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57483,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-10-10T06:38:51Z",
      "side": 1,
      "message": "nit: denied",
      "range": {
        "startLine": 57483,
        "startChar": 64,
        "endLine": 57483,
        "endChar": 72
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4919f257_677636fd",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 7
      },
      "lineNbr": 57483,
      "author": {
        "id": 1003044
      },
      "writtenOn": "2017-10-10T07:46:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "934c97f2_9d7f6834",
      "range": {
        "startLine": 57483,
        "startChar": 64,
        "endLine": 57483,
        "endChar": 72
      },
      "revId": "8f6da2589d17dc471eb2117bfd2f418bf36fada5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}