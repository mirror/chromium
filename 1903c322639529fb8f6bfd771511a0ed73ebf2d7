{
  "comments": [
    {
      "key": {
        "uuid": "e7a78799_33e438a1",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2810,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-26T22:25:14Z",
      "side": 1,
      "message": "Isn\u0027t this only needed in the !make_pen_touch_flag?\n\nThis function has gotten rather unwieldy. Maybe break into GenerateMouseEventFromPointerEvent() for the !make_pen_touch_flag case?",
      "range": {
        "startLine": 2810,
        "startChar": 6,
        "endLine": 2810,
        "endChar": 21
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f35041f6_b5435d43",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2810,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "PointerDetails is also needed in TouchEvent, I separated the functions into two.",
      "parentUuid": "e7a78799_33e438a1",
      "range": {
        "startLine": 2810,
        "startChar": 6,
        "endLine": 2810,
        "endChar": 21
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea74dc9d_89b10454",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2831,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-26T22:25:14Z",
      "side": 1,
      "message": "Wouldn\u0027t it be better to explicitly check for POINTER_CHANGE_FIRSTBUTTON_DOWN and use that as LEFT_MOUSE_BUTTON and map everything else to RIGHT_MOUSE_BUTTON?",
      "range": {
        "startLine": 2831,
        "startChar": 16,
        "endLine": 2831,
        "endChar": 33
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83f47f58_6c23f555",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2831,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea74dc9d_89b10454",
      "range": {
        "startLine": 2831,
        "startChar": 16,
        "endLine": 2831,
        "endChar": 33
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54f6fa8e_fb1bba0a",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2831,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea74dc9d_89b10454",
      "range": {
        "startLine": 2831,
        "startChar": 16,
        "endLine": 2831,
        "endChar": 33
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19f14b22_1af25ef2",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2868,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-26T22:25:14Z",
      "side": 1,
      "message": "The second \u0027flag\u0027 parameter is the changed flags. The code you have here assumes the down state and the changed state are the same. Are you sure that is valid? For example, isn\u0027t it possible to get a WM_POINTERDOWN for FIRSTBUTTON followed by a WM_POINTERDOWN for SECONDBUTTON?",
      "range": {
        "startLine": 2868,
        "startChar": 69,
        "endLine": 2868,
        "endChar": 73
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6efff403_fb63f856",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2868,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "You are right, I should have two flags,",
      "parentUuid": "19f14b22_1af25ef2",
      "range": {
        "startLine": 2868,
        "startChar": 69,
        "endLine": 2868,
        "endChar": 73
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba204b96_e324c03b",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2913,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-26T22:25:14Z",
      "side": 1,
      "message": "TRUE -\u003e true",
      "range": {
        "startLine": 2913,
        "startChar": 17,
        "endLine": 2913,
        "endChar": 21
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1005470d_ed00884a",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2913,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba204b96_e324c03b",
      "range": {
        "startLine": 2913,
        "startChar": 17,
        "endLine": 2913,
        "endChar": 21
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1df9493_5c1e76a1",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1163594
      },
      "writtenOn": "2017-07-26T18:20:19Z",
      "side": 1,
      "message": "We never set the buttons for this hovering pen. Right? I suspect we probably should. WDYT?",
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70f4cf7b_5bdc7288",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1163594
      },
      "writtenOn": "2017-07-26T19:08:36Z",
      "side": 1,
      "message": "Talked offline with Lan. Apparently Wacom tablet always sets the in_contact flag when user presses a button even while hovering. So in that case we are still going to send touch events. For Windows pen it seems that Edge itself ignores the buttons while pen is hovering. So we\u0027ll keep this behavior.",
      "parentUuid": "b1df9493_5c1e76a1",
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "708bc069_8bb433a8",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-26T22:25:14Z",
      "side": 1,
      "message": "Can you elaborate on why you need to generate a mouse event here? Shouldn\u0027t it be a touch event with ET_TOUCH_MOVED?",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3eba504_21f91ca5",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "Pen can hover on a page without pressing any button or on the tablet, like mouse. Touch moves happen after fingers press the screen. I know it is kind of awkward to send both touch and mouse events, but it is a temporary solution, we will use PointerEvent in the future.",
      "parentUuid": "708bc069_8bb433a8",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0db293f_476ea5e4",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-31T15:17:39Z",
      "side": 1,
      "message": "Sending a mouse event at this point could easily confuse observers. What if the mouse is already down, the flags would be completely wrong then. I don\u0027t think we should generate a mouse event here.",
      "parentUuid": "a3eba504_21f91ca5",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3828c0b_ff9261cb",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1123071
      },
      "writtenOn": "2017-07-31T15:29:06Z",
      "side": 1,
      "message": "sky@ would it make more sense to generate a ui::PointerEvent here instead then?\n\nGenerally views haven\u0027t responded to PointerEvent but then that wouldn\u0027t confuse this code.\n\nMicrosoft has confirmed that they are going to do this from a web perspective (MouseEvents during hovering, but TouchEvents when contact is made).\n\nBut we can certainly hide that logic in aura if we use PointerEvent which is supposed to encompass them both. But we don\u0027t know how much ui::views actually deals with PointerEvents that are created not from other events (that mus-ash did).",
      "parentUuid": "b0db293f_476ea5e4",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c19a6c7c_5eaf3a5a",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-31T16:06:09Z",
      "side": 1,
      "message": "Long term we want to move to PointerEvent in views. We\u0027re not there though, so that generating a PointerEvent here is going to be problematic.\n\nYou say Microsoft is going to generate a mouseevent in this case. How does that reconcile with the actual mouse? What if the user is using both? Do they actually warp the mouse cursor to the pen (this was done with touch in win7 I believe). If Windows is doing that at a lower layer, is there really anything for us to do here?",
      "parentUuid": "f3828c0b_ff9261cb",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81b32cd8_ac776018",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1123071
      },
      "writtenOn": "2017-07-31T16:11:43Z",
      "side": 1,
      "message": "When I said Microsoft; I should have been specific. The Edge team is going to do that from a web perspective. I was just indicating this isn\u0027t out of left field.\n\nMS has asked us to make these changes because Windows Fall Creators edition (you can try it on the insider preview fast edition) moves to use a stylus to be a direct manipulation model (which is consistent with ChromeOS and Android).",
      "parentUuid": "c19a6c7c_5eaf3a5a",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c482eb86_34c23ca0",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2915,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-07-31T17:58:05Z",
      "side": 1,
      "message": "As a work-around, we could probably look at Env:IsMouseButtonDown(), and if the mouse-button is down, just not dispatch the mouse-move events from here?",
      "parentUuid": "81b32cd8_ac776018",
      "range": {
        "startLine": 2915,
        "startChar": 64,
        "endLine": 2915,
        "endChar": 66
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdf1088c_96ec3fd2",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2921,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-26T22:25:14Z",
      "side": 1,
      "message": "Why is the angle between 0-180 and not 360?",
      "range": {
        "startLine": 2921,
        "startChar": 6,
        "endLine": 2921,
        "endChar": 20
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46c758b6_ea611e44",
        "filename": "ui/views/win/hwnd_message_handler.cc",
        "patchSetId": 7
      },
      "lineNbr": 2921,
      "author": {
        "id": 1118546
      },
      "writtenOn": "2017-07-29T00:43:52Z",
      "side": 1,
      "message": "https://codesearch.chromium.org/chromium/src/ui/events/event.h?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d724\nRight now, the rotation_angle in ui::TouchEvent is defined in the range of [0, 180).",
      "parentUuid": "fdf1088c_96ec3fd2",
      "range": {
        "startLine": 2921,
        "startChar": 6,
        "endLine": 2921,
        "endChar": 20
      },
      "revId": "1903c322639529fb8f6bfd771511a0ed73ebf2d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}