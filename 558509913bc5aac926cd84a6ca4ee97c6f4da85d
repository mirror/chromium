{
  "comments": [
    {
      "key": {
        "uuid": "80276a5f_06cd640a",
        "filename": "ios/chrome/browser/prerender/preload_controller.mm",
        "patchSetId": 5
      },
      "lineNbr": 468,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "Remove this, the bug has been moved to crbug and then closed as WontFix.",
      "range": {
        "startLine": 468,
        "startChar": 44,
        "endLine": 468,
        "endChar": 53
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9446d4e2_ad07cc43",
        "filename": "ios/chrome/browser/prerender/preload_controller.mm",
        "patchSetId": 5
      },
      "lineNbr": 468,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "Reopened the bug and updated the bug reference.",
      "parentUuid": "80276a5f_06cd640a",
      "range": {
        "startLine": 468,
        "startChar": 44,
        "endLine": 468,
        "endChar": 53
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02ebbb3d_3d8569c0",
        "filename": "ios/chrome/browser/prerender/prerender_service.h",
        "patchSetId": 5
      },
      "lineNbr": 28,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "High-level comment, not to be addressed in this CL: when porting code to KeyedService, I\u0027ve found that injecting the real objects used by the KeyedService instead of the ChromeBrowserState made unit testing much simpler (especially when the service depends on other services) as it allow testing without having to set up all the KeyedServices correctly.\n\nMaybe add a TODO here to pass objects used as part of the whole refactoring of prerender.",
      "range": {
        "startLine": 28,
        "startChar": 19,
        "endLine": 28,
        "endChar": 57
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d95fd4ff_3de86c28",
        "filename": "ios/chrome/browser/prerender/prerender_service.h",
        "patchSetId": 5
      },
      "lineNbr": 28,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "Ack.  This will become easier as I move code out of PreloadController.",
      "parentUuid": "02ebbb3d_3d8569c0",
      "range": {
        "startLine": 28,
        "startChar": 19,
        "endLine": 28,
        "endChar": 57
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72927669_1955011d",
        "filename": "ios/chrome/browser/prerender/prerender_service.mm",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "This should be done in PrerenderService::Shutdown() [method from KeyedService interface that should be overridden). I would also set controller_ to nil in the Shutdown method.\n\nThis is because KeyedService implements a two phase shutdown and are supposed to become inactive and stop referencing other services (and ChromeBrowserState) after the Shutdown method is called.",
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67db1e62_55d747c2",
        "filename": "ios/chrome/browser/prerender/prerender_service.mm",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72927669_1955011d",
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c5e0c6d_75ec0089",
        "filename": "ios/chrome/browser/prerender/prerender_service_factory.h",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "nit: move below in the \"private\" section, below the BrowserStateKeyedServiceFactory implementation comment. BTW, I would put the \"PrerenderService is omitted while testing because it complicates measurements in perf tests.\" comment over the implementation of the method, not over it\u0027s declaration.",
      "range": {
        "startLine": 34,
        "startChar": 7,
        "endLine": 34,
        "endChar": 32
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd2e6d09_efc73700",
        "filename": "ios/chrome/browser/prerender/prerender_service_factory.h",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c5e0c6d_75ec0089",
      "range": {
        "startLine": 34,
        "startChar": 7,
        "endLine": 34,
        "endChar": 32
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "674c6ad7_eab4614a",
        "filename": "ios/chrome/browser/prerender/prerender_service_factory.mm",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "// static",
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30cfb927_75a99387",
        "filename": "ios/chrome/browser/prerender/prerender_service_factory.mm",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "674c6ad7_eab4614a",
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95a20cb8_c1317e4a",
        "filename": "ios/chrome/browser/prerender/prerender_service_unittest.mm",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "nit: can you use a ScopedTaskEnvironment here?",
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a528af01_945b6d6e",
        "filename": "ios/chrome/browser/prerender/prerender_service_unittest.mm",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "PreloadController has a bunch of DCHECK_CURRENTLY_ON(web::WebThread::UI), so I think I still need the named threads for now?",
      "parentUuid": "95a20cb8_c1317e4a",
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65ab5e20_acadb79c",
        "filename": "ios/chrome/browser/ui/browser_view_controller.mm",
        "patchSetId": 5
      },
      "lineNbr": 1081,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-08-10T09:23:47Z",
      "side": 1,
      "message": "Won\u0027t this break anything? Shouldn\u0027t you instead get the PreloadController from the service and return it here? Or update code to use the service instead and remove this method/property?",
      "range": {
        "startLine": 1081,
        "startChar": 9,
        "endLine": 1081,
        "endChar": 12
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28dada5f_16056ce8",
        "filename": "ios/chrome/browser/ui/browser_view_controller.mm",
        "patchSetId": 5
      },
      "lineNbr": 1081,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-08-10T12:11:13Z",
      "side": 1,
      "message": "Good catch, I meant to remove this completely.",
      "parentUuid": "65ab5e20_acadb79c",
      "range": {
        "startLine": 1081,
        "startChar": 9,
        "endLine": 1081,
        "endChar": 12
      },
      "revId": "558509913bc5aac926cd84a6ca4ee97c6f4da85d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}