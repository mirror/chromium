{
  "comments": [
    {
      "key": {
        "uuid": "98033ec3_9d8eafe2",
        "filename": "components/arc/net/arc_net_host_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 990,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-20T18:52:28Z",
      "side": 1,
      "message": "This should be unnecessary; ConnectionStateChanged should be sufficient. If you want to leave it in I don\u0027t have any objections, but if there is a scenario where this triggers a default network change but ConnectionStateChanged does not, I would be curious to know about it.",
      "revId": "6094628bf5efbc2dbcefceeb547b5914055c86d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49fa1831_bd6ca09c",
        "filename": "components/arc/net/arc_net_host_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 990,
      "author": {
        "id": 1123084
      },
      "writtenOn": "2017-11-20T19:01:09Z",
      "side": 1,
      "message": "What I saw was ConnectionStateChanged being called when ethernet first comes online and the list is out of order:\n\n  vpn - online\n  wifi - online\n  ethernet - online\n\nI had to hook NetworkListChanged to receive a callback after shill re-sorted the list:\n\n  vpn - online\n  ethernet - online\n  wifi - online",
      "parentUuid": "98033ec3_9d8eafe2",
      "revId": "6094628bf5efbc2dbcefceeb547b5914055c86d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fede5d6_8659e562",
        "filename": "components/arc/net/arc_net_host_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 990,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-11-21T20:46:21Z",
      "side": 1,
      "message": "Ah, I see. I guess there is something of a chicken-egg situation there since list order is a separate update from state change.\n\nWe should probably modify NSH to send DefaultNetworkChanged if the first network in the list changes. I just made a small adjustment to how we trigger network state change events (https://chromium-review.googlesource.com/c/chromium/src/+/773507), this would be a good time to make any other such adjustments; I will look int that.",
      "parentUuid": "49fa1831_bd6ca09c",
      "revId": "6094628bf5efbc2dbcefceeb547b5914055c86d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de16a87f_4ea31fb4",
        "filename": "components/arc/net/arc_net_host_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 990,
      "author": {
        "id": 1123084
      },
      "writtenOn": "2017-11-22T23:21:24Z",
      "side": 1,
      "message": "OK.  For the record, the case I\u0027m trying to handle here is where the #1 network is VPN, and the #2 network changes between ethernet\u003c-\u003ewifi.",
      "parentUuid": "7fede5d6_8659e562",
      "revId": "6094628bf5efbc2dbcefceeb547b5914055c86d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}