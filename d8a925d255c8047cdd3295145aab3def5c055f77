{
  "comments": [
    {
      "key": {
        "uuid": "f3e1d5bd_e48b2b6a",
        "filename": "third_party/WebKit/Source/platform/fonts/FontPlatformData.h",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 1115899
      },
      "writtenOn": "2017-08-23T15:40:51Z",
      "side": 1,
      "message": "We don;t really use the Should prefix much for methods like this, why not simply AvoidEmbeddedBitmaps() ?",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43a32488_566310f9",
        "filename": "third_party/WebKit/Source/platform/fonts/linux/FontPlatformDataLinux.cpp",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1115899
      },
      "writtenOn": "2017-08-23T15:40:51Z",
      "side": 1,
      "message": "Is there other code that can disable embedded bitmaps? If not the following might be simpler:\npaint-\u003esetEmbeddedBitmapText(!avoid_embedded_bitmaps_);",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90b7bf6d_b2a752bf",
        "filename": "third_party/WebKit/Source/platform/fonts/opentype/OS2TableCJKFont.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3,
      "author": {
        "id": 1115899
      },
      "writtenOn": "2017-08-23T15:40:51Z",
      "side": 1,
      "message": "This will need to go in third_party. \nSee https://chromium.googlesource.com/chromium/src.git/+/master/docs/adding_to_third_party.md for details.",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9099020e_b669ac51",
        "filename": "third_party/WebKit/Source/platform/fonts/opentype/OS2TableCJKFont.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-08-23T17:38:50Z",
      "side": 1,
      "message": "I\u0027ll update the CL with regards to the other request changes, but about this piece of MPL code. I vaguely remember we had this discussion for https://cs.chromium.org/chromium/src/third_party/WebKit/Source/platform/fonts/opentype/OpenTypeCapsSupportMPL.cpp and we ended up deciding such a function can live here, wdyt? Original review in https://codereview.chromium.org/1882063002/ where dpranke@ also seemed fine with it.",
      "parentUuid": "90b7bf6d_b2a752bf",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ff51344_f13c832d",
        "filename": "third_party/WebKit/Source/platform/fonts/opentype/OS2TableCJKFont.cpp",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 1230446
      },
      "writtenOn": "2017-08-25T01:25:28Z",
      "side": 1,
      "message": "I don\u0027t understand.  Isn\u0027t the vector of char data, and as such when you look up table_buffer.data()[ul_code_page_range_1_offset] you just get one byte?",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a70ef5e9_c159d615",
        "filename": "third_party/WebKit/Source/platform/fonts/opentype/OS2TableCJKFontTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1128431
      },
      "writtenOn": "2017-08-23T16:01:56Z",
      "side": 1,
      "message": "Could you add more fonts? At least all CJK default installed fonts?\nhttps://en.wikipedia.org/wiki/List_of_typefaces_included_with_Microsoft_Windows\n\nJapanese: Meiryo, MS Gothic, MS Mincho, Yu Gothic, Yu Mincho\nSimplified: Microsoft YaHei, SimHei, SimSun, KaiTi\nTraditional: Microsoft JhengHei, MingLiU, DFKai-SB\nKorean: Batang, Dotum, Gulim, Malgun Gothic\n(not all from the wikipedia but extracted what I think are common)\n\nI\u0027m a bit surprised code pages in OS/2 is reliable, it wasn\u0027t at all when I tried before (20 years ago, lol) but if Gecko is using this, things might have improved. Just want to make sure we cover default fonts here.\n\nNote, you might know but Win10 minimized default installed fonts for other languages, so bots may not have all of them. We might need to handle optional fonts as pass.",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4adbfba_3903da94",
        "filename": "third_party/WebKit/Source/platform/fonts/opentype/OS2TableCJKFontTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1130679
      },
      "writtenOn": "2017-08-24T11:09:27Z",
      "side": 1,
      "message": "Thanks for listing those, that\u0027s helpful. I looked at this list on Wikipedia but with Windows 10 things are changing to be installed optionally on demand, so indeed, bot availability will be limited. I\u0027ll try adding a few more fonts.\n\nI agree that the OS/2 code codepage bitfield is not reliable  in general but we do not need it to be reliable for all fonts/all web fonts. We only need it to have CJK flags set for those CJK fonts for which we want to keep displaying embedded bitmaps. SimSun and Dotum for example, and perhaps other ones from your list above.\n\nA simple alternative would be to hardcode \"Calibri\" as the font for which we want to suppress embedded bitmaps, which would solve the immediate problem. This approach is probably a bit hacky, and FF decided to avoid such an explicit blacklisting by name (in their discussion on the bug).\n\nWhat do you think, Koji, Emil?",
      "parentUuid": "a70ef5e9_c159d615",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd3fbfbb_04d5f7ee",
        "filename": "third_party/WebKit/Source/platform/fonts/opentype/OS2TableCJKFontTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1128431
      },
      "writtenOn": "2017-08-24T14:53:29Z",
      "side": 1,
      "message": "Thank you for the background.\n\nHow many fonts do we know disabling improves? I haven\u0027t checked Gecko discussion, but if \"Calibri\" is the only font we know atm, I have mild preference to have a list of fonts to disable, than to disable (all - CJK) fonts. If the list keeps increasing, we can revisit.",
      "parentUuid": "e4adbfba_3903da94",
      "revId": "d8a925d255c8047cdd3295145aab3def5c055f77",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}