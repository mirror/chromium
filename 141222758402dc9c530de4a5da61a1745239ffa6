{
  "comments": [
    {
      "key": {
        "uuid": "42798c6e_7ddeb964",
        "filename": "third_party/WebKit/LayoutTests/http/tests/webaudio/audio-worklet/audio-worklet-gain-node.html",
        "patchSetId": 25
      },
      "lineNbr": 56,
      "author": {
        "id": 1116024
      },
      "writtenOn": "2017-10-06T18:27:16Z",
      "side": 1,
      "message": "Extra whitespace?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65350bc0_56969d58",
        "filename": "third_party/WebKit/LayoutTests/http/tests/webaudio/audio-worklet/audio-worklet-gain-node.html",
        "patchSetId": 25
      },
      "lineNbr": 56,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T19:22:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "42798c6e_7ddeb964",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19d5ec39_f3ce0d81",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletGlobalScope.cpp",
        "patchSetId": 25
      },
      "lineNbr": 155,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "Is |sample_rate| passed from JS layer? Should we do range-check? (I assume |sample_rate| should be \u003e 0)",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9d1b7fb_a3e8d05f",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletGlobalScope.cpp",
        "patchSetId": 25
      },
      "lineNbr": 155,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "The sample rate is checked by BaseAudioContext. I don\u0027t think we need a check here. DCHECK() should be okay though.",
      "parentUuid": "19d5ec39_f3ce0d81",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b193ef1_c86ff6b2",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletGlobalScope.cpp",
        "patchSetId": 25
      },
      "lineNbr": 186,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "inputBuses -\u003e input_buses\noutputBuses -\u003e output_buses",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "420fbfad_4e108dba",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletGlobalScope.cpp",
        "patchSetId": 25
      },
      "lineNbr": 186,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Oops. Fixed.",
      "parentUuid": "2b193ef1_c86ff6b2",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b970ee1_89b1e62a",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletGlobalScope.cpp",
        "patchSetId": 25
      },
      "lineNbr": 273,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "\u0027o\u0027 and \u0027c\u0027 look confusing and they have the same type. Can we use non-abbreviated words, for example, output_index/channel_index, output_pos/channel_pos?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a97530c7_3de09072",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletGlobalScope.cpp",
        "patchSetId": 25
      },
      "lineNbr": 273,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b970ee1_89b1e62a",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c302dad4_f9e2567e",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 44,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "How about using a default value in the spec-level?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2496bb64_5236bd8d",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 44,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "The spec PR is under the review, but this is WG\u0027s agreement:\nhttps://github.com/WebAudio/web-audio-api/pull/1386\n\n|outputChannelCount| is a variable-length array, so defaulting it properly with IDL syntax is not possible.",
      "parentUuid": "c302dad4_f9e2567e",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "905ff23c_eb59e0db",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 58,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-10-06T02:16:14Z",
      "side": 1,
      "message": "We won\u0027t need to call clear() in a destructor.",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b372e4f8_93ed2190",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 58,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "905ff23c_eb59e0db",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a918b88_de39f0b8",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 71,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-10-06T02:16:14Z",
      "side": 1,
      "message": "Add a thread check?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba6da3d0_e9bb348d",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 71,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a918b88_de39f0b8",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90cb8730_cc63682d",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 106,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-10-06T02:16:14Z",
      "side": 1,
      "message": "Why can\u0027t we do this now?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49a54810_bbaab089",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.cpp",
        "patchSetId": 25
      },
      "lineNbr": 106,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Done, but it needs more work. The accurate life cycle management will be in a follow-up CL.",
      "parentUuid": "90cb8730_cc63682d",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55f37a81_0544ceee",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 25
      },
      "lineNbr": 63,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-10-06T02:16:14Z",
      "side": 1,
      "message": "Is there any reason we cannot use CrossThreadPersistent\u003c\u003e?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "491410f1_213b79eb",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 25
      },
      "lineNbr": 63,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "I wasn\u0027t sure which is better in this case. AudioWorkletProcessor instance is created in AudioWorkletGlobalScope (worklet thread) and also destroyed in the same scope/thread. The main thread simply references the object, and does not exercise any lifecycle management.\n\nIs CrossThreadPersistent better for this purpose?",
      "parentUuid": "55f37a81_0544ceee",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "806eccb9_7d10002e",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 25
      },
      "lineNbr": 63,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-10-10T05:56:46Z",
      "side": 1,
      "message": "We should use CrossThreadPersistent for all cross-thread pointers. CrossThreadPersistent handles threading races (e.g., what happens if the main thread touches processor_ while the worker thread is running a GC and adding mark bits on processor_? -- it will work in this specific case but would be better to just use CrossThreadPersistent).",
      "parentUuid": "491410f1_213b79eb",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9163fd5e_c9bafa4a",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 25
      },
      "lineNbr": 63,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-10T18:52:20Z",
      "side": 1,
      "message": "Done. Good to know - thanks!",
      "parentUuid": "806eccb9_7d10002e",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f256736a_af03604e",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 25
      },
      "lineNbr": 82,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-10-06T02:16:14Z",
      "side": 1,
      "message": "// ActiveScriptWrappable",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51481494_c8182f6f",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNode.h",
        "patchSetId": 25
      },
      "lineNbr": 82,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f256736a_af03604e",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce9b7c64_fb0c6fee",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNodeOptions.idl",
        "patchSetId": 25
      },
      "lineNbr": 9,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "The spec doesn\u0027t define |outputChannelCount|. Will this be defined in the spec?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bea85c15_a2e04c91",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletNodeOptions.idl",
        "patchSetId": 25
      },
      "lineNbr": 9,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Here: https://github.com/WebAudio/web-audio-api/pull/1386\n\nWG agreed on this, and the PR will be merged soon.",
      "parentUuid": "ce9b7c64_fb0c6fee",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df02d091_e0bd33a1",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletProcessor.h",
        "patchSetId": 25
      },
      "lineNbr": 31,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "Indent",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b61679e_0ba54080",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioWorkletProcessor.h",
        "patchSetId": 25
      },
      "lineNbr": 31,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df02d091_e0bd33a1",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74118aad_52e5c752",
        "filename": "third_party/WebKit/Source/modules/webaudio/BaseAudioContext.cpp",
        "patchSetId": 25
      },
      "lineNbr": 1036,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "\";\" is not neccesary.",
      "range": {
        "startLine": 1036,
        "startChar": 1,
        "endLine": 1036,
        "endChar": 2
      },
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7da0e64_e6db526c",
        "filename": "third_party/WebKit/Source/modules/webaudio/BaseAudioContext.cpp",
        "patchSetId": 25
      },
      "lineNbr": 1036,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "Oops. Fixed.",
      "parentUuid": "74118aad_52e5c752",
      "range": {
        "startLine": 1036,
        "startChar": 1,
        "endLine": 1036,
        "endChar": 2
      },
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1901d832_262ddacd",
        "filename": "third_party/WebKit/Source/modules/webaudio/BaseAudioContext.h",
        "patchSetId": 25
      },
      "lineNbr": 339,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-10-06T05:36:00Z",
      "side": 1,
      "message": "Why don\u0027t we use WorkletMessagingProxy() for the existence check?",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca334172_5e86e8aa",
        "filename": "third_party/WebKit/Source/modules/webaudio/BaseAudioContext.h",
        "patchSetId": 25
      },
      "lineNbr": 339,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-10-06T18:21:42Z",
      "side": 1,
      "message": "I think it is more explicit that way. Also the getter can return nullptr (because AWMP is active only after .addModule() is called) and it\u0027s valid operation. AudioContext should work even without AWMP.\n\nSo having an explicit getter improves the meaning of the code and the state of the worklet function in WebAudio.",
      "parentUuid": "1901d832_262ddacd",
      "revId": "141222758402dc9c530de4a5da61a1745239ffa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}