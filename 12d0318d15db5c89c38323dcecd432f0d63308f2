{
  "comments": [
    {
      "key": {
        "uuid": "ecca258a_4b3d9e50",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1123899
      },
      "writtenOn": "2017-10-09T20:07:24Z",
      "side": 1,
      "message": "What does this condition mean?  When not in VI oobe, ARC oobe is active?",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55a2b1e8_0c1c21f2",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1211724
      },
      "writtenOn": "2017-10-09T20:19:54Z",
      "side": 1,
      "message": "If the IsVoiceInteractionOobe() is false, the Oobe flow for first sign-in is active, which is the same to the assumption of the older logic (before this CL:https://chromium-review.googlesource.com/c/chromium/src/+/660921).",
      "parentUuid": "ecca258a_4b3d9e50",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36a2d00f_8106be18",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1211724
      },
      "writtenOn": "2017-10-10T01:28:10Z",
      "side": 1,
      "message": "Added the new user logic back so that it will completely the same to the older logic (if  IsVoiceInteractionOobe() is false). Keeping the older logic for non voice interaction situation will fix the bug.",
      "parentUuid": "55a2b1e8_0c1c21f2",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3299fbe6_898d5739",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-10T12:18:22Z",
      "side": 1,
      "message": "The logic restoring is incomplete?\nIf !IsVIOobe \u0026\u0026 !IsCurrentUserNew() case, it still checks the following condition, which looks unexpected IIUC?\nAlso, we still need to check SCREEN_ARC_TERMS_OF_SERVICE condition, in non VI case, too?\n\nBecause the condition is being complicated more, could you add detailed comments about in which case we want to return true / false?",
      "parentUuid": "36a2d00f_8106be18",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4439956_62afd43a",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1211724
      },
      "writtenOn": "2017-10-10T18:18:52Z",
      "side": 1,
      "message": "In the case (!IsVIOobe \u0026\u0026 !IsCurrentUserNew), It definitely cannot be Arc OOBE OptIn. So we \ncan either explicitly return false or let the SCREEN_ARC_TERMS_OF_SERVICE check to fail. Which one do you prefer?\n\nAnd we no longer want to check the screen for non-VI situation, since the Arc enable signal fired on corporate account is earlier than the OOBE OptIn page shows up (which I think is caused by a recent change, since on early version of M62 it still works fine), which will fail the screen check unexpectedly.\n\nAbout the comments, the cases to return false seems to be kind of straight, so I am considering add comments for the cases return true like the followings:\n\n// Make sure the user is new and the login host is active for first sign-in OOBE OptIn flow.\nif (!host-\u003eIsVIOobe())\n...\n...\n// Make sure the wizard controller is active and have the Arc ToS screen showing for the voice interaction OptIn flow.",
      "parentUuid": "3299fbe6_898d5739",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f28e3b78_3b971a19",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1123899
      },
      "writtenOn": "2017-10-11T00:15:53Z",
      "side": 1,
      "message": "I think we need to make the assumptions clear for this method.  Right now, we assume this method is only called \"when SCREEN_ARC_TERMS_OF_SERVICE is currently showing if it is ever going to show during the login host session\".  If we cannot hold this assumption, a lot of checks here won\u0027t make sense.\n\nYue, you mentioned that you saw the problem is caused by the fact this method is called before SCREEN_ARC_TERMS_OF_SERVICE is shown.  Abe-san, do you know if we want to support this case?",
      "parentUuid": "b4439956_62afd43a",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30c8b621_480ee37c",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-11T09:44:28Z",
      "side": 1,
      "message": "\u003e fired on corporate account\n\u003e Abe-san, do you know if we want to support this case?\n\nIt sounds interesting, because on corp account, we don\u0027t expect ARC ToS page on OOBE, IIUC.\nSergey, could you check?",
      "parentUuid": "f28e3b78_3b971a19",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e35786a_13d3c761",
        "filename": "chrome/browser/chromeos/arc/arc_session_manager.cc",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2017-10-11T19:05:08Z",
      "side": 1,
      "message": "We do expect once B\u0026R option and Location services are not covered by policy.",
      "parentUuid": "30c8b621_480ee37c",
      "range": {
        "startLine": 174,
        "startChar": 1,
        "endLine": 174,
        "endChar": 38
      },
      "revId": "12d0318d15db5c89c38323dcecd432f0d63308f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}