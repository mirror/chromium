{
  "comments": [
    {
      "key": {
        "uuid": "ec4188d2_fe0356af",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 2
      },
      "lineNbr": 778,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T16:45:23Z",
      "side": 1,
      "message": "Do you need to update FlagSpecificExpectations as well?",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "202d9666_d53292f4",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 2
      },
      "lineNbr": 778,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T19:58:10Z",
      "side": 1,
      "message": "Done. \n\nI\u0027ve thought that kojii does this weekly. There could be many other tests affected so I did not think that changing these 3 matters.",
      "parentUuid": "ec4188d2_fe0356af",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69426f8e_43617f0d",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 2
      },
      "lineNbr": 778,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T20:46:43Z",
      "side": 1,
      "message": "Wouldn\u0027t CQ block your patch from committing if you don\u0027t add it? I was only talking about this one test.",
      "parentUuid": "202d9666_d53292f4",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03a7f7cd_cb013de9",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 2
      },
      "lineNbr": 778,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T21:43:58Z",
      "side": 1,
      "message": "You are right, I always end up just commenting layout_ng bot out. \n\nThe problem is that I\u0027ve been unable to run full test suite locally, so I\u0027ve been shy about updating global expectations.\n\nhttps://groups.google.com/a/chromium.org/forum/#!searchin/blink-dev/Stephen$20Chenney%7Csort:date/blink-dev/K9ExTljp1xw/niDT0sB8BAAJ",
      "parentUuid": "69426f8e_43617f0d",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41af360c_c8aa930e",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_layout_algorithm.cc",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T16:45:23Z",
      "side": 1,
      "message": "I still think that ng_length_utils needs to take this into account (in places like https://cs.chromium.org/chromium/src/third_party/WebKit/Source/core/layout/ng/ng_length_utils.cc?q\u003dng_length_utils+package:%5Echromium$\u0026l\u003d68), and once it does that you do not need to handle this here. We should not need to sprinkle around std::max outside of length utils.",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bda64ea_26dc3437",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_layout_algorithm.cc",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T19:58:10Z",
      "side": 1,
      "message": "I disagree.\n\nI think the fundamental cause of our agreement is the disconnect between CSS spec, and what browsers implement.\n\nLets analyze blink::ComputeBlockSizeForFragment\n\n// Resolves the given length to a layout unit, constraining it by the min\n// logical height and max logical height properties from the ComputedStyle\n// object.\nComputeBlockSizeForFragment(\nconst NGConstraintSpace\u0026, const ComputedStyle\u0026, LayoutUnit content_size)\n\nI find this documentation confusing. What is \"given length\"? content_size?\n\nReading the code, I think what code does is:\n\n// Compute border box block length given CSS logical height. \n// Result is constrained by min/max CSS logical height.\n// TODO Document what is content_size\n\nAccording to the spec, given the following CSS, d1 and d2 should have different border-box sizes, because d2 also includes the scrollbar.\n\n#d1 {\n  box-sizing: content-box;\n  overflow: hidden;\n  width:100px;\n  height:80px;\n}\n#d2 {\n  box-sizing: content-box;\n  overflow: scroll;\n  width:100px;\n  height:80px;\n}\n\u003cdiv id\u003d\"d1\"\u003e\u003c/div\u003e\n\u003cdiv id\u003d\"d2\"\u003e\u003c/div\u003e\n\nThat is not what happens in any of the today\u0027s browsers. All of them keep sizes of d1 and d2 the same. Given this consistency, maybe there is some spec addendum about this I am not aware of. Will ask tabatkins.\n\nTo be compatible with the web, ComputeBlockSizeForFragment should not take scrollbars into account.\n\nI was unable to test what happens for min-content, max-content cases in multiple browsers, because they do not implement it. For consistency, they should probably ignore scrollbars too.",
      "parentUuid": "41af360c_c8aa930e",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c0686ae_bfdffb1e",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_layout_algorithm.cc",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T20:46:43Z",
      "side": 1,
      "message": "Yeah, hm, your response reminded me that I had the same discussion with Morten recently who said similar things. I guess this is OK for now. Longer-term we will need something like the ugly VerticalScrollbarWidthClampedToContentBox (https://codereview.chromium.org/2893833004/).\n\n\"given length\" is outdated :/ it should say \"block-size as specified in CSS (width/height)\".\n\n(But note that the inline version will need to take scrollbars into account for min/max/fit content)",
      "parentUuid": "2bda64ea_26dc3437",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c862900_31ca9860",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_layout_algorithm.cc",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T21:43:58Z",
      "side": 1,
      "message": "We should talk to tab about what the right thing to do for min/max/fit.",
      "parentUuid": "6c0686ae_bfdffb1e",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6562ba69_6cd4be75",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 257,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T16:45:23Z",
      "side": 1,
      "message": "This needs to take into account the scrollbar size as well",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7331a61_f8fb2e95",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 257,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T19:58:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6562ba69_6cd4be75",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1c65f58_8178195c",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 257,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T20:46:43Z",
      "side": 1,
      "message": "It would\u0027ve been simpler to just turn border_and_padding into border_scrollbar_padding since both of its users want the scrollbar, but this works too.",
      "parentUuid": "e7331a61_f8fb2e95",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d233ee16_dd348278",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 257,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T21:43:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1c65f58_8178195c",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25c4be23_919ced44",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 284,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T16:45:23Z",
      "side": 1,
      "message": "Please rename to scrollbar_sizes",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38e6e84a_4a6e5681",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 284,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T19:58:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25c4be23_919ced44",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdcc34e7_5b9f632a",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1002487
      },
      "writtenOn": "2017-06-20T16:45:23Z",
      "side": 1,
      "message": "Shouldn\u0027t this also be .block_end?",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "368bf3b6_49571008",
        "filename": "third_party/WebKit/Source/core/layout/ng/ng_block_node.cc",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-06-20T19:58:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bdcc34e7_5b9f632a",
      "revId": "008046c97bb0aff85c1b2afc0c0d8807406a74ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}