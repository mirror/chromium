{
  "comments": [
    {
      "key": {
        "uuid": "26d5e613_50c752e1",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "NIT: Courgette (capitalize).",
      "range": {
        "startLine": 83,
        "startChar": 17,
        "endLine": 83,
        "endChar": 26
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e62ce77_11f41d53",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "26d5e613_50c752e1",
      "range": {
        "startLine": 83,
        "startChar": 17,
        "endLine": 83,
        "endChar": 26
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b29ed9d_c7018dc1",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 106,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "NIT: Zucchini (capitalize).",
      "range": {
        "startLine": 106,
        "startChar": 24,
        "endLine": 106,
        "endChar": 32
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03802374_1d1f99be",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 106,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b29ed9d_c7018dc1",
      "range": {
        "startLine": 106,
        "startChar": 24,
        "endLine": 106,
        "endChar": 32
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd91de97_6a452377",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-08-21T20:52:45Z",
      "side": 1,
      "message": "this seems like the sort of thing that every caller would want to do. is there a reason to leave a bad file behind in certain cases? if not, please move this into Apply",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80ba3341_a2edfd59",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "Please ping waffles@; I remember he had to deal with this issue, but the details escapes me.",
      "parentUuid": "fd91de97_6a452377",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "743e283c_cbc8ccdc",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "New zucchini::Apply() will be used in MainApply() (as follow-up CL). We sometimes want to keep the invalid new file for debugging, which can be set with a command line switch (--keep). It also seems to be simpler to ensure file is deleted on error if this is done here because of SEH.",
      "parentUuid": "fd91de97_6a452377",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bb45fba_3e497d20",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-08-22T08:21:39Z",
      "side": 1,
      "message": "Do other platforms have their own way of handling I/O errors from reading mapped files? I don\u0027t like that every caller of this will need to spread their own special sauce around to handle the errors and delete the file. Can the exception handling be in zucchini lib in OS_WIN blocks?",
      "parentUuid": "743e283c_cbc8ccdc",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ae23091_b62be2bf",
        "filename": "chrome/installer/setup/archive_patch_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 1116066
      },
      "writtenOn": "2017-08-22T14:41:05Z",
      "side": 1,
      "message": "I don\u0027t remember the details either :(.\n\nSince we were doing the patching OOP, one concern we had was that we had to ensure the file was deleted even if the utility process crashed or if the IPC broke in some way.\n\nIt would be nice if the code had a guarantee that it could clean everything up in the case of a failure.",
      "parentUuid": "9bb45fba_3e497d20",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36b5c780_3f772493",
        "filename": "chrome/installer/setup/archive_patch_helper.h",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "NIT: Courgette (capitali",
      "range": {
        "startLine": 59,
        "startChar": 21,
        "endLine": 59,
        "endChar": 30
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b682914_815cbd62",
        "filename": "chrome/installer/setup/archive_patch_helper.h",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "36b5c780_3f772493",
      "range": {
        "startLine": 59,
        "startChar": 21,
        "endLine": 59,
        "endChar": 30
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3cb97c64_472bbdb9",
        "filename": "chrome/installer/setup/archive_patch_helper.h",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "NIT: Zucchini (capitalize).",
      "range": {
        "startLine": 63,
        "startChar": 21,
        "endLine": 63,
        "endChar": 29
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "853b9a40_0dd43112",
        "filename": "chrome/installer/setup/archive_patch_helper.h",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3cb97c64_472bbdb9",
      "range": {
        "startLine": 63,
        "startChar": 21,
        "endLine": 63,
        "endChar": 29
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f6bac4d_6268e7a1",
        "filename": "chrome/installer/zucchini/zucchini.h",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "I thought always thought zucchini-lib should let the caller handle File I/O, and operate purely on ConstBufferView. But if this is a practical way to get things to work, then oh well...  \n\nNote that courgette.h makes a similar compromise.",
      "range": {
        "startLine": 53,
        "startChar": 2,
        "endLine": 53,
        "endChar": 78
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8ffb205_b0891db4",
        "filename": "chrome/installer/zucchini/zucchini.h",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "That causes some kind of asymmetry between Generate and Apply. I think this is the practical (and fastest) solution for now. Suggestions for the future:\n-Implement file-level Generate\n-Move these function to a different header.\n-have a new target for file-level zucchini, something like zucchini_io.",
      "parentUuid": "9f6bac4d_6268e7a1",
      "range": {
        "startLine": 53,
        "startChar": 2,
        "endLine": 53,
        "endChar": 78
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "556f254e_9153e345",
        "filename": "chrome/installer/zucchini/zucchini.h",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-08-21T20:52:45Z",
      "side": 1,
      "message": "FilePath has historically been passed by constref. unless this has changed thanks to movable types (I\u0027m not aware), please use constref here.",
      "range": {
        "startLine": 55,
        "startChar": 19,
        "endLine": 55,
        "endChar": 33
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68348990_e8e1f7c6",
        "filename": "chrome/installer/zucchini/zucchini.h",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:04:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "556f254e_9153e345",
      "range": {
        "startLine": 55,
        "startChar": 19,
        "endLine": 55,
        "endChar": 33
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c92adc3_19386fd3",
        "filename": "chrome/installer/zucchini/zucchini_apply.cc",
        "patchSetId": 4
      },
      "lineNbr": 260,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "Prefer to have all these file-related stuff in a new .cc file though?",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 260,
        "endChar": 18
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e455e08_6e60525b",
        "filename": "chrome/installer/zucchini/zucchini_apply.cc",
        "patchSetId": 4
      },
      "lineNbr": 260,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "Moving to zucchini_file_io",
      "parentUuid": "7c92adc3_19386fd3",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 260,
        "endChar": 18
      },
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "248d3a8e_a7b0c31b",
        "filename": "chrome/installer/zucchini/zucchini_apply.cc",
        "patchSetId": 4
      },
      "lineNbr": 283,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-08-21T23:20:23Z",
      "side": 1,
      "message": "Should we validate |old_file| size and CRC right here, to early-exit if an incompatible patch is provided, so we won\u0027t have to go through file creation and patch application?",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f4f0885_9171af62",
        "filename": "chrome/installer/zucchini/zucchini_apply.cc",
        "patchSetId": 4
      },
      "lineNbr": 283,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:47:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "248d3a8e_a7b0c31b",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1650e52a_eb757466",
        "filename": "chrome/installer/zucchini/zucchini_apply.cc",
        "patchSetId": 4
      },
      "lineNbr": 298,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-08-21T20:52:45Z",
      "side": 1,
      "message": "be aware that since the input and output files are mapped into memory, I/O errors will lead to crashes while accessing the mapped regions rather than predictable return values from file I/O APIs. you could turn the I/O errors back into predictable return values on Windows by using structured exception handling (__try and friends). is it the right thing to crash on error rather than gracefully fail?",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f9f6da_ffb7a6db",
        "filename": "chrome/installer/zucchini/zucchini_apply.cc",
        "patchSetId": 4
      },
      "lineNbr": 298,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-08-21T23:04:21Z",
      "side": 1,
      "message": "Gracefully fail on I/O error sounds better than crashing. Since structured exception handling is only for windows, I\u0027m adding it on the caller side.",
      "parentUuid": "1650e52a_eb757466",
      "revId": "1e125f44054dd331bfa4acd2deb1cac6529201d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}