{
  "comments": [
    {
      "key": {
        "uuid": "4620e6b3_66f4f319",
        "filename": "third_party/WebKit/Source/controller/OomInterventionImpl.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-12-21T11:20:07Z",
      "side": 1,
      "message": "Add explicit.",
      "revId": "57e8a4131d2938ecc6075f1fa4fef19a3478ec6c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37fe198a_5724aff4",
        "filename": "third_party/WebKit/Source/controller/OomInterventionImpl.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-12-21T23:10:29Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4620e6b3_66f4f319",
      "revId": "57e8a4131d2938ecc6075f1fa4fef19a3478ec6c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d563820e_3b9e9e2d",
        "filename": "third_party/WebKit/public/platform/oom_intervention.mojom",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-12-21T11:20:07Z",
      "side": 1,
      "message": "Instead of introducing bi-directional mojo interfaces, would it be simpler to let browser call PeekMemoryPressureInRenderer() periodically? The browser can get the memory pressure with the response of PeekMemoryPressureInRenderer().",
      "revId": "57e8a4131d2938ecc6075f1fa4fef19a3478ec6c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9e2a228_24cb6fca",
        "filename": "third_party/WebKit/public/platform/oom_intervention.mojom",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-12-21T23:10:29Z",
      "side": 1,
      "message": "IPCs become very slow (~seconds) under high memory pressure and renderer would be OOMed if we set a tight threshold. OTHO, when we set lower threshold we wouldn\u0027t be able to improve success estimation rate.",
      "parentUuid": "d563820e_3b9e9e2d",
      "revId": "57e8a4131d2938ecc6075f1fa4fef19a3478ec6c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bb63c43_cce07195",
        "filename": "third_party/WebKit/public/platform/oom_intervention.mojom",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-12-21T23:53:33Z",
      "side": 1,
      "message": "Makes sense.\n\nEven in that case, can we remove OomInterventionHost by making NearOomDetectedOnRenderer and DetectionTimedOutOnRenderer a response of StartDetection?\n\nMy point is that bi-directional mojo interfaces would not be needed because mojo is a bi-directional thing.",
      "parentUuid": "f9e2a228_24cb6fca",
      "revId": "57e8a4131d2938ecc6075f1fa4fef19a3478ec6c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7107a488_f6f850b6",
        "filename": "third_party/WebKit/public/platform/oom_intervention.mojom",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-12-22T00:01:29Z",
      "side": 1,
      "message": "Do you mean:\nStartDetection(...) \u003d\u003e (bool triggered)\n\n?\n\nActually that was my first attempt but looks like we can\u0027t hold response callback outside the event loop. I did something like below but it didn\u0027t work:\n\nclass Impl {\n  void StartDetection(..., StartDetectionCallback callback) {\n    ...\n    callback_ \u003d std::move(callback);\n    PostTask(Check);\n  }\n  void Check() {\n    std::move(callback_).Run();\n  }\n  StartDetectionCallback callback_;\n}\n\nMaybe I\u0027m wrong but if we want to make async outgoing calls, I think we need to define an interface.",
      "parentUuid": "4bb63c43_cce07195",
      "revId": "57e8a4131d2938ecc6075f1fa4fef19a3478ec6c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}