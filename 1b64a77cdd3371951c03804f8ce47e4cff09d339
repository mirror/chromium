{
  "comments": [
    {
      "key": {
        "uuid": "4a80f31f_94b6fdc8",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-07-19T18:35:11Z",
      "side": 1,
      "message": "This situation isn\u0027t possible - no need for this special handling.",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "989a95ad_fd5070f1",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1229022
      },
      "writtenOn": "2017-07-19T18:50:09Z",
      "side": 1,
      "message": "It is possible, Steven highlighted how in his previous comment here (unless I misunderstood?)",
      "parentUuid": "4a80f31f_94b6fdc8",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d046bd4_96c752f0",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-07-19T18:52:59Z",
      "side": 1,
      "message": "Are you certain? What about multiple connection attempts, e.g. the second attempt occurs after WiFi is enabled below but before the ansynchronous observer handler is called?",
      "parentUuid": "4a80f31f_94b6fdc8",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "527d5c04_1a52cf99",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-07-19T18:54:17Z",
      "side": 1,
      "message": "Hmm, I disagree that it is possible. If IsTechnologyEnabled() returns true, then NetworkStateHandler would already have called DeviceListChanged() on its observers, and the variable would have already been set to false.\n\nSince this code is all run on the I/O thread, there is no chance of multiple threads hitting this at the same time.\n\nstevenjb@, can you verify that this makes sense?",
      "parentUuid": "989a95ad_fd5070f1",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f52d8bfb_5edef997",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-07-19T19:07:52Z",
      "side": 1,
      "message": "You are correct that as implemented DeviceListChanged gets called immediately when the enabled state changes, but we probably shouldn\u0027t count on that implementation detail. Its an observer method and could easily get called asynchronously instead (i.e. as a queued task). In practice that is unlikely to change, but it\u0027s still good not to make that sort of assumption.\n\nAlso, this is all called on the *UI* thread, right? NSH calls are not allowed on any IO threads...",
      "parentUuid": "527d5c04_1a52cf99",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63f42ed6_33b4c135",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-07-19T19:12:54Z",
      "side": 1,
      "message": "Fair point that it\u0027s an implementation detail. I\u0027m okay with leaving this here, then.\n\nAnd yes, my mistake - I meant the UI thread :)",
      "parentUuid": "f52d8bfb_5edef997",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2044d60_d7ba1448",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1229022
      },
      "writtenOn": "2017-07-19T20:46:33Z",
      "side": 1,
      "message": "Resolved.",
      "parentUuid": "63f42ed6_33b4c135",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 78
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad0200e6_505b324b",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-07-19T18:35:11Z",
      "side": 1,
      "message": "Can you make a handler and log this if it ever occurs? Also set |is_waiting_for_wifi_to_enable_| to false.",
      "range": {
        "startLine": 92,
        "startChar": 8,
        "endLine": 92,
        "endChar": 50
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f48f862a_75996245",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1229022
      },
      "writtenOn": "2017-07-19T18:50:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad0200e6_505b324b",
      "range": {
        "startLine": 92,
        "startChar": 8,
        "endLine": 92,
        "endChar": 50
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04980da8_1bf64648",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-07-19T18:52:59Z",
      "side": 1,
      "message": "I meant to add a similar comment. We should also set is_waiting_for_wifi_to_enable_ to false there so that we retry enabling wifi on subsequent connection attempts.",
      "parentUuid": "ad0200e6_505b324b",
      "range": {
        "startLine": 92,
        "startChar": 8,
        "endLine": 92,
        "endChar": 50
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0558bef4_baa7c75f",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1229022
      },
      "writtenOn": "2017-07-19T20:46:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04980da8_1bf64648",
      "range": {
        "startLine": 92,
        "startChar": 8,
        "endLine": 92,
        "endChar": 50
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9976ee0_9f8ae449",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-07-19T18:35:11Z",
      "side": 1,
      "message": "passed",
      "range": {
        "startLine": 174,
        "startChar": 54,
        "endLine": 174,
        "endChar": 60
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08cbc318_69ea642a",
        "filename": "chromeos/components/tether/wifi_hotspot_connector.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1229022
      },
      "writtenOn": "2017-07-19T18:50:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9976ee0_9f8ae449",
      "range": {
        "startLine": 174,
        "startChar": 54,
        "endLine": 174,
        "endChar": 60
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f819eac1_5fab4f57",
        "filename": "chromeos/components/tether/wifi_hotspot_connector_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 636,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-07-19T18:35:11Z",
      "side": 1,
      "message": "nit: Add comment: \"No configuration should have been created since the connection attempt timed out before Wi-Fi was successfully enabled.\"",
      "range": {
        "startLine": 636,
        "startChar": 0,
        "endLine": 636,
        "endChar": 60
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9331bde_45a8f22d",
        "filename": "chromeos/components/tether/wifi_hotspot_connector_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 636,
      "author": {
        "id": 1229022
      },
      "writtenOn": "2017-07-19T18:50:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f819eac1_5fab4f57",
      "range": {
        "startLine": 636,
        "startChar": 0,
        "endLine": 636,
        "endChar": 60
      },
      "revId": "1b64a77cdd3371951c03804f8ce47e4cff09d339",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}