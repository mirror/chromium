{
  "comments": [
    {
      "key": {
        "uuid": "764bd223_c05fb1e5",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1122,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "nit: could grab it from contents_texture_it here, and drop that intermediate variable",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1c118c3_3e0722a9",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1122,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "764bd223_c05fb1e5",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d385d9a4_746465cd",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1332,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "the current_framebuffer_colorspace_ would be the colorspace we\u0027re drawing into, not the colorspace of what we\u0027re reading?",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a54b07a8_c68f317d",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1332,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "the current_framebuffer_colorspace_ would be the colorspace we\u0027re drawing into, not the colorspace of what we\u0027re reading?",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d42a01c0_206fdd51",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1332,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "This has always been the current_frame()-\u003ecurrent_render_pass-\u003ecolor_space.\n\nhttps://chromium-review.googlesource.com/c/chromium/src/+/749101/25/components/viz/service/display/direct_renderer.cc#b660\n\n\nHow about did as the original does, add member ScopedRenderPassTexture::color_space_ ?",
      "parentUuid": "d385d9a4_746465cd",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9154ac76_7a4a6fbb",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1332,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "Add TODO for this.",
      "parentUuid": "d42a01c0_206fdd51",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "314281ea_44cd0eec",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1394,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "same here?",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "becbaa20_6b9b2fa4",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 1394,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "314281ea_44cd0eec",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5e6ec8f_d97f72dd",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 2914,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "Can you move this down just above where we set current_framebuffer_texture_, rather than above the DCHECKs?",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5551693_1c1b0c1d",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 2914,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5e6ec8f_d97f72dd",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f75998f4_b2fe6e0b",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 2915,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "I think we could skip this variable",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0123641a_31b4aac2",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 2915,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f75998f4_b2fe6e0b",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4498b5d8_00127dcf",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 2919,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "We don\u0027t need to do this nullptr step anymore",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f076300_c4349c3a",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 2919,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4498b5d8_00127dcf",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "802ebe7c_2cd56146",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3307,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "I think we could skip this variable also",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6cb3caf8_3382eb62",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3307,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "802ebe7c_2cd56146",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1e0a671_698ca6fd",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3599,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "\"be deleted\"",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c16d561c_cc1746fc",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3599,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d1e0a671_698ca6fd",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "358c1f42_698ce2ab",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3604,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "Can we keep checking for wrong size/hint here also and erase them here in this method, so we do all the erasing in one place? It is harder to follow when it gets split.",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "591ed97f_14667ee0",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3604,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "The reason why we can not delete it here is, we can not do render_pass_textures_.erase(pair.first) inside a loop of render_pass_textures_. It\u0027s ok to update items in render_pass_textures_ by Allocate/Free. But delete it is improper.",
      "parentUuid": "358c1f42_698ce2ab",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b514b182_1813b66b",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3604,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-13T16:31:01Z",
      "side": 1,
      "message": "Sure, by \"here\" i mean in this method. We can add things that are the wrong size to passes_to_delete like we do for to passes that aren\u0027t in the frame, and they\u0027ll be erased below.",
      "parentUuid": "591ed97f_14667ee0",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37a6a230_6846e228",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3604,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-14T23:53:19Z",
      "side": 1,
      "message": "Yes, we can add the size/hint changed item into passes_to_delete. But this is not enough, we need to also store the size/hint here, because size/hint is updated.",
      "parentUuid": "b514b182_1813b66b",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2794108_fcd51b9f",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3604,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "The size/hint is passed to AllocateRenderPassResourceIfNeeded() also right, so we should be able to get that info there?",
      "parentUuid": "37a6a230_6846e228",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32bca978_9ee5678d",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3604,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "For some case, whose size/hint changed, need to get the size/hint info.\n\nBTW, the erase in AllocateRenderPassResourceIfNeeded is to replace texture  for specific render pass.",
      "parentUuid": "e2794108_fcd51b9f",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f046ac99_3bc3236f",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3653,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "This isn\u0027t the framebuffer\u0027s colorspace. The framebuffer is what we\u0027re drawing to, but this is the colorspace of the renderpass we\u0027re drawing from. Should we maybe just set the params\u0027 colorspace when we set the contents texture/bypass texture originally?",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbfef400_752718d5",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3653,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "How about did as the original does, add member ScopedRenderPassTexture::color_space_ ?",
      "parentUuid": "f046ac99_3bc3236f",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc174b6c_e0cc83ce",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3653,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-13T16:31:01Z",
      "side": 1,
      "message": "Wouldn\u0027t it be simpler to just set the params colorspace when we draw the RenderPassDrawQuad? Do we not have the colorspace there?",
      "parentUuid": "cbfef400_752718d5",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1ea6358_a9735b29",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3653,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-14T23:53:19Z",
      "side": 1,
      "message": "I will investigate this. How about add a todo for this?",
      "parentUuid": "bc174b6c_e0cc83ce",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5470113_68135ef1",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3653,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-15T00:26:46Z",
      "side": 1,
      "message": "ok sure",
      "parentUuid": "c1ea6358_a9735b29",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bcb4517_7a8dd857",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3653,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-18T14:19:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5470113_68135ef1",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f5c0d3e_c805ac8b",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3662,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-12T21:47:43Z",
      "side": 1,
      "message": "Can we only make the texture in the map when we allocate it? Do we need to have 0 ids in the map?",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19d2c7e5_a1942416",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3662,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-13T10:42:27Z",
      "side": 1,
      "message": "Sorry, not sure if I get your ideas correctly, this texture_it-\u003esecond.id() is the texture id.",
      "parentUuid": "0f5c0d3e_c805ac8b",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4e8fe4b_6070d620",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3662,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-12-13T16:31:01Z",
      "side": 1,
      "message": "Right, but when we make the ScopedRenderPassTexture, it will allocate a non-zero texture id. So when is there a 0 texture id in the render_pass_textures_ map?",
      "parentUuid": "19d2c7e5_a1942416",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a51a7c8a_c4af4c29",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3662,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-14T23:53:19Z",
      "side": 1,
      "message": "Thanks, understood. use return texture_it !\u003d render_pass_textures_.end(); instead.",
      "parentUuid": "e4e8fe4b_6070d620",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cf82dad_4729a166",
        "filename": "components/viz/service/display/gl_renderer.cc",
        "patchSetId": 29
      },
      "lineNbr": 3662,
      "author": {
        "id": 1139801
      },
      "writtenOn": "2017-12-15T02:24:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a51a7c8a_c4af4c29",
      "revId": "768cbe3e4119794e7f3ab34942d71f94e088dfe9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}