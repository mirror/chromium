{
  "comments": [
    {
      "key": {
        "uuid": "0fbf267f_6162a5b8",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-02T17:40:51Z",
      "side": 1,
      "message": "Why is this (and other mojom headers) safe to include? The generated code is far from POD only.",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa044db6_a6f7efa5",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-03T07:33:48Z",
      "side": 1,
      "message": "Probably we should update the comment? Using mojo bindings seems to align chrome componentization/servicification.",
      "parentUuid": "0fbf267f_6162a5b8",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "041ea57a_7e43c879",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-03T08:02:47Z",
      "side": 1,
      "message": "Perhaps it\u0027d be better to put the mojom headers in a separate section. But it does seem like for the current goals (to move as much of content/renderer into Blink as possible to remove the need to convert between non-Blink and Blink types), we need to allow this by default.",
      "parentUuid": "aa044db6_a6f7efa5",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e1e0ce8_b64ff337",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-03T08:39:05Z",
      "side": 1,
      "message": "I\u0027ll do that if chrome/browser onwers are fine with that (but I\u0027d like to do in a separate CL).",
      "parentUuid": "041ea57a_7e43c879",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13b94bd3_4f42bb91",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-03T15:00:38Z",
      "side": 1,
      "message": "Could you elaborate on why mojoms are safe and other non-POD type includes aren\u0027t? It\u0027s very hard as a reviewer to know what these rules are and why. It would be far better if *all* of third_party/WebKit/public could be included and that\u0027s what the rule was here. If that isn\u0027t possibly, how about a new directory that is safe to include all from? Presumably webkit owners know the rules for what can and can\u0027t be allowed in the new directory far better than I would.",
      "parentUuid": "0e1e0ce8_b64ff337",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5504d42_ea50bdb4",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-06T00:45:03Z",
      "side": 1,
      "message": "I\u0027m not sure the current policy of what can and can\u0027t be allowed here but when I asked feedback on where to put the mojo interface, we decided to put it under third_party/WebKit in favor of avoiding redundant abstractions.\n\ndglazkov@, ojan@: Could you comment on this from Blink API owners perspective?\n\nI totally agree that we should clarify the rule here, but I\u0027d like to discuss the rule separately.",
      "parentUuid": "13b94bd3_4f42bb91",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11bddf49_9e13f78e",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-06T00:50:42Z",
      "side": 1,
      "message": "+jam@",
      "parentUuid": "f5504d42_ea50bdb4",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e1246c1_efeac43d",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-06T15:23:59Z",
      "side": 1,
      "message": "The purpose of this DEPS rule is that browser/ code doesn\u0027t link with WebKit. This was originally done because of the dll binary split on Windows. We did allow POD/enums to be included to avoid duplicating them between browser \u0026 renderer.\n \nThe reason it\u0027s ok to include mojoms is that we create 2 flavors of the interfaces: the \u0027chromium\u0027 ones that use STL types, and the \u0027WebKit\u0027 ones that use webkit strings, containers etc... When browser/ uses a mojom, that\u0027s by definition using types that are outside of WebKit so the issue of linking with WebKit is moot.",
      "parentUuid": "11bddf49_9e13f78e",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3886ded1_ef327aa4",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1200434
      },
      "writtenOn": "2017-11-06T16:29:56Z",
      "side": 1,
      "message": "Thanks for replying, jam@. I like the idea of having a separate section in the DEPS file. bashi@, would you mind creating it? You can use bits of jam@\u0027s explanation as the comment, explaining the reason for the section",
      "parentUuid": "5e1246c1_efeac43d",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ef6e895_1be4ea81",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "Is it possible to just remove the response then?",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4953b417_a96d81ea",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "Yes. I added response for tests. I\u0027ll remove it.",
      "parentUuid": "0ef6e895_1be4ea81",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99aa863a_db4bd3f4",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-03T07:33:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4953b417_a96d81ea",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22afa77f_8f2bacdb",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "Since this is bound using a strong binding, we *could* just reset |intervention_| here. This will destroy the pause scoper, since the Mojo impl will be destroyed on connection error.",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5ab5cec_15563cf1",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "Will do.",
      "parentUuid": "22afa77f_8f2bacdb",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b723b4d_3d493a25",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-03T07:33:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f5ab5cec_15563cf1",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f858899_b3c1d44b",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "1) Can OnNearOomDetected be called multiple times? And presumably this infobar is per tab, right? What happens if the user switches tabs?\n2) Android doesn\u0027t currently use OOPIF, but it seems like this intervention would only affect the main frame. Should we consider OOPIF?\n3) AFAICT, pausing is renderer process global. Would it make sense to make it a per-process interface, rather than per-frame?\n4) What happens if this infobars in multiple tabs? This would create multiple impl objects as well--and so declining the infobar in one wouldn\u0027t unpause (since another impl could still have an active scoper). So maybe the impl should be per-process and used for all mojo requests to that process for the OomIntervention interface?",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cd59c75_495a0e97",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "1) It can be called multiple times on a renderer (e.g. after navigation we reset intervention status). Only foreground renderer should receive OnNearOomDetected() message. If the user switches tabs the helper clears intervention status.\n2) Yes, this only affect the main frame. Also this intervention will be enabled only on low-end devices. I don\u0027t think we should consider OOPIF at this point.\n3) Yeah, it makes sense. Could you help me how to make this per-process? Which InterfaceRegistry I should use to expose renderer side interface?\n4) Is it possible to have multiple tabs in a renderer process on Android? Anyway I agree that the impl should be per-process.",
      "parentUuid": "7f858899_b3c1d44b",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f07535d_8ef45008",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-02T11:51:57Z",
      "side": 1,
      "message": "Given that pausing / unpausing is implemented in a per-process manner (using ScopedPageSuspender), I prefer making the impl per-process as well.",
      "parentUuid": "4cd59c75_495a0e97",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85b869c6_af6fbfed",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-03T07:33:48Z",
      "side": 1,
      "message": "Changed to per-process.",
      "parentUuid": "9f07535d_8ef45008",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04f74357_d179d54c",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "Can you help me understand why we need to wait for the renderer to respond?",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4caeed8a_e974ab62",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "Maybe we don\u0027t need, but I need a response to write tests. I\u0027m fine with removing this response too.",
      "parentUuid": "04f74357_d179d54c",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a24a88e_304422d5",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-03T07:33:48Z",
      "side": 1,
      "message": "Removed response callback.",
      "parentUuid": "4caeed8a_e974ab62",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}