{
  "comments": [
    {
      "key": {
        "uuid": "0fbf267f_6162a5b8",
        "filename": "chrome/browser/DEPS",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-02T17:40:51Z",
      "side": 1,
      "message": "Why is this (and other mojom headers) safe to include? The generated code is far from POD only.",
      "range": {
        "startLine": 147,
        "startChar": 15,
        "endLine": 147,
        "endChar": 63
      },
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ef6e895_1be4ea81",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "Is it possible to just remove the response then?",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4953b417_a96d81ea",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "Yes. I added response for tests. I\u0027ll remove it.",
      "parentUuid": "0ef6e895_1be4ea81",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22afa77f_8f2bacdb",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "Since this is bound using a strong binding, we *could* just reset |intervention_| here. This will destroy the pause scoper, since the Mojo impl will be destroyed on connection error.",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5ab5cec_15563cf1",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "Will do.",
      "parentUuid": "22afa77f_8f2bacdb",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f858899_b3c1d44b",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "1) Can OnNearOomDetected be called multiple times? And presumably this infobar is per tab, right? What happens if the user switches tabs?\n2) Android doesn\u0027t currently use OOPIF, but it seems like this intervention would only affect the main frame. Should we consider OOPIF?\n3) AFAICT, pausing is renderer process global. Would it make sense to make it a per-process interface, rather than per-frame?\n4) What happens if this infobars in multiple tabs? This would create multiple impl objects as well--and so declining the infobar in one wouldn\u0027t unpause (since another impl could still have an active scoper). So maybe the impl should be per-process and used for all mojo requests to that process for the OomIntervention interface?",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cd59c75_495a0e97",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "1) It can be called multiple times on a renderer (e.g. after navigation we reset intervention status). Only foreground renderer should receive OnNearOomDetected() message. If the user switches tabs the helper clears intervention status.\n2) Yes, this only affect the main frame. Also this intervention will be enabled only on low-end devices. I don\u0027t think we should consider OOPIF at this point.\n3) Yeah, it makes sense. Could you help me how to make this per-process? Which InterfaceRegistry I should use to expose renderer side interface?\n4) Is it possible to have multiple tabs in a renderer process on Android? Anyway I agree that the impl should be per-process.",
      "parentUuid": "7f858899_b3c1d44b",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f07535d_8ef45008",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-11-02T11:51:57Z",
      "side": 1,
      "message": "Given that pausing / unpausing is implemented in a per-process manner (using ScopedPageSuspender), I prefer making the impl per-process as well.",
      "parentUuid": "4cd59c75_495a0e97",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04f74357_d179d54c",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-11-02T07:39:08Z",
      "side": 1,
      "message": "Can you help me understand why we need to wait for the renderer to respond?",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4caeed8a_e974ab62",
        "filename": "chrome/browser/android/oom_intervention/oom_intervention_tab_helper.cc",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2017-11-02T08:11:01Z",
      "side": 1,
      "message": "Maybe we don\u0027t need, but I need a response to write tests. I\u0027m fine with removing this response too.",
      "parentUuid": "04f74357_d179d54c",
      "revId": "95d0fede6e1f4c2bbd0cb1b750587ebd33a2471e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}