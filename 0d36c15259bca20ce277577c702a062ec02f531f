{
  "comments": [
    {
      "key": {
        "uuid": "07223b8c_dac7d90d",
        "filename": "ios/chrome/browser/ui/omnibox/omnibox_text_field_ios.mm",
        "patchSetId": 1
      },
      "lineNbr": 965,
      "author": {
        "id": 1115920
      },
      "writtenOn": "2017-10-19T18:26:33Z",
      "side": 1,
      "message": "Do you understand the purpose of this DCHECK? It doesn\u0027t appear that any of the calls here need this as a precondition but I may be missing something.",
      "revId": "0d36c15259bca20ce277577c702a062ec02f531f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ebd29e0_2782a994",
        "filename": "ios/chrome/browser/ui/omnibox/omnibox_text_field_ios.mm",
        "patchSetId": 1
      },
      "lineNbr": 965,
      "author": {
        "id": 1115920
      },
      "writtenOn": "2017-10-19T19:33:22Z",
      "side": 1,
      "message": "It looks to me like this is more of a \"condition we expect to be true when this method is called\" kind of DCHECK rather than a \"condition that MUST be true when this method is called\" kind. In which case, I\u0027ve added a new use case under which this method will be called that doesn\u0027t satisfy this expectation so I should just remove it. But again, if I\u0027ve missed some reason why calling this when the text field isn\u0027t the first responder is dangerous, please let me know.",
      "parentUuid": "07223b8c_dac7d90d",
      "revId": "0d36c15259bca20ce277577c702a062ec02f531f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df7af49b_e09ad195",
        "filename": "ios/chrome/browser/ui/omnibox/omnibox_text_field_ios.mm",
        "patchSetId": 1
      },
      "lineNbr": 965,
      "author": {
        "id": 1000119
      },
      "writtenOn": "2017-10-20T18:39:15Z",
      "side": 1,
      "message": "\"Selected range\" also doesn\u0027t have any meaning if the text field is unfocused, right?  It looks like text selection is cleared when the field loses focus.\n\nWhat causes this method to get called on an unfocused text field?  The underlying bug is about passing the cursor to the search provider -- that should only happen when the user is actively editing, right?",
      "parentUuid": "1ebd29e0_2782a994",
      "revId": "0d36c15259bca20ce277577c702a062ec02f531f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47e89630_97190116",
        "filename": "ios/chrome/browser/ui/omnibox/omnibox_text_field_ios.mm",
        "patchSetId": 1
      },
      "lineNbr": 965,
      "author": {
        "id": 1115920
      },
      "writtenOn": "2017-10-25T18:04:12Z",
      "side": 1,
      "message": "You\u0027re right. What\u0027s happening is that OmniboxEditModel is calling GetSelectedRange as part of the revert process after focus loss:\n\nhttps://cs.chromium.org/chromium/src/components/omnibox/browser/omnibox_edit_model.cc?l\u003d380\u0026rcl\u003dfd35a843845c1820d06082fd2edf780abcd442e6\n\nWhen I comment out the DCHECK, there\u0027s no selection available anyway, like you said, so the values are just 0. So instead I\u0027ve added a guard for isFirstResponder in the view. Please take another look.",
      "parentUuid": "df7af49b_e09ad195",
      "revId": "0d36c15259bca20ce277577c702a062ec02f531f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}