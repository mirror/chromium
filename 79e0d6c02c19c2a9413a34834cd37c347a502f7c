{
  "comments": [
    {
      "key": {
        "uuid": "ec3cdf87_dff1cd2e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/externalauth/UserRecoverableErrorHandler.java",
        "patchSetId": 1
      },
      "lineNbr": 203,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "Nit: Javadoc please :)",
      "range": {
        "startLine": 203,
        "startChar": 23,
        "endLine": 203,
        "endChar": 34
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f859dd7d_62af56c4",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/externalauth/UserRecoverableErrorHandler.java",
        "patchSetId": 1
      },
      "lineNbr": 203,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ec3cdf87_dff1cd2e",
      "range": {
        "startLine": 203,
        "startChar": 23,
        "endLine": 203,
        "endChar": 34
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "048398a3_82cf793d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "Do these also need return statements? Otherwise, won\u0027t we dismiss the dialogs in lines 336-337?",
      "range": {
        "startLine": 326,
        "startChar": 20,
        "endLine": 326,
        "endChar": 73
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3abd238d_456e8be6",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-07-25T14:23:47Z",
      "side": 1,
      "message": "Missing a return here (otherwise the dialog is dismissed right after)?",
      "range": {
        "startLine": 326,
        "startChar": 38,
        "endLine": 326,
        "endChar": 39
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc7fadf7_2e49cc6e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Oops. Thanks!",
      "parentUuid": "3abd238d_456e8be6",
      "range": {
        "startLine": 326,
        "startChar": 38,
        "endLine": 326,
        "endChar": 39
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9e3865f0_375b1a14",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Oops. Thanks!",
      "parentUuid": "048398a3_82cf793d",
      "range": {
        "startLine": 326,
        "startChar": 20,
        "endLine": 326,
        "endChar": 73
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "059bd74a_31dc515e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 329,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-07-25T14:23:47Z",
      "side": 1,
      "message": "Missing a return here (otherwise the dialog is dismissed right after)?",
      "range": {
        "startLine": 329,
        "startChar": 20,
        "endLine": 329,
        "endChar": 41
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3befa53a_e707b9b5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 329,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "059bd74a_31dc515e",
      "range": {
        "startLine": 329,
        "startChar": 20,
        "endLine": 329,
        "endChar": 41
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6124abbc_5a78a4fc",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 380,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-07-25T14:23:47Z",
      "side": 1,
      "message": "I think this test is actually checking if there is an GmsError dialog presented. If so, then consider renaming to isShowingGmsErrorDialog?",
      "range": {
        "startLine": 380,
        "startChar": 19,
        "endLine": 380,
        "endChar": 31
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b49d8d72_61e8a6be",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 380,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "To be precise, this method checks whether any error happened during last account list update. Unfortunately, we don\u0027t control error dialog that is displayed when GMS error happens, so there are cases when dialog isn\u0027t visible even though error wasn\u0027t resolved.",
      "parentUuid": "6124abbc_5a78a4fc",
      "range": {
        "startLine": 380,
        "startChar": 19,
        "endLine": 380,
        "endChar": 31
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1598c1c2_4529a094",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 381,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-07-25T14:23:47Z",
      "side": 1,
      "message": "Should this test mGooglePlayServicesUpdateErrorHandler.isShowing()?",
      "range": {
        "startLine": 381,
        "startChar": 15,
        "endLine": 381,
        "endChar": 52
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44041e5d_4678cd31",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 381,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Please see previous comment.",
      "parentUuid": "1598c1c2_4529a094",
      "range": {
        "startLine": 381,
        "startChar": 15,
        "endLine": 381,
        "endChar": 52
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "304c4031_a15f6e0b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "Maybe return early if the dialog is already showing.",
      "range": {
        "startLine": 395,
        "startChar": 12,
        "endLine": 395,
        "endChar": 40
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e74bbc31_dafe583c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/signin/AccountSigninView.java",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "304c4031_a15f6e0b",
      "range": {
        "startLine": 395,
        "startChar": 12,
        "endLine": 395,
        "endChar": 40
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad695e79_6d5b5707",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerDelegateException.java",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "Javadoc for this method please. I really don\u0027t know what this method is supposed to do.",
      "range": {
        "startLine": 20,
        "startChar": 52,
        "endLine": 20,
        "endChar": 63
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c025e1b6_07f94c13",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerDelegateException.java",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "Overrides of this method were supposed to wrap exception as a cause into new instance of the same exception class to collect stacktrace info about all the thead hops this exception performs before being handled. However, I\u0027ve missed the simple fact that this exception chain will lack the most interesting part of this stacktrace - the one that led to getGoogleAccounts. Doing this the right way doesn\u0027t fit the scope of this CL, so I\u0027ve removed it.",
      "parentUuid": "ad695e79_6d5b5707",
      "range": {
        "startLine": 20,
        "startChar": 52,
        "endLine": 20,
        "endChar": 63
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "352024c1_d8838ef8",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerFacade.java",
        "patchSetId": 1
      },
      "lineNbr": 218,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "I wonder whether we should add something to AccountManagerResult that allows inspecting it and extracting the result or exception without actually throwing. That would make the control flow a bit easier to understand, I think.",
      "range": {
        "startLine": 218,
        "startChar": 49,
        "endLine": 218,
        "endChar": 55
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "555c6511_ab8dcf9e",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerFacade.java",
        "patchSetId": 1
      },
      "lineNbr": 218,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-26T17:13:03Z",
      "side": 1,
      "message": "Thoughts on this?",
      "parentUuid": "352024c1_d8838ef8",
      "range": {
        "startLine": 218,
        "startChar": 49,
        "endLine": 218,
        "endChar": 55
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "679ca22c_e0179c2f",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerFacade.java",
        "patchSetId": 1
      },
      "lineNbr": 218,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T18:17:49Z",
      "side": 1,
      "message": "Oops, I\u0027ve postponed answering to this one last because it required a lengthy explanation and forgot about it after answering the rest. Sorry for that.\n\n\nMy initial implementation of AccountManagerResult included hasValue/hasException and getValue/getException, but I\u0027ve removed them because they weren\u0027t used anywhere. I can add them if you want.\nImplementation of onResult using getValue/getException:\n\nif (result.hasValue()) {\n    List\u003cString\u003e accountNames \u003d new ArrayList\u003c\u003e();\n    for (Account account : result.getValue()) {\n        accountNames.add(account.name);\n    }\n    callback.onResult(new AccountManagerResult\u003c\u003e(accountNames));\n} else {\n    callback.onResult(\n            new AccountManagerResult\u003cList\u003cString\u003e\u003e(result.getException()));\n}\n\nSo it\u0027s almost the same line number and similar structure as get-based approach. Should I reimplement it this way?",
      "parentUuid": "555c6511_ab8dcf9e",
      "range": {
        "startLine": 218,
        "startChar": 49,
        "endLine": 218,
        "endChar": 55
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e52f8421_5121729c",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerResult.java",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "Actually, you could use this as a base class with two subclasses. That would avoid having half of the fields be null, or conflicts between the two constructors, and get() could have very straightforward implementations in the two subclasses.",
      "range": {
        "startLine": 23,
        "startChar": 12,
        "endLine": 23,
        "endChar": 30
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6e9836c_1a2c235c",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerResult.java",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "I\u0027m not sure that having two subclasses here would be a more readable solution. Currently this class is more or less self-contained entity in one file, but in subclass-based approach this behavior will be spread between 3 files.\nThis being said, I can still make it your way if you have a strong opinion about it.",
      "parentUuid": "e52f8421_5121729c",
      "range": {
        "startLine": 23,
        "startChar": 12,
        "endLine": 23,
        "endChar": 30
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a6a4bdb_10807968",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerResult.java",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-26T17:13:03Z",
      "side": 1,
      "message": "You could have the subclasses be static inner classes of this one. You don\u0027t need to expose them anywhere, as clients can just use them via the base class.",
      "parentUuid": "d6e9836c_1a2c235c",
      "range": {
        "startLine": 23,
        "startChar": 12,
        "endLine": 23,
        "endChar": 30
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bccf4685_1fb08d5f",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerResult.java",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T18:17:49Z",
      "side": 1,
      "message": "Hm, haven\u0027t thought of it, sorry.\nBasically, there are three options here:\n1. Current implementation:\n\n callback.onResult(new AccountManagerResult\u003cList\u003cString\u003e\u003e(ex));\n\n2. Nested Value and Exception static classes that are public and created explicitly:\n\n callback.onResult(new AccountManagerResult.Exception\u003cList\u003cString\u003e\u003e(ex));\n\n3. Nested Value and Exception static classes that are private and created by static fromValue/fromException factory methods. This option will require ugly explicit syntax in some contexts:\n\n callback.onResult(AccountManagerResult.\u003cList\u003cString\u003e\u003efromException(ex));\n\nAm I missing something here? I\u0027m still quite new to Java, so feel free to correct me.\n\nWhich one of these options would you prefer?",
      "parentUuid": "6a6a4bdb_10807968",
      "range": {
        "startLine": 23,
        "startChar": 12,
        "endLine": 23,
        "endChar": 30
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d85be74_b7af63fe",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerResult.java",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1115972
      },
      "writtenOn": "2017-07-25T14:23:47Z",
      "side": 1,
      "message": "As discussed, wrapping the exception here does not bring any value. Either remove the wrapping or make the wrap in the AccountManagerFacade.",
      "range": {
        "startLine": 38,
        "startChar": 12,
        "endLine": 38,
        "endChar": 17
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f1eb26d_2c770aa8",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/AccountManagerResult.java",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "I\u0027ve removed the wrapping.",
      "parentUuid": "8d85be74_b7af63fe",
      "range": {
        "startLine": 38,
        "startChar": 12,
        "endLine": 38,
        "endChar": 17
      },
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00eaea46_5c2711ef",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/GmsAvailabilityException.java",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-07-25T14:15:15Z",
      "side": 1,
      "message": "@Override?",
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aad41b7_5c49f9cf",
        "filename": "components/signin/core/browser/android/java/src/org/chromium/components/signin/GmsAvailabilityException.java",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1209769
      },
      "writtenOn": "2017-07-26T16:46:50Z",
      "side": 1,
      "message": "I\u0027ve removed the wrapping, so this is no longer relevant.",
      "parentUuid": "00eaea46_5c2711ef",
      "revId": "79e0d6c02c19c2a9413a34834cd37c347a502f7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}