{
  "comments": [
    {
      "key": {
        "uuid": "64729f0c_91ba048a",
        "filename": "extensions/renderer/extension_frame_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-07T19:36:26Z",
      "side": 1,
      "message": "I don\u0027t think there is a more efficient way to find the |source_view_type|.  Is there?",
      "range": {
        "startLine": 223,
        "startChar": 0,
        "endLine": 228,
        "endChar": 5
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60b77bc8_3c6534be",
        "filename": "extensions/renderer/extension_frame_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-12-08T01:04:05Z",
      "side": 1,
      "message": "No more efficient, but fewer lines of code, would be:\nExtensionFrameHelper* frame_helper \u003d Get(render_frame);\nsource_view_type \u003d frame_helper ? frame_helper-\u003eview_type() : VIEW_TYPE_INVALID;\n\nAlso, is there any time that we wouldn\u0027t be able to find a frame helper for the frame?  (I don\u0027t think so, but maybe I\u0027m missing something?)  If not, can we DCHECK(frame_helper) (and then get rid of the ternary above)?",
      "parentUuid": "64729f0c_91ba048a",
      "range": {
        "startLine": 223,
        "startChar": 0,
        "endLine": 228,
        "endChar": 5
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "024430bf_80337023",
        "filename": "extensions/renderer/extension_frame_helper.cc",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-08T16:51:34Z",
      "side": 1,
      "message": "\u003e No more efficient, but fewer lines of code, would be:\n\u003e ExtensionFrameHelper* frame_helper \u003d Get(render_frame);\n\u003e source_view_type \u003d frame_helper ? frame_helper-\u003eview_type() : VIEW_TYPE_INVALID;\n\nGreat - thanks for pointing out the Get method.  I\u0027ve tried to search for \"static\" in extension_frame_helper.h and missed it (because it comes from the parent class - from RenderFrameObserverTracker).\n\u003e \n\u003e Also, is there any time that we wouldn\u0027t be able to find a frame helper for the frame?  (I don\u0027t think so, but maybe I\u0027m missing something?)  If not, can we DCHECK(frame_helper) (and then get rid of the ternary above)?\n\nI\u0027ll just access ExtensionFrameHelper::Get(relative_to_frame)-\u003eview_type() directly I think:\n\n1. Yes - each frame (even non-extension frames) should get a corresponding ExtensionFrameHelper instance created when ChromeExtensionsRendererClient::RenderFrameCreated executes.\n\n2. Even without a DCHECK we should know soon if there is a null dereference here.",
      "parentUuid": "60b77bc8_3c6534be",
      "range": {
        "startLine": 223,
        "startChar": 0,
        "endLine": 228,
        "endChar": 5
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fcd0685_b0091280",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T21:42:43Z",
      "side": 1,
      "message": "nit: s/units/enum",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 9
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06ef81a8_da31baf3",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T21:42:43Z",
      "side": 1,
      "message": "nit: Please define an enum in enums.xml with labels along the lines of \"Background\" and \"Non-background\", and use it here.",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 19
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "329ca1ff_57fc399a",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-07T22:16:11Z",
      "side": 1,
      "message": "Done.  I\u0027ve also added a C++-side enum in view_type.h (although I am not sure if this is truly needed).",
      "parentUuid": "06ef81a8_da31baf3",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 19
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4cdf55cc_0bcd4151",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-07T22:16:11Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "3fcd0685_b0091280",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 9
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6216445a_8da6e756",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T22:47:49Z",
      "side": 1,
      "message": "No particular need for a C++-side enum.  enums.xml just provides metadata/labels for the dashboard.  It\u0027s compatible with boolean, enumerated, and sparse histograms.  I personally find UMA_HISTOGRAM_BOOLEAN to be clearer in the C++ code, but either way is fine.",
      "parentUuid": "329ca1ff_57fc399a",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 19
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c27f21fb_9b1039c9",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T22:47:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4cdf55cc_0bcd4151",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 9
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6788ebcd_a02571d9",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-07T23:01:36Z",
      "side": 1,
      "message": "Thanks for the explanation - previously I didn\u0027t know that UMA_HISTOGRAM_BOOLEAN is compatible with enums defined via enums.xml.  I\u0027ve reverted the C++-side of changes in my previous delta.",
      "parentUuid": "6216445a_8da6e756",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 19
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a186e9f_a1b250f6",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22457,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T23:05:37Z",
      "side": 1,
      "message": "Yeah, I realize that it\u0027s not very well known what exactly enums.xml does.  I\u0027ve tried to clarify a bit in the docs: https://chromium-review.googlesource.com/c/chromium/src/+/815543 – thanks for reminding me!",
      "parentUuid": "6788ebcd_a02571d9",
      "range": {
        "startLine": 22457,
        "startChar": 4,
        "endLine": 22457,
        "endChar": 19
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "429e417c_0afe6bd7",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22461,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T21:42:43Z",
      "side": 1,
      "message": "nit: \"the source\"",
      "range": {
        "startLine": 22461,
        "startChar": 19,
        "endLine": 22461,
        "endChar": 25
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66ba3bfe_e77ede3f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22461,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-07T22:16:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "429e417c_0afe6bd7",
      "range": {
        "startLine": 22461,
        "startChar": 19,
        "endLine": 22461,
        "endChar": 25
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21f472bc_00d9c68d",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22504,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-12-07T21:42:43Z",
      "side": 1,
      "message": "nit: It seems like some or all of these metrics are intended as temporary metrics to guide development.  If that\u0027s accurate, would you mind adding a note that that effect for each histogram\u0027s summary?  Something like \"Expected to be a temporary metric, likely safe to remove after M65\" (or whatever an appropriate milestone is).",
      "range": {
        "startLine": 22455,
        "startChar": 0,
        "endLine": 22504,
        "endChar": 12
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "967bbcad_37d18eed",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 4
      },
      "lineNbr": 22504,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-07T22:16:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "21f472bc_00d9c68d",
      "range": {
        "startLine": 22455,
        "startChar": 0,
        "endLine": 22504,
        "endChar": 12
      },
      "revId": "2679fa57516b105f1f1cb37d05b6f97cd827c0bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}