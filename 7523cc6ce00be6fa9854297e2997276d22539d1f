{
  "comments": [
    {
      "key": {
        "uuid": "8185ae46_88abbbbe",
        "filename": "components/favicon/content/content_favicon_driver.cc",
        "patchSetId": 5
      },
      "lineNbr": 165,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-09-12T19:45:41Z",
      "side": 1,
      "message": "DidUpdateFaviconURL() is not solely called when the page has finished loading. For instance, DidUpdateFaviconURL() will be called with a default (/favicon.ico) favicon if the user presses \"Stop\" while the page is loading.\n\nhttps://webapk-test.appspot.com/static/a.html is a test page for this case. It has a lot of data before the \u003clink rel\u003d\"icon\"\u003e tag. Thus, when the navigation commits, the \u003clink rel\u003d\"icon\"\u003e tag may not have been read yet. The navigation commits when the first bit (not all!) of the page has been read.\n\nA long time ago, it was suggested to me to use WebContentsObserver::DocumentOnLoadCompletedInMainFrame() to determine whether the page has finished loading. I am unsure how WebContentsObserver::DocumentOnLoadCompletedInMainFrame() relates to when WebContentsObserver::DidStartNavigation() and when WebContentsObserver::DidFinishNavigation() are called",
      "revId": "7523cc6ce00be6fa9854297e2997276d22539d1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a48a8c2_7228e6b0",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 477,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-09-12T19:45:41Z",
      "side": 1,
      "message": "For http and https URLs |candidates_| will never be empty because Document::IconURLs() will append /favicon.ico as a candidate",
      "revId": "7523cc6ce00be6fa9854297e2997276d22539d1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}