{
  "comments": [
    {
      "key": {
        "uuid": "2fc8bb9e_7d760959",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1002700
      },
      "writtenOn": "2017-10-11T21:52:11Z",
      "side": 1,
      "message": "Please add a comment in StaleEntryFinalizerTask and MetricsFinalizationTask that these tasks must be idempotent and must not cause progress in the pipeline since they are run during some event handlers.",
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5db7a899_0b67c03e",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T23:23:56Z",
      "side": 1,
      "message": "note: a side effect of running this more often is that the we will also report OfflinePages.Prefetching.StateCounts more often. This seems like something acceptable but we must be aware of this increase when looking at that UMA.",
      "range": {
        "startLine": 97,
        "startChar": 23,
        "endLine": 97,
        "endChar": 46
      },
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc1927d4_ef294518",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-12T00:22:04Z",
      "side": 1,
      "message": "They kinda do cause \u0027progress\u0027 in a sense of advancing the state. But I\u0027ve added some comments to them.",
      "parentUuid": "2fc8bb9e_7d760959",
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c20882c_95cf63f5",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-12T00:22:04Z",
      "side": 1,
      "message": "Ack. The \u0027counts\u0027 for that UMA are kinda bogus without special processing (like, taking MAX per user and then average that?)",
      "parentUuid": "5db7a899_0b67c03e",
      "range": {
        "startLine": 97,
        "startChar": 23,
        "endLine": 97,
        "endChar": 46
      },
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e9787c4_2d1fea24",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-12T00:31:39Z",
      "side": 1,
      "message": "Yes, they should not be taken at face value. But even so it is useful as is as we\u0027ve seen today when we were able to identify issues based on the relative sample counts between buckets.\n\nSo what I mean to warn about is that the next time we look at it we shouldn\u0027t immediately associate an increase in those numbers with another issue.",
      "parentUuid": "3c20882c_95cf63f5",
      "range": {
        "startLine": 97,
        "startChar": 23,
        "endLine": 97,
        "endChar": 46
      },
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e7b0aa63_9b63e148",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-11T23:11:27Z",
      "side": 1,
      "message": "drive by nit: thirsd -\u003ethird",
      "range": {
        "startLine": 99,
        "startChar": 5,
        "endLine": 99,
        "endChar": 11
      },
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab940f98_b9ccf3ba",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-12T00:22:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e7b0aa63_9b63e148",
      "range": {
        "startLine": 99,
        "startChar": 5,
        "endLine": 99,
        "endChar": 11
      },
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2101731_19b49d73",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1002700
      },
      "writtenOn": "2017-10-11T21:52:11Z",
      "side": 1,
      "message": "I would prefer to add the urls first, if Chrome exits in between tasks we will still have new URLs.  WDYT?",
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43d19873_34b577de",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-11T23:23:56Z",
      "side": 1,
      "message": "I would recommend exactly the opposite because MetricsFinalizationTask could create ZOMBIES that would then be immediately cleaned up by AddUniqueUrlsTask.",
      "parentUuid": "f2101731_19b49d73",
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "108f4aed_66925c5c",
        "filename": "components/offline_pages/core/prefetch/prefetch_dispatcher_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-12T00:22:04Z",
      "side": 1,
      "message": "Between these recommendation, I lean to join Carlos\u0027 because I think AddUniqueUrlsTask should be run later to delete ZOMBIEs... The chances of Chrome to be killed now is probably slim because supposedly this happens when Chrome is in foreground.",
      "parentUuid": "43d19873_34b577de",
      "revId": "87d07c0f7896a798e4e9d0fc487e3b39f240ccca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}