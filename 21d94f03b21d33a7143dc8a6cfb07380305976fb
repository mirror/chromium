{
  "comments": [
    {
      "key": {
        "uuid": "3ef43e0e_dc0c1945",
        "filename": "cc/layers/ui_resource_layer_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-09-07T15:59:31Z",
      "side": 1,
      "message": "The debug quad used to be emitted even if the resource was not valid though? Can we do that still?",
      "revId": "21d94f03b21d33a7143dc8a6cfb07380305976fb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ac3816a_a7e988b6",
        "filename": "cc/layers/ui_resource_layer_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-09-07T17:20:16Z",
      "side": 1,
      "message": "Yes, definitely. Sorry I get too excited when i see the crash report. The opaqueness of the DebugBorderQuad could be different from the UI Resource one. I think i will create 2 different SQS for this particular case. What do you think?",
      "parentUuid": "3ef43e0e_dc0c1945",
      "revId": "21d94f03b21d33a7143dc8a6cfb07380305976fb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07e99870_25982600",
        "filename": "cc/layers/ui_resource_layer_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1195064
      },
      "writtenOn": "2017-09-07T17:28:37Z",
      "side": 1,
      "message": "Sure. What do debug quads in other layer types do?",
      "parentUuid": "0ac3816a_a7e988b6",
      "revId": "21d94f03b21d33a7143dc8a6cfb07380305976fb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14be04e8_0bbf0e17",
        "filename": "cc/layers/ui_resource_layer_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1158749
      },
      "writtenOn": "2017-09-08T20:59:52Z",
      "side": 1,
      "message": "Great question. I will double check everything. \nSo DebugBorderQuad is called at 10 different places and they share the opaqueness of the layer. For this particular case, determining the opaqueness of the layer caused the crash.  \n\nI added IsUIResourceOpaque to 4 different places: nine_patch_layer_impl, painted_overlay_scrollbar_layer_impl, UI_resource_layer_impl and nine patch_generator. In nine_patch_generator, the call is added after validation of ui_resource_id. The resource id is not validated in painted_overlay_scrollbar_layer_impl and nine_patch_layer_impl. \n\nhttps://cs.chromium.org/chromium/src/cc/layers/nine_patch_layer_impl.cc?sq\u003dpackage:chromium\u0026dr\u003dC\u0026l\u003d60\n\nhttps://cs.chromium.org/chromium/src/cc/layers/painted_overlay_scrollbar_layer_impl.cc?q\u003dpainted_overlay_scrollbar_layer_impl\u0026dr\u003dC\u0026l\u003d97\n\nLet me add the validation for those 2 classes as well.",
      "parentUuid": "07e99870_25982600",
      "revId": "21d94f03b21d33a7143dc8a6cfb07380305976fb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}