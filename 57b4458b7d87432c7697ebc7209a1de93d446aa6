{
  "comments": [
    {
      "key": {
        "uuid": "c6be4438_b703eb6d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 21,
      "author": {
        "id": 1003330
      },
      "writtenOn": "2017-12-04T23:20:49Z",
      "side": 1,
      "message": "I see, this is why we can\u0027t simply change the definition of LayoutBox::ShouldClipOverflow().\n\nI think it is weird for PaintLayerPainter to apply overflow clip for foreground phase though. BlockPainter/BoxClipper would have applied it at object level anyway. IMO PaintLayerPainter should always only apply background clip. (There may be some implication with multicol though, will need to try and see.)",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "661e2467_5b0e6bae",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 21,
      "author": {
        "id": 1003330
      },
      "writtenOn": "2017-12-05T00:49:33Z",
      "side": 1,
      "message": "BTW I just changed PaintLayerPainter not to apply overflow clip to the foregrounds and ran tests locally, didn\u0027t seem to cause any behavioral changes. I\u0027ll make it a CL to see if it sticks.\n\nI think it is okay to land this CL as-is in the meantime. We can remove the special case in CLM later if it works.",
      "parentUuid": "c6be4438_b703eb6d",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89bf3f40_a7d4ad02",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 21,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-05T14:15:52Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "661e2467_5b0e6bae",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1753b845_c0ebae34",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 10
      },
      "lineNbr": 81,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2017-12-01T22:55:31Z",
      "side": 1,
      "message": "Do you know why it fails?",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "747ceda6_6aebd9e1",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 10
      },
      "lineNbr": 81,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T16:26:04Z",
      "side": 1,
      "message": "I\u0027m going to look into it. The clip for the mask layer is either not applied or is not rounded. We are filling the mask, however, which is an improvement.",
      "parentUuid": "1753b845_c0ebae34",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a87cf000_2fe129fa",
        "filename": "third_party/WebKit/LayoutTests/TestExpectations",
        "patchSetId": 10
      },
      "lineNbr": 81,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T20:21:35Z",
      "side": 1,
      "message": "Xianzhu seems to be fixing these issues, or will. Right now all of the border radius masking cases fail. It doesn\u0027t seem worth me spending more time on it.",
      "parentUuid": "747ceda6_6aebd9e1",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb19170c_9779f745",
        "filename": "third_party/WebKit/Source/core/paint/PaintLayerPainter.cpp",
        "patchSetId": 10
      },
      "lineNbr": 637,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2017-12-01T22:55:31Z",
      "side": 1,
      "message": "\"because otherwise we will clip out the border, since LayoutEmbeddedObject\ndoes not obey the paint phases of normal boxes.\"",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01da5877_bf1192c2",
        "filename": "third_party/WebKit/Source/core/paint/PaintLayerPainter.cpp",
        "patchSetId": 10
      },
      "lineNbr": 637,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T16:26:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bb19170c_9779f745",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70fa74b3_497fd59e",
        "filename": "third_party/WebKit/Source/core/paint/PaintLayerPainter.cpp",
        "patchSetId": 10
      },
      "lineNbr": 637,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T20:21:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "01da5877_bf1192c2",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45dc2e9c_0825ef97",
        "filename": "third_party/WebKit/Source/core/paint/PaintLayerPainter.cpp",
        "patchSetId": 10
      },
      "lineNbr": 776,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2017-12-01T22:55:31Z",
      "side": 1,
      "message": "paint_layer_.GetLayoutObject() works also, and is more uniform with other sites below.",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29f75bfe_5ca55a0b",
        "filename": "third_party/WebKit/Source/core/paint/PaintLayerPainter.cpp",
        "patchSetId": 10
      },
      "lineNbr": 776,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T16:26:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "45dc2e9c_0825ef97",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e7d2aec8_84960323",
        "filename": "third_party/WebKit/Source/core/paint/PaintLayerPainter.cpp",
        "patchSetId": 10
      },
      "lineNbr": 776,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T20:21:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "29f75bfe_5ca55a0b",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a83f6afa_6c91049e",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1507,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2017-12-01T22:55:31Z",
      "side": 1,
      "message": "But this is the child containment layer. The border of the LayoutEmbeddedContent should\npaint into graphics_layer_ instead, no?",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a70ef6cb_8acaf6c6",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1507,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T16:26:04Z",
      "side": 1,
      "message": "The comment needs revision. The embedded object content does paint into the primary graphics layer. The issue here is that the clip in the child containment layer assumes the containment layer is the same size and position as the iframe.",
      "parentUuid": "a83f6afa_6c91049e",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d67cee37_a6495737",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1507,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T20:21:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a70ef6cb_8acaf6c6",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d549da0a_4c040d0b",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1507,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2017-12-04T21:07:05Z",
      "side": 1,
      "message": "Why is the child containinment layer of an incorrect size and position as the iframe?",
      "parentUuid": "d67cee37_a6495737",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b621311_d2e10e0e",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositedLayerMapping.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1507,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T21:44:28Z",
      "side": 1,
      "message": "New comment:\n    // Embedded content layers do not have a clipping rect defined,\n    // so match their chld containment geometry to the embedded content\u0027s\n    // geometry.\n\nThe layer ends up at -[some huge value] if we do not special case it, because the ClippingRect is infinite.",
      "parentUuid": "d549da0a_4c040d0b",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f55ab01_84cc350a",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositingRequirementsUpdater.cpp",
        "patchSetId": 10
      },
      "lineNbr": 507,
      "author": {
        "id": 1115878
      },
      "writtenOn": "2017-12-01T22:55:31Z",
      "side": 1,
      "message": "Instead of this, I think it suffices to write this:\n\nbool contains_composited_iframe \u003d layer-\u003eGetLayoutObject().IsLayoutEmbeddedContent() \u0026\u0026\nToLayoutEmbeddedContent(layer-\u003eGetLayoutObject()).RequiresAcceleratedCompositing());\n\nand change line 526 to:\n\nlayer-\u003eSetHasCompositingDescendant(\n      child_recursion_data.subtree_is_compositing_ || contains_composited_iframe);",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ed90fb8_ba978360",
        "filename": "third_party/WebKit/Source/core/paint/compositing/CompositingRequirementsUpdater.cpp",
        "patchSetId": 10
      },
      "lineNbr": 507,
      "author": {
        "id": 1210854
      },
      "writtenOn": "2017-12-04T16:26:04Z",
      "side": 1,
      "message": "I\u0027ll check.",
      "parentUuid": "8f55ab01_84cc350a",
      "revId": "57b4458b7d87432c7697ebc7209a1de93d446aa6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}