{
  "comments": [
    {
      "key": {
        "uuid": "14413d0c_8b61bdfa",
        "filename": "pdf/out_of_process_instance.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-11-08T21:46:44Z",
      "side": 1,
      "message": "Where is this constant coming from, i.e. where is the main enum defined?  I\u0027m concerned that if an additional annotation type is ever added in the future, it\u0027s easy to forget to update this constant.",
      "range": {
        "startLine": 174,
        "startChar": 37,
        "endLine": 174,
        "endChar": 0
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0af0104e_bdbebc40",
        "filename": "pdf/out_of_process_instance.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1241393
      },
      "writtenOn": "2017-11-08T21:58:24Z",
      "side": 1,
      "message": "It\u0027s equivalent to this: https://cs.chromium.org/chromium/src/third_party/pdfium/public/fpdf_annot.h?l\u003d20\n\nAlthough we don\u0027t anticipate new annotation types being added to the spec, it\u0027s possible it grows one day. We shouldn\u0027t add dependencies from our plugin to PDFium though, and adding a method to do it through the PDFEngine interface feels forced.",
      "parentUuid": "14413d0c_8b61bdfa",
      "range": {
        "startLine": 174,
        "startChar": 37,
        "endLine": 174,
        "endChar": 0
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e4911f7_556a536a",
        "filename": "pdf/out_of_process_instance.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-11-08T22:19:23Z",
      "side": 1,
      "message": "One option that does not require mirroring this constant in such a fragile way is to use a sparse histogram, which does not require specifying an upper bound for the histogram.  Another is to add some sort of error-handling for annotations that are out-of-bounds, ideally in some way that a developer would quickly notice and update the boundary.",
      "parentUuid": "0af0104e_bdbebc40",
      "range": {
        "startLine": 174,
        "startChar": 37,
        "endLine": 174,
        "endChar": 0
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce2c4880_151dab3e",
        "filename": "pdf/out_of_process_instance.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1241393
      },
      "writtenOn": "2017-11-09T16:50:37Z",
      "side": 1,
      "message": "Done, added a DCHECK.",
      "parentUuid": "8e4911f7_556a536a",
      "range": {
        "startLine": 174,
        "startChar": 37,
        "endLine": 174,
        "endChar": 0
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77dd95be_2ae4f204",
        "filename": "pdf/out_of_process_instance.cc",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-11-09T18:30:06Z",
      "side": 1,
      "message": "I\u0027m a bit concerned that a DCHECK is not a sufficiently hard failure.  I could easily imagine PDFium being rolled without anyone exercising this code, and hence not noticing the failure for a while.  This would lead to corrupted data being sent back to the server in the meantime.\n\nHence, I\u0027d still prefer one of the two options that I suggested above: either use a sparse histogram, which is probably the easiest and safest route; or explicitly handle out-of-bounds values (_plus_ an alert to developers that the constant should be updated).",
      "parentUuid": "ce2c4880_151dab3e",
      "range": {
        "startLine": 174,
        "startChar": 37,
        "endLine": 174,
        "endChar": 0
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "571fb539_397085ea",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 4
      },
      "lineNbr": 4705,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-11-08T21:46:44Z",
      "side": 1,
      "message": "Optional: It\u0027s often easier to parse these labels on the dashboard when they are shorter, so I\u0027d recommend omitting the common \" annotation\" suffix.",
      "range": {
        "startLine": 4705,
        "startChar": 32,
        "endLine": 4705,
        "endChar": 43
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f416fbe_d6e4a1d2",
        "filename": "tools/metrics/histograms/enums.xml",
        "patchSetId": 4
      },
      "lineNbr": 4705,
      "author": {
        "id": 1241393
      },
      "writtenOn": "2017-11-08T21:58:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "571fb539_397085ea",
      "range": {
        "startLine": 4705,
        "startChar": 32,
        "endLine": 4705,
        "endChar": 43
      },
      "revId": "6405bc8d33d2fe75e18aa1cc5b957670bae094aa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}