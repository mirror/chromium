{
  "comments": [
    {
      "key": {
        "uuid": "64dd60de_9f4a493f",
        "filename": "cc/trees/layer_tree_host_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 8282,
      "author": {
        "id": 1115895
      },
      "writtenOn": "2017-11-28T22:09:54Z",
      "side": 1,
      "message": "I think you are looking for mask_client_.set_fill_with_nonsolid_color(true), maybe?",
      "revId": "cf8488766c985cdac7267f851d5946848a304bc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5353cb0a_ee384a17",
        "filename": "cc/trees/layer_tree_host_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 8282,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-11-28T22:20:55Z",
      "side": 1,
      "message": "The way that is implemented, it will fail the EXPECT below, cuz it does a loop based on the bounds, which are 0,0, and so doesn\u0027t add enough commands to avoid solid color detection.",
      "parentUuid": "64dd60de_9f4a493f",
      "revId": "cf8488766c985cdac7267f851d5946848a304bc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5525ec2_f1d7a501",
        "filename": "cc/trees/layer_tree_host_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 8282,
      "author": {
        "id": 1115895
      },
      "writtenOn": "2017-11-28T22:39:11Z",
      "side": 1,
      "message": "Seems to work fine for me.  Which EXPECT?\n\ndiff --git a/cc/trees/layer_tree_host_unittest.cc b/cc/trees/layer_tree_host_unittest\nindex 38d3f247c2fe..64a47a536df0 100644\n--- a/cc/trees/layer_tree_host_unittest.cc\n+++ b/cc/trees/layer_tree_host_unittest.cc\n@@ -8271,16 +8271,11 @@ class DontUpdateLayersWithEmptyBounds : public LayerTreeTest \n     child_ \u003d FakePictureLayer::Create(\u0026child_client_);\n     mask_ \u003d FakePictureLayer::Create(\u0026mask_client_);\n \n-    // Add a lot of draw ops, to make sure the recording source\n-    // hits the early out and avoids being detected as solid color even\n+    // Make sure the recording source avoids being detected as solid color even\n     // though it is empty. This ensures we hit later code paths that would\n     // early out if solid color in CanHaveTilings().\n-    PaintFlags flags;\n-    flags.setColor(SK_ColorRED);\n-    for (int i \u003d 0; i \u003c 100; ++i) {\n-      child_client_.add_draw_rect(gfx::Rect(3, 3), flags);\n-      mask_client_.add_draw_rect(gfx::Rect(2, 2), flags);\n-    }\n+    child_client_.set_fill_with_nonsolid_color(true);\n+    mask_client_.set_fill_with_nonsolid_color(true);\n \n     root_client_.set_bounds(gfx::Size(10, 10));\n     root-\u003eSetBounds(gfx::Size(10, 10));",
      "parentUuid": "5353cb0a_ee384a17",
      "revId": "cf8488766c985cdac7267f851d5946848a304bc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "377b7574_8a8ca3b3",
        "filename": "cc/trees/layer_tree_host_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 8282,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-11-28T22:44:44Z",
      "side": 1,
      "message": "EXPECT_FALSE(mask_raster-\u003eIsSolidColor());\n\nRemove the fix from draw_property_utils too, then it will not DCHECK anymore with this patch, and you get:\n../../cc/trees/layer_tree_host_unittest.cc:8322: Failure\nValue of: mask_raster-\u003eIsSolidColor()\n  Actual: true\nExpected: false\n.",
      "parentUuid": "c5525ec2_f1d7a501",
      "revId": "cf8488766c985cdac7267f851d5946848a304bc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b383fea_3b16e0d4",
        "filename": "cc/trees/layer_tree_host_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 8282,
      "author": {
        "id": 1115895
      },
      "writtenOn": "2017-11-28T23:08:22Z",
      "side": 1,
      "message": "Sorry, I\u0027m still confused.  Your test passes for me with the above change on Linux debug at the revision your patch is at and at ToT.  What am I missing?",
      "parentUuid": "377b7574_8a8ca3b3",
      "revId": "cf8488766c985cdac7267f851d5946848a304bc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}