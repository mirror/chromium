{
  "comments": [
    {
      "key": {
        "uuid": "51bc8e2a_117aed30",
        "filename": "net/socket/udp_socket_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 423,
      "author": {
        "id": 1002888
      },
      "writtenOn": "2017-08-30T16:52:33Z",
      "side": 1,
      "message": "Have you please measure how long this takes/how much CPU overhead it adds?  Preferably on an older machine.",
      "range": {
        "startLine": 423,
        "startChar": 57,
        "endLine": 423,
        "endChar": 0
      },
      "revId": "ffe58dd15be5322f889d605accf649058188a8e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fafe3b75_92a8969d",
        "filename": "net/socket/udp_socket_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 423,
      "author": {
        "id": 1182820
      },
      "writtenOn": "2017-09-05T21:04:04Z",
      "side": 1,
      "message": "Good idea, but I\u0027m not sure how to do it in a reliable way. Are you aware of any tools / infrastructure to help with this?",
      "parentUuid": "51bc8e2a_117aed30",
      "range": {
        "startLine": 423,
        "startChar": 57,
        "endLine": 423,
        "endChar": 0
      },
      "revId": "ffe58dd15be5322f889d605accf649058188a8e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f9ab8fd_b8e423d6",
        "filename": "net/socket/udp_socket_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 423,
      "author": {
        "id": 1002888
      },
      "writtenOn": "2017-09-06T10:40:15Z",
      "side": 1,
      "message": "Time start \u003d Time::Now();\n...\nLOG(ERROR) \u003c\u003c \"took \" \u003c\u003c (Time::Now() - start).InMilliseconds() \u003c\u003c \" ms\";",
      "parentUuid": "fafe3b75_92a8969d",
      "range": {
        "startLine": 423,
        "startChar": 57,
        "endLine": 423,
        "endChar": 0
      },
      "revId": "ffe58dd15be5322f889d605accf649058188a8e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "680b7161_b7be29e5",
        "filename": "net/socket/udp_socket_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 424,
      "author": {
        "id": 1002888
      },
      "writtenOn": "2017-08-30T16:52:33Z",
      "side": 1,
      "message": "Setting remote_address_ here seems dangerous (e.g. you\u0027re breaking SendTo() followed by Connect() usage because Connect() DCHECK\u0027s that remote_address_ is unset.  I don\u0027t know if that\u0027s a legal use of UDPSocketWin).  I\u0027d advise adding SetDiffServCodePointInternal() that takes an IPEndPoint argument and DCHECKS that either remote_address_ is unset or set to the same address.",
      "revId": "ffe58dd15be5322f889d605accf649058188a8e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0402d737_631a4049",
        "filename": "net/socket/udp_socket_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 424,
      "author": {
        "id": 1182820
      },
      "writtenOn": "2017-09-05T21:04:04Z",
      "side": 1,
      "message": "I\u0027ll look in to adding a version of SetDiffServCodePoint that takes an IPEndPoint. I was avoiding changing the signature of SetDiffServCodePoint (or adding an additional method) because it wasn\u0027t clear to me how it would affect UdpSocketPosix. If the posix version ignored the argument, the method would have different semantics on different platforms (sets DSCP values per-ip on Windows and per-socket on posix). The posix version could implement per-socket values, but it\u0027s not clear that we need it and it is added complexity. Maybe the caller needs to be aware of the platform, but I generally try to avoid that when possible. UDPSocketWin seemed like the platform-specific place to hide the additional complexity to me. I\u0027ll think over the APIs some more and try to come up with a doc.",
      "parentUuid": "680b7161_b7be29e5",
      "revId": "ffe58dd15be5322f889d605accf649058188a8e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}