{
  "comments": [
    {
      "key": {
        "uuid": "4979fb7a_7bb73f63",
        "filename": "components/arc/clipboard/arc_clipboard_bridge.cc",
        "patchSetId": 24
      },
      "lineNbr": 66,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-08-16T06:15:02Z",
      "side": 1,
      "message": "Let\u0027s not do this here. You can calculate in the caller separately.\n\nAlso, UTF8-UTF16 conversion and text.size() * 2 look inconsistent.\nCould you elaborate more details and/or fix the code properly.",
      "revId": "e360e31a1369c5176c94368d27cffbbbcdc28fc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af655c2a_e4336097",
        "filename": "components/arc/clipboard/arc_clipboard_bridge.cc",
        "patchSetId": 24
      },
      "lineNbr": 67,
      "author": {
        "id": 1003166
      },
      "writtenOn": "2017-08-16T17:25:27Z",
      "side": 1,
      "message": "you can save the substring in L62 in a variable and substitute this by\n\n markup16_substring.size() * sizeof(base::string16::value_type)\n\nthis should give you the exact size instead of an upper bound of |utf8 size * 2| (since all non-ASCII characters will require more than one byte in utf8).",
      "range": {
        "startLine": 67,
        "startChar": 25,
        "endLine": 67,
        "endChar": 40
      },
      "revId": "e360e31a1369c5176c94368d27cffbbbcdc28fc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a21f4b42_d3a98ae2",
        "filename": "components/arc/clipboard/arc_clipboard_bridge.cc",
        "patchSetId": 24
      },
      "lineNbr": 87,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-08-16T06:15:02Z",
      "side": 1,
      "message": "style: please elide the brace.",
      "revId": "e360e31a1369c5176c94368d27cffbbbcdc28fc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d84a57b_08d251ac",
        "filename": "components/arc/clipboard/arc_clipboard_bridge.cc",
        "patchSetId": 24
      },
      "lineNbr": 92,
      "author": {
        "id": 1003166
      },
      "writtenOn": "2017-08-16T17:25:27Z",
      "side": 1,
      "message": "This one is a bit more complicated. we _could_ call clipboard-\u003eReadText() so we get the string16 version and use the same snippet of code that I suggested in L67, but (abstraction leaking warning) ReadText internally calls ReadTextAscii and converts it to wstring. so we would be doing an unnecessary roundtrip :/\n\ni\u0027m fine with not doing the wstring-\u003estring conversion as long as there\u0027s a comment explaining that this is a decent upper bound.",
      "range": {
        "startLine": 92,
        "startChar": 25,
        "endLine": 92,
        "endChar": 40
      },
      "revId": "e360e31a1369c5176c94368d27cffbbbcdc28fc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39770ebe_18c32d78",
        "filename": "components/arc/clipboard/arc_clipboard_bridge.cc",
        "patchSetId": 24
      },
      "lineNbr": 170,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-08-16T06:15:02Z",
      "side": 1,
      "message": "nit: As I told you via offline chat, we often use || only for var names, not for class names.",
      "revId": "e360e31a1369c5176c94368d27cffbbbcdc28fc9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}