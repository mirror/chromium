{
  "comments": [
    {
      "key": {
        "uuid": "01380116_84a1ae7f",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: Worth mentioning what the default destination is?",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "deb9b14a_6df4be5e",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "01380116_84a1ae7f",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c2a93eb_9e5c83ae",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 24,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "This should be moved after argparse",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac8a3bc9_2fe43acb",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 24,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done (by removing the unused argparse import)",
      "parentUuid": "5c2a93eb_9e5c83ae",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38d74f1c_c3ee4a2f",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": ":(",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be94bb9d_cdff0e14",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "38d74f1c_c3ee4a2f",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ebd3533_6e82cf59",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "What about using a forloop instead? Then you can drop all the \"i +\u003d 1\" lines and replace \"i +\u003d 2\" with just \"i +\u003d 1\"",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b23094a3_e0fb958e",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Does that work?\n\n\u003e\u003e\u003e for i in xrange(3):\n...   if i \u003d\u003d 0: i +\u003d 1\n...   print i\n...\n1\n1\n2",
      "parentUuid": "5ebd3533_6e82cf59",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10caa77c_656b1f3e",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "Instead of calling sys.exit, what about returning None. The caller can then just stop if it gets None for flags and this case can be tested.",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce37e248_216b1d73",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "I felt this was overkill when I wrote the script, but now that I\u0027ve done it I kind of like it.",
      "parentUuid": "10caa77c_656b1f3e",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4e2515e_d9e7263f",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 51,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "Instead of calling sys.exit, could you raise an exception instead? These cases could then be tested, and I think you still get the right exit code (although if not the caller can just catch these exceptions and call sys.exit(1))",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "702a7508_564453db",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 51,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e4e2515e_d9e7263f",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce43a8b8_373ece8c",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "I think this might be clearer as:\nif not input:\n  input \u003d flag\nelif not output:\n  output \u003d flag\nelse:\n  print(\u0027makecab.py: error: too many paths:\u0027, input, output, flag,\n                file\u003dsys.stderr)\n  sys.exit(1)",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22870ff9_dca2b917",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "That\u0027s much nicer, thanks.",
      "parentUuid": "ce43a8b8_373ece8c",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2cf7c52c_9ed2dc2d",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 94,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "I\u0027m guessing the +1 here is for the null byte after the file name? Maybe worth mentioning that in the comment above",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16f6f84a_c8fd0dfb",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 94,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2cf7c52c_9ed2dc2d",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5cd81a7c_0c5feea7",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 101,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: Worth mentioning all the bytes are written in little-endian? (just wondering since every other part is commented)",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b1cf081_c2b6174b",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 101,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5cd81a7c_0c5feea7",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88821c10_3e919842",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 117,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "What about splitting CFHEADER into two parts. Right now there just seem to be a few too many arguments for this pack to easily see that everything matches up as intended",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6de89f2d_e9735f51",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 117,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Since it\u0027s one struct, I\u0027d like to write it in one call. Added some whitespace every 16 bytes in both CFHEADER\u0027s definition and in the write() call, does that help?\n\n(In the dumper I built a thin abstraction around OrderedDict on top of struct to make this more readable like so: https://github.com/nico/hack/blob/master/cab/dumpcab.py#L31 I\u0027m not super happy with either way though. Maybe a ctypes.Structure-based approach would be nicer.)",
      "parentUuid": "88821c10_3e919842",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16b5f4de_3d4c7859",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: There should be a space before and after the /",
      "range": {
        "startLine": 147,
        "startChar": 78,
        "endLine": 147,
        "endChar": 79
      },
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1e1ce17_05ae5866",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "16b5f4de_3d4c7859",
      "range": {
        "startLine": 147,
        "startChar": 78,
        "endLine": 147,
        "endChar": 79
      },
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a773c8ed_ad25b41d",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 175,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: -1 -\u003e Z_DEFAULT_COMPRESSION?",
      "range": {
        "startLine": 175,
        "startChar": 33,
        "endLine": 175,
        "endChar": 34
      },
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55330a64_c135eb19",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 175,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Nice! Done.",
      "parentUuid": "a773c8ed_ad25b41d",
      "range": {
        "startLine": 175,
        "startChar": 33,
        "endLine": 175,
        "endChar": 34
      },
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7c6190e_a7c8b6c8",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: Maybe worth having the comment about the max compressed size from the spec here instead of line 155",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af4df225_d9070b08",
        "filename": "chrome/tools/build/win/makecab.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7c6190e_a7c8b6c8",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54275f58_5fcc0235",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 6,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: order should be:\n\nimport makecab\n\nfrom StringIO import StringIO\nimport sys\nimport time\nimport unittest",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6d62bb0_6a652f63",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 6,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54275f58_5fcc0235",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "12d17167_128fe2a7",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 13,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "Could you also test -h and the error states.",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b60e970_3b248ce3",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 13,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "Meh, done. This still feels overkill to me :-)",
      "parentUuid": "12d17167_128fe2a7",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2ec050f_8512470d",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 49,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "nit: Since none of these imports are windows specific, it is probably fine to just include them with the other file level imports",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e03671b5_0d38e9e5",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 49,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "I think I prefer importing them only when needed.",
      "parentUuid": "f2ec050f_8512470d",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52efd58d_d03b905c",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 50,
      "author": {
        "id": 1115445
      },
      "writtenOn": "2018-01-09T15:59:03Z",
      "side": 1,
      "message": "I think this file creation work might be easier if you create a temporary directory to work in (with tempfile.mkdtemp). You can then just set the name for the .out without needing to create it first.\n\nYou can also wrap the directory deletion in a try/finally block so it will be deleted even if the assert on line 59 fails.",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebffd500_80a4ea37",
        "filename": "chrome/tools/build/win/makecab_test.py",
        "patchSetId": 7
      },
      "lineNbr": 50,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2018-01-10T14:52:04Z",
      "side": 1,
      "message": "I really like this suggestion, thanks. Done.",
      "parentUuid": "52efd58d_d03b905c",
      "revId": "c81f3cdd2826f56dfa4d2a5d77384b49a8c5386b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}