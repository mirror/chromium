{
  "comments": [
    {
      "key": {
        "uuid": "6b2069ce_009c6611",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2018-02-06T18:52:36Z",
      "side": 1,
      "message": "IIUC, the MediaElementMutationCallback exists on \u003caudio\u003e elements as well, so won\u0027t this DCHECK fire if someone sets disablePictureInPicture on an \u003caudio\u003e element (regardless of whether it\u0027s valid)? So maybe this should go below the HasVideo check",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "096cc0e7_c7330a49",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1002525
      },
      "writtenOn": "2018-02-06T19:26:20Z",
      "side": 1,
      "message": "I believe* audio.disablePictureInPicture doesn\u0027t exist as the disablePictureInPicture is only exposed to video elements. See https://cs.chromium.org/chromium/src/third_party/WebKit/Source/modules/picture_in_picture/HTMLVideoElementPictureInPicture.idl?l\u003d17\u0026rcl\u003df9230a78b254ec916650e745904207743195d864",
      "parentUuid": "6b2069ce_009c6611",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8ef4959_aca15764",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2018-02-06T19:42:39Z",
      "side": 1,
      "message": "I think you can still call `audio.setAttribute(\"disablePictureInPicture\", true);` in javascript and this will fire",
      "parentUuid": "096cc0e7_c7330a49",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3007b29b_a729de65",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1002525
      },
      "writtenOn": "2018-02-06T19:54:56Z",
      "side": 1,
      "message": "I\u0027ve just added `LOG(INFO) \u003c\u003c \"woohoo\";` in \"ShouldShowPictureInPictureButton(), executed JS below in devtools and I didn\u0027t see any \"woohoo\".\n\n    const audio \u003d document.createElement(\u0027audio\u0027);\n    audio.setAttribute(\u0027disablePictureInPicture\u0027, true);",
      "parentUuid": "e8ef4959_aca15764",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55ea5d0d_cdd8d69c",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1002525
      },
      "writtenOn": "2018-02-06T20:17:32Z",
      "side": 1,
      "message": "/me feels stupid! The audio element needs to be added to the DOM so that Mutation Observer callbacks are called. You\u0027re right about the DCHECK. I\u0027ll fix it!\n\nThanks for the drive-by review!",
      "parentUuid": "3007b29b_a729de65",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71371814_06986c75",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1002525
      },
      "writtenOn": "2018-02-06T20:21:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55ea5d0d_cdd8d69c",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96346793_d1d1fde5",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 154,
      "author": {
        "id": 1115974
      },
      "writtenOn": "2018-02-07T09:47:23Z",
      "side": 1,
      "message": "Could call Tommy. FWIW, you could DCHECK _after_ if you check whether PIP was allowed because it shouldn\u0027t on \u003caudio\u003e elements. The check is probably not that expensive anyway.",
      "parentUuid": "71371814_06986c75",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1d1e250_b94e1955",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 278,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2018-02-06T18:52:36Z",
      "side": 1,
      "message": "optional nit: maybe a switch(record-\u003eattributeName()) that calls NOTREACHED on default?",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dcd8b12_a6abf6e1",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 278,
      "author": {
        "id": 1002525
      },
      "writtenOn": "2018-02-06T19:26:20Z",
      "side": 1,
      "message": "Good idea!",
      "parentUuid": "c1d1e250_b94e1955",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb5422c5_ca801b5f",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 278,
      "author": {
        "id": 1002525
      },
      "writtenOn": "2018-02-06T20:21:03Z",
      "side": 1,
      "message": "But it looks like switch don\u0027t like strings in C++.",
      "parentUuid": "3dcd8b12_a6abf6e1",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d83039f7_96714f14",
        "filename": "third_party/WebKit/Source/modules/media_controls/MediaControlsImpl.cpp",
        "patchSetId": 11
      },
      "lineNbr": 278,
      "author": {
        "id": 1231235
      },
      "writtenOn": "2018-02-06T21:54:01Z",
      "side": 1,
      "message": "You\u0027re right. My mistake",
      "parentUuid": "fb5422c5_ca801b5f",
      "revId": "a489d8849c74d085e274711f413441aa5ef08ba4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}