{
  "comments": [
    {
      "key": {
        "uuid": "7af3810a_08ee37d2",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "tiny nit: \"static\" is not necessary",
      "range": {
        "startLine": 110,
        "startChar": 9,
        "endLine": 110,
        "endChar": 10
      },
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c05e31c_a271aa90",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7af3810a_08ee37d2",
      "range": {
        "startLine": 110,
        "startChar": 9,
        "endLine": 110,
        "endChar": 10
      },
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f6f7525_f3ad4f9a",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 203,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "OOC, why do we also want to reset |max_buffered_frames_|?",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b3ed2a8_4addbf21",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 203,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "In an ideal world we don\u0027t, but I don\u0027t have a good idea for a decay rate yet. We could try nothing for now or something simple like an exponential/linear decay with frames played. However as mentioned offline the longer playback continues the less it matters if we use a bit more memory to provide a quality experience.\n\nKeep in mind that none of the frame pools have timer based expiration currently. So if we reduce the number of resources consumed by VRI there may still be lingering cached buffers. Probably we should add a GC timer to all the frame pools (VideoFramePool, GpuMemoryBufferVideoFramePool, and MemoryPool). Filed https://bugs.chromium.org/p/chromium/issues/detail?id\u003d731472",
      "parentUuid": "2f6f7525_f3ad4f9a",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d0fd3a9_4446bb25",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 441,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "nit: Now it seems more intuitive to check \n\nif (min_buffered_frames_ \u003c max_buffered_frames_)",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed431dff_ef150c2c",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 441,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d0fd3a9_4446bb25",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bd6c729_3ecb21a0",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 490,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "As discussed offline, it\u0027ll be more accurate to have an average_read_duration for a moving window.\n\nThe current solution would work, but I am slightly worried about memory usage increase which is unnecessary in a lot of cases. We should monitor memory metrics if we land this as is.",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc64216c_6686a4b2",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 490,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "Average read duration doesn\u0027t work, since if the average was actually consistently above the frame duration we\u0027d never be able to play in real time. We are only trying to solve the case where the read duration is temporarily larger than the frame duration.\n\nI\u0027ve clarified in the code by avoiding the buffering increase if the average read duration is above the frame duration. With an 8k60 clip locally this does the right thing.\n\nAs discussed will launch this behind a feature so we can compare metrics.",
      "parentUuid": "8bd6c729_3ecb21a0",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0be1a710_94a9e19d",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 643,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "nit: one option is to bind |read_time| in the FrameReady() callback so that you don\u0027t need to keep track of it, or reset it etc.",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ef00de7_f0394b86",
        "filename": "media/renderers/video_renderer_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 643,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0be1a710_94a9e19d",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3349e2f5_5b554ada",
        "filename": "media/renderers/video_renderer_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "It\u0027s worth mentioning that min_buffered_frames_ is the minimum number of buffered frames to start playback or finish a seek, and max_buffered_frames_ is the maximum number of buffered frames |this| will try to cache at any time.",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30538d9a_b4ed8004",
        "filename": "media/renderers/video_renderer_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3349e2f5_5b554ada",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af502d5f_d1a784e3",
        "filename": "media/renderers/video_renderer_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 314,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-06-07T21:15:23Z",
      "side": 1,
      "message": "Please add comments about what these two are.",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8b626dc_014e3236",
        "filename": "media/renderers/video_renderer_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 314,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2017-06-09T00:59:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "af502d5f_d1a784e3",
      "revId": "9e4f6a71a16d40f44c94b827117ca15b085d8a76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}