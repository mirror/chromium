{
  "comments": [
    {
      "key": {
        "uuid": "cbc31dd6_56c47ee0",
        "filename": "chrome/browser/ui/webui/settings/site_settings_handler.cc",
        "patchSetId": 17
      },
      "lineNbr": 256,
      "author": {
        "id": 1136204
      },
      "writtenOn": "2018-01-26T01:18:47Z",
      "side": 1,
      "message": "I\u0027m not fully clear on what happens if code !\u003d blink::mojom::QuotaStatusCode::kOk. Could ya help me understand that a bit (mostly looking for whether anything will leak or get stuck waiting for a reply).",
      "revId": "e2825b5eb79c4fc5660cdf7d82ac79cf4f485c51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e56b8bd_deff1e8d",
        "filename": "chrome/browser/ui/webui/settings/site_settings_handler.cc",
        "patchSetId": 17
      },
      "lineNbr": 256,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T09:22:35Z",
      "side": 1,
      "message": "Regarding leaks: If OnStorageCleared and the local_storage_helper callback have been called, there should be no more references to the BarrierClosure and it will be deleted.\n\nAbout getting stuck: This CL doesn\u0027t change anything here. If QuotaStatus wasn\u0027t OK, it already didn\u0027t call settings.WebsiteUsagePrivateApi.onUsageCleared. Whether that is a good idea? I\u0027m not sure. In the end the call goes to site_details::onUsageDeleted_, so storedData_ wouldn\u0027t be reset.\n(https://cs.chromium.org/chromium/src/chrome/browser/resources/settings/site_settings/site_details.js?l\u003d236\u0026rcl\u003dc67646fb6096ac1d87b516b2eaf2eb9968d2da73)\nThis is probably a good thing as resetting it although the data might not have been deleted is bad as well. This way we might at least get some bug reports.\n\nIf we want to investigate this more, it might make sense to add some UMA to QuotaManager to find out if this ever happens and which storage backends are affected.",
      "parentUuid": "cbc31dd6_56c47ee0",
      "revId": "e2825b5eb79c4fc5660cdf7d82ac79cf4f485c51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4514336_e6d476e3",
        "filename": "chrome/browser/ui/webui/settings/site_settings_handler.cc",
        "patchSetId": 17
      },
      "lineNbr": 363,
      "author": {
        "id": 1136204
      },
      "writtenOn": "2018-01-26T01:18:47Z",
      "side": 1,
      "message": "Not a big deal, but maybe a comment about what the two steps are? Maybe\n// Call OnUsageCleared after both foo and bar have completed.\nOr maybe some other means of documenting what the \"2\" is on line 364.\n(I\u0027m flexible on what it is; just looking for something explaining the \"2\").",
      "revId": "e2825b5eb79c4fc5660cdf7d82ac79cf4f485c51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6be1322c_22692a6c",
        "filename": "chrome/browser/ui/webui/settings/site_settings_handler.cc",
        "patchSetId": 17
      },
      "lineNbr": 363,
      "author": {
        "id": 1183839
      },
      "writtenOn": "2018-01-26T09:22:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c4514336_e6d476e3",
      "revId": "e2825b5eb79c4fc5660cdf7d82ac79cf4f485c51",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}