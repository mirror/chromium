{
  "comments": [
    {
      "key": {
        "uuid": "26bea298_6a1b078a",
        "filename": "components/favicon/content/content_favicon_driver.cc",
        "patchSetId": 8
      },
      "lineNbr": 247,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "We should consult an expert as to whether NavigationHandle::IsSameDocument() returns true for any cases other than:\n- History JS API\n- Fragment navigations\n\nI traced back the navigation logic pretty far. The navigation logic seems more complicated than the last time I looked at it.\n\nclamy@ and creis@ are likely good people to ask",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0490c879_e5877f5a",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 227,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "I am unsure if this is the follow up CL that you told me about. We should clear |page_urls_| only if NotifyFaviconUpdated() has not yet been called (i.e. the FaviconHandler has not terminated yet)",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92fd55b2_85fd86cc",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 248,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "You should a comment mentioning |page_url| to demonstrate that using |page_url| instead of |page_urls_| here is not a mistake",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "587b0771_2cb7ab31",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 248,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-08-10T10:21:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92fd55b2_85fd86cc",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99ccbd98_899ef15d",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 285,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "You should add a comment why you update the favicons for all of |page_urls_| here and not in other places (e.g. line 603)\n\nIf a user has bookmarked https://mail.google.com/mail/u/0/#inbox (the final page for GMail) it is possible for the last page in the history.pushState() chain to be in the database and not expired while the earlier pages are not in the database",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "694b83c5_f6090a5a",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 285,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-08-10T10:21:42Z",
      "side": 1,
      "message": "Done, the first part.\n\nWhat you you exactly propose with the bookmark-related issue above? Does your comment belong here or are you talking about the database lookup? Either way, I think it\u0027s a very rare scenario (in-document navigation, bookmarked page, expired history and somehow it still shows up in the NTP?) that is not a regression.",
      "parentUuid": "99ccbd98_899ef15d",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57bb02f5_45b85139",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 285,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T15:22:28Z",
      "side": 1,
      "message": "I don\u0027t suggest doing anything about the bookmark-related issue. We should document that we have thought about it and why we are not addressing it.\n\nThere is a similar issue with:\n- Navigating to https://www.westjet.com\n- Adding a bookmark to https://www.westjet.ca\n(There is a server redirect which redirects https://www.westjet.ca to https://www.westjet.com)\nThe bookmark won\u0027t get an icon till the favicon for https://www.westjet.com expires",
      "parentUuid": "694b83c5_f6090a5a",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44ba3e49_cb26db77",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 285,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-08-10T17:09:25Z",
      "side": 1,
      "message": "Can you please advise me with what comment you\u0027d like to add and where. I\u0027m still confused about the line being discussed here (perhaps you didn\u0027t mean to be specifically about this code snippet). I personally find little value in documenting that we\u0027ve thought about more advanced cases and we\u0027re not supporting them fully, unless we can phrase them as actionable TODOs.",
      "parentUuid": "57bb02f5_45b85139",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5c102f7_484394c6",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 330,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "This is not the case for file:// URLs. FrameHostMsg_UpdateFaviconURL is not sent if there are no candidates.\n\nI don\u0027t want to rely on |candidates| being non-empty",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1c801a7_3b4f0229",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 330,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-08-10T10:21:42Z",
      "side": 1,
      "message": "Done, I used base::Optional to distinguish whether candidates have been received (i.e. distinguish inexistence from empty candidate list).  You might prefer introducing a boolean member field.",
      "parentUuid": "a5c102f7_484394c6",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79ce36e5_e74641f7",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 330,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T15:22:28Z",
      "side": 1,
      "message": "I do prefer a bool. Making |non_manifest_original_candidates_| a base::Optional is not great in my opinion because OnUpdateCandidates() takes two arguments |candidates| and |manifest_url|. One could argue that |manifest_url_| should be base::Optional instead",
      "parentUuid": "c1c801a7_3b4f0229",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "594c3751_3b8e05ae",
        "filename": "components/favicon/core/favicon_handler.cc",
        "patchSetId": 8
      },
      "lineNbr": 330,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-08-10T17:09:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79ce36e5_e74641f7",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f1a1ca_793f5ada",
        "filename": "components/favicon/core/favicon_handler.h",
        "patchSetId": 8
      },
      "lineNbr": 304,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "This should be a set::set\u003cGURL\u003e. Calling history.pushState() with the same URL as the current URL is valid",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c22cff38_67fbdf97",
        "filename": "components/history/core/browser/history_backend_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 2592,
      "author": {
        "id": 1176654
      },
      "writtenOn": "2017-08-10T00:48:13Z",
      "side": 1,
      "message": "Can you add the new test cases in a new test method UpdateFaviconMappingsAndFetchMultiplePageUrls() perhaps?",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4d7fac0_f83125f3",
        "filename": "components/history/core/browser/history_backend_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 2592,
      "author": {
        "id": 1176649
      },
      "writtenOn": "2017-08-10T10:21:42Z",
      "side": 1,
      "message": "Done, with a name that is more consistent to the previously existing test.",
      "parentUuid": "c22cff38_67fbdf97",
      "revId": "13e1dbfa1d964b1e080ff7b8180565f913c90cd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}