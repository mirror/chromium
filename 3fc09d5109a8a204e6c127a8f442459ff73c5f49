{
  "comments": [
    {
      "key": {
        "uuid": "ee86cf2a_652d6ba8",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletGlobalScope.cpp",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "Can you add DCHECK(global-\u003eIsContextThread()); here?",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7887383_5478ca91",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletGlobalScope.cpp",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "ditto: when_done",
      "range": {
        "startLine": 80,
        "startChar": 19,
        "endLine": 80,
        "endChar": 27
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "888d2f2b_8768d2b8",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletGlobalScope.cpp",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7887383_5478ca91",
      "range": {
        "startLine": 80,
        "startChar": 19,
        "endLine": 80,
        "endChar": 27
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c952179e_2808ee80",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletGlobalScope.cpp",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee86cf2a_652d6ba8",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f214eba4_c30287f4",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletGlobalScope.h",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "when_done",
      "range": {
        "startLine": 41,
        "startChar": 45,
        "endLine": 41,
        "endChar": 53
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "117e89bc_0302e442",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletGlobalScope.h",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f214eba4_c30287f4",
      "range": {
        "startLine": 41,
        "startChar": 45,
        "endLine": 41,
        "endChar": 53
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "354d04a0_52066cf8",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletProxyClientImpl.cpp",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "Does this post a task to the current thread? If so, it looks like |is_done| is never signaled.",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61f04f13_8a1278a0",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletProxyClientImpl.cpp",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "No, It should be posting to the AnimationWorkletThread.  If is_done was never signalled the tests would not pass.",
      "parentUuid": "354d04a0_52066cf8",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cda1ee38_96ba5203",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletProxyClientImpl.cpp",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-18T23:07:55Z",
      "side": 1,
      "message": "Hmm... which thread AnimationWorkletGlobalScope runs on? I\u0027m assuming it\u0027s on AnimationWorkletThread::GetSharedBackingThread() and we\u0027re on AnimationWorkletThread::GetSharedBackingThread() here because of the check at line 45).\n\nIf |global_scope_-\u003eIsContextThread()| is not |AnimationWorkletThread::GetSharedBackingThread()|, this would be thread-violation because WorkletGlobalScope must be accessed only on its context thread.",
      "parentUuid": "61f04f13_8a1278a0",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2694b6e8_b7d40f44",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletProxyClientImpl.cpp",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-10-17T21:17:57Z",
      "side": 1,
      "message": "Hmmm ... I wonder why that DCHECK is passing,  I was expecting this to be running on the compositor thread.  ...",
      "parentUuid": "cda1ee38_96ba5203",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "140c2887_0da543b5",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletProxyClientImpl.cpp",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2018-01-15T21:57:09Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2694b6e8_b7d40f44",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b50144c_9f434895",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.cpp",
        "patchSetId": 8
      },
      "lineNbr": 48,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "Can you move this to line 53?",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03e93b61_aeac01d9",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.cpp",
        "patchSetId": 8
      },
      "lineNbr": 48,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b50144c_9f434895",
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7533b38_7243882a",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.cpp",
        "patchSetId": 8
      },
      "lineNbr": 49,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "auto*?",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 46
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31ca9b62_8bafb9a4",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.cpp",
        "patchSetId": 8
      },
      "lineNbr": 49,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7533b38_7243882a",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 46
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8d4a2b0_36e66aea",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.cpp",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "auto*?",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 73,
        "endChar": 46
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cb50887_581220ea",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.cpp",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8d4a2b0_36e66aea",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 73,
        "endChar": 46
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "230b6753_6303ca19",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "If possible, it would be better to remove AbstractAnimationWorkletThread layer first by deprecating CompositorWorker (see https://crbug.com/746212) because this change implicitly overrides static functions.",
      "range": {
        "startLine": 17,
        "startChar": 13,
        "endLine": 17,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7457dfe0_cbe8d665",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "I don\u0027t understand the motivation for blocking this change on that one.\nWhat goes wrong by inheriting static functions?\nIt\u0027s not like you can call them on a derived object.",
      "parentUuid": "230b6753_6303ca19",
      "range": {
        "startLine": 17,
        "startChar": 13,
        "endLine": 17,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9c93191_8e1f8153",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-18T23:07:55Z",
      "side": 1,
      "message": "Because this would be error-prone and confusing for code readers.\n\nFor example, ModulesInitializer::CollectAllGarbageForAnimationWorklet() calls AbstractAnimationWorkletThread::CollectAllGarbage(), but not AnimationWorkletThread::CollectAllGarbage(). IIUC, AbstractAnimationWorkletThread::CollectAllGarbage() does nothing for AnimationWorklet after this change. This is not intuitive.\n\nIf it\u0027s difficult to deprecate the entire CompositorWorker now, how about moving (static) functions used only for CompositorWorker from AbstractAnimationWorkletThread into CompositorThread?",
      "parentUuid": "7457dfe0_cbe8d665",
      "range": {
        "startLine": 17,
        "startChar": 13,
        "endLine": 17,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf18405d_e39bca54",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-20T23:00:39Z",
      "side": 1,
      "message": "I would argue that calling a class Abstract that didn\u0027t inherit was the inevitable cause of that confusion.\n\nModulesInitializer is simply a missed piece of this CL as a result of that.",
      "parentUuid": "f9c93191_8e1f8153",
      "range": {
        "startLine": 17,
        "startChar": 13,
        "endLine": 17,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e37127b_02a4b1aa",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2018-01-15T21:57:09Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bf18405d_e39bca54",
      "range": {
        "startLine": 17,
        "startChar": 13,
        "endLine": 17,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb7282fe_f0198570",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-09-08T03:27:14Z",
      "side": 1,
      "message": "clear -\u003e Clear",
      "range": {
        "startLine": 26,
        "startChar": 38,
        "endLine": 26,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35d4045b_8a5b1716",
        "filename": "third_party/WebKit/Source/modules/compositorworker/AnimationWorkletThread.h",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 1000279
      },
      "writtenOn": "2017-09-18T20:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb7282fe_f0198570",
      "range": {
        "startLine": 26,
        "startChar": 38,
        "endLine": 26,
        "endChar": 43
      },
      "revId": "3fc09d5109a8a204e6c127a8f442459ff73c5f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}