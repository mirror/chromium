{
  "comments": [
    {
      "key": {
        "uuid": "85b9c48f_4cb2e4aa",
        "filename": "components/cronet/ios/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-06-29T18:21:48Z",
      "side": 1,
      "message": "This is also controlled by is_cronet_build gn flag. Is it expected to override here?",
      "range": {
        "startLine": 84,
        "startChar": 15,
        "endLine": 84,
        "endChar": 27
      },
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e03d526d_1b0ec349",
        "filename": "components/cronet/ios/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-30T16:47:47Z",
      "side": 1,
      "message": "It wasn\u0027t expected to override, but I\u0027ve refactored and this is now gone.",
      "parentUuid": "85b9c48f_4cb2e4aa",
      "range": {
        "startLine": 84,
        "startChar": 15,
        "endLine": 84,
        "endChar": 27
      },
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2e8150a_e38296fd",
        "filename": "components/cronet/ios/cronet_environment.mm",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-06-29T18:21:48Z",
      "side": 1,
      "message": "Should WV and Cronet share AtExitManager as well?",
      "range": {
        "startLine": 118,
        "startChar": 7,
        "endLine": 118,
        "endChar": 17
      },
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5fbe08b_ef5a1c8c",
        "filename": "components/cronet/ios/cronet_environment.mm",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-30T16:47:47Z",
      "side": 1,
      "message": "Yes, but I wanted to start with only a piece of the overall shared global_state to keep the CL small and make it easier to understand. I was planning on moving the other shared state to global_state as a dependent CL.",
      "parentUuid": "b2e8150a_e38296fd",
      "range": {
        "startLine": 118,
        "startChar": 7,
        "endLine": 118,
        "endChar": 17
      },
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "52851333_f89c65b4",
        "filename": "ios/net/global_state/ios_global_state.h",
        "patchSetId": 4
      },
      "lineNbr": 8,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-06-29T18:21:48Z",
      "side": 1,
      "message": "nit: may be use more specific name like |ios_net_global_state|?",
      "range": {
        "startLine": 8,
        "startChar": 10,
        "endLine": 8,
        "endChar": 22
      },
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af36e8f7_125b4f40",
        "filename": "ios/net/global_state/ios_global_state.h",
        "patchSetId": 4
      },
      "lineNbr": 8,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-30T16:47:47Z",
      "side": 1,
      "message": "WDYT about ios_global_state since all the state is not net related?",
      "parentUuid": "52851333_f89c65b4",
      "range": {
        "startLine": 8,
        "startChar": 10,
        "endLine": 8,
        "endChar": 22
      },
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a9a5b7e_5b546ea9",
        "filename": "ios/net/global_state/ios_global_state.mm",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-06-29T12:44:45Z",
      "side": 1,
      "message": "base::TaskScheduler::InitParams is copyable, so you can change this method to return the object by value instead of doing an extra allocation.\n\nbase::TaskScheduler::InitParams GetDefaultTaskSchedulerInitParams() {\n  return base::TaskScheduler::InitParams(\n      ...\n}",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "add25fff_b3042523",
        "filename": "ios/net/global_state/ios_global_state.mm",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-30T16:47:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a9a5b7e_5b546ea9",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16eec375_d5008fd9",
        "filename": "ios/net/global_state/ios_global_state.mm",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-06-29T12:44:45Z",
      "side": 1,
      "message": "This won\u0027t work as this would require the file to be built twice (one time with CRONET_BUILD set to 0, one time with it set to 1). I think it is bad practice to compile the same file twice.\n\n[Note: this does not create a compilation failure, because in an #if, undefined macros are treated as if they were defined to 0, so this test will always be false.]\n\nAn option is to declare an helper method GetTaskSchedulerName() but do not provide an implementation and say that code calling this must provide an implementation. This however would make this target incomplete which I don\u0027t really like.\n\nA better option, IMP, is to just change the prototype of Create to take this string and expand the comment to say that only the value passed to the first call will be honoured.",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77b7a80f_618f4f19",
        "filename": "ios/net/global_state/ios_global_state.mm",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-29T15:35:24Z",
      "side": 1,
      "message": "Passing in a string doesn\u0027t solve this because it would simply move the problem to the client. We would need to tell clients of CronetChromeWebView that they must use ChromeWebView before they use Cronet and I really don\u0027t like that kind of restriction coming from a framework due to one of our implementation details.\n\nWDYT about my suggestion from Patch set 3 about having two implementation files and switch on a define in the global_state/BUILD.gn. For example, I can have a global_state.mm with the implementation here and for a cronet only build, use a global_state_cronet.mm instead.",
      "parentUuid": "16eec375_d5008fd9",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "479d6966_5f8064af",
        "filename": "ios/net/global_state/ios_global_state.mm",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-06-29T15:55:23Z",
      "side": 1,
      "message": "This is my first suggestion (\"An option is to declare an helper method GetTaskSchedulerName() but do not provide an implementation and say that code calling this must provide an implementation. This however would make this target incomplete which I don\u0027t really like.\").\n\nIf you do this, do not use a flag in BUILD.gn but tell the client that they should link to one of the two targets that implement the function (look at how //ios/chrome/app:tests_hooks, //ios/chrome/app:tests_fake_hook and //ios/chrome/test/earl_grey:hooks do this).\n\nThen //ios/web would link with //ios/web:ios_net_hooks and cronet would link against //ios/crnet:ios_net_hooks that have the implementation.",
      "parentUuid": "77b7a80f_618f4f19",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc2f384a_61c7bbd9",
        "filename": "ios/net/global_state/ios_global_state.mm",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-30T16:47:47Z",
      "side": 1,
      "message": "I followed this advice. PTAL at the latest patch. I have a configuration file where the name is returned from. The default implementation lives in the same location as the header instead of somewhere else inside ios/web, but it could be moved if we find that it makes more sense.",
      "parentUuid": "479d6966_5f8064af",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77924afd_97a054bd",
        "filename": "ios/web/app/web_main_loop.mm",
        "patchSetId": 4
      },
      "lineNbr": 124,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-06-29T12:44:45Z",
      "side": 1,
      "message": "Remove \"{}\" as there is no longer any need to limit the scope of local variables.",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f2c2085_a0a5b362",
        "filename": "ios/web/app/web_main_loop.mm",
        "patchSetId": 4
      },
      "lineNbr": 124,
      "author": {
        "id": 1148810
      },
      "writtenOn": "2017-06-30T16:47:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77924afd_97a054bd",
      "revId": "cc2da3a6566fb54d0db63ef6e8aa254c90dbfb6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}