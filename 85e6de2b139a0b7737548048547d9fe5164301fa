{
  "comments": [
    {
      "key": {
        "uuid": "cab92457_ed595b2e",
        "filename": "chrome/browser/resources/md_bookmarks/dnd_manager.js",
        "patchSetId": 3
      },
      "lineNbr": 630,
      "author": {
        "id": 1130680
      },
      "writtenOn": "2017-07-26T07:59:02Z",
      "side": 1,
      "message": "I agree that this patchset is nicer. To confirm, the thing you\u0027re worried about is that in theory handleChromeDragEnter_ could happen before the setTimeout?\n\nI would expect that calling an extension API and waiting for a listener would be at least a task, but I\u0027m not sure if there are guarantees. You could try asking someone who knows more about the extensions \u003c-\u003e v8 interactions?\n\nOtherwise, one option might be to only run setTimeout in clearDragData if it was a native drag. Something like\n\n    clearDragData_: function() {\n      var nativeDrag \u003d this.internalDragElement_ !\u003d null;\n\n      this.dndChip.hide();\n      ...\n\n      var finishClearCallback \u003d (function() {\n        this.dragInfo_.clearDragData();\n        ...\n      }.bind(this));\n\n      if (nativeDrag)\n        setTimeout(finishClearCallback)\n      else\n        finishClearCallback()\n    },",
      "revId": "85e6de2b139a0b7737548048547d9fe5164301fa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f2dbed4_e6d1a940",
        "filename": "chrome/browser/resources/md_bookmarks/dnd_manager.js",
        "patchSetId": 3
      },
      "lineNbr": 630,
      "author": {
        "id": 1002603
      },
      "writtenOn": "2017-07-27T03:46:01Z",
      "side": 1,
      "message": "Hmm. Ok. So upon further thought, you\u0027re right. It\u0027s going to be at least a task, and the clear here will immediately be added to the task queue. I\u0027m happy enough to go with this.",
      "parentUuid": "cab92457_ed595b2e",
      "revId": "85e6de2b139a0b7737548048547d9fe5164301fa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d51aa484_71578ca9",
        "filename": "chrome/browser/resources/md_bookmarks/dnd_manager.js",
        "patchSetId": 3
      },
      "lineNbr": 630,
      "author": {
        "id": 1130680
      },
      "writtenOn": "2017-07-27T05:08:22Z",
      "side": 1,
      "message": "Sure. Maybe just add a comment here to clarify/explain?",
      "parentUuid": "7f2dbed4_e6d1a940",
      "revId": "85e6de2b139a0b7737548048547d9fe5164301fa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5eef079a_dfffb0a1",
        "filename": "chrome/browser/resources/md_bookmarks/dnd_manager.js",
        "patchSetId": 3
      },
      "lineNbr": 630,
      "author": {
        "id": 1002603
      },
      "writtenOn": "2017-07-28T01:56:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d51aa484_71578ca9",
      "revId": "85e6de2b139a0b7737548048547d9fe5164301fa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}