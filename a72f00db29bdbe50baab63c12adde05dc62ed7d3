{
  "comments": [
    {
      "key": {
        "uuid": "55cfe319_78494ae0",
        "filename": "chrome/browser/profiles/profile.cc",
        "patchSetId": 5
      },
      "lineNbr": 145,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-21T07:22:39Z",
      "side": 1,
      "message": "Do you want to move the other SB related prefs to safe_browsing::RegisterProfilePrefs as well?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6ad201b_d8a07c14",
        "filename": "chrome/browser/profiles/profile.cc",
        "patchSetId": 5
      },
      "lineNbr": 145,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-22T20:53:18Z",
      "side": 1,
      "message": "Added a TODO to do this in a follow-up CL",
      "parentUuid": "55cfe319_78494ae0",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a33f333a_d8ca340b",
        "filename": "chrome/browser/safe_browsing/ui_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 386,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "I am a bit puzzled by the problem and the comment is a bit in the \"I don\u0027t understand it but this seems to work\" direction. Are you sure you want to go this way?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "393fc3d4_a40b5f48",
        "filename": "chrome/browser/safe_browsing/ui_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 386,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "Thank you for calling this out, I found what I was doing wrong initially (calling Initialize after AddPrefService). Reordering those calls fixes this issue.",
      "parentUuid": "a33f333a_d8ca340b",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88cfb74d_6f5dfc77",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "Can you explain in which cases this is not the case? I guess this setting is controlled by enterprise policy?\nIs this about SBER version 1 (before Scout) or Scout or both?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75c49531_80368835",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "Correct, this is an enterprise policy and causes the checkbox to be hidden on security interstitials. It affects both SBER1 and Scout.",
      "parentUuid": "88cfb74d_6f5dfc77",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62c8aa35_60573151",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-21T07:22:39Z",
      "side": 1,
      "message": "Do you want to add \"This is exposed as a preference that can be overridden by enterprise policy.\"?",
      "parentUuid": "75c49531_80368835",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8565e75_bdabf0b5",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-22T20:53:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62c8aa35_60573151",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "683b0dda_b3c72658",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "While you are in this code. Do you want to explain the word \"Scout\"?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ad7a0aa_77ffa686",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "I\u0027m inclined to leave as is, primarily because Scout is temporary while we transition to the new setting. After that point we\u0027ll return to having a single \"Extended Reporting\" setting. I expect that cleanup to happen next quarter.\n\nWDYT?",
      "parentUuid": "683b0dda_b3c72658",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed78eeea_db97bad8",
        "filename": "components/safe_browsing/common/safe_browsing_prefs.h",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-21T07:22:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9ad7a0aa_77ffa686",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63e54718_4646a6ac",
        "filename": "components/safe_browsing/triggers/trigger_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "how about a forward declaration here? (class PrefService;)",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b709696a_08df9852",
        "filename": "components/safe_browsing/triggers/trigger_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63e54718_4646a6ac",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "695bb0eb_1286d022",
        "filename": "components/safe_browsing/triggers/trigger_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 67,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "\"the user did not opt-in to...\" ?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7ff9b48_7ba0e552",
        "filename": "components/safe_browsing/triggers/trigger_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 67,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "695bb0eb_1286d022",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2ceb31e_7d097280",
        "filename": "components/safe_browsing/triggers/trigger_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 57,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "The common pattern is to have a function RegisterPrefs that takes care of this. See for example https://cs.chromium.org/chromium/src/components/rappor/rappor_prefs.h\n\nI think that it would be cleaner to extract the registration out of Profile::RegisterProfilePrefs(...) into safe_browsing::RegisterProfilePrefs(...) and override the settings as appropriate here.",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14470cc0_923a931c",
        "filename": "components/safe_browsing/triggers/trigger_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 57,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2ceb31e_7d097280",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2aaf1c5c_502a5fb1",
        "filename": "components/safe_browsing/triggers/trigger_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "Optional: This may be a bit confusing because calling CreateWebContents() after CreateIncognitoWebContents() does not do what one would expect. Also, I guess, the browser_context_ is shared with the WebContents instances.\n\nMaybe add a DCHECK that CreateWebContents() is not called after CreateIncognitoWebContents()?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82a65ffa_9c8d22dc",
        "filename": "components/safe_browsing/triggers/trigger_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "Good call, done.",
      "parentUuid": "2aaf1c5c_502a5fb1",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b169a84_397d74a6",
        "filename": "components/safe_browsing/triggers/trigger_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 246,
      "author": {
        "id": 1002543
      },
      "writtenOn": "2017-06-19T20:04:02Z",
      "side": 1,
      "message": "I lost track of the combinations... Is it useful to test a situation where SBER1 and Scout are inconsistent? Can kSafeBrowsingExtendedReportingEnabled or kSafeBrowsingScoutReportingEnabled be true while kSafeBrowsingExtendedReportingOptInAllowed is false?",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37ceb1d6_75d96ec7",
        "filename": "components/safe_browsing/triggers/trigger_manager_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 246,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-20T21:49:16Z",
      "side": 1,
      "message": "I think the SBER1/Scout interactions are well-covered in safe_browsing_prefs_unittest.cc. The main thing we care about here is that overall Extended Reporting is enabled/disabled. Since Scout is the default pref in code right now, I\u0027ve actually changed these tests to only use the Scout pref.\n\nAnd yes, SBER/Scout can be true while SBEROptInAllowed is false - they are independent prefs.",
      "parentUuid": "9b169a84_397d74a6",
      "revId": "a72f00db29bdbe50baab63c12adde05dc62ed7d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}