{
  "comments": [
    {
      "key": {
        "uuid": "659f82a7_f957dc44",
        "filename": "ios/PRESUBMIT.py",
        "patchSetId": 4
      },
      "lineNbr": 45,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-10-17T19:33:01Z",
      "side": 1,
      "message": "sergeyberezin@, is this the best way to add cronet bot to CQ?",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 18
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e1bf563_31ed6b6e",
        "filename": "ios/PRESUBMIT.py",
        "patchSetId": 4
      },
      "lineNbr": 45,
      "author": {
        "id": 1116444
      },
      "writtenOn": "2017-10-17T20:52:26Z",
      "side": 1,
      "message": "Ideally, I\u0027d prefer to add it directly to the CQ config: https://chromium.googlesource.com/chromium/src/+/master/infra/config/cq.cfg#66\nand let the builder figure out if it needs to run (so it quits quickly if not). This keeps all the CQ bots in one config, and is easy to review what we test and what we don\u0027t.\n\nThat said, it\u0027s more work to configure the bot properly (unless it already is configured that way), and I\u0027m OK with adding it through presubmit for now, and filing a bug to add it to cq.cfg later.",
      "parentUuid": "659f82a7_f957dc44",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 18
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8a652bc_586b1aa6",
        "filename": "ios/PRESUBMIT.py",
        "patchSetId": 4
      },
      "lineNbr": 45,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-17T21:11:19Z",
      "side": 1,
      "message": "There is a bug for that - https://bugs.chromium.org/p/chromium/issues/detail?id\u003d712733 but it sounds like it is an expensive proposition.",
      "parentUuid": "8e1bf563_31ed6b6e",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 18
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16dc9bfd_acc47b0e",
        "filename": "ios/PRESUBMIT.py",
        "patchSetId": 4
      },
      "lineNbr": 45,
      "author": {
        "id": 1116444
      },
      "writtenOn": "2017-10-17T21:21:29Z",
      "side": 1,
      "message": "Well, this is effectively adding it to CQ anyway :-) So most of the arguments on the bug still apply. Again, I\u0027m OK with adding it like this for now (assuming dpranke@ doesn\u0027t object), but if this bot sticks on CQ, please consider consolidating it to the CQ config, if only for having all the CQ bots clearly listed in one single place. It really helps others to see what we\u0027re really testing on CQ.",
      "parentUuid": "c8a652bc_586b1aa6",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 18
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7459c0d8_1c93e16c",
        "filename": "ios/web/public/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1123009
      },
      "writtenOn": "2017-10-17T19:33:01Z",
      "side": 1,
      "message": "Could you please remove these files from the list and add \":user_agent\" dependency to public.\nsdefresne@ is this the right suggestion?",
      "range": {
        "startLine": 59,
        "startChar": 5,
        "endLine": 59,
        "endChar": 15
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0eb7b87c_54d4b7ab",
        "filename": "ios/web/public/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-17T19:45:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7459c0d8_1c93e16c",
      "range": {
        "startLine": 59,
        "startChar": 5,
        "endLine": 59,
        "endChar": 15
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "331adcc5_58a36b46",
        "filename": "ios/web/public/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-17T20:07:14Z",
      "side": 1,
      "message": "G\u0027Ah, that makes GN complain about implicit dependency chain:\n\nERROR at //ios/web/public/user_agent_unittest.mm:5:10: Can\u0027t include this header from here.\n#import \"ios/web/public/user_agent.h\"\n         ^--------------------------\nThe target:\n  //ios/web:ios_web_public_unittests\nis including a file from the target:\n  //ios/web/public:user_agent\nIt\u0027s usually best to depend directly on the destination target.\nIn some cases, the destination target is considered a subcomponent\nof an intermediate target. In this case, the intermediate target\nshould depend publicly on the destination to forward the ability\nto include headers.\nDependency chain (there may also be others):\n  //ios/web:ios_web_public_unittests --\u003e\n  //ios/web/public:public --[private]--\u003e\n  //ios/web/public:user_agent\n\nI think we are better off having user_agent.{h|mm} in \"public\" and \"user_agent\" rather than adding \"user_agent\" to deps everywhere. \n\nAlternatively maybe it should be added as \u0027public_deps\u0027, would that work?",
      "parentUuid": "0eb7b87c_54d4b7ab",
      "range": {
        "startLine": 59,
        "startChar": 5,
        "endLine": 59,
        "endChar": 15
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d550b977_77ac24b6",
        "filename": "ios/web/public/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1116027
      },
      "writtenOn": "2017-10-17T20:55:04Z",
      "side": 1,
      "message": "Yes, adding \":user_agent\" to \"public\" public_deps should work and is the correct thing to do here.",
      "parentUuid": "331adcc5_58a36b46",
      "range": {
        "startLine": 59,
        "startChar": 5,
        "endLine": 59,
        "endChar": 15
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c1b7fd1_61701a24",
        "filename": "ios/web/public/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1002889
      },
      "writtenOn": "2017-10-17T21:11:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d550b977_77ac24b6",
      "range": {
        "startLine": 59,
        "startChar": 5,
        "endLine": 59,
        "endChar": 15
      },
      "revId": "bff87798cd2bb311bf96eb94a5c30bd699021f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}