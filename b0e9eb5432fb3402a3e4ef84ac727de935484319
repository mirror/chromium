{
  "comments": [
    {
      "key": {
        "uuid": "453ecda7_cce72a25",
        "filename": "third_party/WebKit/Source/modules/webgl/OESTextureHalfFloat.cpp",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1003154
      },
      "writtenOn": "2017-09-06T00:47:04Z",
      "side": 1,
      "message": "geofflang: If I do context-\u003eExtensionsUtil()-\u003eEnsureExtensionEnabled(\"context-\u003eExtensionsUtil()-\u003eEnsureExtensionEnabled(\") here, in passthrough mode, this calls glRequestExtesnionANGLE() on the service side, and then readPixels will generate INVALID_ENUM with RGBA/FLOAT.\n\nIt\u0027s OK not to call that, so I don\u0027t, but I\u0027d like to understand why the ANGLE behavior.",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 35
      },
      "revId": "b0e9eb5432fb3402a3e4ef84ac727de935484319",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8c250c9_dc2df563",
        "filename": "third_party/WebKit/Source/modules/webgl/OESTextureHalfFloat.cpp",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2017-09-06T14:35:56Z",
      "side": 1,
      "message": "The relevant validation is here: https://cs.chromium.org/chromium/src/third_party/angle/src/libANGLE/validationES.cpp?q\u003dValidReadPixelsTypeEnum\u0026l\u003d179\n\nIt looks like we don\u0027t accept GL_FLOAT as a read pixels type unless OES_texture_float is available.  Looks like we need to update to accept it if EXT_color_buffer_half_float is available too but the spec is pretty poorly written about it... the only mention is in a line of the revision history:\n\n         5   04/27/11  aeddy     Update ReadPixels to accept RGBA, FLOAT.\n\nI\u0027d like to make sure we do the right thing with requesting these extensions and only request the ones we need so let\u0027s make sure the validation is correct.",
      "parentUuid": "453ecda7_cce72a25",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 35
      },
      "revId": "b0e9eb5432fb3402a3e4ef84ac727de935484319",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c79c924_6b7eb821",
        "filename": "third_party/WebKit/Source/modules/webgl/OESTextureHalfFloat.cpp",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1003154
      },
      "writtenOn": "2017-09-07T02:24:32Z",
      "side": 1,
      "message": "What we decide for WebGL 1 to do is, when we enable OES_texture_float, we implicitly enable WEBGL_color_buffer_float; when we enable OES_texture_half_float, we implicitly enable EXT_color_buffer_float.\n\nLet me know if you have further questions on this.",
      "parentUuid": "b8c250c9_dc2df563",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 35
      },
      "revId": "b0e9eb5432fb3402a3e4ef84ac727de935484319",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9dfec7c0_7056d524",
        "filename": "third_party/WebKit/Source/modules/webgl/WebGLRenderingContext.cpp",
        "patchSetId": 5
      },
      "lineNbr": 151,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2017-09-06T00:59:57Z",
      "side": 1,
      "message": "Isn\u0027t a change to WebGLRenderingContextBase::getExtension needed which enables EXT_color_buffer_half_float when OES_texture_half_float is enabled, and which enables WEBGL_color_buffer_float when OES_texture_float is enabled?",
      "revId": "b0e9eb5432fb3402a3e4ef84ac727de935484319",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78d7da22_e3736bfb",
        "filename": "third_party/WebKit/Source/modules/webgl/WebGLRenderingContext.cpp",
        "patchSetId": 5
      },
      "lineNbr": 151,
      "author": {
        "id": 1003154
      },
      "writtenOn": "2017-09-06T01:40:53Z",
      "side": 1,
      "message": "It\u0027s not necessary. WebGL doesn\u0027t expose the enabled extensions. We only need to enable \u0027EXT_color_buffer_half_float\u0027 at WebGL level when it\u0027s requested through getExtension(\u0027EXT_color_buffer_half_float\u0027); for getExtension(\u0027OES_texture_half_float\u0027), we only need to make sure the \u0027EXT_color_buffer_half_float\u0027 is enabled in the underlying level.\n\nSame with the OES_texture_float / WEBGL_color_buffer_float case.",
      "parentUuid": "9dfec7c0_7056d524",
      "revId": "b0e9eb5432fb3402a3e4ef84ac727de935484319",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85da90b4_a02abfa6",
        "filename": "third_party/WebKit/Source/modules/webgl/WebGLRenderingContext.cpp",
        "patchSetId": 5
      },
      "lineNbr": 151,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2017-09-06T23:14:20Z",
      "side": 1,
      "message": "Thanks for reminding me.",
      "parentUuid": "78d7da22_e3736bfb",
      "revId": "b0e9eb5432fb3402a3e4ef84ac727de935484319",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}