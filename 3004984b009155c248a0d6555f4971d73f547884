{
  "comments": [
    {
      "key": {
        "uuid": "7f7c6331_4169b1f1",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2018-01-11T12:13:53Z",
      "side": 1,
      "message": "It\u0027d be much clearer if the caller just set the correct effective_type rather than have the setter change it from unknown to something based on the rtt.",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06de061e_2dc5c7b1",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2018-01-12T17:09:03Z",
      "side": 1,
      "message": "I thought about that but the downside of that approach is that we are putting this RTT logic in devtools instead of NetworkStateNotifier. I am not sure if Devtools is the right place for that. WDYT?",
      "parentUuid": "7f7c6331_4169b1f1",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3626fcc5_9a01adcf",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2018-01-12T17:14:50Z",
      "side": 1,
      "message": "Dev tools is simulating a particular network connection. I think it\u0027s the appropriate place to determine what the expected latency is.",
      "parentUuid": "06de061e_2dc5c7b1",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "edd57934_011a5690",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2018-01-12T18:15:14Z",
      "side": 1,
      "message": "Er, not expected latency, but effective type.\n\nIf effective_type is a parameter to the method, then I\u0027d expect the caller to set it appropriately.",
      "parentUuid": "3626fcc5_9a01adcf",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abffe53b_32766021",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2018-01-12T18:24:20Z",
      "side": 1,
      "message": "OK, how about I change WebECT param to base::Optional\u003cWebECT\u003e ? \nIf the caller does not want to set it, they can set it to null, and then the method can compute it?",
      "parentUuid": "edd57934_011a5690",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b4852b1_5fb38b6c",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2018-01-12T19:14:52Z",
      "side": 1,
      "message": "That works. But it still leaves the problem that we\u0027re duplicating the logic of mapping latency to effective connection type here. How will you keep them in sync? Also, won\u0027t it be weird if the effective connection type doesn\u0027t map to what devtools says the connection type is?",
      "parentUuid": "abffe53b_32766021",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e56d769_ede8fc0c",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2018-01-12T19:26:34Z",
      "side": 1,
      "message": "\u003e But it still leaves the problem that we\u0027re duplicating the logic of mapping latency to effective connection type here. How will you keep them in sync?\n\nYes, that\u0027s a problem. I was planning to hardcode the thresholds in a .h file somewhere in //net which can be read here too. OK to do that in next CL?\n\n\u003e Also, won\u0027t it be weird if the effective connection type doesn\u0027t map to what devtools says the connection type is?\n\nI do not think the ECT needs to map to connection type in devtools. e.g., a fast 3G connection can have ECT of 4G or slow 3G connection can have ECT of 2G.",
      "parentUuid": "4b4852b1_5fb38b6c",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e2a4ffb_1baecce1",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2018-01-12T19:38:41Z",
      "side": 1,
      "message": "If that\u0027s the case then let\u0027s just call SetNetworkQualityInfoOverride with kType2G for now, and in a later CL do the proper mapping using shared code.",
      "parentUuid": "3e56d769_ede8fc0c",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27309ebd_87eb2261",
        "filename": "third_party/WebKit/Source/platform/network/NetworkStateNotifier.cpp",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2018-01-16T20:45:36Z",
      "side": 1,
      "message": "Now, sharing the thresholds from src/net to Webkit. PTAL. Thanks.",
      "parentUuid": "6e2a4ffb_1baecce1",
      "revId": "3004984b009155c248a0d6555f4971d73f547884",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}