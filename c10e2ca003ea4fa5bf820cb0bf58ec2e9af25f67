{
  "comments": [
    {
      "key": {
        "uuid": "d68bb436_d92edf7b",
        "filename": "content/browser/service_worker/service_worker_dispatcher_host.h",
        "patchSetId": 6
      },
      "lineNbr": 98,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "\"Unregister\" is better naming to balance out \"Register\"",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "297f904d_3db682ad",
        "filename": "content/browser/service_worker/service_worker_dispatcher_host.h",
        "patchSetId": 6
      },
      "lineNbr": 98,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d68bb436_d92edf7b",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e768b6a_2dc69b85",
        "filename": "content/browser/service_worker/service_worker_job_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "ASSERT_ if possible since this is a unittest",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bccee152_1406ac9a",
        "filename": "content/browser/service_worker/service_worker_job_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7e768b6a_2dc69b85",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31b335b3_bada88a6",
        "filename": "content/browser/service_worker/service_worker_registration_handle.cc",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "// If there are still bindings, |this| is still being used.",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38a7d934_011b5850",
        "filename": "content/browser/service_worker/service_worker_registration_handle.cc",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "31b335b3_bada88a6",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3dae1524_fb82fe77",
        "filename": "content/browser/service_worker/service_worker_registration_handle.h",
        "patchSetId": 6
      },
      "lineNbr": 31,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "Not sure if \"roughly corresponds\" is still accurate. How about this?\n\nServiceWorkerRegistrationHandle has a 1:1 correspondence to WebServiceWorkerRegistration in the renderer process. WebServiceWorkerRegistration owns ServiceWorkerRegistrationHandle via an associated interface pointer to blink::mojom::ServiceWorkerRegistrationObjectHost.",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "897f091c_7371f351",
        "filename": "content/browser/service_worker/service_worker_registration_handle.h",
        "patchSetId": 6
      },
      "lineNbr": 31,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done and Thanks!",
      "parentUuid": "3dae1524_fb82fe77",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbfdb3f2_8de3f3c1",
        "filename": "content/browser/service_worker/service_worker_registration_handle.h",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "Will establish -\u003e Establishes?",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1eea89d9_f3c22685",
        "filename": "content/browser/service_worker/service_worker_registration_handle.h",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fbfdb3f2_8de3f3c1",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc86d513_2fe24b50",
        "filename": "content/browser/service_worker/service_worker_registration_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 183,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-25T04:34:01Z",
      "side": 1,
      "message": "std::make_unique",
      "range": {
        "startLine": 183,
        "startChar": 16,
        "endLine": 183,
        "endChar": 32
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "184294df_a401c2dd",
        "filename": "content/browser/service_worker/service_worker_registration_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 183,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dc86d513_2fe24b50",
      "range": {
        "startLine": 183,
        "startChar": 16,
        "endLine": 183,
        "endChar": 32
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "066bd580_e401ec26",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-25T04:34:01Z",
      "side": 1,
      "message": "This seems more like Mock than Fake since it works as usual.",
      "range": {
        "startLine": 28,
        "startChar": 6,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5136bb4_d6487b9a",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "066bd580_e401ec26",
      "range": {
        "startLine": 28,
        "startChar": 6,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a15a768e_6a6b7c67",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 82,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-25T04:34:01Z",
      "side": 1,
      "message": "I prefer returning RegistrationObjectHost as I described at another comment.",
      "range": {
        "startLine": 82,
        "startChar": 4,
        "endLine": 82,
        "endChar": 17
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e627aef3_5f6c5777",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 82,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "The reason I chose to use a member RegistrationObjectHost rather than return a RegistrationObjectHost object is that I want to make clear that CreateObjectInfoAndVersionAttributes() is using the same one MockServiceWorkerRegistrationObjectHost instance for all calls, as we always set the same handle id at line84, and we\u0027re supposing there is only one remote SWRegistrationObjectHost instance in both GetOrCreateRegistration and GetOrAdoptRegistration tests.",
      "parentUuid": "a15a768e_6a6b7c67",
      "range": {
        "startLine": 82,
        "startChar": 4,
        "endLine": 82,
        "endChar": 17
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "267d06d4_0c833025",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 82,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-26T08:08:18Z",
      "side": 1,
      "message": "That makes sense.",
      "parentUuid": "e627aef3_5f6c5777",
      "range": {
        "startLine": 82,
        "startChar": 4,
        "endLine": 82,
        "endChar": 17
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50f1dc44_ee1497d3",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 126,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "does it make sense to make this function const also?",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d3578e2_4fddffea",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 126,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "50f1dc44_ee1497d3",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6e542fc_34ad25ea",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 368,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-25T04:34:01Z",
      "side": 1,
      "message": "Is it better to restrict the scope by wrapping them by brackets \"{}\"?",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1256353_4895f9c1",
        "filename": "content/child/service_worker/service_worker_dispatcher_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 368,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a6e542fc_34ad25ea",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40a75bd8_ca469ba2",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "I find it a bit confusing that we end up in a half-way taken state after Take*. If SWProviderContext never uses these fields after startup, could we instead have Take* fully take?",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "706eef2e_2b4b56a5",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "According from kinuko-san\u0027s comments before, seems we still need to keep some information such as registration_id and SWRegistrationOptions throughout lifetime of |this|. \n\u0027\nOn the other hand having some controller-specific state \naround during ServiceWorkerProviderContext\u0027s life time seems useful to me (I have some WIP patch that assumed the state), would we maybe introduce a simple, dedicated struct like ServiceWorkerRegistrationStartupInfo and reset it on TakeRegistration()?\n\n(And these changes could be probably done in a separate patch)\n\u0027\nSo I\u0027m keeping the SWRegistrationObjectInfo partly here, maybe we\u0027d better define a new struct to hold all members of SWRegistrationObjectInfo except the SWRegistrationObjectHost associated interface ptr info and keep an instance of it here instead? That seems somehow a redundant struct..?",
      "parentUuid": "40a75bd8_ca469ba2",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c562e9f_fa2e62d0",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-26T05:38:56Z",
      "side": 1,
      "message": "I think kinuko@ is just saying that ControllerState itself shouldn\u0027t be reset. So it\u0027s OK to std::move away registration, installing, waiting, and active. And it\u0027d be clearer to put all those fields in a dedicated struct that gets reset in Take().\n\nBut I also agree that it can be follow-up work.",
      "parentUuid": "706eef2e_2b4b56a5",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9068c917_c06d7d96",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 6
      },
      "lineNbr": 133,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "I don\u0027t think we need this comment since we\u0027re already std::move()ing host_ptr_info",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c724d8f1_90cd21e1",
        "filename": "content/child/service_worker/service_worker_provider_context.cc",
        "patchSetId": 6
      },
      "lineNbr": 133,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9068c917_c06d7d96",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc20140_14b241ab",
        "filename": "content/child/service_worker/service_worker_provider_context.h",
        "patchSetId": 6
      },
      "lineNbr": 90,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "Not sure I like \"Save\" as the balance for \"Take\". I think Set/Take are fine.\n\n\"SetRegistrationForServiceWorkerGlobalScope\" seems clearer too, otherwise it sounds like a registration is starting up.",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bbaf02d_2958e2a3",
        "filename": "content/child/service_worker/service_worker_provider_context.h",
        "patchSetId": 6
      },
      "lineNbr": 90,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6bc20140_14b241ab",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8703884e_3486cbc3",
        "filename": "content/child/service_worker/service_worker_provider_context_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 30,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-25T04:34:01Z",
      "side": 1,
      "message": "Mock?",
      "range": {
        "startLine": 30,
        "startChar": 5,
        "endLine": 30,
        "endChar": 10
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec3ea2bd_678d291c",
        "filename": "content/child/service_worker/service_worker_provider_context_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 30,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8703884e_3486cbc3",
      "range": {
        "startLine": 30,
        "startChar": 5,
        "endLine": 30,
        "endChar": 10
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a7aee4c_d57b2e48",
        "filename": "content/child/service_worker/service_worker_provider_context_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 81,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-25T04:34:01Z",
      "side": 1,
      "message": "How about returning the RegistrationObjectHost instead of having it as a member?\nAlso, I prefer the name like \"remote_registration_object\" or \"browser_registration_object\" since it might be easier to know which object is keeping the Mojo pipes.\nWDYT?",
      "range": {
        "startLine": 81,
        "startChar": 4,
        "endLine": 81,
        "endChar": 17
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22b625f7_3e4fd266",
        "filename": "content/child/service_worker/service_worker_provider_context_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 81,
      "author": {
        "id": 1125915
      },
      "writtenOn": "2017-09-26T08:08:18Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7a7aee4c_d57b2e48",
      "range": {
        "startLine": 81,
        "startChar": 4,
        "endLine": 81,
        "endChar": 17
      },
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "01557ac7_4c538a1f",
        "filename": "third_party/WebKit/public/platform/modules/serviceworker/service_worker_registration.mojom",
        "patchSetId": 6
      },
      "lineNbr": 47,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-09-25T04:39:53Z",
      "side": 1,
      "message": "The \"etc.\" here is confusing: my comment was meant as a suggestion of the things to write about, not supposed to be used verabtim :)",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1013c1cc_30c87b7f",
        "filename": "third_party/WebKit/public/platform/modules/serviceworker/service_worker_registration.mojom",
        "patchSetId": 6
      },
      "lineNbr": 47,
      "author": {
        "id": 1161621
      },
      "writtenOn": "2017-09-25T09:11:31Z",
      "side": 1,
      "message": "Done :)",
      "parentUuid": "01557ac7_4c538a1f",
      "revId": "c10e2ca003ea4fa5bf820cb0bf58ec2e9af25f67",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}