{
  "comments": [
    {
      "key": {
        "uuid": "c147d3c3_a0c9779b",
        "filename": "chrome/test/vr/perf/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "The data dependency here is identical to latency test, considering to put it in centralized place as following:\n\nsource_data \u003d [\n  ....\n]\n\n\t\ngroup(\"vrcore_fps_test\") {\n  testonly \u003d true\n  data \u003d source_data\n  data_deps \u003d [...]\n}",
      "range": {
        "startLine": 38,
        "startChar": 7,
        "endLine": 38,
        "endChar": 18
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "505bf0bf_3e06fe57",
        "filename": "chrome/test/vr/perf/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c147d3c3_a0c9779b",
      "range": {
        "startLine": 38,
        "startChar": 7,
        "endLine": 38,
        "endChar": 18
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "513f7385_0745fcb2",
        "filename": "chrome/test/vr/perf/vr_perf_test.py",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "Considering to put self._Teardown() in try-finally, so you don\u0027t need to run _Teardown in _OneTimeTeardown().",
      "range": {
        "startLine": 30,
        "startChar": 13,
        "endLine": 30,
        "endChar": 22
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be025171_1054cedc",
        "filename": "chrome/test/vr/perf/vr_perf_test.py",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "513f7385_0745fcb2",
      "range": {
        "startLine": 30,
        "startChar": 13,
        "endLine": 30,
        "endChar": 22
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b16cb41_691dd8db",
        "filename": "chrome/test/vr/perf/vr_perf_test.py",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-19T23:52:50Z",
      "side": 1,
      "message": "I guess you want to run self._Teardown() for each test no matter it is successful or failed.\n\nfor url in self._test_urls:\n  try:\n    self._Setup(url)\n    self._Run(url)\n  finally:\n    self._Teardown()\n\nIs it?",
      "parentUuid": "be025171_1054cedc",
      "range": {
        "startLine": 30,
        "startChar": 13,
        "endLine": 30,
        "endChar": 22
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "590b8111_a4d9e867",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "Considering to use string format to make it more readable.\n\noutput \u003d \n  \"\"\"\n  Min application FPS: %{min_app_fps_data).4f\n  Max application FPS: %{max_app_fps_data).4f\n  Average ...\n  \"\"\" % ({\u0027min_app_fps_data\u0027: min(app_fps_data),\n          \u0027max_app_fps_data\u0027: max(app_fps_data),\n          ...})",
      "range": {
        "startLine": 154,
        "startChar": 20,
        "endLine": 154,
        "endChar": 37
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3a528a3_96069214",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "590b8111_a4d9e867",
      "range": {
        "startLine": 154,
        "startChar": 20,
        "endLine": 154,
        "endChar": 37
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72dbc2c9_e4bc73ac",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 164,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "Considering to use logging.warning.",
      "range": {
        "startLine": 164,
        "startChar": 4,
        "endLine": 164,
        "endChar": 9
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff46a299_10236ab9",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "ditto.",
      "range": {
        "startLine": 171,
        "startChar": 2,
        "endLine": 171,
        "endChar": 7
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27f3b111_a9c2f66d",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff46a299_10236ab9",
      "range": {
        "startLine": 171,
        "startChar": 2,
        "endLine": 171,
        "endChar": 7
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "314ae677_e08c811c",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "ditto.",
      "range": {
        "startLine": 174,
        "startChar": 14,
        "endLine": 174,
        "endChar": 15
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69420de5_3cadef42",
        "filename": "chrome/test/vr/perf/vrcore_fps/vr_perf_summary.py",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "314ae677_e08c811c",
      "range": {
        "startLine": 174,
        "startChar": 14,
        "endLine": 174,
        "endChar": 15
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16d177c0_22b36ff2",
        "filename": "chrome/test/vr/perf/vrcore_fps/vrcore_fps_test.py",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-14T23:37:07Z",
      "side": 1,
      "message": "Example output from this:\n\n\u003cLots of raw data spewed out here\u003e\nMin application FPS: 24.1122\nMax application FPS: 29.7781\nAverage application FPS: 25.9469 +/- 1.5822\n0 total application frame submissions blocked on GPU\n---\nMin application FPS after first second: 24.1122\nMax application FPS after first second: 29.7781\nAverage application FPS after first second: 25.8557 +/- 1.5119\n---\nMin async reprojection thread FPS: 59.6800\nMax async reprojection thread FPS: 59.8463\nAverage async reprojection thread FPS: 59.7863 +/- 0.0290\nAsync reprojection thread missed 1 vsyncs\nAverage vsync miss time: 50362.0000 +/- 0.0000 us",
      "range": {
        "startLine": 69,
        "startChar": 4,
        "endLine": 69,
        "endChar": 11
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d33a4615_e786f14a",
        "filename": "chrome/test/vr/perf/vrcore_fps/vrcore_fps_test.py",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-14T23:37:07Z",
      "side": 1,
      "message": "Here\u0027s an example dashboard using the current version of uploaded data https://chromeperf.appspot.com/report?sid\u003d5fe73d6ff0a74aec33e519d6283bda0fbe84d37a7b8182d6cf9952744396de5c\n\nThe blocked frame submissions doesn\u0027t seem particularly helpful since most of the time the value is 0, and thus the average is small - perhaps we should just report the total number of blocked frames per URL, and the summary can be the average number of frames blocked.\n\nThe missed vsyncs chart also feels like it could be improved - maybe by having another chart that reports the total number of vsyncs missed instead of by how much time? The current version could show that a run with lots of missed vsyncs is better than a run with a single missed vsync if the average of multiple misses is less than the single miss.\n\nAlso, do we want to create additional charts for min/max FPS?\n\nAny other feedback what statistics would be useful to report welcome.",
      "range": {
        "startLine": 82,
        "startChar": 6,
        "endLine": 82,
        "endChar": 24
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc054c4a_7931fb87",
        "filename": "chrome/test/vr/perf/vrcore_fps/vrcore_fps_test.py",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "Several suggestions:\n1. Covert vsync miss time to ms instead of us, that is easy to read.\n2. I think min and max FPS are useful, especially min FPS, if min FPS is too low, that means there is something wrong during VR. \n\nWhat is the current value for blocked frame submission in the graph? Is it the total number?\n\nFor missed vsyncs chart, I feel total number of vsyncs missed is better, average value sometimes will hide the problem.",
      "parentUuid": "d33a4615_e786f14a",
      "range": {
        "startLine": 82,
        "startChar": 6,
        "endLine": 82,
        "endChar": 24
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f96ffb63_be02787e",
        "filename": "chrome/test/vr/perf/vrcore_fps/vrcore_fps_test.py",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "1. Done\n2. Done\n3. The current value for blocked frame submission is a list of total missed submissions in each 1-second timeframe, most of which are 0. I\u0027ve changed it to be the total number of frame submissions blocked during the entire test period.\n4. Agreed, added another chart counting the total number of missed vsyncs.\n\nHere\u0027s a new example dashboard https://chromeperf.appspot.com/report?sid\u003d3aa3725885e78035b7234c0a2800501712d1f0cef7e792cb3c87888f754006ca\n\nI\u0027ve also redone the chart generation code to use function pointers and loops instead of manually adding each trace since the addition of the new charts made the code too long.",
      "parentUuid": "bc054c4a_7931fb87",
      "range": {
        "startLine": 82,
        "startChar": 6,
        "endLine": 82,
        "endChar": 24
      },
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d7c6a1d_7a79d33f",
        "filename": "chrome/test/vr/perf/vrcore_fps/vrcore_fps_test_config.py",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1116794
      },
      "writtenOn": "2017-06-15T21:07:48Z",
      "side": 1,
      "message": "This file is identical to latency_test_config.py, it is better to merge into one.",
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99ba8661_b5547e44",
        "filename": "chrome/test/vr/perf/vrcore_fps/vrcore_fps_test_config.py",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1163549
      },
      "writtenOn": "2017-06-16T16:54:41Z",
      "side": 1,
      "message": "I believe that would require moving both run_*_test.py files to the top-level perf directory since they\u0027d both need to import it and relative imports are only supported if you run the python file as a package (python -m). There\u0027s nothing wrong with moving the files up a directory, although I would personally prefer keeping all latency and fps related files separate unless you think moving the files is preferable.",
      "parentUuid": "8d7c6a1d_7a79d33f",
      "revId": "7694ec4406704b8cfd294becc134149b7af60fef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}