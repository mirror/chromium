{
  "comments": [
    {
      "key": {
        "uuid": "8bc41dc2_32498bb3",
        "filename": "chrome/browser/media_galleries/fileapi/itunes_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-03T15:12:10Z",
      "side": 1,
      "message": "This shouldn\u0027t be required. If |itunes_data_provider_| is only used from MediaTaskRunner(), other tasks will always be sequenced after its init. If |itunes_data_provider_| is used outside of MediaTaskRunner() then that\u0027s likely the source of failures (which was incorrect before but the true multi-threadedness of ScopedTaskEnvironment highlights this -- that\u0027s precisely why we intentionally didn\u0027t fake TaskScheduler on the main thread in unit tests with the ScopedTaskEnvironment design).",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d143bdbb_3216b664",
        "filename": "chrome/browser/media_galleries/fileapi/itunes_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-08-04T00:50:15Z",
      "side": 1,
      "message": "OK I\u0027ll see what happens with it removed.",
      "parentUuid": "8bc41dc2_32498bb3",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "283b61af_b1fcc215",
        "filename": "chrome/browser/media_galleries/fileapi/itunes_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-08-24T05:48:01Z",
      "side": 1,
      "message": "This seems to be necessary for the tests to succeed. Looks like itunes_data_provider is a multi-threaded kind of thing.",
      "parentUuid": "d143bdbb_3216b664",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72770fa5_46c6231e",
        "filename": "chrome/browser/media_galleries/fileapi/itunes_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-08-24T09:29:53Z",
      "side": 1,
      "message": "Maybe add a short comment that this line is necessary because ...?",
      "parentUuid": "283b61af_b1fcc215",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0538cb0b_44cba68d",
        "filename": "chrome/browser/media_galleries/fileapi/itunes_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-03T15:12:10Z",
      "side": 1,
      "message": "You can use OnTaskRunnerDeleter paradigm here instead of the TearDown dance, i.e.:\n\n// Sample usage with std::unique_ptr :\n// std::unique_ptr\u003cFoo, base::OnTaskRunnerDeleter\u003e ptr(\n//     new Foo, base::OnTaskRunnerDeleter(my_task_runner));\n\nthen you can just let members unwind in order (this one will post a task for deletion) and ~ScopedTaskEnvironment() will automatically flush all threads until this is done.",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "257ccabc_4ef6ac01",
        "filename": "chrome/browser/media_galleries/fileapi/itunes_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-08-24T05:48:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0538cb0b_44cba68d",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6753569f_a06f37ab",
        "filename": "chrome/browser/media_galleries/fileapi/media_file_system_backend.cc",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-03T15:12:10Z",
      "side": 1,
      "message": "rm include",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fecfd17a_6c13cbe6",
        "filename": "chrome/browser/media_galleries/fileapi/media_file_system_backend.cc",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-08-24T05:48:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6753569f_a06f37ab",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78f22c05_ed9e63d1",
        "filename": "chrome/browser/media_galleries/fileapi/native_media_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 197,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-03T15:12:10Z",
      "side": 1,
      "message": "You don\u0027t need both to run until idle. TestBrowserThreadBundle is a superset of ScopedTaskEnvironment (it includes one if none is provided -- it\u0027s a ScopedTaskEnvironment + named BrowserThreads).\n\nTo flush it all you need to use content::RunAllBlockingPoolTasksUntilIdle() (yes, poorly named, will rename after migration churn is through)",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0a03a10_5da953ef",
        "filename": "chrome/browser/media_galleries/fileapi/native_media_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 197,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-08-24T05:48:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78f22c05_ed9e63d1",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6d03d85_db3088e9",
        "filename": "chrome/browser/media_galleries/fileapi/native_media_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 230,
      "author": {
        "id": 1001534
      },
      "writtenOn": "2017-08-03T15:12:10Z",
      "side": 1,
      "message": "I think it\u0027s more readable to just content::RunAllBlockingPoolTasksUntilIdle() inline instead of having this helper making a single call..",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "464cdb6c_8f7418ab",
        "filename": "chrome/browser/media_galleries/fileapi/native_media_file_util_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 230,
      "author": {
        "id": 1002272
      },
      "writtenOn": "2017-08-24T05:48:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6d03d85_db3088e9",
      "revId": "965854c6158722e6d9dd0be78b68f65a243fd486",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}