{
  "comments": [
    {
      "key": {
        "uuid": "c19d1255_c4213985",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "I found this comment confusing, since it\u0027s talking about the message pipes and not the state of the interface objects.  Also, one interface is bound while one is not.\n\nMaybe:\n\"Returns a pair.  The first item is an unbound mojom::MediaControllerRequest. The second item is a bound mojom::MediaStatusObserverPtr whose binding is owned by |this|.\"",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d49fccc2_c1070a65",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c19d1255_c4213985",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6eebc171_62cf6741",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "InitializeMojoInterfaces()?",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9232409e_4682bf86",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6eebc171_62cf6741",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f284d6c_f49a1ae9",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 140,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "Typo in commands",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b43f850f_e021baa2",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 140,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8f284d6c_f49a1ae9",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81a1572c_12ec515b",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "Is this simpler than having HangoutsMediaRouteController override InitMojoConnections?",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "165cf910_acf55e39",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "It would be simpler, but it would also be more error-prone, if subclass forgets to call MediaRouteController::InitMojoConnections(). That\u0027s why I went with this pattern instead, but I don\u0027t feel strongly.",
      "parentUuid": "81a1572c_12ec515b",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4684e3c_8240783c",
        "filename": "chrome/browser/media/router/mojo/media_route_controller.h",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T20:10:15Z",
      "side": 1,
      "message": "That\u0027s true.  But it looks like InitAdditionalMojoConnections is only needed in one place.  And people should know that if you override a superclass method without invoking it, YMMV.\n\nThat being said, I don\u0027t feel strongly either way.",
      "parentUuid": "165cf910_acf55e39",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "76a00619_94c1b802",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "It seems odd to pass a raw pointer here.",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6cb098d2_05214036",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "The method takes a raw pointer because it is also called from MRDesktop using the raw pointers stored in the route controller map. (MR doesn\u0027t take ownership of MRCs; only observers do).\n\nI think it\u0027s fine to take raw pointer here; it\u0027s a way to signal the method does not assume ownership of the MRC.",
      "parentUuid": "76a00619_94c1b802",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38b41778_5316b5f2",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 325,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T20:10:15Z",
      "side": 1,
      "message": "Can you document the ownership assumption in the .h?",
      "parentUuid": "6cb098d2_05214036",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dde5955_9593a89e",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 333,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "Would it be simpler to pass |route_id| from GetRouteController?",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cae0fd0_12119baa",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 333,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "This method needs access to the MRC object.",
      "parentUuid": "3dde5955_9593a89e",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9a9b18b_0f2dc27f",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 333,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T20:10:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5cae0fd0_12119baa",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc1edcab_0a58a4ac",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 336,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "For readability, I would prefer an explicit type here.",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2de554ea_f708344a",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 336,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bc1edcab_0a58a4ac",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73bc7532_ee7224d6",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 339,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T18:05:28Z",
      "side": 1,
      "message": "Perhaps CreateMediaRouteController should pass back route_id with its response to simplify the bookkeeping here.",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8549ec02_fccdf479",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 339,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-10-10T19:33:38Z",
      "side": 1,
      "message": "Since we don\u0027t expect the MRP to pass back a different route_id than what\u0027s passed in, I don\u0027t think that\u0027s necessary.",
      "parentUuid": "73bc7532_ee7224d6",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50b10422_ec609bbd",
        "filename": "chrome/browser/media/router/mojo/media_router_mojo_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 339,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-10T20:10:15Z",
      "side": 1,
      "message": "Yeah, but it seems like the callback result from CreateMediaRouteController doesn\u0027t make sense without the route id.\n\nI could go either way on this:\n- Make the caller bind an extra route_id parameter as you do here (resulting in code bloat for each call site)\n- Make the Mojo API a little more complicated by passing a route_id in the callback that is technically redundant.\n\nI usually favor making APIs more straightforward and foolproof to use, but if there\u0027s really only one call site, probably not worth making any changes.",
      "parentUuid": "8549ec02_fccdf479",
      "revId": "d2a35fd105f4b395844be686a157aa78eddca347",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}