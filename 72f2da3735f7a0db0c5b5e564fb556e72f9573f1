{
  "comments": [
    {
      "key": {
        "uuid": "51952cdd_4b1aaf61",
        "filename": "cc/tiles/tile_manager.cc",
        "patchSetId": 11
      },
      "lineNbr": 549,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-21T23:42:12Z",
      "side": 1,
      "message": "I replaced this (called via LTHI::PrepareToDraw) with an explicit flush in ResourceProvider::PrepareSendToParent because PrepareSendToParent can insert commands for generating mailboxes and sync tokens. WDYT?",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48e917da_8be8f49c",
        "filename": "cc/tiles/tile_manager.cc",
        "patchSetId": 11
      },
      "lineNbr": 549,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:39:42Z",
      "side": 1,
      "message": "Sorry, forgot to come back and reply to this.\nThat seems fine, fewer Flush\u0027es. The only potential benefit to this is if sending early would help avoiding the round-trip with the shared memory flush id CL, but maybe we should reevaluate then, because it\u0027s not clear it would happen \"early enough\".\n\nDoes that mean we can remove RasterBufferProvider::Flush entirely?",
      "parentUuid": "51952cdd_4b1aaf61",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecf62e9c_83834f3f",
        "filename": "cc/tiles/tile_manager.cc",
        "patchSetId": 11
      },
      "lineNbr": 549,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "See comment in ContextSupport. I\u0027ve renamed TileManager::Flush to CheckForCompletedTasks because we absolutely don\u0027t want to flush command buffers here.",
      "parentUuid": "48e917da_8be8f49c",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fc517fc_1c487247",
        "filename": "gpu/command_buffer/client/context_support.h",
        "patchSetId": 11
      },
      "lineNbr": 33,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "Do we need this any more, as opposed to doing ShallowFlushCHROMIUM?\n\nOtherwise, please fix comment (applies to all streams).",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a23ef7c1_d01e67c8",
        "filename": "gpu/command_buffer/client/context_support.h",
        "patchSetId": 11
      },
      "lineNbr": 33,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "We need this to ensure that tiles are flushed in a timely manner. I\u0027ve updated the comment. I\u0027ve removed the call to RasterBufferProvider::Flush and moved the flush to PrepareSendToParent. We should also flush when a tile manager task set finishes but that is strongly coupled with checking for completed tasks. I\u0027ll discuss this with ericrk@ and address it in a followup CL.",
      "parentUuid": "0fc517fc_1c487247",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32c4a0cb_005df378",
        "filename": "gpu/command_buffer/client/gpu_control.h",
        "patchSetId": 11
      },
      "lineNbr": 83,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "Do we still need this?",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6e865d4_34c95420",
        "filename": "gpu/command_buffer/client/gpu_control.h",
        "patchSetId": 11
      },
      "lineNbr": 83,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Removed",
      "parentUuid": "32c4a0cb_005df378",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c67d1eb_0c304f0a",
        "filename": "gpu/command_buffer/client/gpu_control.h",
        "patchSetId": 11
      },
      "lineNbr": 86,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "Ditto, do we still need this / Please fix comment otherwise.",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1aa2a9f0_57ba99bd",
        "filename": "gpu/command_buffer/client/gpu_control.h",
        "patchSetId": 11
      },
      "lineNbr": 86,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Updated comment. See comment in ContextSupport.",
      "parentUuid": "3c67d1eb_0c304f0a",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d428e3d7_26847ec4",
        "filename": "gpu/command_buffer/service/scheduler.h",
        "patchSetId": 11
      },
      "lineNbr": 37,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: consider passing \u0027std::vector\u003cSyncToken\u003e sync_token_fences\u0027 and using std::move at the callsite (and the implementation) to avoid copies.",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6791f02a_2867996b",
        "filename": "gpu/command_buffer/service/scheduler.h",
        "patchSetId": 11
      },
      "lineNbr": 37,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d428e3d7_26847ec4",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "698e3bc6_49ee901a",
        "filename": "gpu/command_buffer/service/scheduler.h",
        "patchSetId": 11
      },
      "lineNbr": 39,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: please add move-assignment operator (rule-of-3).",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adc61916_23bc6c3e",
        "filename": "gpu/command_buffer/service/scheduler.h",
        "patchSetId": 11
      },
      "lineNbr": 39,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "698e3bc6_49ee901a",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f87671b5_ccd708e0",
        "filename": "gpu/ipc/client/gpu_channel_host.cc",
        "patchSetId": 11
      },
      "lineNbr": 159,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: std::move(flush_list_)",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93bf212a_5717ec2a",
        "filename": "gpu/ipc/client/gpu_channel_host.cc",
        "patchSetId": 11
      },
      "lineNbr": 159,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f87671b5_ccd708e0",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9b0a8f8_11bbde54",
        "filename": "gpu/ipc/client/gpu_channel_host.h",
        "patchSetId": 11
      },
      "lineNbr": 106,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: use std::vector\u003cui::LatencyInfo\u003e latency_info / std::vector\u003cSyncToken\u003e sync_token_fences, and use std::move at the callsites and std::make_move_iterator in the implementation?",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00a938d9_35b1d5d7",
        "filename": "gpu/ipc/client/gpu_channel_host.h",
        "patchSetId": 11
      },
      "lineNbr": 106,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9b0a8f8_11bbde54",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a8ee1ae4_29f34585",
        "filename": "gpu/ipc/common/flush_params.h",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: please add copy-assign operator (rule-of-3), and strongly suggest making this movable (move constructor + move-assign operator) since this goes into a container.",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0827a84e_55e53f65",
        "filename": "gpu/ipc/common/flush_params.h",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a8ee1ae4_29f34585",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93d8308e_5fc1e782",
        "filename": "gpu/ipc/common/gpu_messages.h",
        "patchSetId": 11
      },
      "lineNbr": 180,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: please add comment that this isn\u0027t sent from the clients, but is an implementation detail of the service-side. Maybe consider moving the comments about the parameters to FlushParams field documentation.",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf505cbb_ac577a87",
        "filename": "gpu/ipc/common/gpu_messages.h",
        "patchSetId": 11
      },
      "lineNbr": 180,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93d8308e_5fc1e782",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ff4aecd_f87223ee",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 697,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: I believe you can std::get\u003c0\u003e(std::move(params)) which will let you have flush_list be a std::vector\u003cFlushParams\u003e (using move), which lets you have auto\u0026 flush_info below, which lets you std::move(flush_info.sync_token_fences).",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c446cba8_08964185",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 697,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ff4aecd_f87223ee",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17aaa5e6_4e01232b",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 704,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "Could we remove sync_token_fences from GpuCommandBufferMsg_AsyncFlush, since it\u0027s not used by the handler? (see also below).\nAlso, std::move(flush_info.latency_info), assuming we can do the above.",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14b1ab22_ffc4f4cf",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 704,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17aaa5e6_4e01232b",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27c77e3e_08a7f2a7",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 732,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "This shouldn\u0027t happen any more, right? Could we consider it a error if sent from the client, which will let us simplify the code below (sync_token_fences always empty)?",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e23ba5e7_2a6e24a7",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 732,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27c77e3e_08a7f2a7",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "672e0460_158ac889",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 743,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2017-08-22T00:24:32Z",
      "side": 1,
      "message": "nit: std::move(sync_token_fences)",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5163437a_73d8f8f2",
        "filename": "gpu/ipc/service/gpu_channel.cc",
        "patchSetId": 11
      },
      "lineNbr": 743,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2017-08-23T02:35:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "672e0460_158ac889",
      "revId": "72f2da3735f7a0db0c5b5e564fb556e72f9573f1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}