{
  "comments": [
    {
      "key": {
        "uuid": "3d01aa9b_43dcbbd0",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 229,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T14:28:52Z",
      "side": 1,
      "message": "It seems a little strange to be storing these outparams in this struct.",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "834fcc6c_73aa27ca",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 229,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-21T14:50:21Z",
      "side": 1,
      "message": "We need to carry this params from GLRenderer::UpdateRPDQShadersForBlending to GLRenderer::UpdateRPDQUniforms.\nSo I think it is better to add them to params.",
      "parentUuid": "3d01aa9b_43dcbbd0",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e67642d9_1eba3483",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 229,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T15:21:58Z",
      "side": 1,
      "message": "You\u0027re right. Since background_image is written into params at the same place, it makes sense to store the offset + subset in the params as well.",
      "parentUuid": "834fcc6c_73aa27ca",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b476f3c5_20375dda",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 229,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-28T16:26:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e67642d9_1eba3483",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0135238_d3d6c5ce",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 949,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T14:28:52Z",
      "side": 1,
      "message": "Nit: please skip this temporary and just \"return ApplyImageFilter...\"",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afd953e8_d3e4be57",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 949,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-21T14:50:21Z",
      "side": 1,
      "message": "Ok.",
      "parentUuid": "b0135238_d3d6c5ce",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0f360d6_30a03c6b",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 949,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-28T16:26:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "afd953e8_d3e4be57",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb926f30_eb5c4095",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 1156,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T14:28:52Z",
      "side": 1,
      "message": "Unless I\u0027m missing something, these params doesn\u0027t seem to be read anywhere. This leads me to suspect it won\u0027t work if the filter returns an offset. Could you add a pixel test which exercises this case? An SkBlurImageFilter should do it. (Failing that, an SkOffsetImageFilter should, modulo crbug.com/744981.)",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "641aeeaf_53efd74d",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 1156,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-21T14:50:21Z",
      "side": 1,
      "message": "background_subset is used in line 1426.\nbackground_offset is not used, because I don\u0027t know when it not equals {0, 0}.\nWe have tests with SkBlurImageFilter and SkOffsetImageFilter and they pass.\nI try to add more tests (case crbug.com/744981)",
      "parentUuid": "eb926f30_eb5c4095",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "599afcf6_a1cf28a3",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 1156,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T15:21:58Z",
      "side": 1,
      "message": "Ahh, ok. Since background_image is written here, it makes sense to store the offset + subset in the params as well.",
      "parentUuid": "641aeeaf_53efd74d",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bee83af2_9e13379d",
        "filename": "cc/output/gl_renderer.cc",
        "patchSetId": 2
      },
      "lineNbr": 1156,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-28T16:26:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "599afcf6_a1cf28a3",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0997ae1e_d3a7c6eb",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 563,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T14:28:52Z",
      "side": 1,
      "message": "Could you add a test which exercises shader-based blending in conjunction with filters?",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf3bb4a1_8bf8fbfb",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 563,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-21T14:50:21Z",
      "side": 1,
      "message": "Ok.",
      "parentUuid": "0997ae1e_d3a7c6eb",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f9f2d15_f1f7b7f5",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 563,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-28T16:26:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bf3bb4a1_8bf8fbfb",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2a93b48_066f6128",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 566,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T15:21:58Z",
      "side": 1,
      "message": "Could we do this divide once on the CPU instead, as foreground filters do (see https://cs.chromium.org/chromium/src/cc/output/gl_renderer.cc?q\u003dgl_renderer.cc\u0026sq\u003dpackage:chromium\u0026l\u003d1374), and then add a separate set of texture coords for the filtered backdrop? This would be faster than doing it per-fragment in the shader.",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62ae90ff_f88abc1f",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 566,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2017-07-21T15:30:16Z",
      "side": 1,
      "message": "That said, it\u0027ll need a new texture transform, new varyings, etc. I do think it\u0027s the right way to do it long-term, but if you want to be expedient about it, we could just keep the uniform you\u0027ve added here, recip the width \u0026 height on the CPU to get a scale, and multiply by the scale here instead (origBgTexCoord.x *\u003d originalBackdropRect.z, etc).",
      "parentUuid": "a2a93b48_066f6128",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4945e7c4_c3a10e47",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 566,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-21T16:28:01Z",
      "side": 1,
      "message": "I think to optimize shaders in next CL, but Ok, I try to make it in this CL.",
      "parentUuid": "62ae90ff_f88abc1f",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4867b603_ba08c151",
        "filename": "cc/output/shader.cc",
        "patchSetId": 2
      },
      "lineNbr": 566,
      "author": {
        "id": 1227294
      },
      "writtenOn": "2017-07-28T16:26:10Z",
      "side": 1,
      "message": "I think it\u0027s better to do in next CL.\nThere are a lot of modifications...\nAnd for bisect, perf-bisect, etc it is better to do small, granular commits.",
      "parentUuid": "4945e7c4_c3a10e47",
      "revId": "71dbacf1a58c401079c7990f4b498ac6b28ea043",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}