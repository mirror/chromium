{
  "comments": [
    {
      "key": {
        "uuid": "e903f9a8_b3964cb5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2017-11-27T06:57:20Z",
      "side": 1,
      "message": "Add\nTest: \u003ctests you performed\u003e",
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c952b19_45baaf16",
        "filename": "chrome/browser/chromeos/extensions/file_manager/private_api_strings.cc",
        "patchSetId": 5
      },
      "lineNbr": 341,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:26:40Z",
      "side": 1,
      "message": "nit: Is it for cloud import only? IF so, then can we prefix with CLOUD for consistency with other strings in this method?",
      "range": {
        "startLine": 341,
        "startChar": 14,
        "endLine": 341,
        "endChar": 37
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa73f303_70b49ffd",
        "filename": "chrome/browser/chromeos/extensions/file_manager/private_api_strings.cc",
        "patchSetId": 5
      },
      "lineNbr": 341,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c952b19_45baaf16",
      "range": {
        "startLine": 341,
        "startChar": 14,
        "endLine": 341,
        "endChar": 37
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8549d553_061f9175",
        "filename": "ui/file_manager/file_manager/background/js/compiled_resources2.gyp",
        "patchSetId": 5
      },
      "lineNbr": 178,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:20:50Z",
      "side": 1,
      "message": "Please keep sort order.",
      "range": {
        "startLine": 178,
        "startChar": 9,
        "endLine": 178,
        "endChar": 27
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b941429e_e8433a5b",
        "filename": "ui/file_manager/file_manager/background/js/compiled_resources2.gyp",
        "patchSetId": 5
      },
      "lineNbr": 178,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Sorry, my bad - I must have forgotten the alphabet when adding that line :D",
      "parentUuid": "8549d553_061f9175",
      "range": {
        "startLine": 178,
        "startChar": 9,
        "endLine": 178,
        "endChar": 27
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c9dc0b4_9700a55b",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2017-11-27T06:57:20Z",
      "side": 1,
      "message": "It resolving the TODO necessary for infini-backup? If not why don\u0027t you split CLs to minimize UI changes this CL introduces?",
      "range": {
        "startLine": 103,
        "startChar": 33,
        "endLine": 103,
        "endChar": 39
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28a33654_8590e689",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 134,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:20:50Z",
      "side": 1,
      "message": "jsdoc missing for arguments.",
      "range": {
        "startLine": 134,
        "startChar": 2,
        "endLine": 134,
        "endChar": 0
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e52b2140_0da16f47",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 134,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28a33654_8590e689",
      "range": {
        "startLine": 134,
        "startChar": 2,
        "endLine": 134,
        "endChar": 0
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43e16baf_35b9f301",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 355,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:33:10Z",
      "side": 1,
      "message": "nit: This is called also for the first try right? Can we rename it to tryImportScanEntries_ then?",
      "range": {
        "startLine": 355,
        "startChar": 9,
        "endLine": 355,
        "endChar": 14
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04393a0b_5d7345e5",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 355,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43e16baf_35b9f301",
      "range": {
        "startLine": 355,
        "startChar": 9,
        "endLine": 355,
        "endChar": 14
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1d40470_ee96edf1",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:20:50Z",
      "side": 1,
      "message": "Second param missing.",
      "range": {
        "startLine": 363,
        "startChar": 4,
        "endLine": 363,
        "endChar": 9
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4e32de8_8cc92588",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d1d40470_ee96edf1",
      "range": {
        "startLine": 363,
        "startChar": 4,
        "endLine": 363,
        "endChar": 9
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fac4384_fc5a8fda",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 369,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:33:10Z",
      "side": 1,
      "message": "In what scenario those can exist? And if they aren\u0027t needed, why aren\u0027t they removed already? Should they?",
      "range": {
        "startLine": 369,
        "startChar": 2,
        "endLine": 369,
        "endChar": 45
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef8aa241_9794d9ea",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 369,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "They are added in the completion callback in AsyncUtil :) (so line 388 in this patchset). Removing them is to make sure that as soon as the event is fired, the event handler is removed again to prevent an endless loop.",
      "parentUuid": "9fac4384_fc5a8fda",
      "range": {
        "startLine": 369,
        "startChar": 2,
        "endLine": 369,
        "endChar": 45
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be62b43f_dc7a7216",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 369,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T06:32:11Z",
      "side": 1,
      "message": "Ah, got it. Can we add to the comment \"added in the previous try\" or something like this?",
      "parentUuid": "ef8aa241_9794d9ea",
      "range": {
        "startLine": 369,
        "startChar": 2,
        "endLine": 369,
        "endChar": 45
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3150b0f_cee6bc50",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 386,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:33:10Z",
      "side": 1,
      "message": "Is it possible for this to be an endless loop never completing? If so, in which scenario? Also, should we prevent it?",
      "range": {
        "startLine": 386,
        "startChar": 12,
        "endLine": 386,
        "endChar": 73
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d9015df_0cd1d652",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 386,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Only if there is an unlimited amount of files that are scheduled which is technically not possible ;)\nIf everything has been imported (this.importEntries_.length !\u003d\u003d 0), it breaks out of the loop, or if the last try didn\u0027t improve anything (sourceEntries.length \u003e this.importEntries_.length).\nSo as long as at least one entry that failed in the try before that has been successfully imported, with more still failing, it will continue - but that will at the same time reduce the number of entries that need importing, which will either stop decreasing (case: last try didn\u0027t improve anything), or it hits zero (case: everything was imported).",
      "parentUuid": "c3150b0f_cee6bc50",
      "range": {
        "startLine": 386,
        "startChar": 12,
        "endLine": 386,
        "endChar": 73
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d761195_4ec9162c",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 386,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T06:32:11Z",
      "side": 1,
      "message": "Got it. Thanks for the explanation.",
      "parentUuid": "8d9015df_0cd1d652",
      "range": {
        "startLine": 386,
        "startChar": 12,
        "endLine": 386,
        "endChar": 73
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0304cddd_010327a0",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 388,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T06:32:11Z",
      "side": 1,
      "message": "Can it happen that the sync completed before we rich this code path? It\u0027s all asynchronous so I think it\u0027s theoretically possible. WDYT?\n\nIf yes, then maybe we could add a check here:\n\nthis.driveSyncHandler_.addEventListener(...);\nif (!this.driveSyncHandler_.syncing) {\n  // Already finished (or nothing started), call driveListener_ now.\n}",
      "range": {
        "startLine": 388,
        "startChar": 10,
        "endLine": 388,
        "endChar": 50
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c5e3cce_609da349",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 389,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:33:10Z",
      "side": 1,
      "message": "What happens if we\u0027re offline?",
      "range": {
        "startLine": 389,
        "startChar": 14,
        "endLine": 389,
        "endChar": 69
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e15f76c8_0929652d",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 389,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "As long as the process (the backend process lives in the Files Chrome extension) is kept alive, it will resume backing up as soon as Drive sync was completed (which will happen at some point when the connection is back). If the process dies, it means that the drive sync handler also dies, because it is also part of the same process (when looking at chrome://inspect, they are both part of Extensions \u003e Files).\n\nOn the other side, another Cl of mine that has been in review since forever because I\u0027m waiting for UX approval of error messages: Cloud Import can only be triggered with internet connection, as that Cl checks the available Drive quota (crbug.com/677104), but loss of internet connection while backing up shouldn\u0027t affect anything except for the speed, as described in the first paragraph.\n\nDo you think this behavior is acceptable?",
      "parentUuid": "3c5e3cce_609da349",
      "range": {
        "startLine": 389,
        "startChar": 14,
        "endLine": 389,
        "endChar": 69
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5a249d6_94993d6c",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 389,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T06:32:11Z",
      "side": 1,
      "message": "So, when we\u0027re offline how does the UI look like? Is it showing importing progress bar in the progress center until either we reboot or go online? Is the operation cancellable? My concern was of progress bar hanging forever if a user happens to go offline.\n\nI agree this would be less of a problem if we allow to trigger CI only online. Did UX agree to do this change?",
      "parentUuid": "e15f76c8_0929652d",
      "range": {
        "startLine": 389,
        "startChar": 14,
        "endLine": 389,
        "endChar": 69
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59b50ba7_f2f00b7c",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 430,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:20:50Z",
      "side": 1,
      "message": "nit: \"!\" not needed? It\u0027s not a class.",
      "range": {
        "startLine": 430,
        "startChar": 11,
        "endLine": 430,
        "endChar": 12
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb5b8250_f7c0557f",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 430,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59b50ba7_f2f00b7c",
      "range": {
        "startLine": 430,
        "startChar": 11,
        "endLine": 430,
        "endChar": 12
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b59a81a_5965e2c8",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 465,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2017-11-27T06:57:20Z",
      "side": 1,
      "message": "Is it possible to detect the failure reason and push the entry only when the error is retryable?\nYou may leave TODO if not.",
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1e99520_606b6113",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler_unittest.js",
        "patchSetId": 5
      },
      "lineNbr": 566,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:20:50Z",
      "side": 1,
      "message": "nit: typo",
      "range": {
        "startLine": 566,
        "startChar": 55,
        "endLine": 566,
        "endChar": 58
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81bbd633_deb0cfff",
        "filename": "ui/file_manager/file_manager/background/js/media_import_handler_unittest.js",
        "patchSetId": 5
      },
      "lineNbr": 566,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d1e99520_606b6113",
      "range": {
        "startLine": 566,
        "startChar": 55,
        "endLine": 566,
        "endChar": 58
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13dacf71_e5bdf284",
        "filename": "ui/file_manager/file_manager/background/js/mock_drive_sync_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1002249
      },
      "writtenOn": "2017-11-27T01:20:50Z",
      "side": 1,
      "message": "Any reason to prefer this over simple {}?",
      "range": {
        "startLine": 12,
        "startChar": 20,
        "endLine": 12,
        "endChar": 40
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b388a5f_a300213a",
        "filename": "ui/file_manager/file_manager/background/js/mock_drive_sync_handler.js",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1241182
      },
      "writtenOn": "2017-11-27T05:21:28Z",
      "side": 1,
      "message": "Actually, no - I was distracted by looking at the implementation of cr.EventTarget from which I have identified the necessary parts for this mock :)",
      "parentUuid": "13dacf71_e5bdf284",
      "range": {
        "startLine": 12,
        "startChar": 20,
        "endLine": 12,
        "endChar": 40
      },
      "revId": "047334d052faa1931effae97eb58ad3bad5234d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}