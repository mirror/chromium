{
  "comments": [
    {
      "key": {
        "uuid": "1c020a29_8112cd12",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-14T21:07:06Z",
      "side": 1,
      "message": "What is the expectation when this happens? The way you have it here the tab remains in tabs_loading_, should the tab be removed?\n\nI have no idea what \u0027what page almost ideal\u0027 means to suggest what should happen when the page becomes \u0027almost ideal.\u0027 Maybe the function should be renamed to better indicate what it actually means.",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "994c61db_b734f663",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-11-14T21:13:26Z",
      "side": 1,
      "message": "When it happens, TabLoader::NotifyPageAlmostIdle is called, which ends up calling HandleTabClosedOrLoaded so the tab will be removed if I understand correctly.\n\nPage almost idle indicates that the page is network quiet(no more than 2 connections in total) and the main thread task load is low, we plans to replace the current usage of onload(DidStopLoading) with it.",
      "parentUuid": "1c020a29_8112cd12",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fbdc05a_c10935b8",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-15T04:16:00Z",
      "side": 1,
      "message": "Can you please name the function to better match your description? Additionally that description doesn\u0027t seem specific to a WebContents but rather global state? Or am I misunderstanding?\n\nRather than adding the early out here, you should not register for the notification if enabled.",
      "parentUuid": "994c61db_b734f663",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "939c2b4f_17550c9b",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-11-15T17:14:22Z",
      "side": 1,
      "message": "Which part do you think we should rename?\n\nPage almost idle signal is a WebContents specific signal. Page is an equivalent concept of WebContents in platform.",
      "parentUuid": "3fbdc05a_c10935b8",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3036aba6_58cbc110",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-15T17:24:52Z",
      "side": 1,
      "message": "Based on your description I would expect something like OnNoNetworkActivityForPage(). That readily tells conveys what is happening. I would definitely not use Notify in the name as that implies the receiver is suppose to notify observers, when that isn\u0027t the case.",
      "parentUuid": "939c2b4f_17550c9b",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "044c1808_3d57b4ab",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-11-15T17:29:03Z",
      "side": 1,
      "message": "ah I see. However, page almost idle is a signal calculated from the combination of network activity and main thread task load, so OnNoNetworkActivityForPage() is not accurate.\n\nHow about changing it to OnPageAlmostIdle()?",
      "parentUuid": "3036aba6_58cbc110",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe035f0c_c09eba46",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-11-15T18:26:02Z",
      "side": 1,
      "message": "SGTM",
      "parentUuid": "044c1808_3d57b4ab",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "637a1f1b_2d9d0eb9",
        "filename": "chrome/browser/sessions/tab_loader.cc",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-11-15T18:30:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe035f0c_c09eba46",
      "range": {
        "startLine": 51,
        "startChar": 6,
        "endLine": 52,
        "endChar": 14
      },
      "revId": "20b2057d68d1a7af744cdcea6b20c8c25b30f07d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}