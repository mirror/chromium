{
  "comments": [
    {
      "key": {
        "uuid": "a838c464_d3dbdc4f",
        "filename": "components/crash/content/browser/crash_dump_manager_android.cc",
        "patchSetId": 18
      },
      "lineNbr": 111,
      "author": {
        "id": 1133706
      },
      "writtenOn": "2017-10-31T13:34:36Z",
      "side": 1,
      "message": "These states are unobservable, and while that fits with the current use (stability metrics) it might be useful to expose them to the new observers. !GetMinidumpPath happens not just as an error condition, but also when minidump generation is disabled.\n\nSidebar: does this mean that the UMA stats collected below are underestimating the true crash rate by the fraction of executions for which breakpad crash dumping is disabled? Chrome generates minidumps all the time and then uploads a fraction of them, so I presume this doesn\u0027t have an effect on Chrome. If anyone does something about this TODO - https://cs.chromium.org/chromium/src/chrome/app/chrome_crash_reporter_client.cc?rcl\u003d07493032b5cf9f46de1d43087be1d3cdad6f1bb8\u0026l\u003d120 - then that won\u0027t be the case.\n\nWebView on the other hand disables crash dump generation for a fraction (99%) of runs. So WebView\u0027s stats are presumably currently very skewed.",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 10
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "498a26d4_82b0a563",
        "filename": "components/crash/content/browser/crash_dump_manager_android.cc",
        "patchSetId": 18
      },
      "lineNbr": 111,
      "author": {
        "id": 1142059
      },
      "writtenOn": "2017-11-01T12:22:53Z",
      "side": 1,
      "message": "I\u0027m not quite sure what you mean by \"these states\". I added a field to the dump details struct for the following cases:\n - NoPath\n - EmptyDump\n - ValidDump\nDoes that address your concern? I could add a separate status for every error condition but it seemed like overkill.\n\nSidebar: Yes I believe so. Probably ssid can chime in but I think people have been looking at the Tab.RendererDetailedExitStatus for OOM rate. Yeah probably WebViews are skewed if that\u0027s the case.",
      "parentUuid": "a838c464_d3dbdc4f",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 10
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0a05295_1a276bf8",
        "filename": "components/crash/content/browser/crash_dump_manager_android.cc",
        "patchSetId": 18
      },
      "lineNbr": 111,
      "author": {
        "id": 1133706
      },
      "writtenOn": "2017-11-01T16:09:17Z",
      "side": 1,
      "message": "Yep, that\u0027s fine. I just meant that it wasn\u0027t possible to observe a crash in the case where we weren\u0027t intending to generate a minidump, or something caused generation to fail.",
      "parentUuid": "498a26d4_82b0a563",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 10
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3d1ff77_fa4988f7",
        "filename": "components/crash/content/browser/crash_dump_manager_android.h",
        "patchSetId": 18
      },
      "lineNbr": 37,
      "author": {
        "id": 1133706
      },
      "writtenOn": "2017-10-31T13:34:36Z",
      "side": 1,
      "message": "why does this become public? It doesn\u0027t seem to be used in any additional places yet.",
      "range": {
        "startLine": 37,
        "startChar": 7,
        "endLine": 37,
        "endChar": 17
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "744dabf1_dfe8b96e",
        "filename": "components/crash/content/browser/crash_dump_manager_android.h",
        "patchSetId": 18
      },
      "lineNbr": 37,
      "author": {
        "id": 1142059
      },
      "writtenOn": "2017-11-01T12:22:53Z",
      "side": 1,
      "message": "I made it public because I had the unit test test this. I could opt to friend the test harness instead if you prefer.",
      "parentUuid": "f3d1ff77_fa4988f7",
      "range": {
        "startLine": 37,
        "startChar": 7,
        "endLine": 37,
        "endChar": 17
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "623bdeea_7ba7e74a",
        "filename": "components/crash/content/browser/crash_dump_manager_android.h",
        "patchSetId": 18
      },
      "lineNbr": 37,
      "author": {
        "id": 1133706
      },
      "writtenOn": "2017-11-01T16:09:17Z",
      "side": 1,
      "message": "I just missed the usage in the unit test. However, looking at the use of ExpectUniqueSample in a number of other places, it seems like most tests hard code the value of the associated enum entry. This seems odd at first glance, but it does have the advantage that it enforces that that the enum remains append-only. It\u0027s up to you whether you want to leave it as-is, or change it.",
      "parentUuid": "744dabf1_dfe8b96e",
      "range": {
        "startLine": 37,
        "startChar": 7,
        "endLine": 37,
        "endChar": 17
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eee6c684_b2063046",
        "filename": "components/crash/content/browser/crash_dump_manager_android.h",
        "patchSetId": 18
      },
      "lineNbr": 47,
      "author": {
        "id": 1133706
      },
      "writtenOn": "2017-10-31T13:34:36Z",
      "side": 1,
      "message": "Apart from file_size, there isn\u0027t anything here that is minidump specific, and as far as I\u0027m aware there\u0027s a (long term) plan to move from minidumps to LLDB dumps. I don\u0027t have a strong preference, but it might be better to name this (and other public methods of CrashDumpManager) more generically.",
      "range": {
        "startLine": 47,
        "startChar": 9,
        "endLine": 47,
        "endChar": 24
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f607da7_c8a303a7",
        "filename": "components/crash/content/browser/crash_dump_manager_android.h",
        "patchSetId": 18
      },
      "lineNbr": 47,
      "author": {
        "id": 1142059
      },
      "writtenOn": "2017-11-01T12:22:53Z",
      "side": 1,
      "message": "SGTM. Renamed to CrashDumpDetails and OnCrashDumpProcessed.",
      "parentUuid": "eee6c684_b2063046",
      "range": {
        "startLine": 47,
        "startChar": 9,
        "endLine": 47,
        "endChar": 24
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15877aed_b4aea7d4",
        "filename": "components/metrics/stability_metrics_helper.cc",
        "patchSetId": 18
      },
      "lineNbr": 170,
      "author": {
        "id": 1133706
      },
      "writtenOn": "2017-10-31T13:34:36Z",
      "side": 1,
      "message": "This comment no longer applies, and I think that the code below can change in response.",
      "range": {
        "startLine": 170,
        "startChar": 2,
        "endLine": 170,
        "endChar": 72
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50d8275f_9e4297de",
        "filename": "components/metrics/stability_metrics_helper.cc",
        "patchSetId": 18
      },
      "lineNbr": 170,
      "author": {
        "id": 1142059
      },
      "writtenOn": "2017-11-01T12:22:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "15877aed_b4aea7d4",
      "range": {
        "startLine": 170,
        "startChar": 2,
        "endLine": 170,
        "endChar": 72
      },
      "revId": "9adc80b769526c4288c22aa8720d2044f7119dc6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}