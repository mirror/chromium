Name: Protocol Buffers
Short Name: protobuf
URL: https://github.com/google/protobuf
License: BSD
License File: LICENSE
Version: unknown
Revision: 6994b07f1480f658e2ea6262f8ca804e836ef1d2
Security Critical: yes

Steps used to create the current version:
(1) Download and unpack protobuf sources from
    https://github.com/google/protobuf/archive/master.zip .
(2) Apply the patches in patches/ in order.  In all these cases, after
    determining how to adapt the patch to the current protobuf codebase, you
    should regenerate the patch for the next maintainer.

    A brief description of each patch:
  00: Add initial GYP/GN buildfiles, DEPS, OWNERS, and README.chromium.  You
      will need to modify the README to include the correct revision, and modify
      the buildfiles to reflect the actual files in the source tree, what they
      #include, what warnings they trigger, etc.
  01: Miscellaneous build fixes to make the upstream sources compile.  At this
      point you should be able to build the protobuf_* and protoc targets (but
      not necessarily anything depending on them).
  02: Add unknown field retention to protobuf_lite.  This is a large and complex
      patch which will likely require reworking to apply correctly.  Changes to
      .pb.* files can likely be autogenerated once you apply the rest of the
      patch and rebuild protoc; look at step (3) below and the
      generate_descriptor_proto.sh script in the protobuf root directory for a
      guide.  Based on http://crrev.com/62331 and http://crrev.com/173228 .
  03: Convert protobuf_lite to a component.  Based on http://crrev.com/179806 .
  04: Uninline various functions.  Based on http://crrev.com/307332 .
(3) Generate descriptor_pb2.py using something like the following steps.  Make
    sure you've regenerated your buildfiles and will build protoc from the
    newly-modified sources above.
  $ cd $SRC_DIR
  $ ninja -C out/Debug protoc
  $ cd third_party/protobuf/src
  $ ../../../out/Debug/protoc --python_out=../python google/protobuf/descriptor.proto
  $ cd ..
  $ git add -f python/google/protobuf/descriptor_pb2.py
  $ git commit
(4) At this point you should be done, and able to successfully build everything.
