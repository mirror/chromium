# Copyright 2014 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

{
  'variables': {
    'nacl_untrusted_build%': 0,
  },
  'sources': [
    '<(libjingle_source)/talk/p2p/base/asyncstuntcpsocket.cc',
    '<(libjingle_source)/talk/p2p/base/asyncstuntcpsocket.h',
    '<(libjingle_source)/talk/p2p/base/basicpacketsocketfactory.cc',
    '<(libjingle_source)/talk/p2p/base/basicpacketsocketfactory.h',
    '<(libjingle_source)/talk/p2p/base/candidate.h',
    '<(libjingle_source)/talk/p2p/base/common.h',
    '<(libjingle_source)/talk/p2p/base/constants.cc',
    '<(libjingle_source)/talk/p2p/base/constants.h',
    '<(libjingle_source)/talk/p2p/base/dtlstransport.h',
    '<(libjingle_source)/talk/p2p/base/dtlstransportchannel.cc',
    '<(libjingle_source)/talk/p2p/base/dtlstransportchannel.h',
    '<(libjingle_source)/talk/p2p/base/p2ptransport.cc',
    '<(libjingle_source)/talk/p2p/base/p2ptransport.h',
    '<(libjingle_source)/talk/p2p/base/p2ptransportchannel.cc',
    '<(libjingle_source)/talk/p2p/base/p2ptransportchannel.h',
    '<(libjingle_source)/talk/p2p/base/parsing.cc',
    '<(libjingle_source)/talk/p2p/base/parsing.h',
    '<(libjingle_source)/talk/p2p/base/port.cc',
    '<(libjingle_source)/talk/p2p/base/port.h',
    '<(libjingle_source)/talk/p2p/base/portallocator.cc',
    '<(libjingle_source)/talk/p2p/base/portallocator.h',
    '<(libjingle_source)/talk/p2p/base/portallocatorsessionproxy.cc',
    '<(libjingle_source)/talk/p2p/base/portallocatorsessionproxy.h',
    '<(libjingle_source)/talk/p2p/base/portproxy.cc',
    '<(libjingle_source)/talk/p2p/base/portproxy.h',
    '<(libjingle_source)/talk/p2p/base/pseudotcp.cc',
    '<(libjingle_source)/talk/p2p/base/pseudotcp.h',
    '<(libjingle_source)/talk/p2p/base/rawtransport.cc',
    '<(libjingle_source)/talk/p2p/base/rawtransport.h',
    '<(libjingle_source)/talk/p2p/base/rawtransportchannel.cc',
    '<(libjingle_source)/talk/p2p/base/rawtransportchannel.h',
    '<(libjingle_source)/talk/p2p/base/relayport.cc',
    '<(libjingle_source)/talk/p2p/base/relayport.h',
    '<(libjingle_source)/talk/p2p/base/session.cc',
    '<(libjingle_source)/talk/p2p/base/session.h',
    '<(libjingle_source)/talk/p2p/base/sessionclient.h',
    '<(libjingle_source)/talk/p2p/base/sessiondescription.cc',
    '<(libjingle_source)/talk/p2p/base/sessiondescription.h',
    '<(libjingle_source)/talk/p2p/base/sessionid.h',
    '<(libjingle_source)/talk/p2p/base/sessionmanager.cc',
    '<(libjingle_source)/talk/p2p/base/sessionmanager.h',
    '<(libjingle_source)/talk/p2p/base/sessionmessages.cc',
    '<(libjingle_source)/talk/p2p/base/sessionmessages.h',
    '<(libjingle_source)/talk/p2p/base/stun.cc',
    '<(libjingle_source)/talk/p2p/base/stun.h',
    '<(libjingle_source)/talk/p2p/base/stunport.cc',
    '<(libjingle_source)/talk/p2p/base/stunport.h',
    '<(libjingle_source)/talk/p2p/base/stunrequest.cc',
    '<(libjingle_source)/talk/p2p/base/stunrequest.h',
    '<(libjingle_source)/talk/p2p/base/tcpport.cc',
    '<(libjingle_source)/talk/p2p/base/tcpport.h',
    '<(libjingle_source)/talk/p2p/base/transport.cc',
    '<(libjingle_source)/talk/p2p/base/transport.h',
    '<(libjingle_source)/talk/p2p/base/transportchannel.cc',
    '<(libjingle_source)/talk/p2p/base/transportchannel.h',
    '<(libjingle_source)/talk/p2p/base/transportchannelimpl.h',
    '<(libjingle_source)/talk/p2p/base/transportchannelproxy.cc',
    '<(libjingle_source)/talk/p2p/base/transportchannelproxy.h',
    '<(libjingle_source)/talk/p2p/base/transportdescription.cc',
    '<(libjingle_source)/talk/p2p/base/transportdescription.h',
    '<(libjingle_source)/talk/p2p/base/transportdescriptionfactory.cc',
    '<(libjingle_source)/talk/p2p/base/transportdescriptionfactory.h',
    '<(libjingle_source)/talk/p2p/base/turnport.cc',
    '<(libjingle_source)/talk/p2p/base/turnport.h',
    '<(libjingle_source)/talk/p2p/client/basicportallocator.cc',
    '<(libjingle_source)/talk/p2p/client/basicportallocator.h',
    '<(libjingle_source)/talk/p2p/client/httpportallocator.cc',
    '<(libjingle_source)/talk/p2p/client/httpportallocator.h',
    '<(libjingle_source)/talk/p2p/client/sessionmanagertask.h',
    '<(libjingle_source)/talk/p2p/client/sessionsendtask.h',
    '<(libjingle_source)/talk/p2p/client/socketmonitor.cc',
    '<(libjingle_source)/talk/p2p/client/socketmonitor.h',
    '<(libjingle_source)/talk/xmpp/asyncsocket.h',
    '<(libjingle_source)/talk/xmpp/constants.cc',
    '<(libjingle_source)/talk/xmpp/constants.h',
    '<(libjingle_source)/talk/xmpp/jid.cc',
    '<(libjingle_source)/talk/xmpp/jid.h',
    '<(libjingle_source)/talk/xmpp/plainsaslhandler.h',
    '<(libjingle_source)/talk/xmpp/prexmppauth.h',
    '<(libjingle_source)/talk/xmpp/saslcookiemechanism.h',
    '<(libjingle_source)/talk/xmpp/saslhandler.h',
    '<(libjingle_source)/talk/xmpp/saslmechanism.cc',
    '<(libjingle_source)/talk/xmpp/saslmechanism.h',
    '<(libjingle_source)/talk/xmpp/saslplainmechanism.h',
    '<(libjingle_source)/talk/xmpp/xmppclient.cc',
    '<(libjingle_source)/talk/xmpp/xmppclient.h',
    '<(libjingle_source)/talk/xmpp/xmppclientsettings.h',
    '<(libjingle_source)/talk/xmpp/xmppengine.h',
    '<(libjingle_source)/talk/xmpp/xmppengineimpl.cc',
    '<(libjingle_source)/talk/xmpp/xmppengineimpl.h',
    '<(libjingle_source)/talk/xmpp/xmppengineimpl_iq.cc',
    '<(libjingle_source)/talk/xmpp/xmpplogintask.cc',
    '<(libjingle_source)/talk/xmpp/xmpplogintask.h',
    '<(libjingle_source)/talk/xmpp/xmppstanzaparser.cc',
    '<(libjingle_source)/talk/xmpp/xmppstanzaparser.h',
    '<(libjingle_source)/talk/xmpp/xmpptask.cc',
    '<(libjingle_source)/talk/xmpp/xmpptask.h',
  ],
  'conditions': [
    ['OS=="win" and nacl_untrusted_build==0', {
      # Suppress warnings about WIN32_LEAN_AND_MEAN.
      'msvs_disabled_warnings': [ 4005, 4267 ],
    }, {
      'sources/': [
        ['exclude', '/win[a-z0-9]+\\.(h|cc)$'],
        ['exclude', '/schanneladapter\\.(h|cc)$'],
      ],
    }],
    ['os_posix!=1 and nacl_untrusted_build==0', {
      'sources/': [
        ['exclude', '/unix[a-z]+\\.(h|cc)$'],
      ],
    }],
    ['(OS!="mac" and OS!="ios") or nacl_untrusted_build==1', {
      'sources/': [
        ['exclude', '/mac[a-z]+\\.(h|cc)$'],
        ['exclude', '/scoped_autorelease_pool\\.(h|mm)$'],
      ],
    }],
    ['use_openssl!=1', {
      'sources/': [
        ['exclude', '/openssl[a-z]+\\.(h|cc)$'],
      ],
    }],
  ],
}
