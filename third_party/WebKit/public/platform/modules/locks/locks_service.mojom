// Copyright 2017 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

module blink.mojom;

import "url/mojo/origin.mojom";

enum LockMode {
  SHARED,
  EXCLUSIVE
};

// An opaque handle passed from the browser process to a child process to reflect a
// held lock. The lock is released when the handle is dropped.
interface LockHandle {};

interface LockRequest {
  Granted(LockHandle lock_handle);
  Abort(string reason);
};

interface LocksService {
  enum WaitMode {
    WAIT,
    NO_WAIT
  };

  RequestLock(url.mojom.Origin origin, array<string> scope, LockMode mode, WaitMode wait, LockRequest request);
};
