# Copyright 2017 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

visibility = [
  "//components/*",
  "//third_party/WebKit/webagents/*",
]

component("webagents") {
  output_name = "blink_webagents"

  defines = [ "WEBAGENTS_IMPLEMENTATION=1" ]

  sources = [
    "agent.cc",
    "agent.h",
    "character_data.cc",
    "character_data.h",
    "document.cc",
    "document.h",
    "element.cc",
    "element.h",
    "event_target.cc",
    "event_target.h",
    "frame.cc",
    "frame.h",
    "html_element.cc",
    "html_element.h",
    "html_head_element.cc",
    "html_head_element.h",
    "html_input_element.cc",
    "html_input_element.h",
    "html_meta_element.cc",
    "html_meta_element.h",
    "node.cc",
    "node.h",
    "node_iterator.cc",
    "node_iterator.h",
    "text.cc",
    "text.h",
    "webagents_export.h",
  ]

  deps = [
    "//services/service_manager/public/cpp",
    "//third_party/WebKit/Source/core",
    "//third_party/WebKit/public:blink_headers",
  ]
}

component("testing") {
  defines = [ "WEBAGENTS_IMPLEMENTATION=1" ]

  sources = [
    "test_frame.cc",
    "test_frame.h",
  ]

  deps = [
    ":webagents",
    "//third_party/WebKit/Source/core",
    "//third_party/WebKit/Source/core:testing",
    "//third_party/WebKit/Source/modules",
  ]
}
