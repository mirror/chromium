<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<div id=target></div>
<script>
test(() => {
  const ev = new Event("sample");
  var dispatched = false;
  target.addEventListener("sample", (e) => {
    assert_true(e.composedPath().length > 0);
    dispatched = true;
  });
  assert_array_equals(ev.composedPath(), []);
  target.dispatchEvent(ev);
  assert_true(dispatched);
  assert_array_equals(ev.composedPath(), []);
}, "Event.composedPath() should return an empty array before/after dispatching an event");
</script>
