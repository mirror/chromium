<!DOCTYPE html>
<script src='../resources/testharness.js'></script>
<script src='../resources/testharnessreport.js'></script>
<script src="resources/shadow-dom.js"></script>
<html>
<body>
<style>
#host:not(:focus)::after {
  content: 'text';
}
</style>

<div id="host" tabindex=0></div>
</body>
<script>
test(() => {
  var host = document.getElementById('host');
  var shadow = host.attachShadow({mode: 'closed'});
  host.focus();
}, "the style is recalculated by host.focus()");
</script>
</html>
