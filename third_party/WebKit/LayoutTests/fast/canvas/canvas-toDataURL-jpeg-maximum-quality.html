The letters in the right image should be crisp and non-blurry like the letters in the left image.<p>
<canvas></canvas>
<img id="result" onload="testDone()">

<script>
if (window.testRunner) {
    window.testRunner.dumpAsTextWithPixelResults();
    window.testRunner.waitUntilDone();
}

function testDone()
{
    if (window.testRunner)
        window.testRunner.notifyDone();
}

var image = new Image();
image.onload = function() {
    var canvas = document.querySelector('canvas');
    canvas.width = this.width;
    canvas.height = this.height;
    var ctx = canvas.getContext('2d')
    // Drawing canvas onto itself will force allocation of the backing store
    // and prevent toDataURL from switching out of gpu-acceleration when
    // running this test under virtual/gpu
    ctx.drawImage(canvas, 0, 0);
    ctx.drawImage(this, 0, 0);
    result.src = canvas.toDataURL('image/jpeg', 1.0);
    document.body.style.zoom = 1.3;
};

image.src = "resources/letters.png";
</script>
