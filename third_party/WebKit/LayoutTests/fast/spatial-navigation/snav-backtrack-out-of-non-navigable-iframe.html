<html>
  <!--
    This test ensures the correctness of a basic aspect of spatial navigation traversal
    routines: iframe element without any focusable content should be ignored.

    * Pre-conditions:
    1) DRT support for spatial navigation enable/disable.

    * Navigation steps:
    1) Loads this page, focus goes to "start" automatically.
    2) Focus moves from "start" to "end" and return back.
  -->
  <head>
    <script src="../../resources/js-test.js"></script>
    <script src="resources/spatial-navigation-utils.js"></script>
    <script type="application/javascript">

    var resultMap = [
      ["Down", "end"],
      ["Right", "start"],
      ["DONE", "DONE"]
    ];

    if (window.testRunner) {
      testRunner.dumpAsText();
      testRunner.overridePreference("WebKitTabToLinksPreferenceKey", 1);
      testRunner.overridePreference("WebKitSpatialNavigationEnabled", 1);
      testRunner.waitUntilDone();
    }

    function runTest()
    {
      // starting the test itself: get to a known place.
      document.getElementById("start").focus();

      initTest(resultMap, testCompleted);
    }

    function testCompleted()
    {
      if (window.testRunner)
        testRunner.notifyDone();
    }

    window.onload = runTest;
    </script>
  </head>

  <body>
    <div style="position: relative;">
      <a id="start" href="#" style="position: absolute; top: 10px; left: 50px;">s</a>
      <a id="end" href="#" style="position: absolute; top: 50px; left: 10px;">e</a>
      <iframe style="position: absolute; top: 50px; left: 50px;" src="data:text/html,
        <div>non focusable div</div>"
      ></iframe>
    </div>
    <div id="console"></div>
    <div>This test tests that an iframe element without any focusable cotent will be ignored.</div>
  </body>
</html>
