<html>
<head>
<script src="../inspector/console-test.js"></script>
<script src="../inspector/inspector-test.js"></script>
<script>

function A() {
    this.instanceMember = 1;
    this.member1 = 1;
}

A.prototype.aMember = 1;
A.prototype.shadowedMember = 0;
A.prototype.__proto__ = null;

function B() {
    A.call(this);
}

B.prototype.bMember = 1;
B.prototype.ePriorityMember = 2;
B.prototype.shadowedMember = 1;
B.prototype.__proto__ = A.prototype;

function C() {
    B.call(this);
}

C.prototype.cMember = 1;
C.prototype.EPriorityMember = 2;
C.prototype.shadowedMember = 2;
C.prototype.__proto__ = B.prototype;

var objectC = new C();

let prefixA = 1;
const prefixB = 2;
class prefixFoo {};

async function test() {
  let completions = await ObjectUI.JavaScriptAutocomplete.completionsForExpression('objectC.', 'e');
  TestRunner.addResult('Completions for objectC.:');
  for (var completion of completions)
    TestRunner.addObject(completion);

  completions = await ObjectUI.JavaScriptAutocomplete.completionsForExpression('prefix', '');
  TestRunner.addResult('Completions for prefix.:');
  for (var completion of completions)
    TestRunner.addObject(completion);

  TestRunner.completeTest();
}

</script>
</head>

<body onload="runTest()">
<p>
Tests completions prototype chain and scope variables.
</p>

</body>
</html>
