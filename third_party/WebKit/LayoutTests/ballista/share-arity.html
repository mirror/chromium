<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script src="../resources/mojo-helpers.js"></script>
<script src="resources/mock-ballista-service.js"></script>
<script>

ballista_test((t, mock) => {
  return promise_rejects(t, new TypeError(), navigator.actions.share());
}, '0 arguments (promise rejection)');

ballista_test((t, mock) => {
  return promise_rejects(t, new TypeError(), navigator.actions.share('the title'));
}, '1 argument (promise rejection)');

ballista_test((t, mock) => {
  mock.pushShareResult('the title', 'the message', null);
  return navigator.actions.share('the title', 'the message',
                                 'more than required');
}, '3 arguments (extra argument ignored)');

</script>
