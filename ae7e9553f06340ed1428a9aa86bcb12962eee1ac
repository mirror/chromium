{
  "comments": [
    {
      "key": {
        "uuid": "2c01dd2a_221e20c7",
        "filename": "ui/latency/latency_info.cc",
        "patchSetId": 1
      },
      "lineNbr": 176,
      "author": {
        "id": 1116050
      },
      "writtenOn": "2017-10-31T20:57:08Z",
      "side": 1,
      "message": "Can we assert that the ukm source id is invalid iff the trace id is -1?",
      "range": {
        "startLine": 176,
        "startChar": 29,
        "endLine": 176,
        "endChar": 45
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "261a067f_09c47766",
        "filename": "ui/latency/latency_info.cc",
        "patchSetId": 1
      },
      "lineNbr": 176,
      "author": {
        "id": 1115962
      },
      "writtenOn": "2017-11-04T18:54:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2c01dd2a_221e20c7",
      "range": {
        "startLine": 176,
        "startChar": 29,
        "endLine": 176,
        "endChar": 45
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9471974e_13c0959e",
        "filename": "ui/latency/latency_info.h",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1116050
      },
      "writtenOn": "2017-10-31T20:57:08Z",
      "side": 1,
      "message": "Why did we decide against reusing the trace id?",
      "range": {
        "startLine": 226,
        "startChar": 7,
        "endLine": 226,
        "endChar": 19
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbf2a918_9845a195",
        "filename": "ui/latency/latency_info.h",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1115962
      },
      "writtenOn": "2017-10-31T21:45:41Z",
      "side": 1,
      "message": "I tried going down that route, but it looked a little hairy. \n\nE.g. there several places where we do DCHECKs like this one:\nhttps://cs.chromium.org/chromium/src/content/browser/renderer_host/input/gesture_event_queue.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d367\nWe can\u0027t do that easily with UkmSourceId, because the incrementing id is ORed with the type: https://cs.chromium.org/chromium/src/services/metrics/public/cpp/ukm_source_id.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d31\n\ntrace_id is also used a part of the key in LatencyMap, so there were some rippling changes. Finally, we\u0027d probably need to convert UkmSourceId to int64 in a few places, so we\u0027d probabaly need to add a converter in ukm_source_id.h.",
      "parentUuid": "9471974e_13c0959e",
      "range": {
        "startLine": 226,
        "startChar": 7,
        "endLine": 226,
        "endChar": 19
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2402fcd7_9cc18209",
        "filename": "ui/latency/latency_info.h",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1116050
      },
      "writtenOn": "2017-11-01T13:46:03Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fbf2a918_9845a195",
      "range": {
        "startLine": 226,
        "startChar": 7,
        "endLine": 226,
        "endChar": 19
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19b4c18c_b425f7cb",
        "filename": "ui/latency/latency_tracker.cc",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1116050
      },
      "writtenOn": "2017-10-31T20:57:08Z",
      "side": 1,
      "message": "Nittiest nit: can we just do a 32 bit random integer here?",
      "range": {
        "startLine": 39,
        "startChar": 14,
        "endLine": 39,
        "endChar": 24
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ede504ad_6632ff3a",
        "filename": "ui/latency/latency_tracker.cc",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1115962
      },
      "writtenOn": "2017-11-04T18:54:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19b4c18c_b425f7cb",
      "range": {
        "startLine": 39,
        "startChar": 14,
        "endLine": 39,
        "endChar": 24
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ee81794_fc3f5e19",
        "filename": "ui/latency/latency_tracker.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-11-03T17:59:37Z",
      "side": 1,
      "message": "Doesn\u0027t this run on the GPU service side in viz? The UkmRecorder singleton is only in the browser process.",
      "range": {
        "startLine": 104,
        "startChar": 35,
        "endLine": 104,
        "endChar": 58
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da7b3fdb_7b272185",
        "filename": "ui/latency/latency_tracker.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 1115962
      },
      "writtenOn": "2017-11-04T18:54:20Z",
      "side": 1,
      "message": "Once this CL lands, UkmRecorder will be available in the GPU process:\nhttps://chromium-review.googlesource.com/c/chromium/src/+/744544\nAlso, this is actually the base class for RWHLatencyTracker, so this code is used outside of viz too.",
      "parentUuid": "9ee81794_fc3f5e19",
      "range": {
        "startLine": 104,
        "startChar": 35,
        "endLine": 104,
        "endChar": 58
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8aaba5fa_f28203e7",
        "filename": "ui/latency/latency_tracker.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-11-06T18:29:31Z",
      "side": 1,
      "message": "MojoUkmRecorder is not thread-safe, it binds to the thread its created on. With the patch above, the single instance in the Gpu process will be bound to the compositor thread. I\u0027m not sure we want that, and if we do its worth documenting somewhere. If its not too much plumbing, I would generally prefer to pass the instance to use here instead.",
      "parentUuid": "da7b3fdb_7b272185",
      "range": {
        "startLine": 104,
        "startChar": 35,
        "endLine": 104,
        "endChar": 58
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3515422d_87a41d51",
        "filename": "ui/latency/latency_tracker.h",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1145109
      },
      "writtenOn": "2017-11-03T17:59:37Z",
      "side": 1,
      "message": "Looks like this can be private now?",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 37
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01675e2f_b75f3ff0",
        "filename": "ui/latency/latency_tracker.h",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1115962
      },
      "writtenOn": "2017-11-04T18:54:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3515422d_87a41d51",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 37
      },
      "revId": "ae7e9553f06340ed1428a9aa86bcb12962eee1ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}