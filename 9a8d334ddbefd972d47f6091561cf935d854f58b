{
  "comments": [
    {
      "key": {
        "uuid": "df44b929_2e71622e",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 104,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "It seems this method is not necessary, since we never send this object (and MediaStatus) from the browser to the extension. For objects that are only transmitted in one direction, it seems we need only one of fromNewVersion / toNewVersion?",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96524d9a_156bc8e1",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 104,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "Done. Thanks!\n\nYou are right. I didn\u0027t try to inspect the code to figure out which objects are only sent in one direction.",
      "parentUuid": "df44b929_2e71622e",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27e89dba_216d5bbd",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "this.hangouts_extra_data may be undefined. How about this.hangouts_extra_data \u0026\u0026 this.hangouts_extra_data.toNewVersion()?",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da01ea5a_d96a78bc",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27e89dba_216d5bbd",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec92d005_fdace504",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 244,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "Missing \"new\"",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d07a3c01_e78f47d0",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 244,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ec92d005_fdace504",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b4da6c4_3be4c2b9",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 359,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "I think this should be \"mediaRouter.mojom.MediaSinkExtraData.Tags.dialMediaSink\".",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "180d2ae9_b8611bb1",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 359,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b4da6c4_3be4c2b9",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdb88251_535f2d20",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 462,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "Just curious, is there an advantage in invoking the method on this.ptr.getProxy() instead of this.ptr? As you can tell, the MR extension does the latter.",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e3a3032_35643082",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 462,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "|ptr| is the mojo.InterfacePtrController, so it doesn\u0027t have interface-specific methods (such as onSinkAvailable in this case) defined on it.\nThose interface-specific methods are defined on both FooPtr and FooProxy. Assume |foo_ptr| is a FooPtr instance, |foo_ptr.ptr.getProxy()| is the FooProxy. This proxy is an internal class that users don\u0027t have to know about. You should always do foo_ptr.someMethodOnTheFooInterface().",
      "parentUuid": "fdb88251_535f2d20",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca29b373_19c1e633",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 759,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-22T21:09:19Z",
      "side": 1,
      "message": "It is a little sad to export internal types like this. The reason is that:\nThe media router extension declares \"var mojo \u003d {}\" before loading this file. Our mojo JS bindings find that \"mojo\" is already defined, so it loads the contents directly into that object [1]. However, the media router extension directly re-assigns the \"mojo\" object it declares to the return value of this method. Because of this, whenever mojo JS bindings code refers to \"mojo.XXX\", it actually refers to the returned object of this method. And the outcome is that we have to export things like this.\n\nOne possible way to avoid this is to avoid declaring \"var mojo \u003d {}\" at the extension side, or avoid re-assigning \"mojo\". WDYT?\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n[1] I assume that this behavior is useful because that lets users control in what scope \"mojo\" is defined.",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4c8f949_4777dc64",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 759,
      "author": {
        "id": 1002808
      },
      "writtenOn": "2017-11-22T21:35:09Z",
      "side": 1,
      "message": "I agree it\u0027s unfortunate, and I think that makes sense to me. Can you add a TODO to stop doing this? And how can we go about coordinating an update to the extension to let us eventually resolve the TODO?",
      "parentUuid": "ca29b373_19c1e633",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7ee9bd9_107fa212",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 759,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "Ah, I didn\u0027t realize that would be a problem since it worked fine up to this point with the old bindings. I agree with your assessment. Could you add a note and a TODO(imcheng) to stop exporting internal classes? I created an internal bug to track converting our MR extension to stop overwriting \"mojo\" and to use new bindings code.",
      "parentUuid": "a4c8f949_4777dc64",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e796b9a9_f344df11",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 759,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "Added TODO. Thanks!",
      "parentUuid": "c7ee9bd9_107fa212",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58660c5d_bf50bdef",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 874,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-11-28T00:38:47Z",
      "side": 1,
      "message": "Can this just be (issue.secondaryActions || []).map(issueActionToMojo_); ?",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3d0987f_fbadecdb",
        "filename": "chrome/renderer/resources/extensions/media_router_bindings.js",
        "patchSetId": 5
      },
      "lineNbr": 874,
      "author": {
        "id": 1104639
      },
      "writtenOn": "2017-11-29T23:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "58660c5d_bf50bdef",
      "revId": "9a8d334ddbefd972d47f6091561cf935d854f58b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}