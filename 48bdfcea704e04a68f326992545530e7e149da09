{
  "comments": [
    {
      "key": {
        "uuid": "13308ebf_4a4d94ce",
        "filename": "third_party/WebKit/Source/core/dom/FirstLetterPseudoElement.cpp",
        "patchSetId": 5
      },
      "lineNbr": 299,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-07-31T20:24:34Z",
      "side": 1,
      "message": "\"inherits\"",
      "revId": "48bdfcea704e04a68f326992545530e7e149da09",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3919811e_fa6ac1ea",
        "filename": "third_party/WebKit/Source/core/dom/FirstLetterPseudoElement.cpp",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-07-31T20:24:34Z",
      "side": 1,
      "message": "For display:contents, the parent to inherit from does not necessarily have a LayoutObject.\n\nI think conditions in the test case below should hold:\n\n\u003c!DOCTYPE html\u003e\n\u003cstyle\u003e\n  .fl::first-letter { background-color: lime }\n\u003c/style\u003e\n\u003cdiv class\u003d\"fl\"\u003e\n  \u003cdiv style\u003d\"color:red\"\u003e\n    \u003cdiv style\u003d\"color:green;display:contents\"\u003eFirst letter should be green on lime background.\u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e",
      "revId": "48bdfcea704e04a68f326992545530e7e149da09",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8ce2c50_67de9cd2",
        "filename": "third_party/WebKit/Source/core/dom/FirstLetterPseudoElement.cpp",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1128431
      },
      "writtenOn": "2017-08-01T07:24:28Z",
      "side": 1,
      "message": "Oh, thank you Rune for having a look, and welcome back from the vacation.\n\nI\u0027m not very familiar with display:contents, is it implemented now? This is the same logic as AttachFirstLetterTextLayoutObjects(), so if we need to fix, we need to fix both.\n\nIs LayoutText::Parent() nullptr in that case? How could we compute the style tree parent?",
      "parentUuid": "3919811e_fa6ac1ea",
      "revId": "48bdfcea704e04a68f326992545530e7e149da09",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9b5c627_4a9121a5",
        "filename": "third_party/WebKit/Source/core/dom/FirstLetterPseudoElement.cpp",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1115751
      },
      "writtenOn": "2017-08-01T08:31:45Z",
      "side": 1,
      "message": "The inherit parent is the flat tree parent which can be found with FlatTreeTraversal::Parent() for the node, but you can ignore this for now. There are similar aspects of text nodes and parent boxes of text nodes when we have display:contents which needs to be fixed, so we can handle this as part of that work.\n\ndisplay:contents is being implemented behind a flag, but it\u0027s not quite finished and there are open spec issues.",
      "parentUuid": "e8ce2c50_67de9cd2",
      "revId": "48bdfcea704e04a68f326992545530e7e149da09",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49999096_1223e5f8",
        "filename": "third_party/WebKit/Source/core/dom/FirstLetterPseudoElement.cpp",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1128431
      },
      "writtenOn": "2017-08-01T08:42:54Z",
      "side": 1,
      "message": "Thanks, so in display:contents world, FlatTreeTraversal::Parent(node)-\u003eStyle() !\u003d node-\u003eGetLayoutObject()-\u003eParent()-\u003eStyle()? I thought LayoutObject tree is built from FlatTreeTraversal and that they\u0027re the same, except that FlatTreeTraversal can compute without layout clean. I understand it\u0027s different from Node::Parent(), but the difference from LayoutObject::Parent() isn\u0027t very clear to me...\n\nYeah, a separate work sounds reasonable. Do you want to open a bug for this, or is this already under some umbrella bug?",
      "parentUuid": "a9b5c627_4a9121a5",
      "revId": "48bdfcea704e04a68f326992545530e7e149da09",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}