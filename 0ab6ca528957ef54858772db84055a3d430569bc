{
  "comments": [
    {
      "key": {
        "uuid": "46626acc_2c604ae3",
        "filename": "chrome/browser/client_hints/client_hints_observer.cc",
        "patchSetId": 10
      },
      "lineNbr": 54,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-08-11T13:09:19Z",
      "side": 1,
      "message": "\"doesn\u0027t have the [...]\", right?",
      "range": {
        "startLine": 54,
        "startChar": 32,
        "endLine": 54,
        "endChar": 35
      },
      "revId": "0ab6ca528957ef54858772db84055a3d430569bc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d645ef2_9537a473",
        "filename": "chrome/browser/client_hints/client_hints_observer.cc",
        "patchSetId": 10
      },
      "lineNbr": 54,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-08-11T18:00:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46626acc_2c604ae3",
      "range": {
        "startLine": 54,
        "startChar": 32,
        "endLine": 54,
        "endChar": 35
      },
      "revId": "0ab6ca528957ef54858772db84055a3d430569bc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1b00fe5_f9579ea2",
        "filename": "chrome/renderer/content_settings_observer.cc",
        "patchSetId": 10
      },
      "lineNbr": 496,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-08-11T13:09:19Z",
      "side": 1,
      "message": "Are we worried about race conditions if multiple renderers try to update the same value simultaneously? What about security -- what would happen if a compromised renderer modifies the client hints for a different origin?",
      "range": {
        "startLine": 496,
        "startChar": 17,
        "endLine": 496,
        "endChar": 35
      },
      "revId": "0ab6ca528957ef54858772db84055a3d430569bc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d37b7e94_7aa43094",
        "filename": "chrome/renderer/content_settings_observer.cc",
        "patchSetId": 10
      },
      "lineNbr": 496,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-08-11T18:00:05Z",
      "side": 1,
      "message": "\u003e Are we worried about race conditions if multiple renderers try to update the same value simultaneously?\nThe last one takes priority. The spec does not say anything specific, so it seems the default approach (last takes priority) SGTM. Also, the browser part is on UI thread, so there is no thread racing as such. The tricky part is that if renderer 1 updates the values, then we need to notify renderer 2 (which might be already loading in a different tab). I will come to that when implementing the \"reading\" part. This CL only implements the \"writing\" part.\n\n\u003e What about security -- what would happen if a compromised renderer modifies the client hints for a different origin?\nYes, a malicious renderer can do that. The design doc (https://docs.google.com/document/d/1zAw7ziU8J2pFL4tYGCtOsOLoOy0XPgxXe_x2Tv89_nw/edit#, also linked in the bug) discusses this.",
      "parentUuid": "e1b00fe5_f9579ea2",
      "range": {
        "startLine": 496,
        "startChar": 17,
        "endLine": 496,
        "endChar": 35
      },
      "revId": "0ab6ca528957ef54858772db84055a3d430569bc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}