{
  "comments": [
    {
      "key": {
        "uuid": "fa3f1ec9_ea6cb429",
        "filename": "chrome/browser/component_updater/optimization_hints_component_installer_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 42,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "we can use std::make_unique now.",
      "range": {
        "startLine": 42,
        "startChar": 14,
        "endLine": 42,
        "endChar": 24
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "129f4adc_1ef8db18",
        "filename": "chrome/browser/component_updater/optimization_hints_component_installer_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 42,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa3f1ec9_ea6cb429",
      "range": {
        "startLine": 42,
        "startChar": 14,
        "endLine": 42,
        "endChar": 24
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "604d1dfb_1e8aa432",
        "filename": "components/optimization_guide/DEPS",
        "patchSetId": 8
      },
      "lineNbr": 2,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "This dependency might not be ok. I know that components can depend on other components but they can\u0027t depend on content, unless they are layered components. Suffice it to say, we avoid this kind of dependencies in the component updater related code.\n\nI don\u0027t know layering in Chrome well enough, and I\u0027d be happy to stand corrected.",
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de36345b_f7769023",
        "filename": "components/optimization_guide/DEPS",
        "patchSetId": 8
      },
      "lineNbr": 2,
      "author": {
        "id": 1166490
      },
      "writtenOn": "2017-11-07T00:41:22Z",
      "side": 1,
      "message": "AFAIK, layered components split content/ away from net/ and base/ to support iOS. This component is specifically not layered as it will only ever be used on non-iOS.\n\nWhat is not clear to me at a broad level is if non-layered components are really a thing that should exist or whether the code should just be in src/chrome.\n\nAs it stands, we are in a transitional period where previews and data reduction proxy are being flattened as neither of them will ever need to support iOS, and it is not clear how best to go about this.\n\nOne proposal, is to move this to optimization_guide/content, but I am not aware of what is the right thing to do.\n\nblundell@, could you lend some guidance on the best approach?",
      "parentUuid": "604d1dfb_1e8aa432",
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddd73c99_3e3232fe",
        "filename": "components/optimization_guide/DEPS",
        "patchSetId": 8
      },
      "lineNbr": 2,
      "author": {
        "id": 1113941
      },
      "writtenOn": "2017-11-07T13:17:35Z",
      "side": 1,
      "message": "To the main point:\n\n- Components can use //content directly (i.e., without layering) if they\u0027re not targeting iOS. It looks like this feature is used by the component updater, and the component updater in turn is used on iOS. If you include this feature as-is in the build on iOS (either intentionally or unintentionally), GN will choke on the //content dependency. However, currently it looks like you\u0027re adding the dependencies from component updater to the new component at the //chrome level.\n\n- FWIW, it looks like the //content dependency would be fairly trivial to remove here: instead of sending a notification you could have observers. Notifications are actually discouraged as an anti-pattern in Chromium, so this would be a good design change anyway. Of course, I don\u0027t know if the plan is to have this feature grow broader //content dependencies (e.g., on WebContents).\n\nTo the question about non-layered components being a thing:\n\n- The motivation for a feature being in //components is that it\u0027s used by multiple embedders. This can equally well be multiple //content-based embedders as e.g. //chrome and //ios. So for example, a feature that\u0027s used by both Chrome and Android WebView.\n\n- That said, if your feature is really only targeting non-iOS Chrome, there\u0027s little reason for it to be in //components instead of //chrome. I don\u0027t know whether this applies to the features being discussed here.",
      "parentUuid": "de36345b_f7769023",
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fd73d7d_8737c224",
        "filename": "components/optimization_guide/optimization_guide_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 14,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "this dependency might not be ok.",
      "range": {
        "startLine": 14,
        "startChar": 10,
        "endLine": 14,
        "endChar": 17
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f7f5cd0_a1f61906",
        "filename": "components/optimization_guide/optimization_guide_service.cc",
        "patchSetId": 8
      },
      "lineNbr": 14,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "will defer to comment thread in DEPS",
      "parentUuid": "8fd73d7d_8737c224",
      "range": {
        "startLine": 14,
        "startChar": 10,
        "endLine": 14,
        "endChar": 17
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78888f9b_65b439d2",
        "filename": "components/optimization_guide/optimization_guide_service.h",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "explicit.\nalso, most likely, the intention was to pass a ref to const scoped_refptr",
      "range": {
        "startLine": 40,
        "startChar": 56,
        "endLine": 40,
        "endChar": 77
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63a78c5e_5930aa2a",
        "filename": "components/optimization_guide/optimization_guide_service.h",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78888f9b_65b439d2",
      "range": {
        "startLine": 40,
        "startChar": 56,
        "endLine": 40,
        "endChar": 77
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cec652ec_3f1b8595",
        "filename": "components/optimization_guide/optimization_guide_service.h",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "const ref?",
      "range": {
        "startLine": 52,
        "startChar": 56,
        "endLine": 52,
        "endChar": 57
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12414dd9_fd5a199f",
        "filename": "components/optimization_guide/optimization_guide_service.h",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cec652ec_3f1b8595",
      "range": {
        "startLine": 52,
        "startChar": 56,
        "endLine": 52,
        "endChar": 57
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5640c85a_662aa138",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "explicit",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 26
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4714631b_53beb4cb",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5640c85a_662aa138",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 26
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75740402_4d83282b",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 51,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "const member function?",
      "range": {
        "startLine": 51,
        "startChar": 31,
        "endLine": 51,
        "endChar": 33
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eeda3e7a_01fb7320",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 51,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75740402_4d83282b",
      "range": {
        "startLine": 51,
        "startChar": 31,
        "endLine": 51,
        "endChar": 33
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed989155_8b13024c",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "const member function?",
      "range": {
        "startLine": 53,
        "startChar": 41,
        "endLine": 53,
        "endChar": 43
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fe6b607_4db2115c",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed989155_8b13024c",
      "range": {
        "startLine": 53,
        "startChar": 41,
        "endLine": 53,
        "endChar": 43
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a7b4a2a_906ad0eb",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "can use make_unique",
      "range": {
        "startLine": 73,
        "startChar": 40,
        "endLine": 73,
        "endChar": 50
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc1fd004_9f51e456",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a7b4a2a_906ad0eb",
      "range": {
        "startLine": 73,
        "startChar": 40,
        "endLine": 73,
        "endChar": 50
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "389ea9bf_dfdf83bf",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 86,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "could pass the parameters by ref to const type instead of value.",
      "range": {
        "startLine": 86,
        "startChar": 18,
        "endLine": 86,
        "endChar": 19
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1f84af5_48950fb8",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 86,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "389ea9bf_dfdf83bf",
      "range": {
        "startLine": 86,
        "startChar": 18,
        "endLine": 86,
        "endChar": 19
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d29eb496_f51633e1",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "pass by ref to const",
      "range": {
        "startLine": 91,
        "startChar": 40,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d63edb07_f8882698",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d29eb496_f51633e1",
      "range": {
        "startLine": 91,
        "startChar": 40,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "317494ce_7b04ec88",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 99,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "this accessor and possibly other member functions in this class can be declared const.",
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b873543b_d6975ded",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 99,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "317494ce_7b04ec88",
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f38073d8_5b416360",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 129,
      "author": {
        "id": 1116033
      },
      "writtenOn": "2017-11-07T00:32:40Z",
      "side": 1,
      "message": "const base::FilePath?\n\nAlso, in the tests below, some of the local variables can be declared const.",
      "range": {
        "startLine": 129,
        "startChar": 17,
        "endLine": 129,
        "endChar": 26
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "207df5df_04895ef3",
        "filename": "components/optimization_guide/optimization_guide_service_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 129,
      "author": {
        "id": 1133190
      },
      "writtenOn": "2017-11-07T01:12:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f38073d8_5b416360",
      "range": {
        "startLine": 129,
        "startChar": 17,
        "endLine": 129,
        "endChar": 26
      },
      "revId": "6023a5ff0399cbf98395e5ebc23e940d37adf3ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}