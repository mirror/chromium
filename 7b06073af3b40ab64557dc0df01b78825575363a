{
  "comments": [
    {
      "key": {
        "uuid": "9b5f42e1_416b3136",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.cpp",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-06-28T09:51:56Z",
      "side": 1,
      "message": "Instead of holding Member\u003cHeapHashMap\u003e and Vector\u003cString\u003e, how about holding Vector\u003cHeapHashMap\u003e and Vector\u003cString\u003e?\n\nI\u0027m worried about holding Member\u003cHeapHashMap\u003e because someone may manipulate the entry while the iteration is running.",
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc5cfc9f_6b543ef7",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.cpp",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-06-28T14:52:34Z",
      "side": 1,
      "message": "Please correct me if I am mistaken; so do you want me to change Member\u003cHeapHashMap\u003e to Vector\u003cHeapHashMap\u003e? Not sure how they are compatible. Why changing `Member` to `Vector` is helpful here?",
      "parentUuid": "9b5f42e1_416b3136",
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23c11e0c_9715a004",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.cpp",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-06-28T20:14:40Z",
      "side": 1,
      "message": "Sorry, I meant Vector\u003cString\u003e and HeapVector\u003cMember\u003cAudioParam\u003e\u003e.\n\nTake a snapshot of both the keys and the values in the constructor of AudioParamMapIterationSource. Otherwise, the entry of the map may change while iterating...?",
      "parentUuid": "fc5cfc9f_6b543ef7",
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a0a2bea_f17a6e81",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1002172
      },
      "writtenOn": "2017-06-27T12:49:43Z",
      "side": 1,
      "message": "why are these two public methods needed?",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 33,
        "endChar": 70
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acc02ffe_7f964cd1",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-06-27T21:24:07Z",
      "side": 1,
      "message": "The customer of this class (AudioWorkletNode) will need these.",
      "parentUuid": "7a0a2bea_f17a6e81",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 33,
        "endChar": 70
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "152af9a2_9376379d",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1002172
      },
      "writtenOn": "2017-06-27T12:49:43Z",
      "side": 1,
      "message": "just in case, maplike is defined as an ordered list of keyâ€“value pairs in the spec (https://heycam.github.io/webidl/#idl-maplike). That means internal representation should be LinkedHashMap that WTF does not have. If this member will not be changed by anyone in Blink, this would be ok. But if someone could insert/erase elements, iteration order will be changed and it isn\u0027t the spec-ed behavior.\n\nI guess AudioNode creates AudioParamMap with pre-defined key set, and only values can be changed later, thus this just works.",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "952bef06_6aa947a3",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-06-27T21:24:07Z",
      "side": 1,
      "message": "Thanks for letting me know. Your assumptions is correct. This is a read-only data storage after its construction.",
      "parentUuid": "152af9a2_9376379d",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe0f9677_5e97ac10",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-06-28T04:21:54Z",
      "side": 1,
      "message": "Can we use HeapLinkedHashSet\u003cstd::pair\u003cString, Member\u003cAudioParam\u003e\u003e\u003e?",
      "parentUuid": "952bef06_6aa947a3",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0c75aad_0f1bb8c7",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1002172
      },
      "writtenOn": "2017-06-28T04:54:51Z",
      "side": 1,
      "message": "Since String can not be used for the key to find AudioParam, that would not be suitable?\nFYI, if architecture team can add LinkedHashMap, I will be another user in webmidi :)",
      "parentUuid": "fe0f9677_5e97ac10",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e773d6de_07f51b13",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-06-28T09:51:56Z",
      "side": 1,
      "message": "Agreed. Would you file a bug to implement LinkedHashMap?\n\nGiven that we already have LinkedHashSet, it wouldn\u0027t be that hard to implement LinkedHashMap.",
      "parentUuid": "c0c75aad_0f1bb8c7",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfd52f88_6a5232fb",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1002172
      },
      "writtenOn": "2017-06-28T10:42:36Z",
      "side": 1,
      "message": "Done! crbug.com/737522",
      "parentUuid": "e773d6de_07f51b13",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cdc9f49a_35d40724",
        "filename": "third_party/WebKit/Source/modules/webaudio/AudioParamMap.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1130280
      },
      "writtenOn": "2017-06-28T14:52:34Z",
      "side": 1,
      "message": "Thanks for the discussion. Looking forward to changing this to HeapLinkedHashMap.",
      "parentUuid": "bfd52f88_6a5232fb",
      "range": {
        "startLine": 46,
        "startChar": 8,
        "endLine": 46,
        "endChar": 19
      },
      "revId": "7b06073af3b40ab64557dc0df01b78825575363a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}