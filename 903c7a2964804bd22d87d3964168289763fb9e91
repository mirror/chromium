{
  "comments": [
    {
      "key": {
        "uuid": "6f4af062_40fda2fd",
        "filename": "ash/public/cpp/shelf_prefs.cc",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-08T00:32:57Z",
      "side": 1,
      "message": "Should we limit this to only the active displays?",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 5
      },
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32f1e298_23136819",
        "filename": "ash/public/cpp/shelf_prefs.cc",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2017-12-08T00:38:35Z",
      "side": 1,
      "message": "I\u0027m not sure. Mike?",
      "parentUuid": "6f4af062_40fda2fd",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 5
      },
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c98be71_46562cd0",
        "filename": "ash/public/cpp/shelf_prefs.cc",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-12-08T04:14:23Z",
      "side": 1,
      "message": "I think that decision is tangential to the fix here, and it\u0027s tough to actually decipher the intent of this logic: if the user has any per-display preference on any device (since we\u0027re checking the synced |path| values...) then prefer the default value, instead of the local pref\u0027s value??? I guess the idea is: \"if the user ever changed a shelf setting anywhere ever, then prefer to use the default value instead of the local value, if this specific display doesn\u0027t have a pref\". Perhaps I\u0027m mistaken, but it doesn\u0027t make a lot of sense...\n\nI\u0027d just as soon remove the |has_per_display_pref| logic, return the local value if it\u0027s recommended, and otherwise return the default value. That would seem to be a reasonable approximation of the logic here, I\u0027m not sure why we check for unrelated per-display prefs.\n\nAnyway, you can leave any changes to a separate CL",
      "parentUuid": "32f1e298_23136819",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 5
      },
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa6d1278_509aca44",
        "filename": "ash/public/cpp/shelf_prefs.cc",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-08T17:53:55Z",
      "side": 1,
      "message": "I discussed with Oshima-san, and he thinks that the intentional behavior is for first-time-connected displays, prefer the default setting (which is bottom alignment in this case) if the user has ever changed it anywhere for other displays (as long as the local value is not recommended by policy). So I\u0027m going to keep this part as is.",
      "parentUuid": "4c98be71_46562cd0",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 5
      },
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57c7f4c6_15e07d96",
        "filename": "ash/public/cpp/shelf_prefs.cc",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2017-12-08T00:38:35Z",
      "side": 1,
      "message": "aside: ugh, I wonder if there are other places that are assuming \u003c 0 is equivalent to invalid. :-(",
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31315144_97530dfd",
        "filename": "ash/public/cpp/shelf_prefs.cc",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-08T17:53:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "57c7f4c6_15e07d96",
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "29f11461_29951410",
        "filename": "ash/shelf/shelf_controller_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 305,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2017-12-08T00:38:35Z",
      "side": 1,
      "message": "Thank you for adding test coverage.",
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f63c175_9dd72774",
        "filename": "ash/shelf/shelf_controller_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 305,
      "author": {
        "id": 1125479
      },
      "writtenOn": "2017-12-08T17:53:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "29f11461_29951410",
      "revId": "903c7a2964804bd22d87d3964168289763fb9e91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}