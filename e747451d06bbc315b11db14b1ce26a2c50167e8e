{
  "comments": [
    {
      "key": {
        "uuid": "080af508_0595fc34",
        "filename": "chrome/browser/browser_process_platform_part_chromeos.h",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-08T00:43:12Z",
      "side": 1,
      "message": "Can you outline why this code lives here? AFAICT it doesn\u0027t relate to the rest of the code in this class and the implementation doesn\u0027t use anything in this class either.",
      "range": {
        "startLine": 121,
        "startChar": 7,
        "endLine": 121,
        "endChar": 36
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "029c1aa4_fa8053d8",
        "filename": "chrome/browser/browser_process_platform_part_chromeos.h",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-09T01:59:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "080af508_0595fc34",
      "range": {
        "startLine": 121,
        "startChar": 7,
        "endLine": 121,
        "endChar": 36
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adf7d472_bf675676",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-08T00:43:12Z",
      "side": 1,
      "message": "Please use more descriptive names for your functions. Also, add comments.",
      "range": {
        "startLine": 17,
        "startChar": 5,
        "endLine": 17,
        "endChar": 9
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74394a1b_46efc6e8",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-09T01:59:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "adf7d472_bf675676",
      "range": {
        "startLine": 17,
        "startChar": 5,
        "endLine": 17,
        "endChar": 9
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf87974b_5b975b9c",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-08T00:43:12Z",
      "side": 1,
      "message": "Why do you need for the flush to finish? Can\u0027t you execute them all at once?",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71f9bc9f_d81d735d",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-09T01:59:19Z",
      "side": 1,
      "message": "If IO load is high, it won\u0027t finish until Chrome is killed. So we want to start exit sequence only when preferences are saved.",
      "parentUuid": "bf87974b_5b975b9c",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fda03e64_663bda16",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-11T17:16:16Z",
      "side": 1,
      "message": "Understood. But can\u0027t you initiate all writes at once? I\u0027m suggesting you call CommitPendingWrite for all prefs at once rather than serially.",
      "parentUuid": "71f9bc9f_d81d735d",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f875935a_16a836ab",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2017-12-11T17:22:49Z",
      "side": 1,
      "message": "To commit all at once, we can use a BarrierClosure to wrap |on_finish| with a number N. BarrierClosure invoke |on_finsih| after it is called N times.",
      "parentUuid": "71f9bc9f_d81d735d",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16f19d3a_75d0abf3",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-12T03:05:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f875935a_16a836ab",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a78232c9_25896a11",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-08T00:43:12Z",
      "side": 1,
      "message": "The use of a callback here makes this code harder to follow? Why not move it all to application_lifetime_chromeos?",
      "range": {
        "startLine": 38,
        "startChar": 46,
        "endLine": 38,
        "endChar": 58
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7ea0499_eb74307f",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-09T01:59:19Z",
      "side": 1,
      "message": "This could be done in a separate CL, because I found that Chrome OS exit flow will still use some shared functions from anonymous namespace in application_lifetime.cc . It makes this refactoring a little bit more complicate than we want for this little fix ;)",
      "parentUuid": "a78232c9_25896a11",
      "range": {
        "startLine": 38,
        "startChar": 46,
        "endLine": 38,
        "endChar": 58
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "502279ce_300f4c2c",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-11T17:16:16Z",
      "side": 1,
      "message": "I would rather cleanup now and end up with easier to follow code rather than unnecessarily complex code.",
      "parentUuid": "e7ea0499_eb74307f",
      "range": {
        "startLine": 38,
        "startChar": 46,
        "endLine": 38,
        "endChar": 58
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3075881_7ce50aea",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-12T03:05:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "502279ce_300f4c2c",
      "range": {
        "startLine": 38,
        "startChar": 46,
        "endLine": 38,
        "endChar": 58
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98f1e7c0_46bc5da1",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.h",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-08T00:43:12Z",
      "side": 1,
      "message": "Generally namespaces are based on directory or file name. flush_on_exit is neither of these.",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 14,
        "endChar": 25
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f845704_41d24018",
        "filename": "chrome/browser/chromeos/profiles/commit_pending_write_on_exit.h",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-09T01:59:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98f1e7c0_46bc5da1",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 14,
        "endChar": 25
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70e290a8_10451c1f",
        "filename": "chrome/browser/lifetime/application_lifetime.cc",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-12-08T00:43:12Z",
      "side": 1,
      "message": "Can the chromeos specific parts be moved into their file? Perhaps application_lifetime_chromeos?",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 121,
        "endChar": 24
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52c49fb1_16a3ac3d",
        "filename": "chrome/browser/lifetime/application_lifetime.cc",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2017-12-09T01:59:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70e290a8_10451c1f",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 121,
        "endChar": 24
      },
      "revId": "e747451d06bbc315b11db14b1ce26a2c50167e8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}