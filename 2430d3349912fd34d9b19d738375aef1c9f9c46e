{
  "comments": [
    {
      "key": {
        "uuid": "c21af33f_12ddb1f2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Performance-wise, this CL makes CCT less janky during cold start, and has minimal impact on time to first paint, right?",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 15,
        "endChar": 9
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca859b5f_ab5ee265",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Yes, more or less.\n\nThe warmup() API in Custom Tabs currently posts a single long task, that can take 1.5s to complete when Chrome is in the background. If an application calls warmup() shortly before an intent is sent to Chrome, the intent processng is queued after all the rest of warmup().\n\nThe solution is to stop processing everything at once, and stop all warmup() tasks when we get the intent. I will try to add a perf test in a forthcoming CL to track that, but it\u0027s non-trivial unfortunately.\n\nIn the case where warmup() has enough time, this should not impact the overall time taken by warmup() beyong the overhead of posting a few tasks, which is negligible compared to 1.5s of CPU. Beyond that, no impact on startup time.\n\nCreating a bug to make that more explicit, and to keep the discussion around.\ncrbug.com/746936",
      "parentUuid": "c21af33f_12ddb1f2",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 15,
        "endChar": 9
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0290b55_9f24f28f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T17:36:16Z",
      "side": 1,
      "message": "Great explanation! These are too good to be buried in a review comment. Might be good to add some of these info to the commit message or bug.",
      "parentUuid": "ca859b5f_ab5ee265",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 15,
        "endChar": 9
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44ca81a9_cbe40be2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 319,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "nit: there seems to be a naming convention CustomTabsConnection.* here.",
      "range": {
        "startLine": 319,
        "startChar": 38,
        "endLine": 319,
        "endChar": 55
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1bb5d6e_08aba681",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 319,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "44ca81a9_cbe40be2",
      "range": {
        "startLine": 319,
        "startChar": 38,
        "endLine": 319,
        "endChar": 55
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31f1d69a_490dced5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "this used to be set at the end and now it is set early, is that an issue?",
      "range": {
        "startLine": 322,
        "startChar": 20,
        "endLine": 322,
        "endChar": 42
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f6b96b0_abea404b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "No, because it\u0027s only used to report a histogram, and this location suits the intended meaning.",
      "parentUuid": "31f1d69a_490dced5",
      "range": {
        "startLine": 322,
        "startChar": 20,
        "endLine": 322,
        "endChar": 42
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "181c6811_917962a2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 341,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "is mSpeculation only set as a result of the above?, I\u0027m wondering if we should not queue this task if we can check both of these beforehand.",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b56caf44_7a65ebb5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 341,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "That\u0027s right, thanks.\nDone.",
      "parentUuid": "181c6811_917962a2",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5561fe45_b027adfe",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 354,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "we\u0027ve deleted (1) and (2), so these are a bit out of place",
      "range": {
        "startLine": 354,
        "startChar": 25,
        "endLine": 354,
        "endChar": 26
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bda57b1c_5277a6c1",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 354,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5561fe45_b027adfe",
      "range": {
        "startLine": 354,
        "startChar": 25,
        "endLine": 354,
        "endChar": 26
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b8cb0a4_62cb5478",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 358,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Does it make sense to split (3) and (4) into two Runnables? I honestly don\u0027t know. With trace events, it should be possible to do some profiling.",
      "range": {
        "startLine": 358,
        "startChar": 23,
        "endLine": 358,
        "endChar": 26
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62440d05_f34784da",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 358,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "No, they are really short, only posting tasks. Confirmed with tracing.",
      "parentUuid": "6b8cb0a4_62cb5478",
      "range": {
        "startLine": 358,
        "startChar": 23,
        "endLine": 358,
        "endChar": 26
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2eee6bf5_dace2356",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "MOST IMPORTANT NIT EVER!!!!\n\nFor javadocs that don\u0027t all fit on a single line, I think\n\n/**\n * Stuff and things\n */\n\nLooks nicer.\n\nUnless it can be\n/** Stuff and things */",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "608946f8_b095af6e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Changed all comments to say \"Stuff and things\".\n\nDone",
      "parentUuid": "2eee6bf5_dace2356",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb767eaf_922ecdf8",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T17:36:16Z",
      "side": 1,
      "message": "lol",
      "parentUuid": "608946f8_b095af6e",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b112b28_730e1357",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "private?",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4894ba99_9d3f5f4e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Oops... Too much C++.\n\nDone.",
      "parentUuid": "6b112b28_730e1357",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01521fcc_22877e4c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "private, and not need for \u003d false since it is the default",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d747310c_816b3b6c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "01521fcc_22877e4c",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28bc0eb7_e707b0b9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Could you elaborate why this shouldn\u0027t be called from other threads when it\u0027s running? Is this about thread safety, and we don\u0027t want to pay the overhead of a thread-safe container?",
      "range": {
        "startLine": 32,
        "startChar": 46,
        "endLine": 33,
        "endChar": 36
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "176964be_c54dcec7",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "You meant start?",
      "range": {
        "startLine": 33,
        "startChar": 14,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78a4f712_a3de7076",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "No need for now, so I didn\u0027t want to add unnecessary synchronization.",
      "parentUuid": "28bc0eb7_e707b0b9",
      "range": {
        "startLine": 32,
        "startChar": 46,
        "endLine": 33,
        "endChar": 36
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e7898c3_f80040bf",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Thanks!\n\nDone.",
      "parentUuid": "176964be_c54dcec7",
      "range": {
        "startLine": 33,
        "startChar": 14,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbd30ab4_0024b83d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "is there a malicious case where you could call start, then cancel, then add?\n\nThe first start would add mRunAndPost to the handler queue, cancel would clear the tasks and mark it as not running, then add would add something to the queue.  At this point, mRunAndPost would be in the handler queue and would execute the task when it ran.\n\nI see two possible solutions.\n\n1.) Check mIsRunning in mRunAndPost\n2.) Add a method to ThreadUtils that is removeCallback, that would allow you to remove mRunAndPost from the handler queue.\n\nI\u0027d personally like #2 only because I had a temp patch that added something like it but I hadn\u0027t sent it for review, so you\u0027d be doing work for me :-P.",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23ec6645_cbc40078",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "I have a third solution :-)\n\nTo avoid adding dead code, what about restricting this class to be one-shot? Create the tasks, start, and maybe cancel. Once it has been started, you cannot start again.\n\nI can do the removeCallback() later as well though.",
      "parentUuid": "cbd30ab4_0024b83d",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25fa53ab_5005d8d2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "singl[e]",
      "range": {
        "startLine": 52,
        "startChar": 70,
        "endLine": 52,
        "endChar": 75
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8965313_7f6516f1",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25fa53ab_5005d8d2",
      "range": {
        "startLine": 52,
        "startChar": 70,
        "endLine": 52,
        "endChar": 75
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d29fad17_eed2e31c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "should this runOnUiThreadBlocking?",
      "range": {
        "startLine": 58,
        "startChar": 24,
        "endLine": 58,
        "endChar": 37
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb625dc3_105e3d9d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Actually, the intent was to not block the thread, unless we already are on the UI thread.\nThe parameter name is a bit misleading though in this context, perhaps coalesceTasks would be better?\n\nRight now this is not used, but I was planning to use that to remove a thread hop in Custom Tabs.",
      "parentUuid": "d29fad17_eed2e31c",
      "range": {
        "startLine": 58,
        "startChar": 24,
        "endLine": 58,
        "endChar": 37
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21bb1498_0737f42e",
        "filename": "chrome/android/java_sources.gni",
        "patchSetId": 4
      },
      "lineNbr": 1436,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Is it possible to move this to chrome_junit_tests? Robolectric tests are much faster and can be run on desktop.",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4048f99_568b7375",
        "filename": "chrome/android/java_sources.gni",
        "patchSetId": 4
      },
      "lineNbr": 1436,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T17:36:16Z",
      "side": 1,
      "message": "I think ChainedTasks might be self-contained enough to be in a unittest, so that we don\u0027t have to run it on device.",
      "parentUuid": "21bb1498_0737f42e",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "524fe7bf_89eb2dfc",
        "filename": "chrome/android/java_sources.gni",
        "patchSetId": 4
      },
      "lineNbr": 1436,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T18:51:05Z",
      "side": 1,
      "message": "Oops, forgot to reply to this comment.\n\nI tried, but the unittest run on the UI thread according to ThreadUtils, so the tests deadlock. Since we want to run several tasks on the same thread on which the tests are running, it makes posting tasks hard.\nSo it seems actually better to keep it as an instrumentation test.\nwdyt?",
      "parentUuid": "c4048f99_568b7375",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "447469ed_1800b579",
        "filename": "chrome/android/java_sources.gni",
        "patchSetId": 4
      },
      "lineNbr": 1436,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T21:42:24Z",
      "side": 1,
      "message": "Right. Robolectric is not great for threaded tests. Guess we have to run it on device then.",
      "parentUuid": "524fe7bf_89eb2dfc",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc777c54_1602b832",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/customtabs/CustomTabsConnectionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Is assertWarmupAndMayLaunchUrl(token, URL, false) too slow and makes it flaky?",
      "range": {
        "startLine": 516,
        "startChar": 8,
        "endLine": 516,
        "endChar": 98
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a2ee9a8_4ef038a2",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/customtabs/CustomTabsConnectionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Yes, because now warmUpAndWait() waits long enough to wait longer than the throttling limit.\nAdded a comment.\n\nDone.",
      "parentUuid": "cc777c54_1602b832",
      "range": {
        "startLine": 516,
        "startChar": 8,
        "endLine": 516,
        "endChar": 98
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1321d2e_40078e73",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/customtabs/CustomTabsConnectionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 548,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "ditto. I don\u0027t understand why this change is necessary.",
      "range": {
        "startLine": 548,
        "startChar": 8,
        "endLine": 548,
        "endChar": 99
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce55c762_29543edb",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/customtabs/CustomTabsConnectionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 548,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Same. I didn\u0027t add a comment here because the code is also clearer this way.",
      "parentUuid": "a1321d2e_40078e73",
      "range": {
        "startLine": 548,
        "startChar": 8,
        "endLine": 548,
        "endChar": 99
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7ca7dc6_4ce54a2c",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Should we add another testSyncTasks variant that runs tasks.start() on a non-UI thread? I think this should catch the issue Ted mentioned in https://chromium-review.googlesource.com/c/567188/4/chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java#58.",
      "range": {
        "startLine": 44,
        "startChar": 16,
        "endLine": 44,
        "endChar": 29
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06ea1381_70e143b7",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T17:36:16Z",
      "side": 1,
      "message": "One more test would also better document why it\u0027s runOnUiThread rather than runOnUiThreadBlocking in the implementation.",
      "parentUuid": "e7ca7dc6_4ce54a2c",
      "range": {
        "startLine": 44,
        "startChar": 16,
        "endLine": 44,
        "endChar": 29
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1843d554_92f3f21d",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "nit: we could extract the timeout threshold as a class constant.",
      "range": {
        "startLine": 83,
        "startChar": 46,
        "endLine": 83,
        "endChar": 50
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2650a139_d804c85b",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1843d554_92f3f21d",
      "range": {
        "startLine": 83,
        "startChar": 46,
        "endLine": 83,
        "endChar": 50
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdf5a2cb_27048d00",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Should we use a |finished| semaphore in this test? Otherwise this function might return prematurely.",
      "range": {
        "startLine": 160,
        "startChar": 16,
        "endLine": 160,
        "endChar": 38
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61af9985_4a93cb07",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2017-07-20T16:46:52Z",
      "side": 1,
      "message": "This test is only about threading restrictions, there is testCanCancel() above that checks that cancel() works. That\u0027s why the tasks are not checked.",
      "parentUuid": "bdf5a2cb_27048d00",
      "range": {
        "startLine": 160,
        "startChar": 16,
        "endLine": 160,
        "endChar": 38
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d99109f2_09af6edf",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T17:36:16Z",
      "side": 1,
      "message": "If we only want to test the threading restriction, we don\u0027t need to add any tasks, right? We can directly call start() and then cancel(). There\u0027s no guarantee the Runnable() with cancelCalled.acquire() would be run before the end of this test, so the result would be flaky if it were to fail.",
      "parentUuid": "61af9985_4a93cb07",
      "range": {
        "startLine": 160,
        "startChar": 16,
        "endLine": 160,
        "endChar": 38
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46a66fc6_db6e47b8",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 188,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Assert.assertEquals(expectedMessages, messages) is missing. Maybe this is why premature return didn\u0027t cause test failure.",
      "range": {
        "startLine": 188,
        "startChar": 8,
        "endLine": 188,
        "endChar": 9
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}