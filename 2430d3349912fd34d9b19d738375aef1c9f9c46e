{
  "comments": [
    {
      "key": {
        "uuid": "c21af33f_12ddb1f2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Performance-wise, this CL makes CCT less janky during cold start, and has minimal impact on time to first paint, right?",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 15,
        "endChar": 9
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44ca81a9_cbe40be2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 319,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "nit: there seems to be a naming convention CustomTabsConnection.* here.",
      "range": {
        "startLine": 319,
        "startChar": 38,
        "endLine": 319,
        "endChar": 55
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31f1d69a_490dced5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "this used to be set at the end and now it is set early, is that an issue?",
      "range": {
        "startLine": 322,
        "startChar": 20,
        "endLine": 322,
        "endChar": 42
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "181c6811_917962a2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 341,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "is mSpeculation only set as a result of the above?, I\u0027m wondering if we should not queue this task if we can check both of these beforehand.",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5561fe45_b027adfe",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 354,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "we\u0027ve deleted (1) and (2), so these are a bit out of place",
      "range": {
        "startLine": 354,
        "startChar": 25,
        "endLine": 354,
        "endChar": 26
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b8cb0a4_62cb5478",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/customtabs/CustomTabsConnection.java",
        "patchSetId": 4
      },
      "lineNbr": 358,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Does it make sense to split (3) and (4) into two Runnables? I honestly don\u0027t know. With trace events, it should be possible to do some profiling.",
      "range": {
        "startLine": 358,
        "startChar": 23,
        "endLine": 358,
        "endChar": 26
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2eee6bf5_dace2356",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "MOST IMPORTANT NIT EVER!!!!\n\nFor javadocs that don\u0027t all fit on a single line, I think\n\n/**\n * Stuff and things\n */\n\nLooks nicer.\n\nUnless it can be\n/** Stuff and things */",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b112b28_730e1357",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "private?",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01521fcc_22877e4c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "private, and not need for \u003d false since it is the default",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28bc0eb7_e707b0b9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Could you elaborate why this shouldn\u0027t be called from other threads when it\u0027s running? Is this about thread safety, and we don\u0027t want to pay the overhead of a thread-safe container?",
      "range": {
        "startLine": 32,
        "startChar": 46,
        "endLine": 33,
        "endChar": 36
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "176964be_c54dcec7",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "You meant start?",
      "range": {
        "startLine": 33,
        "startChar": 14,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbd30ab4_0024b83d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "is there a malicious case where you could call start, then cancel, then add?\n\nThe first start would add mRunAndPost to the handler queue, cancel would clear the tasks and mark it as not running, then add would add something to the queue.  At this point, mRunAndPost would be in the handler queue and would execute the task when it ran.\n\nI see two possible solutions.\n\n1.) Check mIsRunning in mRunAndPost\n2.) Add a method to ThreadUtils that is removeCallback, that would allow you to remove mRunAndPost from the handler queue.\n\nI\u0027d personally like #2 only because I had a temp patch that added something like it but I hadn\u0027t sent it for review, so you\u0027d be doing work for me :-P.",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25fa53ab_5005d8d2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "singl[e]",
      "range": {
        "startLine": 52,
        "startChar": 70,
        "endLine": 52,
        "endChar": 75
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d29fad17_eed2e31c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-07-20T00:23:30Z",
      "side": 1,
      "message": "should this runOnUiThreadBlocking?",
      "range": {
        "startLine": 58,
        "startChar": 24,
        "endLine": 58,
        "endChar": 37
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21bb1498_0737f42e",
        "filename": "chrome/android/java_sources.gni",
        "patchSetId": 4
      },
      "lineNbr": 1436,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Is it possible to move this to chrome_junit_tests? Robolectric tests are much faster and can be run on desktop.",
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc777c54_1602b832",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/customtabs/CustomTabsConnectionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Is assertWarmupAndMayLaunchUrl(token, URL, false) too slow and makes it flaky?",
      "range": {
        "startLine": 516,
        "startChar": 8,
        "endLine": 516,
        "endChar": 98
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1321d2e_40078e73",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/customtabs/CustomTabsConnectionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 548,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "ditto. I don\u0027t understand why this change is necessary.",
      "range": {
        "startLine": 548,
        "startChar": 8,
        "endLine": 548,
        "endChar": 99
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7ca7dc6_4ce54a2c",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Should we add another testSyncTasks variant that runs tasks.start() on a non-UI thread? I think this should catch the issue Ted mentioned in https://chromium-review.googlesource.com/c/567188/4/chrome/android/java/src/org/chromium/chrome/browser/init/ChainedTasks.java#58.",
      "range": {
        "startLine": 44,
        "startChar": 16,
        "endLine": 44,
        "endChar": 29
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1843d554_92f3f21d",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "nit: we could extract the timeout threshold as a class constant.",
      "range": {
        "startLine": 83,
        "startChar": 46,
        "endLine": 83,
        "endChar": 50
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdf5a2cb_27048d00",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Should we use a |finished| semaphore in this test? Otherwise this function might return prematurely.",
      "range": {
        "startLine": 160,
        "startChar": 16,
        "endLine": 160,
        "endChar": 38
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46a66fc6_db6e47b8",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/init/ChainedTasksTest.java",
        "patchSetId": 4
      },
      "lineNbr": 188,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-07-20T08:12:02Z",
      "side": 1,
      "message": "Assert.assertEquals(expectedMessages, messages) is missing. Maybe this is why premature return didn\u0027t cause test failure.",
      "range": {
        "startLine": 188,
        "startChar": 8,
        "endLine": 188,
        "endChar": 9
      },
      "revId": "2430d3349912fd34d9b19d738375aef1c9f9c46e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}