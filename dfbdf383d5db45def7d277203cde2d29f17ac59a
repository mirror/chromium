{
  "comments": [
    {
      "key": {
        "uuid": "033d4bcd_be687b80",
        "filename": "android_webview/browser/aw_contents_client_bridge.cc",
        "patchSetId": 6
      },
      "lineNbr": 470,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "remove, unnecessary comment",
      "range": {
        "startLine": 470,
        "startChar": 9,
        "endLine": 470,
        "endChar": 14
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28941289_516fbfa5",
        "filename": "android_webview/browser/aw_contents_client_bridge.cc",
        "patchSetId": 6
      },
      "lineNbr": 470,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Ah, thanks. Leftover from debugging",
      "parentUuid": "033d4bcd_be687b80",
      "range": {
        "startLine": 470,
        "startChar": 9,
        "endLine": 470,
        "endChar": 14
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fc5f54f_94da95ec",
        "filename": "android_webview/browser/aw_contents_client_bridge.cc",
        "patchSetId": 6
      },
      "lineNbr": 470,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T22:02:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28941289_516fbfa5",
      "range": {
        "startLine": 470,
        "startChar": 9,
        "endLine": 470,
        "endChar": 14
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6629ae30_d35fa2ab",
        "filename": "android_webview/browser/aw_contents_client_bridge.cc",
        "patchSetId": 6
      },
      "lineNbr": 475,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "remove",
      "range": {
        "startLine": 475,
        "startChar": 9,
        "endLine": 475,
        "endChar": 12
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "509ada25_f22bc46c",
        "filename": "android_webview/browser/aw_contents_client_bridge.cc",
        "patchSetId": 6
      },
      "lineNbr": 475,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6629ae30_d35fa2ab",
      "range": {
        "startLine": 475,
        "startChar": 9,
        "endLine": 475,
        "endChar": 12
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d67157fd_36118025",
        "filename": "android_webview/browser/aw_contents_client_bridge.cc",
        "patchSetId": 6
      },
      "lineNbr": 475,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T22:02:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "509ada25_f22bc46c",
      "range": {
        "startLine": 475,
        "startChar": 9,
        "endLine": 475,
        "endChar": 12
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b63a6fe_0a9bd92f",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "it looks like having \"report\" as a separate flag is cleaner from API perspective. This unnecessarily expands the action space. \n\nThis also makes me think that the API design for returning an integer in a callback is not the best choice for this API. An interstitial is a user facing surface. This API carries the information that the interstitial can carry, which, in this case the user actions and the reporting flag. However, user facing surfaces change often. Therefore, the API has to be easier to modify in future. \n\nAndroid APIs use abstract classes for these cases. So the API should be similar to the earlier case. Looking at the old design, I also realize that there was an option for the application to be able to whitelist the URL, which would be great if we can add:\n\npublic abstract class Foo {\n\n     cancel();\n     showInterstitial(boolean report)\n     proceed(boolean report, boolean whitelist)\n}",
      "range": {
        "startLine": 25,
        "startChar": 2,
        "endLine": 29,
        "endChar": 68
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "586231d5_c3ecd914",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "\u003e it looks like having \"report\" as a separate flag is cleaner from API perspective. This unnecessarily expands the action space. \n\nYes, I agree.\n\n\u003e application to be able to whitelist the URL\n\nThe code automatically whitelists the url if the user proceeds. This is nice if the user clicks www.evil.com/, proceeds through interstitial, and then clicks on links to www.evil.com/foo, www.evil.com/bar, etc.\n\nRemoving the automatic whitelisting will take some refactoring work, and I didn\u0027t see a strong incentive why the app would want domains not whitelisted. If there is strong incentive, I would suggest we add the API now, and implement the behavior as a bug fix.\n\n\u003e cancel();\n\n\"Back to safety\" also generates extended reporting. So we\u0027ll need to extend this too.\n\n\u003e showInterstitial(boolean report)\n\nWould it be appropriate to change this to \"boolean showReportingCheckbox\" or maybe \"allowReporting\"?",
      "parentUuid": "2b63a6fe_0a9bd92f",
      "range": {
        "startLine": 25,
        "startChar": 2,
        "endLine": 29,
        "endChar": 68
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e413832e_62c5a01c",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T21:19:52Z",
      "side": 1,
      "message": "we don\u0027t have to do whitelist piece if it needs refactoring. In future, if a demand comes, we can add an api to do that easily to class.\n\nboolean allowReporting seems ok.",
      "parentUuid": "586231d5_c3ecd914",
      "range": {
        "startLine": 25,
        "startChar": 2,
        "endLine": 29,
        "endChar": 68
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75ca586b_385f0b7d",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "change these to no_report suffix to be compatible with the top one.",
      "range": {
        "startLine": 33,
        "startChar": 3,
        "endLine": 35,
        "endChar": 79
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ece9f6f_b1482fbe",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "75ca586b_385f0b7d",
      "range": {
        "startLine": 33,
        "startChar": 3,
        "endLine": 35,
        "endChar": 79
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "398a4b78_867682d7",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 41,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "nit: Uws -\u003e don\u0027t use abbreviations that most people are not familiar with.",
      "range": {
        "startLine": 41,
        "startChar": 6,
        "endLine": 41,
        "endChar": 54
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19cb2fe7_623c637f",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 41,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "398a4b78_867682d7",
      "range": {
        "startLine": 41,
        "startChar": 6,
        "endLine": 41,
        "endChar": 54
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0f09fcc_8a27a341",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 41,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T22:02:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19cb2fe7_623c637f",
      "range": {
        "startLine": 41,
        "startChar": 6,
        "endLine": 41,
        "endChar": 54
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0c63470_e71a341a",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "move default to the bottom. default should be an error I think.",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 19
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b01d0aa_4597a098",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "SGTM",
      "parentUuid": "e0c63470_e71a341a",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 19
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2462a13_f1552678",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T22:02:58Z",
      "side": 1,
      "message": "Done. I think this section will become irrelevant once we change the API anyway.",
      "parentUuid": "9b01d0aa_4597a098",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 19
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a2e7efc_c6d3e9a8",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "don\u0027t leave commented out code even if you plan to enable in the future. You can file a bug and TODO. \n\nIn this case, it is ok to comment these in, I think?",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 60
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ddc1467_759d85e2",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3a2e7efc_c6d3e9a8",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 60
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "659545f9_f4d218a7",
        "filename": "android_webview/java/src/org/chromium/android_webview/AwSafeBrowsingConversionHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T22:02:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6ddc1467_759d85e2",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 60
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd663321_77ee2df9",
        "filename": "android_webview/javatests/src/org/chromium/android_webview/test/SafeBrowsingTest.java",
        "patchSetId": 6
      },
      "lineNbr": 620,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "is this test really different from testsafebrowsingshowsinterstitialformainframe?",
      "range": {
        "startLine": 620,
        "startChar": 16,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb0d84b4_bc5aad37",
        "filename": "android_webview/javatests/src/org/chromium/android_webview/test/SafeBrowsingTest.java",
        "patchSetId": 6
      },
      "lineNbr": 620,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Intentionally the same. This explicitly sets SHOW_INTERSTITIAL, instead of relying on the default, since an app may explicitly return this value. We can reduce duplication by invoking testsafebrowsingshowsinterstitialformainframe() here, or moving the body to a helper method.",
      "parentUuid": "dd663321_77ee2df9",
      "range": {
        "startLine": 620,
        "startChar": 16,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "020cf619_ae3d1c8c",
        "filename": "android_webview/javatests/src/org/chromium/android_webview/test/SafeBrowsingTest.java",
        "patchSetId": 6
      },
      "lineNbr": 692,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "I am imagining this test and \"back to safety\" or don\u0027t proceed kind of tests can share code as the main difference is one setting the action through interstitial",
      "range": {
        "startLine": 692,
        "startChar": 0,
        "endLine": 692,
        "endChar": 84
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e300114_54eafc4b",
        "filename": "android_webview/javatests/src/org/chromium/android_webview/test/SafeBrowsingTest.java",
        "patchSetId": 6
      },
      "lineNbr": 692,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "A little different, because these tests will wait for the interstitial to load, and then call \"dontproceed.\" There is some duplication in test setup and in the asserts/validation, and it would be good to minimize this. I sent you http://crrev/c/556308 for this refactor.",
      "parentUuid": "020cf619_ae3d1c8c",
      "range": {
        "startLine": 692,
        "startChar": 0,
        "endLine": 692,
        "endChar": 84
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc3875a4_57d4c6ab",
        "filename": "components/safe_browsing_db/BUILD.gn",
        "patchSetId": 6
      },
      "lineNbr": 278,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-06-29T18:23:16Z",
      "side": 1,
      "message": "does not look like the right place. The added thread values for Java is only for webview. we need to generate it in Aw I think.",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 278,
        "endChar": 2
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9000846_77c5aa44",
        "filename": "components/safe_browsing_db/BUILD.gn",
        "patchSetId": 6
      },
      "lineNbr": 278,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T21:13:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bc3875a4_57d4c6ab",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 278,
        "endChar": 2
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0aa0a576_47c89d17",
        "filename": "components/safe_browsing_db/BUILD.gn",
        "patchSetId": 6
      },
      "lineNbr": 278,
      "author": {
        "id": 1167294
      },
      "writtenOn": "2017-06-29T22:02:58Z",
      "side": 1,
      "message": "I\u0027m not sure how to implement this. My approach was:\n\n// inside aw_safe_browsing_resource_throttle.h\nenum class SBThreatType {\n  MALWARE \u003d safe_browsing::SB_THREAT_TYPE_URL_MALWARE,\n  // PHISHING, UNWANTED, etc.\n}\n\nThis gives me an error when generating Java. The python script translates this to \"int MALWARE \u003d safe_browsing::SB_THREAT_TYPE_URL_MALWARE;\", instead of figuring out SB_THREAT_URL_MALWARE\u0027s value.\n\nIs there an easy workaround?",
      "parentUuid": "d9000846_77c5aa44",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 278,
        "endChar": 2
      },
      "revId": "dfbdf383d5db45def7d277203cde2d29f17ac59a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}