{
  "comments": [
    {
      "key": {
        "uuid": "49c554c0_8295ca67",
        "filename": "components/omnibox/browser/autocomplete_input.cc",
        "patchSetId": 6
      },
      "lineNbr": 147,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2018-02-08T00:13:23Z",
      "side": 1,
      "message": "I looked into these conditions more to try and determine if/how to handle the case of \"parses as URL but fails these conditions\".\n\nAssuming the input parses as URL or UNKNOWN, canonicalized_url.is_valid() is guaranteed to be true (by https://cs.chromium.org/chromium/src/components/omnibox/browser/autocomplete_input.cc?l\u003d218 ).\n\nWhen canonicalized_url is valid, then either !IsStandard() or !host().empty(), since valid standard URLs must have non-empty hosts (by https://cs.chromium.org/chromium/src/url/url_canon_stdurl.cc?rcl\u003d90e82f0da0e2ad124e1b969b7bcaf2260b2de21f\u0026l\u003d50 ).\n\nTherefore, after we do the type check, all the other conditions in this conditional are guaranteed to hold.\n\nSo we could rewrite the whole thing as:\n\n  if ((type_ \u003d\u003d metrics::OmniboxInputType::URL) ||\n      ((type_ \u003d\u003d metrics::OmniboxInputType::UNKNOWN) \u0026\u0026\n       !net::registry_controlled_domains::IsRegistry(...)))\n    canonicalized_url_ \u003d canonicalized_url;",
      "revId": "70a2c4f390db45650e4cd94e750e947a194e6a06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}