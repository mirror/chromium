{
  "comments": [
    {
      "key": {
        "uuid": "f395b4cd_034ddf20",
        "filename": "chrome/installer/linux/BUILD.gn",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-08-30T06:34:12Z",
      "side": 1,
      "message": "Do Chromium branded official builds work at all? I\u0027m not sure if anyone is using that or not.",
      "revId": "a2d91f7abd56e979225f2a29f35e7023e7bf73c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27281cbd_e39ec4a2",
        "filename": "chrome/installer/linux/BUILD.gn",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1166470
      },
      "writtenOn": "2017-08-30T22:03:57Z",
      "side": 1,
      "message": "\u003e Do Chromium branded official builds work at all?\n\nYes they do.  I was just able to build chromium-browser*.deb with a hack to include this file in the build (normally the targets are inaccessible because this file is unreferenced when is_chrome_branded\u003dfalse).\n\nThat sort of begs the question: how come the condition to build the installers is is_chrome_branded and not !is_component_build?  I think the answer is: we don\u0027t want the packages getting included in the gn \"all\" target on every run of linux_chromium*rel_ng.  I think this suggests what we really want is an enable_linux_packages gn argument. wdyt?\n\n\u003e I\u0027m not sure if anyone is using that or not.",
      "parentUuid": "f395b4cd_034ddf20",
      "revId": "a2d91f7abd56e979225f2a29f35e7023e7bf73c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6f042b6_62b19b82",
        "filename": "chrome/installer/linux/BUILD.gn",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1166470
      },
      "writtenOn": "2017-08-31T00:07:49Z",
      "side": 1,
      "message": "Huh, wait I think the bots actually *don\u0027t* build \"all\".  I\u0027ll test removing the is_chrome_branded check and see if the bots are still green in this cl:\nhttps://chromium-review.googlesource.com/c/chromium/src/+/636769",
      "parentUuid": "27281cbd_e39ec4a2",
      "revId": "a2d91f7abd56e979225f2a29f35e7023e7bf73c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e43ddf5_85b3500e",
        "filename": "chrome/installer/linux/BUILD.gn",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1166470
      },
      "writtenOn": "2017-08-31T01:11:28Z",
      "side": 1,
      "message": "Ok, turns out the bots do build \"all\", but analyze pruned it down to just a few targets on the CL that I was testing on.\n\nAaaand, when I remove the is_chrome_branded check, the deb packages get built on linux_chromium_rel_ng which complains about DEPS changes.\n\nI have a plan to fix all the things:\n* I spoke with dpranke@ offline and we decided it would be good to have the linux packages get built on the bots.  However, the problem is they take too long to build.  I found out that this was because we were always passing -z9 to dpkg-deb.  When using -z0, the packages get built in a few seconds.  We should use -z0 when is_official_build\u003dfalse.  The is_official_build flag has nothing to do with branding, but is just an added level of optimization on top of Release: https://cs.chromium.org/chromium/src/build/config/BUILDCONFIG.gn?rcl\u003dd96af20ab51519c4b335c1486f4d73eb36472361\u0026l\u003d126\n* Find out why the packages never get built in parallel and fix it.. This will make the package builds even faster on Debug and Release (non-official) builds\n* Finish implementing the RPM dep checker\n* Remove the current package dep checks for deb and rpm, and make the linux packages depend on \"check_package_dependencies\".  Add //chrome/installer/linux to gn_all.  This will all need to be done in the same CL to avoid the \"ERROR: Shared library dependencies changed!\" failure if it wasn\u0027t.\n\nBut for now, I think it\u0027s safe to land this CL as-is.",
      "parentUuid": "c6f042b6_62b19b82",
      "revId": "a2d91f7abd56e979225f2a29f35e7023e7bf73c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}