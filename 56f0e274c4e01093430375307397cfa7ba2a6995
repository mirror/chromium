{
  "comments": [
    {
      "key": {
        "uuid": "c4e08842_9085936e",
        "filename": "chrome/browser/offline_pages/background_loader_offliner.cc",
        "patchSetId": 3
      },
      "lineNbr": 443,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-24T21:37:08Z",
      "side": 1,
      "message": "It actually might be DELETE_AFTER_SAVE etc. I wonder why we need this now and didn\u0027t need this before? I think SnapshotController guarantees no another call to StartSnapshot before Reset or  PendingSnapshotCompleted returned by client?",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51bb1b40_8dd8f03e",
        "filename": "chrome/browser/offline_pages/background_loader_offliner.cc",
        "patchSetId": 3
      },
      "lineNbr": 443,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-27T22:35:32Z",
      "side": 1,
      "message": "This is still unresolved...",
      "parentUuid": "c4e08842_9085936e",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c9c14f7_98f3a43f",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-24T21:37:08Z",
      "side": 1,
      "message": "Do we want a finch variable right away then? Along the lines of: https://cs.chromium.org/chromium/src/components/variations/variations_associated_data.h\n\nAlso, it seems for most pages (if they have less than 33 images total) this is equivalent to \"want 100% of images\". Should we rather wait for all images, or n-1? It seems a float proportion would means really different things for pages with a few or a lot of images...",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31db1cd1_54c2e85e",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-25T17:21:02Z",
      "side": 1,
      "message": "I\u0027m not sure the algorithm is right.  I want to experiment with both a \"n-1\" and a \"percentage\" algorithm.  I envision two finch variables, one to switch between algorithms, and a second for the threshold.  (I plan both for another changelist)",
      "parentUuid": "8c9c14f7_98f3a43f",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df1fb63b_876ab4d6",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-27T22:35:32Z",
      "side": 1,
      "message": "If that\u0027s the plan, then why not just avoid complexity and wait for all images? I believe the way RequestCoordinator works, the last attempt will make snapshot even if the SnapshotControlled did not signal the completion, so if we simply wait for all images and not getting some, timeouts and attempt counters will work as expected.",
      "parentUuid": "31db1cd1_54c2e85e",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23b66433_691f3ade",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-24T21:37:08Z",
      "side": 1,
      "message": "It is going to be much harder to read the code if we add all these boolean flags, for couple of reasons:\n- this duplicates, somewhat, the state_ and current_page_quality_.\n- the flags may be set not in the (assumed?) sequence from low-\u003ehigh, creating a lot of weird states and possible bugs.",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "418991c3_166a0670",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-25T17:21:02Z",
      "side": 1,
      "message": "OK, moved back to an enum.  I found the boolean flags easier to understand, which is why I switched.",
      "parentUuid": "23b66433_691f3ade",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9224fd69_d231da2c",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 211,
      "author": {
        "id": 1115887
      },
      "writtenOn": "2017-10-24T21:37:08Z",
      "side": 1,
      "message": "the condition does not match the comment",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c0992f9_c968293f",
        "filename": "components/offline_pages/core/snapshot_controller.cc",
        "patchSetId": 3
      },
      "lineNbr": 211,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-25T17:21:02Z",
      "side": 1,
      "message": "Changed the code back to match the comment.",
      "parentUuid": "9224fd69_d231da2c",
      "revId": "56f0e274c4e01093430375307397cfa7ba2a6995",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}