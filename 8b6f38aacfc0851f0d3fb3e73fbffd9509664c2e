{
  "comments": [
    {
      "key": {
        "uuid": "666685e1_a5b0373e",
        "filename": "media/audio/win/audio_low_latency_output_win.cc",
        "patchSetId": 2
      },
      "lineNbr": 255,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2018-01-19T08:35:01Z",
      "side": 1,
      "message": "I suggest comment that the recovery is a workaround for a Windows issue (iiuc).",
      "revId": "8b6f38aacfc0851f0d3fb3e73fbffd9509664c2e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9869bc77_d33d12bf",
        "filename": "media/audio/win/audio_low_latency_output_win.cc",
        "patchSetId": 2
      },
      "lineNbr": 255,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2018-01-22T10:11:16Z",
      "side": 1,
      "message": "OK, so this is not a workaround, but expected to happen. Seems like a big hammer to reopen whatever the error was. What if we mask some bug in say FillRenderEndpointBufferWithSilence() that doesn\u0027t reappear if reopening? Since the OS will give an AUDCLNT_E_DEVICE_INVALIDATED error, I suggest checking for that.",
      "parentUuid": "666685e1_a5b0373e",
      "revId": "8b6f38aacfc0851f0d3fb3e73fbffd9509664c2e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d2a8d18_0e18da36",
        "filename": "media/audio/win/audio_low_latency_output_win.cc",
        "patchSetId": 2
      },
      "lineNbr": 255,
      "author": {
        "id": 1001148
      },
      "writtenOn": "2018-01-22T10:18:40Z",
      "side": 1,
      "message": "Since this is a single retry and not retrying in a loop, I\u0027m fine with this approach instead of checking for only the \u0027device invalidated\u0027 error. My gut feeling is that it\u0027s more likely that we could get a generic error constant in some cases (e.g. if 3rd party components are in the picture) that are recoverable with a retry than to mask an error in FillRenderEndpointBufferWithSilence that we must not attempt to recover from.",
      "parentUuid": "9869bc77_d33d12bf",
      "revId": "8b6f38aacfc0851f0d3fb3e73fbffd9509664c2e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca9209df_b82a8e0a",
        "filename": "media/audio/win/audio_low_latency_output_win.cc",
        "patchSetId": 2
      },
      "lineNbr": 255,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2018-01-22T19:41:49Z",
      "side": 1,
      "message": "Yes, my thinking is inline with Tommi\u0027s. It\u0027s further supported by reports from YouTube that they have nearly 50% success rates with simply retrying when they detect playback errors (of which audio renderer error is the most common). I\u0027ve expanded the comment to explain this.\n\nIt\u0027s possible we mask something, but since we\u0027re just calling Open() again without changing any parameters, we\u0027re unlikely to get a different answer in the event of programmer error. So the chances we mask an error where _we\u0027re_ the ones in the wrong, seems pretty low.",
      "parentUuid": "0d2a8d18_0e18da36",
      "revId": "8b6f38aacfc0851f0d3fb3e73fbffd9509664c2e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7c8f9d4_0137c7ea",
        "filename": "media/audio/win/core_audio_util_win.cc",
        "patchSetId": 2
      },
      "lineNbr": 904,
      "author": {
        "id": 1002285
      },
      "writtenOn": "2018-01-19T08:35:01Z",
      "side": 1,
      "message": "PLOG inserts \": \". Remove.",
      "revId": "8b6f38aacfc0851f0d3fb3e73fbffd9509664c2e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5507051f_e0be6451",
        "filename": "media/audio/win/core_audio_util_win.cc",
        "patchSetId": 2
      },
      "lineNbr": 904,
      "author": {
        "id": 1001250
      },
      "writtenOn": "2018-01-22T19:42:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7c8f9d4_0137c7ea",
      "revId": "8b6f38aacfc0851f0d3fb3e73fbffd9509664c2e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}