{
  "comments": [
    {
      "key": {
        "uuid": "621570eb_89e2c812",
        "filename": "chrome/browser/ui/webui/help/version_updater_win.cc",
        "patchSetId": 6
      },
      "lineNbr": 116,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-06-29T09:20:28Z",
      "side": 1,
      "message": "this will create a new task runner each time chrome://help is refreshed. i\u0027m not sure if this is a good thing or a bad thing. could you check with one of the task scheduler folks (gab, fdoray, robliao, etc) to see if this means a new thread is created for each and if they recommend reducing the number of runners? maybe holding the runner in a member variable is a better choice so that there is at most one runner per chrome://help tab. maybe it\u0027s also worth considering if there should be one for the whole process rather than one per tab. this would be more work, of course, so hopefully one of the other approaches is good enough. thanks.",
      "revId": "eee9c00a21093468c09f82ef7ba2c7b5a099754f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91d39ab3_74a9dc99",
        "filename": "chrome/browser/ui/webui/help/version_updater_win.cc",
        "patchSetId": 6
      },
      "lineNbr": 116,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2017-06-29T14:10:08Z",
      "side": 1,
      "message": "CreateCOMSTATaskRunnerWithTraits has default thread mode as SHARED. So for our case here, it will use the thread for BACKGROUND_BLOCKING worker in shared_scheduler_workers_ [1]. That is, no new thread will be created.\n\nSharing a TaskRunner for the whole process is tricky. The TaskRunnner of task scheduler is not supposed to outlive the task environment. We would probably have to introduce a clean up function and call it before tearing down task environment. It does not seem to worth the effort.",
      "parentUuid": "621570eb_89e2c812",
      "revId": "eee9c00a21093468c09f82ef7ba2c7b5a099754f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe1444ed_54bcaae9",
        "filename": "chrome/browser/ui/webui/help/version_updater_win.cc",
        "patchSetId": 6
      },
      "lineNbr": 116,
      "author": {
        "id": 1003325
      },
      "writtenOn": "2017-06-30T16:30:00Z",
      "side": 1,
      "message": "By default, this call will create a task runner bound to a shared thread. You may not get the same thread each time, but each call to this API with SingleThreadTaskRunnerThreadMode::SHARED (default) will not create a new thread.",
      "parentUuid": "91d39ab3_74a9dc99",
      "revId": "eee9c00a21093468c09f82ef7ba2c7b5a099754f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}