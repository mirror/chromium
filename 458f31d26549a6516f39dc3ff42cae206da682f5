{
  "comments": [
    {
      "key": {
        "uuid": "96f92e6d_a2fd1c86",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/notifications/NotificationPlatformBridge.java",
        "patchSetId": 14
      },
      "lineNbr": 684,
      "author": {
        "id": 1187649
      },
      "writtenOn": "2017-11-30T14:09:33Z",
      "side": 1,
      "message": "nit: drop the \u0027to\u0027",
      "revId": "458f31d26549a6516f39dc3ff42cae206da682f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04626fea_c2c5b16e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/notifications/NotificationPlatformBridge.java",
        "patchSetId": 14
      },
      "lineNbr": 685,
      "author": {
        "id": 1187649
      },
      "writtenOn": "2017-11-30T14:09:33Z",
      "side": 1,
      "message": "nit: s/Target/Targets",
      "revId": "458f31d26549a6516f39dc3ff42cae206da682f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcfd91c8_1130bdff",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/notifications/NotificationPlatformBridge.java",
        "patchSetId": 14
      },
      "lineNbr": 686,
      "author": {
        "id": 1187649
      },
      "writtenOn": "2017-11-30T14:09:33Z",
      "side": 1,
      "message": "This isEmpty check is unnecessary surely since we already check !webApkPackage.isEmpty() before calling this on line 702, no?",
      "revId": "458f31d26549a6516f39dc3ff42cae206da682f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6845b55d_8fbb716d",
        "filename": "chrome/android/webapk/libs/runtime_library/src/org/chromium/webapk/lib/runtime_library/WebApkServiceImpl.java",
        "patchSetId": 14
      },
      "lineNbr": 27,
      "author": {
        "id": 1187649
      },
      "writtenOn": "2017-11-30T14:09:33Z",
      "side": 1,
      "message": "Ah I guess we can\u0027t just reuse the constant defined in WebApkServiceImplWrapper because it\u0027s in a different library? That\u0027s unfortunate. \n\nI think in this context it would be clearer to rename this one to LEGACY_CHANNEL_ID and add a comment explaining where the value came from.",
      "revId": "458f31d26549a6516f39dc3ff42cae206da682f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7b9a1ba_45da0ba6",
        "filename": "chrome/android/webapk/libs/runtime_library/src/org/chromium/webapk/lib/runtime_library/WebApkServiceImpl.java",
        "patchSetId": 14
      },
      "lineNbr": 100,
      "author": {
        "id": 1187649
      },
      "writtenOn": "2017-11-30T14:09:33Z",
      "side": 1,
      "message": "Isn\u0027t it enough to just check if the channel id is null here? (Since we don\u0027t set one unless they\u0027re on O, right?)",
      "range": {
        "startLine": 100,
        "startChar": 0,
        "endLine": 100,
        "endChar": 79
      },
      "revId": "458f31d26549a6516f39dc3ff42cae206da682f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4a98944_5de7f2ab",
        "filename": "chrome/android/webapk/libs/runtime_library/src/org/chromium/webapk/lib/runtime_library/WebApkServiceImpl.java",
        "patchSetId": 14
      },
      "lineNbr": 104,
      "author": {
        "id": 1187649
      },
      "writtenOn": "2017-11-30T14:09:33Z",
      "side": 1,
      "message": "I\u0027d say this line at least merits a comment, and also the method name should really be updated, since now it doesn\u0027t just create a channel, it may also delete one.\n\nIf that starts to look messy, maybe do something like the following?\n\n  private void cleanUpLegacyChannel() {\n    getNotificationManager().deleteNotificationChannel(DEFAULT_NOTIFICATION_CHANNEL_ID);\n  }\n\n  private boolean usingChannels(..) {\n    return notification.getChannelId() !\u003d null;\n  }\n\n\u0026 in notifyNotificationWithChannel ...\n\n  if (usingChannels()) {\n    // .. (comment about why there may be a legacy channel)\n    cleanUpLegacyChannel();\n    createNotificationChannel();\n  }\n  getNotificationManager().notify(..)",
      "revId": "458f31d26549a6516f39dc3ff42cae206da682f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}