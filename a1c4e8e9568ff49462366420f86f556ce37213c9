{
  "comments": [
    {
      "key": {
        "uuid": "7513f324_33e7778d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManager.java",
        "patchSetId": 4
      },
      "lineNbr": 504,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "Sanity check: Is this a bug?  Not knowing much about ContextualSearchManager, it sounds like this refers to the page that the contextual search was conducted for.  That would be the last committed URL, not the pending URL if there is one.",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5a9e17c_02cb5750",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManager.java",
        "patchSetId": 4
      },
      "lineNbr": 504,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-06-22T07:34:18Z",
      "side": 1,
      "message": "Hmm. Sounds reasonable.\n\ndonnd@, if there is a pending navigation, and the user tap on the current web content (from last committed URL), the suppression logic would wrongly use the URL of the pending navigation, right?",
      "parentUuid": "7513f324_33e7778d",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84296539_21dc7dfb",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManager.java",
        "patchSetId": 4
      },
      "lineNbr": 504,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "I believe that is correct. Updated to be the last committed URL.",
      "parentUuid": "f5a9e17c_02cb5750",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62f0f40f_068e1349",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManager.java",
        "patchSetId": 4
      },
      "lineNbr": 1174,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "Do you know what the intention was here?  It feels like it almost certainly needs some cleanup, since checking for the pending entry first is almost redundant with getVisibleUrl().\n\n(There is a slight difference for cases where we don\u0027t think the pending entry is safe to display, such as renderer-initiated navigations.  I\u0027m not sure that was intentional, though, and we might be able to simplify this method to just use getVisibleUrl() and nothing else.)",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db9614fb_8fc2b90b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManager.java",
        "patchSetId": 4
      },
      "lineNbr": 1174,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-06-22T07:34:18Z",
      "side": 1,
      "message": "Agreed. Looks like we can directly return getVisibleUrl(). We might want to rephrase the comment a bit, since \"loaded\" URL sounds like last committed URL. \"loading or loaded\" might be more accurate.",
      "parentUuid": "62f0f40f_068e1349",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0e5cb3b_9f4ffd5d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManager.java",
        "patchSetId": 4
      },
      "lineNbr": 1174,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "Updated this call to use getLastCommittedUrl since the pending entry handles the other case. I\u0027d rather not clean up this code in this patch. I\u0027d like this to be as mechanical as possible.",
      "parentUuid": "db9614fb_8fc2b90b",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c75f5b43_162acd1e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/dom_distiller/ReaderModeManager.java",
        "patchSetId": 4
      },
      "lineNbr": 393,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "This seems ok if you intend to enter reader mode on the pending URL if there is one.  (Might be a bit unexpected, but it doesn\u0027t seem like a problem if that\u0027s what you want.)",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d9ee42d_24237530",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/dom_distiller/ReaderModeManager.java",
        "patchSetId": 4
      },
      "lineNbr": 393,
      "author": {
        "id": 1144344
      },
      "writtenOn": "2017-06-22T07:34:18Z",
      "side": 1,
      "message": "This URL is only used for null checking. We should probably use last committed URL instead, since that\u0027s what we distill in distillCurrentPageAndView().",
      "parentUuid": "c75f5b43_162acd1e",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73e5149d_9568dd43",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/dom_distiller/ReaderModeManager.java",
        "patchSetId": 4
      },
      "lineNbr": 393,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d9ee42d_24237530",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "270b2f76_a3be189b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tab/Tab.java",
        "patchSetId": 4
      },
      "lineNbr": 1315,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "Seems right-- I would expect this to use the pending URL, and I wouldn\u0027t expect a case where getVisibleUrl would return something else here.",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c31a6a79_814aadc3",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tab/Tab.java",
        "patchSetId": 4
      },
      "lineNbr": 1315,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "270b2f76_a3be189b",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63ddd6ed_0c826c68",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tab/Tab.java",
        "patchSetId": 4
      },
      "lineNbr": 1893,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "Can you elaborate in this comment?  We should make it clear this is the URL visible in the address bar, which may not be the last committed URL if a new navigation is in progress.",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43cccbe4_c3b9adb8",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tab/Tab.java",
        "patchSetId": 4
      },
      "lineNbr": 1893,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63ddd6ed_0c826c68",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98feda27_2e6e9965",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabCreatorManager.java",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "Sounds right, given the comment on line 67.",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d710c2c9_a9bb3e70",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/tabmodel/TabCreatorManager.java",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "98feda27_2e6e9965",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0f57e05_100e1145",
        "filename": "content/public/test/android/javatests/src/org/chromium/content/browser/test/util/HistoryUtils.java",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-06-22T02:13:11Z",
      "side": 1,
      "message": "If we use getVisibleUrl, then this comment is wrong and the comment above is ambiguous.  Should we be using getLastCommittedUrl() below instead?  Either way we should clarify the comments.",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84e24dfc_1521c898",
        "filename": "content/public/test/android/javatests/src/org/chromium/content/browser/test/util/HistoryUtils.java",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-06-22T20:35:44Z",
      "side": 1,
      "message": "Looking at how it is used, getLastCommittedUrl makes sense. Also updated the comments.",
      "parentUuid": "b0f57e05_100e1145",
      "revId": "a1c4e8e9568ff49462366420f86f556ce37213c9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}