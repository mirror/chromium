{
  "comments": [
    {
      "key": {
        "uuid": "4005d9ed_c008fa0a",
        "filename": "components/payments/core/payments_profile_comparator.h",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1003016
      },
      "writtenOn": "2017-08-09T19:49:56Z",
      "side": 1,
      "message": "Nice, this will be useful on desktop too",
      "range": {
        "startLine": 95,
        "startChar": 17,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd09b352_c232ff6a",
        "filename": "components/payments/core/payments_profile_comparator.h",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1115957
      },
      "writtenOn": "2017-08-10T14:58:19Z",
      "side": 1,
      "message": "Ack :)",
      "parentUuid": "4005d9ed_c008fa0a",
      "range": {
        "startLine": 95,
        "startChar": 17,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37c06705_abf4ac52",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1166499
      },
      "writtenOn": "2017-08-09T21:07:08Z",
      "side": 1,
      "message": "You shouldn\u0027t need the needsCompletion argument here or the needsCompletion property in the coordinator. The mediator has all the information it needs to return the appropriate title. The following should do it:\n\n- (NSString*)title {\n  if (!self.profile)\n    return l10n_util::GetNSString(IDS_PAYMENTS_ADD_CONTACT_DETAILS_LABEL);\n\n  if (self.paymentRequest-\u003eprofile_comparator()-\u003eIsContactInfoComplete(\n          self.profile)) {\n    return l10n_util::GetNSString(IDS_PAYMENTS_EDIT_CONTACT_DETAILS_LABEL);\n  }\n\n  return base::SysUTF16ToNSString(\n      self.paymentRequest-\u003eprofile_comparator()\n          -\u003eGetTitleForMissingContactFields(*self.profile));\n}",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f035ccad_793283ac",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1115957
      },
      "writtenOn": "2017-08-10T14:58:19Z",
      "side": 1,
      "message": "I guess it depends what it is that we want, but this behaves different from what I implemented.\n\nMy implementation, if e.g. email is missing:\n[contact info dialog] -\u003e Edit -\u003e [tap] -\u003e \"Edit contact info\"\n[contact info dialog] -\u003e [tap] -\u003e \"Add email\"\n\nYour suggested implementation if e.g. email is missing:\n[contact info dialog] -\u003e Edit -\u003e [tap] -\u003e \"Add email\"\n[contact info dialog] -\u003e [tap] -\u003e \"Add email\"\n\nI feel like the way I implemented this (with needsCompletion) is more natural. If the user wants to edit a contact info, I wouldn\u0027t set the title to \"Add email\", because that might be confusing if that\u0027s not what they wanted to do. If, however, they try to select a contact info entry that is incomplete, _then_ I would have the title prompt for missing data.",
      "parentUuid": "37c06705_abf4ac52",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a858306_1a744e20",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1166499
      },
      "writtenOn": "2017-08-10T17:00:56Z",
      "side": 1,
      "message": "Ahh I missed the subtle difference. I don\u0027t think my suggestion is unnatural. In fact it may be more useful to indicate what field is missing when the user decides to edit (as opposed to select) the contact info because the selector screen in edit mode misses the incomplete field notification labels. In addition to that, it\u0027s a simpler implementation which makes for better readability and maintenance. Regardless, these are interesting UX discussions which are far more ideal to have early on in the implementation.",
      "parentUuid": "f035ccad_793283ac",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21359a1d_81865810",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1115957
      },
      "writtenOn": "2017-08-10T17:30:27Z",
      "side": 1,
      "message": "I feel that it is less natural than what I propose (even though it is slightly more complex in its implementation). Plus, if the user tries to edit and there is data missing, they will be prompted when they try to save, so the title makes sense with the action they\u0027re trying to perform, plus they get prompted for missing data (because the field is required). :)",
      "parentUuid": "3a858306_1a744e20",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f3d1e8b_6393d9f3",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1166499
      },
      "writtenOn": "2017-08-10T17:46:35Z",
      "side": 1,
      "message": "The validation errors on saving the form is a separate user experience. I find it a confusing experience if the user is presented with a \"Add Email\" title if they get to the editor in one way versus \"Edit Contact Info\" if they were to get to the editor in another way. To summarize, I\u0027m basing my proposal on the following reasons:\n1. simplicity (in implementation)\n2. uniformity (in user experience)\n3. utility (in user experience)",
      "parentUuid": "21359a1d_81865810",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5bc3b5a_59dcea5f",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1115957
      },
      "writtenOn": "2017-08-10T17:54:26Z",
      "side": 1,
      "message": "I don\u0027t think simplicity in implementation should go before anything user experience-related. I would argue that it is more uniform that the title is always \"Edit contact info\" when you\u0027re in edit mode and you tap an entry, and that it is \"Add email\" only when you select an incomplete entry and you are prompted to add the missing information.",
      "parentUuid": "1f3d1e8b_6393d9f3",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3072094c_b8b09dc4",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1166499
      },
      "writtenOn": "2017-08-10T18:32:34Z",
      "side": 1,
      "message": "For what it\u0027s worth, simplicity in implementation doesn\u0027t precede user experience imo. I can\u0027t see why your proposal is more uniform/consistent.",
      "parentUuid": "f5bc3b5a_59dcea5f",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb3148e7_6916df01",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator.mm",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1115957
      },
      "writtenOn": "2017-08-10T18:52:04Z",
      "side": 1,
      "message": "Ack. Changed.",
      "parentUuid": "3072094c_b8b09dc4",
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba29e2c2_e0999930",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator_unittest.mm",
        "patchSetId": 2
      },
      "lineNbr": 211,
      "author": {
        "id": 1166499
      },
      "writtenOn": "2017-08-09T21:07:08Z",
      "side": 1,
      "message": "nit: mediator.title",
      "range": {
        "startLine": 211,
        "startChar": 15,
        "endLine": 211,
        "endChar": 31
      },
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ef0b035_148957c5",
        "filename": "ios/chrome/browser/ui/payments/contact_info_edit_mediator_unittest.mm",
        "patchSetId": 2
      },
      "lineNbr": 211,
      "author": {
        "id": 1115957
      },
      "writtenOn": "2017-08-10T14:58:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba29e2c2_e0999930",
      "range": {
        "startLine": 211,
        "startChar": 15,
        "endLine": 211,
        "endChar": 31
      },
      "revId": "bfeb0e681c8f0838007acc2fbf93f7b63aa78bd5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}