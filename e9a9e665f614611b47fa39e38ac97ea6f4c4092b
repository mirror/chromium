{
  "comments": [
    {
      "key": {
        "uuid": "ec258126_aa94125e",
        "filename": "ui/message_center/message_center.h",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-19T16:02:27Z",
      "side": 1,
      "message": "I agree that using MessageCenter for this is by no means right, but the problem is ash/ does not have any chrome_strings.grdp/chromium_strings.grdp equivalent. Now we might be able to use ash_message_center_controller.mojom for that purpose?",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c835349_7f341fc1",
        "filename": "ui/message_center/message_center.h",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-12-19T17:06:12Z",
      "side": 1,
      "message": "Figuring out what exactly to do about this is a TODO, but this is not the right place for it. The two options are:\n\n- make new grd files that know whether it\u0027s an official build (this is appealing because Ash should know its own name rather than asking Chrome for it)\n- add this to ash::ShellDelegate as a bandaid. Note that I just removed a similar function, GetProductName, from that interface.",
      "parentUuid": "ec258126_aa94125e",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d81224cf_f08baa45",
        "filename": "ui/message_center/message_center.h",
        "patchSetId": 2
      },
      "lineNbr": 192,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-19T16:02:27Z",
      "side": 1,
      "message": "Also sorry for violating this... https://groups.google.com/a/chromium.org/forum/#!topic/chromium-dev/PBs5JfR0Aoc",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46148ba0_95fe5680",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 672,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-19T16:02:27Z",
      "side": 1,
      "message": "The entire #if~#endif is meant to be a hack (CL: https://crrev.com/c/609820). It should be dead code right now. I\u0027d rather remove 672-689 than add new hack on top of it.\n\nThere might be some remaining call sites, so in such cases it would cause regression. Sorry for leaving this until now, but we have to recheck before making change.",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d64f4db_4bb6c4c3",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 672,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-12-19T17:06:12Z",
      "side": 1,
      "message": "I understand that, but I don\u0027t think the plan espoused in the comment is tenable, so we need to keep it a while longer. Keeping this hack until we find a proper solution is necessary to continue porting tests in chrome/browser that call CreateSystemNotification but no longer have a MessageCenter instance.",
      "parentUuid": "46148ba0_95fe5680",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee495cc8_67a83a71",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 672,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-20T03:29:23Z",
      "side": 1,
      "message": "OK. Can we ensure that this hack only applies to notifications created by CreateSystemNotification and vice versa?\n\nLet\u0027s add following DCHECK to the CreateSystemNotification:\n\nstd::unique_ptr\u003cNotification\u003e Notification::CreateSystemNotification(...) {\n  DCHECK(!notification.display_source().empty() || (notification.origin_url().is_empty() \u0026\u0026 notification.notifier_id().type \u003d\u003d NotifierId.SYSTEM_COMPONENT)));\n  ...\n}\n\nIt\u0027d be nice if we can also prevent normal Notification constructor to be used for creating system notification, but it\u0027s okay to leave this if there\u0027s no clear way. (The only way I could come up with is to add new attribute to RichNotificationData.)",
      "parentUuid": "4d64f4db_4bb6c4c3",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbb71576_bd7324f7",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 676,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-20T03:29:23Z",
      "side": 1,
      "message": "Could you update this comment:\n// TODO(tetsui): Remove this. Move Notification::CreateSystemNotification() to ash/ and set the default |display_source| there.",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b760337_4e248b83",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 685,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-19T16:02:27Z",
      "side": 1,
      "message": "BTW, it defaults to blue accent color, so I think it breaks some notifications e.g. low power notification.",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb901ef7_ee75e33f",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 685,
      "author": {
        "id": 1115907
      },
      "writtenOn": "2017-12-19T17:06:12Z",
      "side": 1,
      "message": "so we should copy L699-702?",
      "parentUuid": "9b760337_4e248b83",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99528ba3_916da9f3",
        "filename": "ui/message_center/views/notification_view_md.cc",
        "patchSetId": 2
      },
      "lineNbr": 685,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2017-12-20T03:29:23Z",
      "side": 1,
      "message": "yes.",
      "parentUuid": "fb901ef7_ee75e33f",
      "revId": "e9a9e665f614611b47fa39e38ac97ea6f4c4092b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}