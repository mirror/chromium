{
  "comments": [
    {
      "key": {
        "uuid": "0d3d00c3_5d67f77d",
        "filename": "third_party/WebKit/Source/platform/graphics/gpu/ImageLayerBridge.cpp",
        "patchSetId": 4
      },
      "lineNbr": 87,
      "author": {
        "id": 1115939
      },
      "writtenOn": "2017-11-07T20:58:20Z",
      "side": 1,
      "message": "Instead of aborting we could do \"sk_image \u003d sk_image-\u003emakeNonTextureImage();\" in the code below that handles the !gpu_compositing case.",
      "range": {
        "startLine": 87,
        "startChar": 26,
        "endLine": 87,
        "endChar": 35
      },
      "revId": "bca81b3aeef526691daa9eba1f1e292d648b60ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1087c2bb_07cad91f",
        "filename": "third_party/WebKit/Source/platform/graphics/gpu/ImageLayerBridge.cpp",
        "patchSetId": 4
      },
      "lineNbr": 87,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-11-07T21:09:34Z",
      "side": 1,
      "message": "Is this a state that is more than transient and would resolve shortly anyway? It\u0027s less code if we don\u0027t do anything for it. But if it\u0027s that we can have gpu resources forever while compositor isn\u0027t using gpu (ie the image generator isnt checking) then we\u0027d need to handle it..",
      "parentUuid": "0d3d00c3_5d67f77d",
      "range": {
        "startLine": 87,
        "startChar": 26,
        "endLine": 87,
        "endChar": 35
      },
      "revId": "bca81b3aeef526691daa9eba1f1e292d648b60ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e00c5225_75ab1c44",
        "filename": "third_party/WebKit/Source/platform/graphics/gpu/ImageLayerBridge.cpp",
        "patchSetId": 4
      },
      "lineNbr": 87,
      "author": {
        "id": 1115939
      },
      "writtenOn": "2017-11-07T21:51:34Z",
      "side": 1,
      "message": "I am not sure. Is there an ycondition that does not involve a gpu context loss that could cause the compositor to switch out of gpu accelerated mode? If there is (or could be in the future), we could have a long-lived ImageBitmap object that stores its pixels on the GPU and stays alive indefinitely after gpu compositing is disabled.  If gpu compositing only gets disabled as the result of a context loss, then that case is irrelevant because the ImageBitmap would have lost its content anyways.",
      "parentUuid": "1087c2bb_07cad91f",
      "range": {
        "startLine": 87,
        "startChar": 26,
        "endLine": 87,
        "endChar": 35
      },
      "revId": "bca81b3aeef526691daa9eba1f1e292d648b60ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5082a5a3_463f32ba",
        "filename": "third_party/WebKit/Source/platform/graphics/gpu/ImageLayerBridge.cpp",
        "patchSetId": 4
      },
      "lineNbr": 97,
      "author": {
        "id": 1115939
      },
      "writtenOn": "2017-11-07T20:58:20Z",
      "side": 1,
      "message": "I think this code should be moved to an API similar to skia\u0027s SkImage::makeTextureImage.\nStaticBitmapImage would have something like this:\nvirtual scoped_refptr\u003cStaticBitmapImage\u003e MakeAccelerated() \u003d 0;\n\nOverload in AcceleratedStaticBitmapImage returns \u0027this\u0027.\nOverload in UnacceleratedStaticBitmapImage would have basically the code from this if block.\n\nThis could come in handy IMHO. WDYT?",
      "range": {
        "startLine": 97,
        "startChar": 6,
        "endLine": 97,
        "endChar": 21
      },
      "revId": "bca81b3aeef526691daa9eba1f1e292d648b60ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2cfbbbbd_f5252dfe",
        "filename": "third_party/WebKit/Source/platform/graphics/gpu/ImageLayerBridge.cpp",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1115939
      },
      "writtenOn": "2017-11-07T21:08:40Z",
      "side": 1,
      "message": "I just created a bug for this. Please reference crbug.com/782383 in this comment. FWIW, we can\u0027t fix it now (in this CL, as a drive-by) because there\u0027s quite a lot of tests that need to be written for this.",
      "range": {
        "startLine": 107,
        "startChar": 12,
        "endLine": 107,
        "endChar": 17
      },
      "revId": "bca81b3aeef526691daa9eba1f1e292d648b60ec",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}