{
  "comments": [
    {
      "key": {
        "uuid": "55ada18f_40973249",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 348,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "I think this should just be a null-check (not isEmpty). That way you can call it with null when you don\u0027t want it, rather than \"\" (which is natural for C++, quite unnatural for Java).",
      "range": {
        "startLine": 348,
        "startChar": 13,
        "endLine": 348,
        "endChar": 32
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56e6bacf_9a0cf54f",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 348,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55ada18f_40973249",
      "range": {
        "startLine": 348,
        "startChar": 13,
        "endLine": 348,
        "endChar": 32
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99ef1e52_ae5be4d7",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 625,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "I\u0027m not sure why this was split off into a separate test. This reduces the amount of testing that\u0027s going on, because you only check for the appinstalled event in one case, instead of in all four permutations that we had in the old code.\n\nContinuing on...",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86a3a083_1db18e0e",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 625,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "99ef1e52_ae5be4d7",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9444d22f_06f5ba2c",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 636,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "... I see that the *reason* you split off the appinstalled check into a separate test is because otherwise you couldn\u0027t handle a custom setupScript here. However .... (continuing below)",
      "range": {
        "startLine": 636,
        "startChar": 12,
        "endLine": 636,
        "endChar": 30
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ada4d4c5_c188b792",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 636,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9444d22f_06f5ba2c",
      "range": {
        "startLine": 636,
        "startChar": 12,
        "endLine": 636,
        "endChar": 30
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "667fb00c_50ffaf98",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 668,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "... why are you adding a custom setup script here. The old code doesn\u0027t call setTimeout(callPrompt) for this test.\n\nSo can you:\n\n1. Remove the setupScript parameter from runWebAppBannerAndCheckInstallEvent,\n2. Remove the setupScript code from this and the next test, and\n3. Move the veryfyAppInstalledEvents setup script code back into runWebAppBannerAndCheckInstallEvent, and\n4. Move the TabTitleObserver for appinstalled back into runWebAppBannerAndCheckInstallEvent, and\n5. Delete the new testAppInstalledEvent?",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1579106_ec4c9d87",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 668,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "I don\u0027t want to do that because in the follow up CL, I add a test for the userChoice promise in here, which also needs to use the tab title to communicate out (and is only necessary when a beforeinstallprompt handler is installed).\n\nI\u0027ve added another appinstalled test to cover the API case.\n\nThe old code does call setTimeout(callPrompt) (see the deleted prompt_test_page.html).",
      "parentUuid": "667fb00c_50ffaf98",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63658489_c6d68033",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/banners/AppBannerManagerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 668,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "OK. I\u0027m happy with having added the second test.",
      "parentUuid": "f1579106_ec4c9d87",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b33a2412_d0d79e40",
        "filename": "chrome/browser/banners/app_banner_manager_browsertest.cc",
        "patchSetId": 1
      },
      "lineNbr": 242,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "You seem to have removed this parameter, making it always PAGE_TRANSITION_LINK.\n\nBut the default value was PAGE_TRANSITION_TYPED. So this changes behaviour. Is that intended?",
      "range": {
        "startLine": 242,
        "startChar": 53,
        "endLine": 242,
        "endChar": 73
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "add115d9_b1af8b14",
        "filename": "chrome/browser/banners/app_banner_manager_browsertest.cc",
        "patchSetId": 1
      },
      "lineNbr": 242,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "The page transition is no longer relevant in this test. We explicitly set the engagement for triggering, or otherwise call the site engagement service explicitly. Transitions are a hold over from the ancient navigation triggered banners.",
      "parentUuid": "b33a2412_d0d79e40",
      "range": {
        "startLine": 242,
        "startChar": 53,
        "endLine": 242,
        "endChar": 73
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd3d98bc_7167c51f",
        "filename": "chrome/browser/banners/app_banner_manager_browsertest.cc",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "I think style guide says this should be std::string(). (Not \"\".)",
      "range": {
        "startLine": 324,
        "startChar": 35,
        "endLine": 324,
        "endChar": 37
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fddac98d_69723b9c",
        "filename": "chrome/browser/banners/app_banner_manager_browsertest.cc",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd3d98bc_7167c51f",
      "range": {
        "startLine": 324,
        "startChar": 35,
        "endLine": 324,
        "endChar": 37
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa59983e_419e73db",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "Note: A lot of the comments here also apply to the \"old\" code (so I know you aren\u0027t introducing these issues here). However, I think now is a good time to address them, and they\u0027re all very minor.",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1b0fae1_262c7341",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "aa59983e_419e73db",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25581991_5c859c3e",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "Why 1? Can this be null?",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2405eba8_58b08587",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "It was 1 previously and I just copied it.",
      "parentUuid": "25581991_5c859c3e",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45869423_10c733cb",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Yes, I know, hence why I wrote the disclaimer up front :)",
      "parentUuid": "2405eba8_58b08587",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfebf1ee_48939364",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "Keep the comment \"// These blanks will get filled in when each event comes through.\"\n\nAlso I know I wrote this, but this is a bit brittle. Can you define \u0027listener\u0027 and \u0027attr\u0027 in constants at the top, then here, write:\n\n    var gotEventsFrom \u003d [\u0027_\u0027.repeat(LISTENER.length),\n                         \u0027_\u0027.repeat(ATTR.length)]",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7898fef1_14d7b6a7",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dfebf1ee_48939364",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61a1bd7f_57395f63",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "This function could take the name of the event as a parameter (\u0027appinstalled\u0027 or \u0027beforeinstallprompt\u0027) and avoid duplicating most of the functionality.",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d62ebbd_fe12f7f2",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61a1bd7f_57395f63",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7040d0c6_2703bcbe",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "I don\u0027t think we need this. It isn\u0027t used externally, only by the code in addPromptListener. It can be inlined below.",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d545728_9111e387",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "It gets extra lines in the follow up that I don\u0027t want to duplicate.",
      "parentUuid": "7040d0c6_2703bcbe",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "94d05e4a_2c31485f",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6d545728_9111e387",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05d2583e_79729bfb",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "Should this null-check (or 1-check???) stashedEvent to produce a better error than \"Cannot read property \u0027prompt\u0027 of null\"?",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "498fcffe_61183da5",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "Both errors would show up in the exact same place (log output of the failing test), so I don\u0027t think changing the error here would make it much better. WDYT?",
      "parentUuid": "05d2583e_79729bfb",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2aff2199_7e57b6d6",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Yeah, but the error might be confusing. Maybe just:\n\n    if (stashedEvent \u003d\u003d\u003d null)\n      throw new Error(\u0027No event was previously stashed\u0027);",
      "parentUuid": "498fcffe_61183da5",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c8722c6_417ccc94",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "setTimeout(() \u003d\u003e e.prompt(), 0);\n\n(No need to pass \"e\" as a parameter when it\u0027s available from the closure on the lambda.)",
      "range": {
        "startLine": 68,
        "startChar": 19,
        "endLine": 68,
        "endChar": 29
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "603ee353_91661b39",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "See reasoning above for having the method",
      "parentUuid": "2c8722c6_417ccc94",
      "range": {
        "startLine": 68,
        "startChar": 19,
        "endLine": 68,
        "endChar": 29
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eab28e82_38cdd03b",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "603ee353_91661b39",
      "range": {
        "startLine": 68,
        "startChar": 19,
        "endLine": 68,
        "endChar": 29
      },
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7aee1b2b_89d68997",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T04:30:54Z",
      "side": 1,
      "message": "e.prompt()",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e29a1355_d0b0944c",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2018-01-30T05:17:23Z",
      "side": 1,
      "message": "See reasoning above for having the method",
      "parentUuid": "7aee1b2b_89d68997",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8456d35d_3b3db6c3",
        "filename": "chrome/test/data/banners/main.js",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1115963
      },
      "writtenOn": "2018-01-30T07:01:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e29a1355_d0b0944c",
      "revId": "d74706bc105733ead8abe075abb8609f573372d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}