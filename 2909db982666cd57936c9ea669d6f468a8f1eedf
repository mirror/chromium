{
  "comments": [
    {
      "key": {
        "uuid": "edc91638_e42d00ff",
        "filename": "chrome/browser/resources/md_extensions/load_error.js",
        "patchSetId": 17
      },
      "lineNbr": 45,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-07T19:56:56Z",
      "side": 1,
      "message": "Rather than have this catch an error, and then fire an event that the manager listens, and then have the manager re-show this, could we have the catch() update the error?\n\nSomething like:\n\nonRetryTap_: function() {\n  this.delegate.retryLoadUnpacked(this.loadError.retryGuid).then(() \u003d\u003e {\n    // The retry succeeded; our work here is done.\n    this.close();\n  }).catch(loadError \u003d\u003e {\n    // The retry failed; update the dialog.\n    this.loadError \u003d loadError;\n  });\n},\n\nWDYT?  Seems it\u0027d be simpler and more contained, and would prevent the \"dialog close -\u003e dialog open\" flicker that would happen otherwise.",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5208ec63_898b9bf8",
        "filename": "chrome/browser/resources/md_extensions/load_error.js",
        "patchSetId": 17
      },
      "lineNbr": 45,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2017-11-07T20:20:54Z",
      "side": 1,
      "message": "When I played with this UI, I found that the \"flicker\" is actually signaling to the user that something happened and the same error occurred.\n\nClicking on \"retry\" without closing and re-opening the dialog seemed confusing as if nothing happened. I can re-examine and potentially post a video of the UX problem I am describing.",
      "parentUuid": "edc91638_e42d00ff",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "316172ef_2f1e2b63",
        "filename": "chrome/browser/resources/md_extensions/load_error.js",
        "patchSetId": 17
      },
      "lineNbr": 45,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-07T20:29:11Z",
      "side": 1,
      "message": "Hmm... what about a \"trying\"-type placeholder?  It just seems very strange to me to have a load error dialog (essentially something that handles load errors) fire a load error itself, and causes some additional routing through manager.",
      "parentUuid": "5208ec63_898b9bf8",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e9fc867_fd90e53d",
        "filename": "chrome/browser/resources/md_extensions/load_error.js",
        "patchSetId": 17
      },
      "lineNbr": 45,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2017-11-07T23:30:45Z",
      "side": 1,
      "message": "Done, without adding a new string/placeholder though. After experimenting again with this UI I don\u0027t think the intermediate \"trying\" placeholder is necessary. What I had not realized in my first attempt, was that after clicking \"retry\" a file-chooser dialog pops up. User has to click again on that dialog to actually \"retry\", so it is clear that something is happening.",
      "parentUuid": "316172ef_2f1e2b63",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed1e5ecb_33cdaacf",
        "filename": "chrome/browser/resources/md_extensions/load_error.js",
        "patchSetId": 17
      },
      "lineNbr": 45,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2017-11-08T00:19:55Z",
      "side": 1,
      "message": "Retracting my previous comment. The way I am simulating errors just to try this UI locally has confused me (it was not providing a retryGuid). When a retry happens, there is no new file chooser dialog showing, therefore the problem originally described still exists. I\u0027ll experiment with the \"retrying\" string, although  my preference would be to do this in a separate CL.\n\nThe code before this CL was always hiding this dialog and re-showing it when a new error occurred. Which is basically what my original version does too. Are you OK with reverting to that (meaning patch 15) for now?",
      "parentUuid": "9e9fc867_fd90e53d",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b386280a_75cb1fde",
        "filename": "chrome/browser/resources/md_extensions/load_error.js",
        "patchSetId": 17
      },
      "lineNbr": 45,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-11-08T19:59:25Z",
      "side": 1,
      "message": "Yeah; can we at least add a TODO for this, though?",
      "parentUuid": "ed1e5ecb_33cdaacf",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f3dfa6_864756b3",
        "filename": "chrome/browser/resources/md_extensions/manager.js",
        "patchSetId": 17
      },
      "lineNbr": 170,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2017-11-07T09:56:29Z",
      "side": 1,
      "message": "Does this actually apply the font to something? From the doc it seems to just force load the font to be available, and then return a Promise. Not sure if this functionally does anything if we don\u0027t utilize the Promise.",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dc259f5_8a8a2d52",
        "filename": "chrome/browser/resources/md_extensions/manager.js",
        "patchSetId": 17
      },
      "lineNbr": 170,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2017-11-07T18:16:28Z",
      "side": 1,
      "message": "This was introduced at https://chromium-review.googlesource.com/c/chromium/src/+/752545 and fixes https://bugs.chromium.org/p/chromium/issues/detail?id\u003d781055. I am moving it here, since the file where this was residing (extensions.js) is removed in this CL.",
      "parentUuid": "b4f3dfa6_864756b3",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15478981_82afdcfb",
        "filename": "chrome/browser/resources/md_extensions/service.js",
        "patchSetId": 17
      },
      "lineNbr": 109,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2017-11-07T09:56:29Z",
      "side": 1,
      "message": "Thought I might share - I looked up whether a \u0027return\u0027 is necessary here, and found some good points advocating for having a return even though it\u0027s not strictly required: https://stackoverflow.com/questions/32536049/do-i-need-to-return-after-early-resolve-reject",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d3b9a36_a9ca1dc3",
        "filename": "chrome/browser/resources/md_extensions/service.js",
        "patchSetId": 17
      },
      "lineNbr": 109,
      "author": {
        "id": 1115893
      },
      "writtenOn": "2017-11-07T18:16:28Z",
      "side": 1,
      "message": "Done. Added missing return.",
      "parentUuid": "15478981_82afdcfb",
      "revId": "2909db982666cd57936c9ea669d6f468a8f1eedf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}