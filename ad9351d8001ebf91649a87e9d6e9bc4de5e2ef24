{
  "comments": [
    {
      "key": {
        "uuid": "0cd91c70_3319a6e6",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-05T06:51:43Z",
      "side": 1,
      "message": "nit: DCHECK that the sizes match?",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "deacbf2a_0aceaba6",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-07-05T13:09:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0cd91c70_3319a6e6",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c31dd6a_559fdc78",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-05T06:51:43Z",
      "side": 1,
      "message": "High-level question: What does it mean if a category it not visible? Can we find a better name? (I\u0027m assuming it doesn\u0027t mean \"visible on the screen\").",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f543ebf0_ab8c5bc4",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1123275
      },
      "writtenOn": "2017-07-05T08:20:40Z",
      "side": 1,
      "message": "That would be a category that has no suggestion and does not have the show_if_empty flag",
      "parentUuid": "2c31dd6a_559fdc78",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b5bdac6_1a9a99f6",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-07-05T13:09:55Z",
      "side": 1,
      "message": "\u003e I\u0027m assuming it doesn\u0027t mean \"visible on the screen\"\n\nWhy? The intention was precisely like that. \n\nBasically, in the previous metric we have more zeroes for Articles than we expected and this miscalculation seems to be one of the sources.\n\nAlso not visible categories include disabled ones.",
      "parentUuid": "f543ebf0_ab8c5bc4",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "943350d2_b125255d",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-05T13:18:22Z",
      "side": 1,
      "message": "I meant \"not visible\" as in \"the user just hasn\u0027t scrolled down far enough\", which is not what\u0027s meant here (IIUC).\nMaybe it\u0027s just me - if nobody else is confused by the term, then I guess it\u0027s fine.\n\nHigher-level comment: A different approach would be to simply exclude the \"theoretically-existing-but-empty-and-not-shown\" categories here (not even pass them in from the UI). Since we only count visible sections in the SectionCount histogram below, that seems more consistent. WDYT?",
      "parentUuid": "0b5bdac6_1a9a99f6",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "032894b3_65a8a3e9",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-07-05T13:44:36Z",
      "side": 1,
      "message": "\u003e I meant \"not visible\" as in \"the user just hasn\u0027t scrolled down \n\u003e far enough\", which is not what\u0027s meant here (IIUC).\n\nTrue, here the definition is more like \"can potentially be seen by the user\". I feel like \"shown\" corresponds to your understanding (e.g. as in OnPageShown and OnSuggestionShown). Thus, \"visible\" seems ok. I rephrased the histogram comment to make this clear though.\n\n\u003e A different approach would be to simply exclude the \n\u003e \"theoretically-existing-but-empty-and-not-shown\" \n\u003e categories here (not even pass them in from the UI)\n\nI feel like doing more work closer to the metric recording is better for understanding. Also explicitly asking which sections are visible feels less error prone. Thus, I would prefer to leave it like this.",
      "parentUuid": "943350d2_b125255d",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b62d9ac_12de4660",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1116059
      },
      "writtenOn": "2017-07-05T13:56:59Z",
      "side": 1,
      "message": "I\u0027d argue the UI has to do the exact same logic anyway to populate the \"visible\" flags. But we\u0027ve bikeshedded this long enough :)\nCan you put a comment in the header about the meaning of \"visible\" though? Otherwise it\u0027s easy to get it wrong (-\u003e iOS!)",
      "parentUuid": "032894b3_65a8a3e9",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc239e40_54fb9f5e",
        "filename": "components/ntp_snippets/content_suggestions_metrics.cc",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 1163944
      },
      "writtenOn": "2017-07-06T07:40:37Z",
      "side": 1,
      "message": "Done.\n\n// |is_category_visible| contains true iff the corresponding category can be\n// seen by the user on this page (even if it is empty). It does not depend on\n// whether the user actually saw the category.",
      "parentUuid": "5b62d9ac_12de4660",
      "revId": "ad9351d8001ebf91649a87e9d6e9bc4de5e2ef24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}