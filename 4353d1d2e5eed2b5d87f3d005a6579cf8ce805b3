{
  "comments": [
    {
      "key": {
        "uuid": "1b58e147_0e7c95ac",
        "filename": "chrome/browser/chrome_browser_main.cc",
        "patchSetId": 19
      },
      "lineNbr": 1956,
      "author": {
        "id": 1115989
      },
      "writtenOn": "2017-07-18T17:49:54Z",
      "side": 1,
      "message": "I would just move this call to inside PerformanceMonitor::StartGatherCycle(), as we\u0027ll want to unify the two eventually anyway.",
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "778ad77d_9afa805f",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe.h",
        "patchSetId": 19
      },
      "lineNbr": 73,
      "author": {
        "id": 1112850
      },
      "writtenOn": "2017-07-18T17:30:51Z",
      "side": 1,
      "message": "Instead of letting the mock class subclass this, I think you can just add a |ResetMetricsHandlerForTesting(handler)| function to reset the handler. Then in the test, you can just use this probe class directly without mocking it. Since you can declare the test to be a friend of this class, the reset function can be private for testing only.",
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d5b7744_d91fe755",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe.h",
        "patchSetId": 19
      },
      "lineNbr": 73,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-19T17:39:29Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "778ad77d_9afa805f",
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58597ad6_e0ce262a",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe_browsertest.cc",
        "patchSetId": 19
      },
      "lineNbr": 98,
      "author": {
        "id": 1211219
      },
      "writtenOn": "2017-07-18T16:38:23Z",
      "side": 1,
      "message": "I would still recommend us using https://cs.chromium.org/chromium/src/chrome/browser/page_load_metrics/page_load_metrics_browsertest.cc?l\u003d310 if possible.\n\nFor TabManager browsertest, all it matter is to track the behavior of tab opening, but for us, we actually want to simulate a little bit better.\n\nBut I don\u0027t have a strong opinion here, I will leave it to Zhen.",
      "range": {
        "startLine": 98,
        "startChar": 17,
        "endLine": 98,
        "endChar": 50
      },
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42bc7a53_56e0deeb",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe_browsertest.cc",
        "patchSetId": 19
      },
      "lineNbr": 98,
      "author": {
        "id": 1112850
      },
      "writtenOn": "2017-07-18T17:30:51Z",
      "side": 1,
      "message": "I agree with Peiyong.",
      "parentUuid": "58597ad6_e0ce262a",
      "range": {
        "startLine": 98,
        "startChar": 17,
        "endLine": 98,
        "endChar": 50
      },
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04d23233_775946ea",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe_browsertest.cc",
        "patchSetId": 19
      },
      "lineNbr": 98,
      "author": {
        "id": 1115989
      },
      "writtenOn": "2017-07-18T17:49:54Z",
      "side": 1,
      "message": "It doesn\u0027t matter for this particular test as far as I can tell, either way; and plenty of precedence with the TabManager browsertests.",
      "parentUuid": "42bc7a53_56e0deeb",
      "range": {
        "startLine": 98,
        "startChar": 17,
        "endLine": 98,
        "endChar": 50
      },
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "268da5bf_b0fd9bd7",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe_browsertest.cc",
        "patchSetId": 19
      },
      "lineNbr": 98,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-19T17:39:29Z",
      "side": 1,
      "message": "Done -- everyone feels more comfortable overall with the embedded server approach so I changed it to that.",
      "parentUuid": "04d23233_775946ea",
      "range": {
        "startLine": 98,
        "startChar": 17,
        "endLine": 98,
        "endChar": 50
      },
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb621ee5_46a9cc43",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe_browsertest.cc",
        "patchSetId": 19
      },
      "lineNbr": 112,
      "author": {
        "id": 1112850
      },
      "writtenOn": "2017-07-18T17:30:51Z",
      "side": 1,
      "message": "Is this function blocking?",
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "529176a2_a48d4299",
        "filename": "chrome/browser/resource_coordinator/resource_coordinator_render_process_probe_browsertest.cc",
        "patchSetId": 19
      },
      "lineNbr": 112,
      "author": {
        "id": 1223950
      },
      "writtenOn": "2017-07-19T17:39:29Z",
      "side": 1,
      "message": "That appears to be the case. The function \"Returns true if it was able to do fast shutdown.\":\nhttps://cs.chromium.org/chromium/src/content/public/browser/render_process_host.h?q\u003dFastShutdownIf\u0026sq\u003dpackage:chromium\u0026l\u003d158\n\nFollowing the code path shows that the render process host calls ProcessDied which cleans up the RenderProcessHostImpl and checks the return code of the render process:\nhttps://cs.chromium.org/chromium/src/content/browser/renderer_host/render_process_host_impl.cc?sq\u003dpackage:chromium\u0026l\u003d2533",
      "parentUuid": "cb621ee5_46a9cc43",
      "revId": "4353d1d2e5eed2b5d87f3d005a6579cf8ce805b3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}