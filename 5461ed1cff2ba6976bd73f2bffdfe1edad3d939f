{
  "comments": [
    {
      "key": {
        "uuid": "01d9bbf1_19333a69",
        "filename": "components/autofill/content/renderer/autofill_agent.cc",
        "patchSetId": 1
      },
      "lineNbr": 687,
      "author": {
        "id": 1126726
      },
      "writtenOn": "2017-07-13T21:28:44Z",
      "side": 1,
      "message": "Since you can call into Blink at this point, you probably want to use GetSecurityOrigin()-\u003eIsPotentiallyTrustworthy() instead of content::IsOriginSecure(). They should, theoretically, be the same, but that way you don\u0027t have to convert to a url::Origin, plus, if there are any divergences, you\u0027ll be consistent with other secure contexts checks inside Blink.\n\nDo you know if there is a way to have an http:// iframe inside of an https:// page in WebView? If not, this should be okay, but if it is possible, then you\u0027ll want to check the current frame\u0027s origin as well as all of its ancestors to be consistent with https://www.w3.org/TR/secure-contexts/#settings-object",
      "range": {
        "startLine": 687,
        "startChar": 53,
        "endLine": 687,
        "endChar": 56
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40d98938_860e3728",
        "filename": "components/autofill/content/renderer/autofill_agent.cc",
        "patchSetId": 1
      },
      "lineNbr": 687,
      "author": {
        "id": 1000825
      },
      "writtenOn": "2017-07-14T00:58:03Z",
      "side": 1,
      "message": "Did you actually refer to this implementation? Document::IsSecureContextImpl()  https://cs.chromium.org/chromium/src/third_party/WebKit/Source/core/dom/Document.cpp?rcl\u003d19cbc1d36c775115307c12cc99a67770ee108eff\u0026l\u003d4091\n\nIf so, I may just use it.",
      "parentUuid": "01d9bbf1_19333a69",
      "range": {
        "startLine": 687,
        "startChar": 53,
        "endLine": 687,
        "endChar": 56
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9745dfef_b91a9e35",
        "filename": "components/autofill/content/renderer/autofill_agent.cc",
        "patchSetId": 1
      },
      "lineNbr": 687,
      "author": {
        "id": 1126726
      },
      "writtenOn": "2017-07-14T03:04:09Z",
      "side": 1,
      "message": "Oh, I didn\u0027t realize that was exposed outside of Blink; if so, then yeah, you probably should just that.",
      "parentUuid": "40d98938_860e3728",
      "range": {
        "startLine": 687,
        "startChar": 53,
        "endLine": 687,
        "endChar": 56
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae4f264a_d4296324",
        "filename": "components/autofill/content/renderer/autofill_agent.cc",
        "patchSetId": 1
      },
      "lineNbr": 687,
      "author": {
        "id": 1000825
      },
      "writtenOn": "2017-07-14T16:05:52Z",
      "side": 1,
      "message": "changed to document.IsSecureContext(), also verify whether form action is secure.",
      "parentUuid": "9745dfef_b91a9e35",
      "range": {
        "startLine": 687,
        "startChar": 53,
        "endLine": 687,
        "endChar": 56
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bff14baf_9ed655e1",
        "filename": "components/autofill/content/renderer/autofill_agent.cc",
        "patchSetId": 1
      },
      "lineNbr": 687,
      "author": {
        "id": 1116028
      },
      "writtenOn": "2017-07-14T16:10:58Z",
      "side": 1,
      "message": "For your second question, WebView defaults to MIXED_CONTENT_NEVER_ALLOW. For applications targeting Android Kitkat and below, the default is to MIXED_CONTENT_ALWAYS_ALLOW. Either way this is an app setting.",
      "parentUuid": "9745dfef_b91a9e35",
      "range": {
        "startLine": 687,
        "startChar": 53,
        "endLine": 687,
        "endChar": 56
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1528383_d296f959",
        "filename": "components/autofill/content/renderer/autofill_agent.cc",
        "patchSetId": 1
      },
      "lineNbr": 687,
      "author": {
        "id": 1126726
      },
      "writtenOn": "2017-07-14T17:38:06Z",
      "side": 1,
      "message": "I see -- since it\u0027s an app setting it is probably good that we are using IsSecureContext and walking the frame tree, then. Thanks!",
      "parentUuid": "bff14baf_9ed655e1",
      "range": {
        "startLine": 687,
        "startChar": 53,
        "endLine": 687,
        "endChar": 56
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9a659be_d844f107",
        "filename": "components/autofill/content/renderer/autofill_agent.h",
        "patchSetId": 1
      },
      "lineNbr": 287,
      "author": {
        "id": 1126726
      },
      "writtenOn": "2017-07-13T21:28:44Z",
      "side": 1,
      "message": "copy/pasted comment?",
      "range": {
        "startLine": 287,
        "startChar": 5,
        "endLine": 287,
        "endChar": 76
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a1cfe2e_40a51ee5",
        "filename": "components/autofill/content/renderer/autofill_agent.h",
        "patchSetId": 1
      },
      "lineNbr": 287,
      "author": {
        "id": 1000825
      },
      "writtenOn": "2017-07-14T16:05:52Z",
      "side": 1,
      "message": "oops, changed it.",
      "parentUuid": "b9a659be_d844f107",
      "range": {
        "startLine": 287,
        "startChar": 5,
        "endLine": 287,
        "endChar": 76
      },
      "revId": "5461ed1cff2ba6976bd73f2bffdfe1edad3d939f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}