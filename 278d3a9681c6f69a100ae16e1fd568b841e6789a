{
  "comments": [
    {
      "key": {
        "uuid": "842d0db9_08881ca1",
        "filename": "third_party/WebKit/Source/core/editing/VisibleUnits.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1018,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-10-20T06:09:47Z",
      "side": 1,
      "message": "Which offset does take LT::Is{Before,After}NonCollapsedCharacter(), DOM offset or LayoutText offset?\n\nHere passes LayoutText offset, but call sites of NGOffsetMapping::Is{Before,After}NonCollapsedCharacter() use as DOM offset.",
      "range": {
        "startLine": 1016,
        "startChar": 28,
        "endLine": 1018,
        "endChar": 50
      },
      "revId": "278d3a9681c6f69a100ae16e1fd568b841e6789a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1945db66_db78055b",
        "filename": "third_party/WebKit/Source/core/editing/VisibleUnits.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1018,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-20T06:33:06Z",
      "side": 1,
      "message": "As documented at LT::Is{Before,After}NonCollapsedCharacter(), these two functions take LayoutText offsets.\n\nThey are different from DOM offsets only when there is ::first-letter (let\u0027s ignore text-transform for now...), and if there is ::first-letter, it\u0027s handled in LayoutTextFragment overrides.",
      "parentUuid": "842d0db9_08881ca1",
      "range": {
        "startLine": 1016,
        "startChar": 28,
        "endLine": 1018,
        "endChar": 50
      },
      "revId": "278d3a9681c6f69a100ae16e1fd568b841e6789a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf5e6456_8284d613",
        "filename": "third_party/WebKit/Source/core/editing/VisibleUnits.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1018,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-10-20T06:40:24Z",
      "side": 1,
      "message": "For ::first-letter, \"ABC\" where \"A\" is ::first-letter.\n\nRemaining part: TextStartOffset() \u003d 1\nFirst-letter part: TextStartOffset() \u003d 0\n\nLayoutText::IsAfterNonCollapsedCharacter(unsigned text_offset) const {\n...\n   return GetNGOffsetMapping().IsAfterNonCollapsedCharacter(*GetNode(),\n                                                             text_offset);\n...\n\nWhen current_pos.OffsetInLeafNode() \u003d 1 (remaining part), we call NGOffsetMapping::IsAfterNonCollapsedCharacter() \nwith offset 0 \u003d\u003d current_pos.OffsetInLeafNode() - text_layout_object-\u003eTextStartOffset() \u003d\u003d 1 - 1",
      "parentUuid": "1945db66_db78055b",
      "range": {
        "startLine": 1016,
        "startChar": 28,
        "endLine": 1018,
        "endChar": 50
      },
      "revId": "278d3a9681c6f69a100ae16e1fd568b841e6789a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "579d6415_e83decc8",
        "filename": "third_party/WebKit/Source/core/editing/VisibleUnits.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1018,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-20T06:56:35Z",
      "side": 1,
      "message": "Code in LayoutText only handles the simple case without ::first-letter.\n\n::first-letter related handling is done in LayoutTextFragment overrides. Please check LayoutTextFragment.cpp.",
      "parentUuid": "bf5e6456_8284d613",
      "range": {
        "startLine": 1016,
        "startChar": 28,
        "endLine": 1018,
        "endChar": 50
      },
      "revId": "278d3a9681c6f69a100ae16e1fd568b841e6789a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f432d8c_7a769a22",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2065,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-10-20T07:00:45Z",
      "side": 1,
      "message": "Could you add a comment to explain |text_offset| \u003d\u003d DOM offset here?\nAnd, LayoutText.h?",
      "revId": "278d3a9681c6f69a100ae16e1fd568b841e6789a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51c3144d_4d88f699",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2065,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-20T14:39:46Z",
      "side": 1,
      "message": "Added local variable |dom_offset \u003d text_offset + Start()| in LayoutTextFragment.\n\nI don\u0027t know how to make it more clear here because there\u0027s already documentation in LayoutText.h, and for \"normal\" LayoutText, there\u0027s no distinction between text and dom offsets (again, ignoring text-transform).",
      "parentUuid": "2f432d8c_7a769a22",
      "revId": "278d3a9681c6f69a100ae16e1fd568b841e6789a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}