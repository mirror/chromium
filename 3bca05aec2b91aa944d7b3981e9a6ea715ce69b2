{
  "comments": [
    {
      "key": {
        "uuid": "4cd6d864_3de51510",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1947,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-10-27T04:21:48Z",
      "side": 1,
      "message": "We can make Before/AfterAnchor for Text node.",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e00e40b_ea2c85b5",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1947,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-27T06:06:17Z",
      "side": 1,
      "message": "Ah, this is going to make things a little more nasty...\n\nNot sure if we really want to support Before/AfterAnchor here, because offset mapping doesn\u0027t support them yet. So it\u0027s a question how far we want to go...\n\nMaybe I should stop coding and revise my docs...",
      "parentUuid": "4cd6d864_3de51510",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c08d8d2_8f2bda11",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1947,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-10-27T07:17:57Z",
      "side": 1,
      "message": "Is this so serious?\nBefore Text \u003d Text@0\nAfter Text \u003d Text@length",
      "parentUuid": "0e00e40b_ea2c85b5",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91fa7b01_6740455c",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1947,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-27T17:30:25Z",
      "side": 1,
      "message": "Added a TODO. I still have confusion with \"text\"@Before/AfterAnchor\n\nConsider \u003cdiv\u003efoo\u003c/div\u003e\n\nAs we discussed in crrev.com/c/722464, we consider DIV@0 and \"foo\"@0 as inequivalent positions, and hence introduce different syntax for them.\n\nHowever, DIV@0 and \"foo\"@BeforeAnchor are equivalent positions.\n\nIf \"foo\"@0 and \"foo\"@BeforeAnchor are equivalent, then the equivalence relation is intransitive, which is really weird.",
      "parentUuid": "5c08d8d2_8f2bda11",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5175f517_32270f58",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1947,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-10-30T02:23:23Z",
      "side": 1,
      "message": "I think DIV@0 and \"foo\"@0 should be equivalent. \u003c!--|--\u003e are syntax for\nrepresenting OffsetInContainer position.\n\nFor \u003cdiv\u003e\u003cspan id\u003done\u003eone\u003c/span\u003e\u003cspan id\u003dtwo\u003etwo\u003c/span\u003e\u003c/div\u003e,\n- DIV@0 \u003d\u003d Before One \u003d\u003d BeforeChildren DIV\n- DIV@1 \u003d\u003d After One \u003d\u003d Before Two\n- DIV@2 \u003d\u003d After Two \u003d\u003d AfterChildren DIV\n\nWhen \"one\" and \"two\" are Text node, this is same case of DIV@0 \u003d\u003d \"one\"@0.\n\nI think we should use RangeBoundaryPoint instead of Position[1] to\nuse one representation for one DOM position. Note: We need to have\nconstructor function to handle DIV@0 \u003d\u003d \"one\"@0 case.\n\nNote: FirstPositionInNode() and LastPositionNode() create OffsetInAnchor\nfor Text nodes instead of Before/AfterChildren.\n\nOnce we change Position::{Before,After}Node() to return OffsetInAnchor\nfor Text node, we can mitigate DIV@0 \u003d\u003d \"one\"@0. But, we still need to\nhandle this when DIV.insertBefore(\"one\", DIV.firstChild).\n\nBTW, RangeBoundaryPoint is essentially AfterNode position with offset in\ncontainer cache. \n\n[1] http://crbug.com/751387 Unify Position and RangeBoundaryPoint",
      "parentUuid": "91fa7b01_6740455c",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b5d66b2_73ce15ac",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1948,
      "author": {
        "id": 1128431
      },
      "writtenOn": "2017-10-27T05:30:09Z",
      "side": 1,
      "message": "Same as the other CL; if this function is converting DOM offset to LayoutText offset implicitly, please add comments. This DCHECK will fail if text-transform changes the length, right?",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6b327ee_4a9e3952",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1948,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-27T06:06:17Z",
      "side": 1,
      "message": "There is comment in LayoutText.h about this. Should I replicate it in .cpp files?",
      "parentUuid": "4b5d66b2_73ce15ac",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ff6dcc9_59ae51c4",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1948,
      "author": {
        "id": 1128431
      },
      "writtenOn": "2017-10-27T12:50:18Z",
      "side": 1,
      "message": "TODO is better placed in the code I think. Someone who hit this DCHECK won\u0027t check the header file.",
      "parentUuid": "e6b327ee_4a9e3952",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2aed1790_050f0465",
        "filename": "third_party/WebKit/Source/core/layout/LayoutText.cpp",
        "patchSetId": 4
      },
      "lineNbr": 1948,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-10-27T17:30:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2ff6dcc9_59ae51c4",
      "revId": "3bca05aec2b91aa944d7b3981e9a6ea715ce69b2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}