{
  "comments": [
    {
      "key": {
        "uuid": "a1c7bade_fb8c36bd",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3484,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-11-29T21:13:46Z",
      "side": 1,
      "message": "\"so we can\u0027t share it\" \u003d\u003e does this imply that they should not be able to do parallel writing. That should not happen since request1\u0027s entry is doomed so this part of the comment may be removed.",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47ba50b3_10a0f7b2",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3484,
      "author": {
        "id": 1226494
      },
      "writtenOn": "2017-11-29T21:30:20Z",
      "side": 1,
      "message": "Rather so that it can\u0027t share reading with transaction 2. Should I just say that, or can that not happen? This may comment be in part due to me misunderstanding problems with a much earlier version of the test.",
      "parentUuid": "a1c7bade_fb8c36bd",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c769698_911e896f",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3484,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-11-30T16:27:37Z",
      "side": 1,
      "message": "Ah, so in this case request 2 and 3 both can end up becoming parallel writers if we don\u0027t wait for 2 to end. We can probably remove this part of the comment since either becoming parallel writers or not should not change the outcome of the test which is that 3 is reading from the cached entry.",
      "parentUuid": "47ba50b3_10a0f7b2",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63685c7a_b4f3450e",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3484,
      "author": {
        "id": 1226494
      },
      "writtenOn": "2017-11-30T16:41:09Z",
      "side": 1,
      "message": "Well, the in-memory hint stuff only applies if there is not an ActiveEntry already, so if I tried to run it in parallel it simply won\u0027t exercise this code.\n\nThat sounds like something I should rephrase as a comment? e.g. replace the second sentence with\n\"It\u0027s run after the previous two transactions finish so it doesn\u0027t try to cooperate with them,\n and is entirely driven by the state of the cache\"?",
      "parentUuid": "1c769698_911e896f",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "151925cd_ffcc5454",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3484,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-11-30T18:14:53Z",
      "side": 1,
      "message": "SGTM",
      "parentUuid": "63685c7a_b4f3450e",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "627c527b_8d1eddac",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3494,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-11-29T21:13:46Z",
      "side": 1,
      "message": "Why does this read from a doomed entry?",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b08550a3_4fcd798d",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3494,
      "author": {
        "id": 1226494
      },
      "writtenOn": "2017-11-29T21:30:20Z",
      "side": 1,
      "message": "I don\u0027t understand the question.\n\nBefore this change it would read the memory index hints set by the doomed transaction, since the hints are set as backend methods, not entry methods, so the numbers below would be  3/0/3 instead of 2/1/2.",
      "parentUuid": "627c527b_8d1eddac",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "068c1427_136ab4ae",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3494,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-11-30T16:27:37Z",
      "side": 1,
      "message": "I would assume that request3 would be reading from the new entry created by request 2 rather than the doomed entry created by request 1 but the change impacts not writing the in memory hints in the doomed entry. Am I correct in this understanding?",
      "parentUuid": "b08550a3_4fcd798d",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f4b322c_ae23ab3a",
        "filename": "net/http/http_cache_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 3494,
      "author": {
        "id": 1226494
      },
      "writtenOn": "2017-11-30T16:41:09Z",
      "side": 1,
      "message": "GetEntryInMemoryData is backend-scoped, not entry-scoped \n   (it has to be since the entire point is to avoid opening the entry in the first place)\n\nSetEntryInMemoryData is also like that for symmetry reasons (but it could be potentially \n   implemented on the entry), so it doesn\u0027t know that the transaction doing the writing is \n   actually holding on to a doomed entry.",
      "parentUuid": "068c1427_136ab4ae",
      "revId": "565e15708b51e379dffc3778b5905fe765d7d705",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}