{
  "comments": [
    {
      "key": {
        "uuid": "ad4941d6_fbcbf9db",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/util/FeatureUtilities.java",
        "patchSetId": 6
      },
      "lineNbr": 360,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-11T23:56:19Z",
      "side": 1,
      "message": "If I recall when you ask whether you\u0027re in a particular experiment, you\u0027ll start reporting that back up with your metrics.\n\nIf you were previously in chrome home before the promo, would we be reporting that we showed the promo to these users?\n\nI\u0027m wondering if we should be checking whether they\u0027re already in Chrome home first before asking whether we\u0027re in the promo group.  I think we check this other places, so it could potentially not matter, but I wonder if we can avoid messing up the metrics.",
      "range": {
        "startLine": 360,
        "startChar": 28,
        "endLine": 360,
        "endChar": 57
      },
      "revId": "96a7b295a7c7d0353560c513a73bbaa80751b504",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c66c477_988678ee",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/util/FeatureUtilities.java",
        "patchSetId": 6
      },
      "lineNbr": 360,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-10-12T15:36:00Z",
      "side": 1,
      "message": "I believe it is checked in other areas, but it makes sense to move the chrome home check to the early return. We are adding metrics in a follow-up patch that makes it clear how the promo was triggered and the before/after state of the world. We won\u0027t report that the promo was shown if it is never made visible, though the user\u0027s experiment group might be to show it.\n\nIn any case, we now have the concept of \u0027synthetic trial\u0027 (theresa added here https://chromium-review.googlesource.com/c/chromium/src/+/708040) which allows us to change the user\u0027s group client-side.",
      "parentUuid": "ad4941d6_fbcbf9db",
      "range": {
        "startLine": 360,
        "startChar": 28,
        "endLine": 360,
        "endChar": 57
      },
      "revId": "96a7b295a7c7d0353560c513a73bbaa80751b504",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe026363_93cce1b2",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/ChromeHomePromoDialog.java",
        "patchSetId": 6
      },
      "lineNbr": 112,
      "author": {
        "id": 1116043
      },
      "writtenOn": "2017-10-11T23:56:19Z",
      "side": 1,
      "message": "should this be:?\nif (!mUserMadeSelection) return;\n\nAny reason we are calling switchChromeHomeUserSetting at all if the user didn\u0027t select anything?",
      "range": {
        "startLine": 112,
        "startChar": 30,
        "endLine": 112,
        "endChar": 48
      },
      "revId": "96a7b295a7c7d0353560c513a73bbaa80751b504",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bd79c0d_000871ad",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/ChromeHomePromoDialog.java",
        "patchSetId": 6
      },
      "lineNbr": 112,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-10-12T15:36:00Z",
      "side": 1,
      "message": "Apparently we only ever want to show the dialog once, even if the user backs out of it. The original behavior was what you described.",
      "parentUuid": "fe026363_93cce1b2",
      "range": {
        "startLine": 112,
        "startChar": 30,
        "endLine": 112,
        "endChar": 48
      },
      "revId": "96a7b295a7c7d0353560c513a73bbaa80751b504",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}