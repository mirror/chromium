{
  "comments": [
    {
      "key": {
        "uuid": "2d0d245b_d5395953",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 492,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-11-03T23:42:36Z",
      "side": 1,
      "message": "I\u0027m doing this because there doesn\u0027t appear to be a histogram that can record the range of numbers I\u0027d want for dp/ms. Maybe I\u0027m wrong?",
      "range": {
        "startLine": 492,
        "startChar": 8,
        "endLine": 492,
        "endChar": 33
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e94ce347_c08dec2c",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 492,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-06T21:18:40Z",
      "side": 1,
      "message": "I don\u0027t see any histograms that can record doubles (which is what I assume you want for dp/ms).",
      "parentUuid": "2d0d245b_d5395953",
      "range": {
        "startLine": 492,
        "startChar": 8,
        "endLine": 492,
        "endChar": 33
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c163ad76_335ba021",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 493,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-11-03T23:42:36Z",
      "side": 1,
      "message": "This is a bit spooky; I can use the proper APIs but this gives enough accuracy.",
      "range": {
        "startLine": 493,
        "startChar": 51,
        "endLine": 493,
        "endChar": 67
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "907e9208_5738c6e5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 493,
      "author": {
        "id": 1002483
      },
      "writtenOn": "2017-11-08T21:44:18Z",
      "side": 1,
      "message": "Maybe I\u0027m confused by units here, but I\u0027m surprised this gives enough accuracy. So, mLastSheetOpenMicrosPerDp is Micros/dp. I\u0027ll assume timeDelta is milliseconds then. mLastSheetOpenMicrosPerDp is passed to recordTimesHistogram with TimeUnit.MICROSECONDS. recordTimesHistogram uses TimeUnit.MICROSECONDS to convert mLastSheetOpenMicrosPerDp to milliseconds, and will later be clamped to int. recordTimesHistogram lets you record to a range up to 10 seconds. Without knowing what a dp is, I\u0027d still guess the time per dp to be very short no?\n\nWhat\u0027s the value range you\u0027re expecting here?",
      "parentUuid": "c163ad76_335ba021",
      "range": {
        "startLine": 493,
        "startChar": 51,
        "endLine": 493,
        "endChar": 67
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0eedd6b_52a93c5e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 493,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-11-09T16:40:46Z",
      "side": 1,
      "message": "You are correct; since time isn\u0027t recorded as a float, I\u0027m simply moving the decimal place over so the division to a non floating point value retains more information (granted in a seemingly hacked way). I didn\u0027t realize the histogram worked in the way you described; it seems like this will not work in that case.\n\nThe times I expect here are \u003c 500ms for a vast majority of cases (probably \u003c 100ms). Millisecond resolution is not sufficient for what I\u0027m trying to record. Is there a histogram that I can use to do this? If not, I can probably multiply the recorded value to artificially get a higher number.",
      "parentUuid": "907e9208_5738c6e5",
      "range": {
        "startLine": 493,
        "startChar": 51,
        "endLine": 493,
        "endChar": 67
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e1c55da_d7c6b12e",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 568,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-06T21:18:40Z",
      "side": 1,
      "message": "Maybe it\u0027s time to have a separate class for swipe handling?",
      "range": {
        "startLine": 568,
        "startChar": 7,
        "endLine": 568,
        "endChar": 57
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3121be74_ae251cba",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 568,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-11-06T22:39:13Z",
      "side": 1,
      "message": "Do you mean a metrics class for this observer? I can definitely do that. Ripping out all the swipe logic in this patch is going to be challenging since swipe and Chrome Home logic are pretty intertwined.",
      "parentUuid": "7e1c55da_d7c6b12e",
      "range": {
        "startLine": 568,
        "startChar": 7,
        "endLine": 568,
        "endChar": 57
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b03d9342_cb0d7f2a",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 568,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-06T22:52:18Z",
      "side": 1,
      "message": "I meant all of the swipe logic, but a different patch is okay.",
      "parentUuid": "3121be74_ae251cba",
      "range": {
        "startLine": 568,
        "startChar": 7,
        "endLine": 568,
        "endChar": 57
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "06617ca1_e952ee2f",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 596,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-06T21:18:40Z",
      "side": 1,
      "message": "Should we also check for TYPE_AUXILIARY_CONTENT so that the placeholder content is recorded here?",
      "range": {
        "startLine": 596,
        "startChar": 65,
        "endLine": 596,
        "endChar": 88
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c46fbc27_3b907ea0",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 596,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-11-06T22:39:13Z",
      "side": 1,
      "message": "I don\u0027t think so. If the user managed to do something that got something like suggestions to show, they probably intentionally opened the sheet.",
      "parentUuid": "06617ca1_e952ee2f",
      "range": {
        "startLine": 596,
        "startChar": 65,
        "endLine": 596,
        "endChar": 88
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c465fba_f525d38d",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/widget/bottomsheet/BottomSheet.java",
        "patchSetId": 1
      },
      "lineNbr": 596,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-11-06T22:52:18Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c46fbc27_3b907ea0",
      "range": {
        "startLine": 596,
        "startChar": 65,
        "endLine": 596,
        "endChar": 88
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6280a85_170db74f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 696,
      "author": {
        "id": 1002483
      },
      "writtenOn": "2017-11-08T21:44:18Z",
      "side": 1,
      "message": "It\u0027s recording the reciprocal of the velocity no? Is there a reason you\u0027re not recording velocity?",
      "range": {
        "startLine": 696,
        "startChar": 12,
        "endLine": 696,
        "endChar": 20
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8dfb18b8_886f90ce",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 696,
      "author": {
        "id": 1135279
      },
      "writtenOn": "2017-11-09T16:40:46Z",
      "side": 1,
      "message": "I updated the summary to note that it is the reciprocal. The reason I\u0027m not recording velocity directly is that there isn\u0027t (at least that I know of) a histogram for recording a range of arbitrary float values. If there is, I\u0027ll be happy to change this.",
      "parentUuid": "e6280a85_170db74f",
      "range": {
        "startLine": 696,
        "startChar": 12,
        "endLine": 696,
        "endChar": 20
      },
      "revId": "36463790e84117b45d7f45e5878b919d603e5a37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}