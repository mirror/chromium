{
  "comments": [
    {
      "key": {
        "uuid": "3f6e2785_e024c4fd",
        "filename": "chrome/browser/ssl/ssl_error_navigation_throttle.cc",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T16:29:51Z",
      "side": 1,
      "message": "Should we check that GetSSLInfo is valid here?",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5adea43b_e3de6f78",
        "filename": "chrome/browser/ssl/ssl_error_navigation_throttle.cc",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-29T17:02:11Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s necessary but we can see what Emily thinks. My reading was that before it\u0027s doing null checking before it checks cert_status to avoid a null-dereference if the optional struct wasn\u0027t there. but that\u0027s not needed any more. The IsCertStatusError check below will early out when the struct is empty.",
      "parentUuid": "3f6e2785_e024c4fd",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e1f9183_73e34b9e",
        "filename": "chrome/browser/ssl/ssl_error_navigation_throttle.cc",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1126726
      },
      "writtenOn": "2017-11-29T17:18:09Z",
      "side": 1,
      "message": "Yeah, I think this is fine as written. |cert_status| will default to 0 and we\u0027ll return on line 39 in the case of a non-valid SSLInfo. Maybe just add a comment to say as much?",
      "parentUuid": "5adea43b_e3de6f78",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62fb287f_a407d3af",
        "filename": "chrome/browser/ssl/ssl_error_navigation_throttle.cc",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-29T18:44:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7e1f9183_73e34b9e",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9daf431_1b7d3dd6",
        "filename": "content/browser/frame_host/navigation_handle_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 339,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T14:07:41Z",
      "side": 1,
      "message": "I would prefer if we kept this as a base::Optional\u003cnet::SSLInfo\u003e, as it make it pretty clear to callers whether the object returned by this function is valid. I think there\u0027s less chance of them inadvertently using an invalid SSLInfo this way.",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09695750_70822fd1",
        "filename": "content/browser/frame_host/navigation_handle_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 339,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-29T15:51:46Z",
      "side": 1,
      "message": "The reason I made it not optional are 2-fold:\n-it\u0027s returned to replace SSLStatus, which wasn\u0027t using optional\n-SSLInfo::is_valid() tells callers if it\u0027s valid or not\n-callers have to check valid() regardless, because for example in the common success case we always have it but it\u0027ll be empty for non-secure schemes",
      "parentUuid": "c9daf431_1b7d3dd6",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a153a600_ec8041cb",
        "filename": "content/browser/frame_host/navigation_handle_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 339,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T16:29:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "09695750_70822fd1",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0fd955_5f70d9ca",
        "filename": "content/browser/frame_host/navigation_request.cc",
        "patchSetId": 4
      },
      "lineNbr": 813,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T14:07:41Z",
      "side": 1,
      "message": "Are we ok adding one more copy of SSLInfo?\n\nNote: once we can get rid of the old navigation code and have extended NavigationRequest lifetime, I do plan to simplify NavigationHandle by having it query its navigation parameters from the NavigationRequest instead of storing them. So this might be fine to have in the meantime.",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c7e1e9c_faabb9b7",
        "filename": "content/browser/frame_host/navigation_request.cc",
        "patchSetId": 4
      },
      "lineNbr": 813,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-29T15:51:46Z",
      "side": 1,
      "message": "The expensive parts of it are the certs, which are refcounted so it\u0027s not extra memory (net/ holds on to them). Also before, we were still holding on to a cert refcount in SSLStatus",
      "parentUuid": "2e0fd955_5f70d9ca",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad7afc50_2ca59b66",
        "filename": "content/browser/frame_host/navigation_request.cc",
        "patchSetId": 4
      },
      "lineNbr": 813,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T16:29:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4c7e1e9c_faabb9b7",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8ffd659_9fec2910",
        "filename": "content/browser/loader/navigation_url_loader_network_service.h",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T14:07:41Z",
      "side": 1,
      "message": "Doesn\u0027t this result in more copying of the SSLInfo vs leaving it as a base::Optional and properly moving it around?",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75aaa26a_1bc6752e",
        "filename": "content/browser/loader/navigation_url_loader_network_service.h",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-29T15:51:46Z",
      "side": 1,
      "message": "My other comment addresses this (but let me know if you think it doesn\u0027t).",
      "parentUuid": "f8ffd659_9fec2910",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1041946_829f3566",
        "filename": "content/browser/loader/navigation_url_loader_network_service.h",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T16:29:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "75aaa26a_1bc6752e",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "002b8dd7_6e42ec1d",
        "filename": "content/public/browser/navigation_handle.h",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T14:07:41Z",
      "side": 1,
      "message": "Can you still get a base::nullopt if your return type is no longer base::Optional\u003cfoo\u003e?\n\nAlso side-question: we discussed the usage of const in the public content/ API. We agree that returning a const value from a function is ok right? (here the caller really shouldn\u0027t be allowed to modify it).",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f40ff63_267543b1",
        "filename": "content/public/browser/navigation_handle.h",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1002532
      },
      "writtenOn": "2017-11-29T15:51:46Z",
      "side": 1,
      "message": "oops, the comment wasn\u0027t updated correctly. Fixed, thanks.\n\nRe const in public; that\u0027s just for the method itself. but we return const references often.",
      "parentUuid": "002b8dd7_6e42ec1d",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "668ab7a9_ee3f76aa",
        "filename": "content/public/browser/navigation_handle.h",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1115881
      },
      "writtenOn": "2017-11-29T16:29:51Z",
      "side": 1,
      "message": "Yes that\u0027s what I thought but I wanted to check :).",
      "parentUuid": "0f40ff63_267543b1",
      "revId": "a41150b092561a2bc485f47a8776e035074267b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}