{
  "comments": [
    {
      "key": {
        "uuid": "4489d813_11cc875a",
        "filename": "net/http/http_cache.cc",
        "patchSetId": 37
      },
      "lineNbr": 889,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "The response is not written isn\u0027t perfectly correlated with should_restart being true.\n\nIf there are no dependent transactions but the response isn\u0027t written, should_restart will be false.",
      "range": {
        "startLine": 889,
        "startChar": 14,
        "endLine": 889,
        "endChar": 62
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f073f798_329a2cf7",
        "filename": "net/http/http_cache.cc",
        "patchSetId": 37
      },
      "lineNbr": 889,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T13:56:09Z",
      "side": 1,
      "message": "Refactored this function to not use HasDependentTransactions as that was only checking the transaction\u0027s mode is not READ. Checking that inline to be more clear and removing HasDependentTransactions. Also rephrased the comment.",
      "parentUuid": "4489d813_11cc875a",
      "range": {
        "startLine": 889,
        "startChar": 14,
        "endLine": 889,
        "endChar": 62
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d52a8122_31f4c342",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 201,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "Why do we sometimes call DoneWithEntry and sometimes call cache_-\u003eDoneWithEntry? The header comment doesn\u0027t explain why we shouldn\u0027t always call DoneWithEntry. Ideally we could converge on one path.",
      "range": {
        "startLine": 201,
        "startChar": 14,
        "endLine": 201,
        "endChar": 27
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff128aa9_fb11bc42",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 201,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "One difference between the two is invoking RecordHistograms. RecordHistograms itself does some early returns based on some members like cache_entry_status_. Since RecordHistograms is taking care of when (not) to record histograms, I think its ok to call it given other factors given below are not present.\n\nAnother factor is if we do not want to invoke RecordHistograms and change mode_ to NONE at this point since we are going to add it to another entry. An example is this: https://cs.chromium.org/chromium/src/net/http/http_cache_transaction.cc?dr\u0026l\u003d2904\nAdded a comment to this invocation as to why we are not calling the wrapper.\n\nAnother example where we do not want to change the mode is https://cs.chromium.org/chromium/src/net/http/http_cache_transaction.cc?dr\u0026l\u003d2940 (Not sure I completely understand the reason here, though there are assertions on mode failing and 12 tests crashing. more so because this is existing code I am letting this case be as is.)\n\nIn all other places it seems fine to invoke the wrapper and I have updated to do that",
      "parentUuid": "d52a8122_31f4c342",
      "range": {
        "startLine": 201,
        "startChar": 14,
        "endLine": 201,
        "endChar": 27
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f56b81b9_1cebc0e4",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 201,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-26T20:32:33Z",
      "side": 1,
      "message": "sgtm, thanks",
      "parentUuid": "ff128aa9_fb11bc42",
      "range": {
        "startLine": 201,
        "startChar": 14,
        "endLine": 201,
        "endChar": 27
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4853bc88_46325f77",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 201,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-28T17:26:30Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f56b81b9_1cebc0e4",
      "range": {
        "startLine": 201,
        "startChar": 14,
        "endLine": 201,
        "endChar": 27
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44e74ffa_b50ba73a",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 392,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "Perhaps:\n\nIf there is no network, and no cache entry, then there is nothing to read from. An error state should be set for the next read, else this transaction should have been terminated once it reached this state.",
      "range": {
        "startLine": 390,
        "startChar": 0,
        "endLine": 392,
        "endChar": 29
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e269d8a2_bdd84fc3",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 392,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "44e74ffa_b50ba73a",
      "range": {
        "startLine": 390,
        "startChar": 0,
        "endLine": 392,
        "endChar": 29
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "969f59cb_69088643",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 412,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "Mode shouldn\u0027t be NONE right? At least the comment above says as much: \"if entry_ is present, the transaction is either a writer or a reader\".",
      "range": {
        "startLine": 412,
        "startChar": 27,
        "endLine": 412,
        "endChar": 41
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ff9e04f_ce45d031",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 412,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "This is the case when the transaction was added to writers and then it was set to network_read_only_",
      "parentUuid": "969f59cb_69088643",
      "range": {
        "startLine": 412,
        "startChar": 27,
        "endLine": 412,
        "endChar": 41
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "afe8fc3a_7e17a103",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 412,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-26T20:32:33Z",
      "side": 1,
      "message": "You\u0027re saying that it\u0027s possible to have an entry_ and be in mode NONE, which means the comment on line 398 needs to be updated.",
      "parentUuid": "0ff9e04f_ce45d031",
      "range": {
        "startLine": 412,
        "startChar": 27,
        "endLine": 412,
        "endChar": 41
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5602aeaf_eb766b04",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 412,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-28T17:26:30Z",
      "side": 1,
      "message": "Rephrased",
      "parentUuid": "afe8fc3a_7e17a103",
      "range": {
        "startLine": 412,
        "startChar": 27,
        "endLine": 412,
        "endChar": 41
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "489c4da2_0e8ecebe",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 2898,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "It\u0027s not intuitive that keep_entry translates accurately to did_finish. HC::DoneWithEntry won\u0027t delete the entry just because its |did_finish| argument is false.\n\nPerhaps we could replace this with:\n\n```\nif (!keep_entry) {\n  cache_-\u003eDoomActiveEntry(entry_);  // this interface may not exist?\n}\nDoneWithEntry(false);\n```\n\nWDYT?",
      "range": {
        "startLine": 2898,
        "startChar": 18,
        "endLine": 2898,
        "endChar": 45
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afc70609_2950c177",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 2898,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "Using success instead of keep_entry. WDYT? In your suggestion above, I am not sure why we are always invoking DoneWithEntry with false. That will be a behavior change because some of the scenarios are calling DoneWithEntry with true now.",
      "parentUuid": "489c4da2_0e8ecebe",
      "range": {
        "startLine": 2898,
        "startChar": 18,
        "endLine": 2898,
        "endChar": 45
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62e89343_0e1e03be",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 2898,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-26T20:32:33Z",
      "side": 1,
      "message": "Created new comment, but I believe that when calling ContinueInNetworkReadOnlyMode we already know that success is false, so why do we even take a boolean argument?",
      "parentUuid": "afc70609_2950c177",
      "range": {
        "startLine": 2898,
        "startChar": 18,
        "endLine": 2898,
        "endChar": 45
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f12cce6_4a7ba36b",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 2898,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-28T17:26:30Z",
      "side": 1,
      "message": "Line 359 is an example where it can be true.",
      "parentUuid": "62e89343_0e1e03be",
      "range": {
        "startLine": 2898,
        "startChar": 18,
        "endLine": 2898,
        "endChar": 45
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1e873ea_07da0ccd",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 3118,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "Do we want to handle this situation or DCHECK? I\u0027d think DCHECK to help us find logic bugs.",
      "range": {
        "startLine": 3118,
        "startChar": 4,
        "endLine": 3118,
        "endChar": 10
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "371838a5_4af5cb1d",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 37
      },
      "lineNbr": 3118,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1e873ea_07da0ccd",
      "range": {
        "startLine": 3118,
        "startChar": 4,
        "endLine": 3118,
        "endChar": 10
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fa49143_7ae5ec12",
        "filename": "net/http/http_cache_transaction.h",
        "patchSetId": 37
      },
      "lineNbr": 220,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "DISALLOW_COPY_AND_ASSIGN since this has a std::unique_ptr member.",
      "range": {
        "startLine": 220,
        "startChar": 35,
        "endLine": 220,
        "endChar": 0
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89a129e3_18ed5195",
        "filename": "net/http/http_cache_transaction.h",
        "patchSetId": 37
      },
      "lineNbr": 220,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5fa49143_7ae5ec12",
      "range": {
        "startLine": 220,
        "startChar": 35,
        "endLine": 220,
        "endChar": 0
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "084973fc_8a6d30cf",
        "filename": "net/http/http_cache_transaction.h",
        "patchSetId": 37
      },
      "lineNbr": 464,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-22T16:22:19Z",
      "side": 1,
      "message": "This function isn\u0027t necessary. Just merge its logic into DoPartialNetworkReadCompleted.",
      "range": {
        "startLine": 464,
        "startChar": 6,
        "endLine": 464,
        "endChar": 38
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c417f1c0_5c52b689",
        "filename": "net/http/http_cache_transaction.h",
        "patchSetId": 37
      },
      "lineNbr": 464,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-25T15:41:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "084973fc_8a6d30cf",
      "range": {
        "startLine": 464,
        "startChar": 6,
        "endLine": 464,
        "endChar": 38
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a72d098b_4ae9fa86",
        "filename": "net/http/http_cache_writers.h",
        "patchSetId": 37
      },
      "lineNbr": 91,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-26T20:32:33Z",
      "side": 1,
      "message": "Rename to RemoveTransaction?",
      "range": {
        "startLine": 91,
        "startChar": 7,
        "endLine": 91,
        "endChar": 31
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d6f6552_1e528fcf",
        "filename": "net/http/http_cache_writers.h",
        "patchSetId": 37
      },
      "lineNbr": 91,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-28T17:26:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a72d098b_4ae9fa86",
      "range": {
        "startLine": 91,
        "startChar": 7,
        "endLine": 91,
        "endChar": 31
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8d08942_8f532d3d",
        "filename": "net/http/http_transaction.h",
        "patchSetId": 37
      },
      "lineNbr": 128,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-09-26T20:32:33Z",
      "side": 1,
      "message": "which it may choose to ignore.",
      "range": {
        "startLine": 127,
        "startChar": 55,
        "endLine": 128,
        "endChar": 18
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbb6123f_cda7d66b",
        "filename": "net/http/http_transaction.h",
        "patchSetId": 37
      },
      "lineNbr": 128,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-09-28T17:26:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8d08942_8f532d3d",
      "range": {
        "startLine": 127,
        "startChar": 55,
        "endLine": 128,
        "endChar": 18
      },
      "revId": "607fbe1d9dbf6f1f66aee1e436939c57275786bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}