{
  "comments": [
    {
      "key": {
        "uuid": "6ce985d3_02844410",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2018-01-05T18:59:35Z",
      "side": 1,
      "message": "what\u0027s with these unrelated behavior changes?",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ca2fad8_c16e4223",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-05T19:08:06Z",
      "side": 1,
      "message": "No behavior change here... I just moved out the status code fetching to be able to reach it from the DCHECK.",
      "parentUuid": "6ce985d3_02844410",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd9af639_caa8b809",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2018-01-05T19:14:06Z",
      "side": 1,
      "message": "\u003e No behavior change here... I just moved out the status code fetching to be able to reach it from the DCHECK.\n\nI don\u0027t know what it means to query the status of a in-process \"process\"",
      "parentUuid": "1ca2fad8_c16e4223",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "165619d1_e60f01ba",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1148065
      },
      "writtenOn": "2018-01-05T22:07:01Z",
      "side": 1,
      "message": "Right, I don\u0027t think we should be calling GetTerminationStatus when we didn\u0027t launch the process. It didn\u0027t before, that\u0027s a behavior change. Looking at the code on posix, I don\u0027t think it will give you any useful information (or at least not what you think it will). I actually think it will be harmful (will call waitpid(0, ...) which means it will eat the termination status of any child that may have terminated but hasn\u0027t been reaped yet).",
      "parentUuid": "bd9af639_caa8b809",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1214af2_07a780c2",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-10T16:08:27Z",
      "side": 1,
      "message": "Ack. I removed the DCHECK and added tests to content_browsertests instead.",
      "parentUuid": "165619d1_e60f01ba",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a149ca3d_96ad1fb0",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2018-01-10T17:39:48Z",
      "side": 1,
      "message": "\u003e Ack. I removed the DCHECK and added tests to content_browsertests instead.\n\nyou can still do this:\nif (in_process_gpu_thread_)\n  DCHECK(process_);",
      "parentUuid": "b1214af2_07a780c2",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c75657e_1ad3d08d",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-10T17:58:57Z",
      "side": 1,
      "message": "That DCHECK wouldn\u0027t catch the race that caused this bug. Here process_ is non-null as long as ~GpuProcessHost() executes. Once ~GpuProcessHost() returns, process_ is being destructed.\n\nhttps://isocpp.org/wiki/faq/dtors#order-dtors-for-members",
      "parentUuid": "a149ca3d_96ad1fb0",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb33c74f_cb2b76b2",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 524,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2018-01-10T18:37:29Z",
      "side": 1,
      "message": "\u003e That DCHECK wouldn\u0027t catch the race that caused this bug. Here process_ is non-null as long as ~GpuProcessHost() executes. Once ~GpuProcessHost() returns, process_ is being destructed.\n\u003e \n\u003e https://isocpp.org/wiki/faq/dtors#order-dtors-for-members\n\nI know. But it\u0027s intended to catch anything (in the future) that deletes process_ outside of the destructor, without shutting down in proc thread as well.\n\nThat was the the intent of my original comment a few patch sets ago..",
      "parentUuid": "2c75657e_1ad3d08d",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd211814_fb351510",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 527,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2018-01-05T18:59:35Z",
      "side": 1,
      "message": "sorry, should have said non-null instead of alive",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2007614d_aaa471dd",
        "filename": "content/browser/gpu/gpu_process_host.cc",
        "patchSetId": 7
      },
      "lineNbr": 527,
      "author": {
        "id": 1245462
      },
      "writtenOn": "2018-01-10T16:08:27Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "dd211814_fb351510",
      "revId": "e085c51cc9c4c27d561c4202b89156e1062e4260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}