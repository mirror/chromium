{
  "comments": [
    {
      "key": {
        "uuid": "a3866d85_71f724b4",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.html",
        "patchSetId": 5
      },
      "lineNbr": 158,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-02T21:50:09Z",
      "side": 1,
      "message": "optional:\n\nIt seems like you\u0027re capturing the entire element\u0027s text, except for the undo button. \n\nIf it\u0027s not a necessity to avoid capturing the \"undo\" word, it\u0027s probably easier to just do \"consentDescription \u003d this.textContent\" on the entire custom element and not have to attach all the \"consent-description\" attribute.",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4acc5be5_dbb38bfc",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.html",
        "patchSetId": 5
      },
      "lineNbr": 158,
      "author": {
        "id": 1118331
      },
      "writtenOn": "2018-02-07T19:39:35Z",
      "side": 1,
      "message": "It\u0027s probably not necessary to avoid capturing \"Undo\" (arguably it\u0027s also part of consent description), but there are several problems with taking the whole textContent:\n\n- I want to translate the strings back to their GRD IDs, which means I need to record individual strings where each directly corresponds to one string in the GRD file.\n- Although currently not present, if we want to e.g. show the user\u0027s name in the future, such a custom string would have to be avoided, so it seems better to be explicit about what is recorded and what not.\n- When manually testing, I realized that some of the strings contain HTML markup (\u003ca\u003e\u003c/a\u003e), so in the end we actually have to record innerHTML rather than textContent.",
      "parentUuid": "a3866d85_71f724b4",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ea52b61_37ec662e",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.html",
        "patchSetId": 5
      },
      "lineNbr": 158,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-07T22:59:47Z",
      "side": 1,
      "message": "Okay, this makes sense if you\u0027re trying to capture it exactly as it is in the translation file.",
      "parentUuid": "4acc5be5_dbb38bfc",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "641d9119_00a7dd3a",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-02T21:50:09Z",
      "side": 1,
      "message": "I\u0027m not sure if clicking on settings should be counted as consent, since plan on providing a \"nevermind, log me back out please\" button on the settings page. So if the user clicks the settings link and then click that button, how do we strike that record off?",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2015ae7_9b242b6e",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1118331
      },
      "writtenOn": "2018-02-07T19:39:35Z",
      "side": 1,
      "message": "That\u0027s a good point! We\u0027ll treat that as consent revokation, which we\u0027ll also record. I\u0027ll address that in a followup CL.\n\nWe could theoretically hold on recording until the user leaves settings, but that seems more error-prone, and also not exactly achieving the goal of recording what *exactly* the user saw when granting consent. Recording that the user read the dialog, consented (or rather - acknowledged in this case), then went to settings and revoked consent from there is a better representation of reality than saying that the user consented to the text of the dialog by leaving settings in a different way than clicking the \"Cancel\" button.",
      "parentUuid": "641d9119_00a7dd3a",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5bdca590_82babf9c",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-07T22:59:47Z",
      "side": 1,
      "message": "Just a heads up, based on the current code in tip of tree, the only way user can \"cancel\" after they get to the settings page is by hitting the back button.. there\u0027s recently a large thread discussing this and we do plan on adding a more obvious button in the page that just says \"cancel\", but that\u0027s not in yet, so I don\u0027t know if there\u0027s an obvious place right now for you to add the revoke code in settings.",
      "parentUuid": "f2015ae7_9b242b6e",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5b10ba7_592dc206",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 73,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-02T21:50:09Z",
      "side": 1,
      "message": "there\u0027s an assertNotReached() function.",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ba7ef01_dd19644c",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 73,
      "author": {
        "id": 1118331
      },
      "writtenOn": "2018-02-07T19:39:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5b10ba7_592dc206",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44082e31_59635b70",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-02T21:50:09Z",
      "side": 1,
      "message": "The text in this page seems fairly static (no text or [hidden] really changes). Can we generate this consent-description only once when the dialog is created, to avoid having to call Array.from, .querySelectorAll, and .map twice each?\n\nyou can probably add this in attached() above (and set a this.consentDescription_ on the object or something).",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76577789_707f43d4",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1118331
      },
      "writtenOn": "2018-02-07T19:39:35Z",
      "side": 1,
      "message": "I want this code to be somewhat defensive towards unexpected changes. In case the dialog had some moving parts, it\u0027s better to scrap the text at click time.\n\n(I also replaced [hidden] with clientWidth/clientHeight checks for visibility, which is more general.)\n\nMore importantly, I don\u0027t understand what do you mean by twice? This method is called from onConfirm_() and onGoToSettings_(), but those two events are mutually exclusive.",
      "parentUuid": "44082e31_59635b70",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "354bd145_7266f0eb",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-07T22:59:47Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "76577789_707f43d4",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eca22c74_eaec1b1a",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-02T21:50:09Z",
      "side": 1,
      "message": "does this.querySelectorAll also work?",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7961dce_06464bf0",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1118331
      },
      "writtenOn": "2018-02-07T19:39:35Z",
      "side": 1,
      "message": "Despite my expectation that \"this\" is \"sync-confirmation-app\", it doesn\u0027t. It\u0027s actually not clear to me why.",
      "parentUuid": "eca22c74_eaec1b1a",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbf1bdf9_67702184",
        "filename": "chrome/browser/resources/signin/dice_sync_confirmation/sync_confirmation_app.js",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 1214259
      },
      "writtenOn": "2018-02-07T22:59:47Z",
      "side": 1,
      "message": "I patched this CL hoping to investigate this a little bit, but unfortunately it seems like there\u0027s conflicts with master and I\u0027m not able to compile :(",
      "parentUuid": "f7961dce_06464bf0",
      "revId": "1d4c288819f17cc8ca642e74b42ce788e580bd40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}