{
  "comments": [
    {
      "key": {
        "uuid": "9d6d0005_0852e801",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/Resource.h",
        "patchSetId": 6
      },
      "lineNbr": 285,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:43:53Z",
      "side": 1,
      "message": "name this HasPassedCORSCheck() and add a comment to explain that this is about CORS check on the final response.",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ff992d9_c6f1b0dd",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/Resource.h",
        "patchSetId": 6
      },
      "lineNbr": 285,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:44:25Z",
      "side": 1,
      "message": "Oh this has already happened. Never mind.",
      "parentUuid": "9d6d0005_0852e801",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "094b0529_08bcadb7",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 291,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:43:53Z",
      "side": 1,
      "message": "name this DetermineCORSStatus",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "435cb3ad_367cdb7d",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 291,
      "author": {
        "id": 1217370
      },
      "writtenOn": "2017-06-20T12:56:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "094b0529_08bcadb7",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d71c3c97_75d221d1",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 305,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:43:53Z",
      "side": 1,
      "message": "indent to align with the first line of a bullet point.",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "908eb8a4_032d8584",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 305,
      "author": {
        "id": 1217370
      },
      "writtenOn": "2017-06-20T12:56:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d71c3c97_75d221d1",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db1e6892_e9d76048",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 320,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:43:53Z",
      "side": 1,
      "message": "just have an else block here.",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9be78df_2c1f1d09",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 320,
      "author": {
        "id": 1217370
      },
      "writtenOn": "2017-06-20T12:56:43Z",
      "side": 1,
      "message": "I rearranged this part with patch set 7 when replacing the boolean flags with a status enum. I feel the code now does not benefit from adding an else block any longer, but please check if you agree.",
      "parentUuid": "db1e6892_e9d76048",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5679e535_1537bebd",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 413,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:43:53Z",
      "side": 1,
      "message": "by -\u003e be?",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c070ce78_51812557",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 413,
      "author": {
        "id": 1217370
      },
      "writtenOn": "2017-06-20T12:56:43Z",
      "side": 1,
      "message": "Right :-|",
      "parentUuid": "5679e535_1537bebd",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f8eda32_a5657d9c",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 415,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T09:43:53Z",
      "side": 1,
      "message": "This makes CORS check happen for fetches without cors_enabled set. Can we do the followings instead?\n- run this only when cors_enabled is set\n- have a boolean to indicate that CORS check has been done\n- let PassesAccessControlCheck() see the cached result when the boolean is set to true",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0dcc889_5d99c632",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 415,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-20T11:21:53Z",
      "side": 1,
      "message": "I realized that the PassesAccessControlCheck() users should be prohibited to use the resource when all the CORS handling in ResourceFetcher/ResourceLoader was not performed. So, what I said here should be fixed to say that the users of PassesAccessControlCheck() should assume the check has failed when the CORS status is not set. I.e. kUnknown?",
      "parentUuid": "5f8eda32_a5657d9c",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5385b398_a01cfb41",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 415,
      "author": {
        "id": 1217370
      },
      "writtenOn": "2017-06-20T12:56:43Z",
      "side": 1,
      "message": "On Jochen\u0027s comment I moved SetCORSStatus up with patch set 8 so that it would always be called before the error checks, thus users should (now) never see kUnknown. I added it mainly because I felt uncomfortable initializing the status to either kSuccessful or kFailed.\n\nRegarding only running the CORS check when cors_enabled is set, I suppose we still would want to know whether the resource was loaded same origin, right? If that assumption holds, since SetCORSStatus (aka DetermineCORSStatus) first checks same origin and return in case of same origin, I feel we would (not any longer) gain performance or readability from regarding cors_enabled - do you agree?",
      "parentUuid": "c0dcc889_5d99c632",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b354b62a_322127af",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 415,
      "author": {
        "id": 1217370
      },
      "writtenOn": "2017-06-20T13:48:06Z",
      "side": 1,
      "message": "Disregard my comment on cors_enabled - I meanwhile figured out why CORS checks should only be performed when cors_enabled is set and adjusted the code with patch set 10.",
      "parentUuid": "5385b398_a01cfb41",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d09e845b_0dc69475",
        "filename": "third_party/WebKit/Source/platform/loader/fetch/ResourceLoader.cpp",
        "patchSetId": 6
      },
      "lineNbr": 415,
      "author": {
        "id": 1002864
      },
      "writtenOn": "2017-06-21T07:30:45Z",
      "side": 1,
      "message": "I was partially wrong in this comment. See my reply to another thread. Thanks!",
      "parentUuid": "b354b62a_322127af",
      "revId": "b9eb1f9c02010aa6433a1f9d2b0d3f4c9ae5de5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}