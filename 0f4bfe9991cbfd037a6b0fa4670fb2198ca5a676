{
  "comments": [
    {
      "key": {
        "uuid": "c38863b3_b51c3503",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "Isn\u0027t this more accurately a preferred_view_width, in that it\u0027s not binding and is only used in GetPreferredSize?\n\n(Without knowing the graphics stack, can Layout fail if the size of the host is too small for the buttons? What happens in that case?)",
      "range": {
        "startLine": 17,
        "startChar": 49,
        "endLine": 17,
        "endChar": 59
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "718bfcf2_47a5bffb",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "In the general case, views may need to handle resizing and such. In this specific case, the spec for the dialog makes the width fixed. I\u0027ll sprinkle in some comments and DCHECKs to make it more clear that this is a requirement rather than a hint.",
      "parentUuid": "c38863b3_b51c3503",
      "range": {
        "startLine": 17,
        "startChar": 49,
        "endLine": 17,
        "endChar": 59
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bf197b0_da469404",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "718bfcf2_47a5bffb",
      "range": {
        "startLine": 17,
        "startChar": 49,
        "endLine": 17,
        "endChar": 59
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6ef8300_d2713999",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "Really? Naked pointers in this API? What decade are we living in?",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c258cb41_2949718a",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "views:: seems to have a number of cases where ownership of a thing is handed to some other thing, yet one still interacts with the first thing via a raw pointer. I modeled this after views::GridLayout::CreateAndInstall in the hopes that it would look familiar to someone who knows more about views and layouts than I do.",
      "parentUuid": "e6ef8300_d2713999",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54d79d9a_fab96d2f",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "(Just re-read my comment and realized it sounded a little aggressive. Was meant to be tongue in cheek.)\n\nThanks for the explanation.",
      "parentUuid": "c258cb41_2949718a",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bb9e69e_408efaf5",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-18T22:33:07Z",
      "side": 1,
      "message": "No worries. It\u0027s a legitimate sentiment now that we\u0027re so accustomed to std::make_unique and such. I had a similar comment about the views code in try_chrome_dialog.cc. Naked pointers look all cold and prickly to me these days.",
      "parentUuid": "54d79d9a_fab96d2f",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 24
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e43b104_bb0492fd",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "Do you need another DCHECK here to validate child_count?",
      "range": {
        "startLine": 30,
        "startChar": 24,
        "endLine": 30,
        "endChar": 26
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4f40fd0_57033ac4",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "moved the counting and DCHECKing into a helper function so that all paths do the checking.",
      "parentUuid": "1e43b104_bb0492fd",
      "range": {
        "startLine": 30,
        "startChar": 24,
        "endLine": 30,
        "endChar": 26
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7164e425_91dfe723",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f4f40fd0_57033ac4",
      "range": {
        "startLine": 30,
        "startChar": 24,
        "endLine": 30,
        "endChar": 26
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af16414a_16bfbfab",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "What if the button is wider than the host? Should the host be stretched, or do we clip? Document what and why, or DCHECK on assumptions?",
      "range": {
        "startLine": 35,
        "startChar": 26,
        "endLine": 35,
        "endChar": 35
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfee619b_12d7cf62",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "Documentation and DCHECKs added. Thanks.",
      "parentUuid": "af16414a_16bfbfab",
      "range": {
        "startLine": 35,
        "startChar": 26,
        "endLine": 35,
        "endChar": 35
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57bf2dff_6baa40c0",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bfee619b_12d7cf62",
      "range": {
        "startLine": 35,
        "startChar": 26,
        "endLine": 35,
        "endChar": 35
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f19e42cc_ce7fb975",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "Maybe the preferred width should be max(view_width_, max_child_size.width())?\n\nThis doesn\u0027t take into account the fact that the button can overflow the provided view_width_ (on both of the code paths)?",
      "range": {
        "startLine": 69,
        "startChar": 10,
        "endLine": 69,
        "endChar": 21
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee57fb49_b51890a1",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "While a button\u0027s preferred width may end up being too big (if it\u0027s given a mongo-long string), elision will kick in when it paints itself with smaller bounds than it prefers. I temporarily had a DCHECK here, but it conflicts with the new test, which actually tries using buttons that are too big for the host view.",
      "parentUuid": "f19e42cc_ce7fb975",
      "range": {
        "startLine": 69,
        "startChar": 10,
        "endLine": 69,
        "endChar": 21
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e471824d_785a3fec",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ee57fb49_b51890a1",
      "range": {
        "startLine": 69,
        "startChar": 10,
        "endLine": 69,
        "endChar": 21
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7ad475f_dc5813d6",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 78,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "Or if it\u0027s assumed that the buttons be smaller than the host width, also DCHECK on that and document it in the header?",
      "range": {
        "startLine": 78,
        "startChar": 23,
        "endLine": 78,
        "endChar": 25
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f99596f6_07637131",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 78,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "The DCHECK I\u0027ve added to GetPreferredSize should cover it. Let me know if you think otherwise.",
      "parentUuid": "d7ad475f_dc5813d6",
      "range": {
        "startLine": 78,
        "startChar": 23,
        "endLine": 78,
        "endChar": 25
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "808ea885_970f836d",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.cc",
        "patchSetId": 3
      },
      "lineNbr": 78,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "Nope, works for me!",
      "parentUuid": "f99596f6_07637131",
      "range": {
        "startLine": 78,
        "startChar": 23,
        "endLine": 78,
        "endChar": 25
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11c6d78c_375b4433",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.h",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-13T18:06:32Z",
      "side": 1,
      "message": "Document that |view| is expected to have exactly 1 or 2 children, corresponding to the buttons? Wasn\u0027t obvious to me that all children would be considered as buttons...",
      "range": {
        "startLine": 32,
        "startChar": 47,
        "endLine": 32,
        "endChar": 51
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95762990_21428e05",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.h",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-12-14T14:23:42Z",
      "side": 1,
      "message": "Done, with a little extra text in the class comment as well.",
      "parentUuid": "11c6d78c_375b4433",
      "range": {
        "startLine": 32,
        "startChar": 47,
        "endLine": 32,
        "endChar": 51
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5531649_02e6c830",
        "filename": "chrome/browser/ui/views/try_chrome_dialog_win/button_layout.h",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001187
      },
      "writtenOn": "2017-12-18T20:13:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "95762990_21428e05",
      "range": {
        "startLine": 32,
        "startChar": 47,
        "endLine": 32,
        "endChar": 51
      },
      "revId": "0f4bfe9991cbfd037a6b0fa4670fb2198ca5a676",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}