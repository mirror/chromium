{
  "comments": [
    {
      "key": {
        "uuid": "a09425fc_2dce4fc2",
        "filename": "ios/chrome/browser/ui/browser_view_controller.mm",
        "patchSetId": 10
      },
      "lineNbr": 1977,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "See my comment about this not being a coordinator. If that\u0027s the case, then it doesn\u0027t need to be created or owned by the BVC -- although then I\u0027m not sure what object should own it.",
      "range": {
        "startLine": 1977,
        "startChar": 8,
        "endLine": 1977,
        "endChar": 33
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15a38e85_dd5859fc",
        "filename": "ios/chrome/browser/ui/browser_view_controller.mm",
        "patchSetId": 10
      },
      "lineNbr": 1977,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "Leaving unresolved until we solve the other comment.",
      "parentUuid": "a09425fc_2dce4fc2",
      "range": {
        "startLine": 1977,
        "startChar": 8,
        "endLine": 1977,
        "endChar": 33
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6682fe6c_0ac22c61",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 14,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "This doesn\u0027t host a view controller, so I don\u0027t know if the coordinator pattern is actually needed (or useful) here. Should this just be a simple \u0027handler\u0027 class? All it does is catch the external search command and plug in the provider values before opening the URL. (Technically this seems like the Mediator pattern, since it encapsulates the interaction of the command, the provider output, and the UIApplication calls. But we\u0027ve created expectations around a specific usage of that pattern, so calling this a \u0027Mediator\u0027 might be confusing).",
      "range": {
        "startLine": 14,
        "startChar": 39,
        "endLine": 14,
        "endChar": 56
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8accb305_dc54d557",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 14,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "My initial rational was that a coordinator handles a flow within the app. It happens to be that the flow I am adding is to launch another app, but conceptually, I could as well present a view controller (what QRScannerLegacyCoordinator is doing).\n\nThat being said, our definition of a coordinator in Chrome is a bit more precise. What about if I keep this coordinator, to be parallel to the QRScannerLegacyCoordinator coordinator, and add a real mediator to it? We still don\u0027t have real view controller creation\u0026presentation but the handler fits the description and the ownership pattern?",
      "parentUuid": "6682fe6c_0ac22c61",
      "range": {
        "startLine": 14,
        "startChar": 39,
        "endLine": 14,
        "endChar": 56
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17badf9c_ad885a3d",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 14,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-19T14:19:23Z",
      "side": 1,
      "message": "That seems fine. That means the coordinator doesn\u0027t need to have the UIApplication injected, since that\u0027s functionally the \u0027model object\u0027 the mediator is interacting with.\n\nHowever, I think that having this be a ChromeCoordinator subclass doesn\u0027t get us anything, so just an NSObject is fine.",
      "parentUuid": "8accb305_dc54d557",
      "range": {
        "startLine": 14,
        "startChar": 39,
        "endLine": 14,
        "endChar": 56
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bffa6c8_7c19f6b0",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 14,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-19T15:31:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17badf9c_ad885a3d",
      "range": {
        "startLine": 14,
        "startChar": 39,
        "endLine": 14,
        "endChar": 56
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6587fcd8_c3128f61",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 22,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "Prefer for objects that don\u0027t own a CommandDispatcher to treat it only in terms of the API it needs to implement -- so id\u003cExternalSearchCommands\u003e.",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 54
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47a93cb0_d148b04e",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 22,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "I followed the pattern of the other coordinators in BVC:\nhttps://cs.chromium.org/chromium/src/ios/chrome/browser/ui/browser_view_controller.mm?type\u003dcs\u0026q\u003d%22Create+child+coordinators%22\u0026sq\u003dpackage:chromium\u0026l\u003d1935-1970\n\nWithout this, I can\u0027t do the start/stop in -setDispatcher:.\n\nI think this is a comment I should address once we settle on the \"coordinator or not\" comment. Keeping it unresolved here for now.",
      "parentUuid": "6587fcd8_c3128f61",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 54
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c8fb151_c4fd063d",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 22,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-19T14:19:23Z",
      "side": 1,
      "message": "Yep, my mistake. Another approach would be to make this object conform to the external search protocol and then have the BVC dispatch to it, but if you shift to a mediator, that\u0027s less clean.",
      "parentUuid": "47a93cb0_d148b04e",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 54
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27f3b89e_e1baff2d",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.h",
        "patchSetId": 10
      },
      "lineNbr": 22,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-19T15:31:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4c8fb151_c4fd063d",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 54
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36825b1c_4290e7ec",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.mm",
        "patchSetId": 10
      },
      "lineNbr": 36,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "Setting the dispatcher to nil does this already, right?",
      "range": {
        "startLine": 36,
        "startChar": 19,
        "endLine": 36,
        "endChar": 42
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2651caf1_6fc159ac",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator.mm",
        "patchSetId": 10
      },
      "lineNbr": 36,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "36825b1c_4290e7ec",
      "range": {
        "startLine": 36,
        "startChar": 19,
        "endLine": 36,
        "endChar": 42
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "376f48d5_580171b7",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator_unittest.mm",
        "patchSetId": 10
      },
      "lineNbr": 21,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "It doesn\u0027t look like this is needed?",
      "range": {
        "startLine": 21,
        "startChar": 1,
        "endLine": 21,
        "endChar": 10
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74760b20_0a921084",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator_unittest.mm",
        "patchSetId": 10
      },
      "lineNbr": 21,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "This is used line 38, as launchExternalSearch is declared in ExternalSearchCommands.",
      "parentUuid": "376f48d5_580171b7",
      "range": {
        "startLine": 21,
        "startChar": 1,
        "endLine": 21,
        "endChar": 10
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14d64534_a71f0edd",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator_unittest.mm",
        "patchSetId": 10
      },
      "lineNbr": 29,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "Will this still pass on an internal build where the external provider is vending a different URL?",
      "range": {
        "startLine": 29,
        "startChar": 9,
        "endLine": 29,
        "endChar": 20
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cf70f8e_b2afc9b8",
        "filename": "ios/chrome/browser/ui/external_search/external_search_coordinator_unittest.mm",
        "patchSetId": 10
      },
      "lineNbr": 29,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "Actually, it didn\u0027t even pass as is, as the TestExternalSearchProvider returned nil for the URL. Fixed.",
      "parentUuid": "14d64534_a71f0edd",
      "range": {
        "startLine": 29,
        "startChar": 9,
        "endLine": 29,
        "endChar": 20
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bba0ea76_258e27d1",
        "filename": "ios/chrome/browser/ui/toolbar/keyboard_assist/toolbar_assistive_keyboard_views_utils.mm",
        "patchSetId": 10
      },
      "lineNbr": 65,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "Presumably we want the external search provider to indicate that no external search app is available, so there should be some code path where there\u0027s no button added, right?",
      "range": {
        "startLine": 65,
        "startChar": 31,
        "endLine": 65,
        "endChar": 56
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e348c133_7833ff7d",
        "filename": "ios/chrome/browser/ui/toolbar/keyboard_assist/toolbar_assistive_keyboard_views_utils.mm",
        "patchSetId": 10
      },
      "lineNbr": 65,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bba0ea76_258e27d1",
      "range": {
        "startLine": 65,
        "startChar": 31,
        "endLine": 65,
        "endChar": 56
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66ee12f5_32fba8aa",
        "filename": "ios/chrome/browser/ui/toolbar/keyboard_assist/toolbar_assistive_keyboard_views_utils.mm",
        "patchSetId": 10
      },
      "lineNbr": 72,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "Drop the opaque \u0027ids\u0027 prefix.",
      "range": {
        "startLine": 72,
        "startChar": 8,
        "endLine": 72,
        "endChar": 29
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed0d8898_fb63fc49",
        "filename": "ios/chrome/browser/ui/toolbar/keyboard_assist/toolbar_assistive_keyboard_views_utils.mm",
        "patchSetId": 10
      },
      "lineNbr": 72,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66ee12f5_32fba8aa",
      "range": {
        "startLine": 72,
        "startChar": 8,
        "endLine": 72,
        "endChar": 29
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b108a78_5ec9c7a4",
        "filename": "ios/chrome/browser/ui/toolbar/keyboard_assist/toolbar_assistive_keyboard_views_utils.mm",
        "patchSetId": 10
      },
      "lineNbr": 73,
      "author": {
        "id": 1115958
      },
      "writtenOn": "2017-10-18T10:51:09Z",
      "side": 1,
      "message": "Maybe get the provider object once instead of repeating this call chain?",
      "range": {
        "startLine": 73,
        "startChar": 38,
        "endLine": 73,
        "endChar": 63
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a392a54_adfe9828",
        "filename": "ios/chrome/browser/ui/toolbar/keyboard_assist/toolbar_assistive_keyboard_views_utils.mm",
        "patchSetId": 10
      },
      "lineNbr": 73,
      "author": {
        "id": 1134915
      },
      "writtenOn": "2017-10-18T17:11:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b108a78_5ec9c7a4",
      "range": {
        "startLine": 73,
        "startChar": 38,
        "endLine": 73,
        "endChar": 63
      },
      "revId": "3ecee7fb0f7cb9f1293d1ec8c8947594d6eaff3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}