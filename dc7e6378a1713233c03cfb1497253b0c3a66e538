{
  "comments": [
    {
      "key": {
        "uuid": "736e88f2_7a55098f",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 375,
      "author": {
        "id": 1122966
      },
      "writtenOn": "2017-10-30T23:43:59Z",
      "side": 1,
      "message": "I prefer not to close the sheet if we know we\u0027re going to immediately re-open it. We could try to add some logic to BottomSheetContentController#onSheetContentChanged()  to destroy the other sheet contents (history, etc.) if we detect the tab model has switched.",
      "range": {
        "startLine": 373,
        "startChar": 20,
        "endLine": 375,
        "endChar": 21
      },
      "revId": "dc7e6378a1713233c03cfb1497253b0c3a66e538",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc76efe5_e4bb6701",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 375,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-10-30T23:49:41Z",
      "side": 1,
      "message": "onSheetContentChanged will happen after the profile is changed, so it can fix wrong content being shown but not the crash. If not closing the sheet, we can add a new method in BottomSheetContentController that handles closing bottom sheet contents.",
      "parentUuid": "736e88f2_7a55098f",
      "range": {
        "startLine": 373,
        "startChar": 20,
        "endLine": 375,
        "endChar": 21
      },
      "revId": "dc7e6378a1713233c03cfb1497253b0c3a66e538",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e650ed26_d5aeaed1",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java",
        "patchSetId": 1
      },
      "lineNbr": 375,
      "author": {
        "id": 1225365
      },
      "writtenOn": "2017-10-31T01:05:16Z",
      "side": 1,
      "message": "As discussed offline, we shouldn\u0027t need OffTheRecordProfile for PrefChangeRegistrar, instead we should use the user original profile like PrefServiceBridge does. To fix the contents being incorrectly shown separately, it seems adding checks in BottomSheetContentController#mTabModelSelectorObserver#onTabModelSelected is easier than in onSheetContentChanged.",
      "parentUuid": "bc76efe5_e4bb6701",
      "range": {
        "startLine": 373,
        "startChar": 20,
        "endLine": 375,
        "endChar": 21
      },
      "revId": "dc7e6378a1713233c03cfb1497253b0c3a66e538",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}