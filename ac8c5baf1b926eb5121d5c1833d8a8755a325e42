{
  "comments": [
    {
      "key": {
        "uuid": "c481d13a_c02d316b",
        "filename": "chrome/browser/safe_browsing/safe_browsing_blocking_page.cc",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 1116054
      },
      "writtenOn": "2017-06-19T16:26:24Z",
      "side": 0,
      "message": "Sorry, slightly confused here, the sb_error_ui()-\u003eCanShowExtendedReportingOption() setting is per page right? or per profile (as it seems to be after refactoring)?\n\nI am asking because for WebView the use of PrefService instead of BaseSafeBrowsingErrorUI might be an issue as we don\u0027t have separate profiles (there is currently only one pref service and one browser context).",
      "range": {
        "startLine": 126,
        "startChar": 56,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "ac8c5baf1b926eb5121d5c1833d8a8755a325e42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ed841c5_493ef099",
        "filename": "chrome/browser/safe_browsing/safe_browsing_blocking_page.cc",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 1168342
      },
      "writtenOn": "2017-06-19T19:14:57Z",
      "side": 0,
      "message": "As I understand it, sb_error_ui()-\u003eCanShowExtendedReportingOption() is per-page and each page has a single active profile (and the profile is what stores the value of the relevant pref).\n\nIn simplest terms TriggerManager needs to know three bool values: incognito, sb-enabled, and sber-enabled. But I\u0027m interested in hiding those details from the caller if possible. So maybe for the WebView case I can create parallel methods that take those params directly, while the Chrome caller would just pass in a prefservice.\n\nThoughts?",
      "parentUuid": "c481d13a_c02d316b",
      "range": {
        "startLine": 126,
        "startChar": 56,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "ac8c5baf1b926eb5121d5c1833d8a8755a325e42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c56425e_32b21e75",
        "filename": "chrome/browser/safe_browsing/safe_browsing_blocking_page.cc",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 1116054
      },
      "writtenOn": "2017-06-20T14:03:57Z",
      "side": 0,
      "message": "What about other fields in BaseSafeBrowsingErrorUI like e.g. is_proceed_anyway_disabled? It seems there is some redundancy wrt PrefService settings in that class. I am not sure why that is, maybe somebody from the safe browsing team can comment (jialiul@ wdyt?).\n\nMaybe just pass BaseSafeBrowsingErrorUI instead of a PrefService? Even if the two are equivalent for chrome they are not necessarily so for WebView.",
      "parentUuid": "0ed841c5_493ef099",
      "range": {
        "startLine": 126,
        "startChar": 56,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "ac8c5baf1b926eb5121d5c1833d8a8755a325e42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6060de02_0617743a",
        "filename": "chrome/browser/safe_browsing/safe_browsing_blocking_page.cc",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 1116054
      },
      "writtenOn": "2017-06-20T14:05:09Z",
      "side": 0,
      "message": "Oh just noticed, we can also discuss during the meeting tomorrow, thanks Jialiu!",
      "parentUuid": "7c56425e_32b21e75",
      "range": {
        "startLine": 126,
        "startChar": 56,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "ac8c5baf1b926eb5121d5c1833d8a8755a325e42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}