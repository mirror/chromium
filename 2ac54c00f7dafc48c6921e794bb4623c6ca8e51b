{
  "comments": [
    {
      "key": {
        "uuid": "a4e419b5_e2ea16f6",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecBridge.java",
        "patchSetId": 6
      },
      "lineNbr": 214,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "should you do this just if it\u0027s H264?  then you might call the new class MediaCodecH264Encoder, and save the copies / checking mime types / etc.",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1c091d7_b4edb722",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecBridge.java",
        "patchSetId": 6
      },
      "lineNbr": 214,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Not sure about this. Currently only H264 encoder is enabled on Android.\nVPx encoder may be enabled in the future. So far it\u0027s hard to tell whether any tweaking will be added or not for VPx encoder. Maybe it\u0027s better to keep the new subclass for all encoders. WDYT?",
      "parentUuid": "a4e419b5_e2ea16f6",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2aff249_3553a30d",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecBridge.java",
        "patchSetId": 6
      },
      "lineNbr": 214,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-18T17:51:14Z",
      "side": 1,
      "message": "that\u0027s a good question.\n\nas it\u0027s written, the subclass is specifically checking for H264 anyway. it\u0027s doing nothing functionally differently than MediaCodecBridge unless the format matches.  i don\u0027t think there\u0027s an advantage to running the extra code for any other format given that those guards are there.\n\ni think that we should go all the way to one side or the other.  my suggestion is to remove the format guards in the encoder subclass, and then either (a) instantiate the new encoder only for H264, or (b) instantiate the new encoder for all cases when we\u0027re encoding.\n\ni\u0027ll agree with whichever you think is the right thing to do.  is it safe to \"if we get a config frame, then prepend SPS/PPS\"?",
      "parentUuid": "e1c091d7_b4edb722",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b032d61_c3e22390",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "please add some detail about why.",
      "range": {
        "startLine": 19,
        "startChar": 43,
        "endLine": 19,
        "endChar": 62
      },
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9815185_af799f6c",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8b032d61_c3e22390",
      "range": {
        "startLine": 19,
        "startChar": 43,
        "endLine": 19,
        "endChar": 62
      },
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7edd7b23_7a5b1850",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "please comment what this is.",
      "range": {
        "startLine": 25,
        "startChar": 36,
        "endLine": 25,
        "endChar": 50
      },
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69aec987_282ad51d",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7edd7b23_7a5b1850",
      "range": {
        "startLine": 25,
        "startChar": 36,
        "endLine": 25,
        "endChar": 50
      },
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fb62ce8_66135e65",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "can be moved to @25, or not.",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3ce04fd_a87b92fe",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fb62ce8_66135e65",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9521037_257897ab",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 62,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "should this also check for H264, so that it\u0027s not bothering to copy config frames that it won\u0027t use?",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acf2ed23_da843c0c",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 62,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c9521037_257897ab",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9bc8efe_1c6c23fe",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "rather than doing the copy if it\u0027s not a keyframe or if it\u0027s not h264, could you just put codecOutputBuffer into mOutputBuffers?",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68eb3f8d_9b77ac60",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a9bc8efe_1c6c23fe",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcafa50b_2c46117c",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 114,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "this could use a few more high-level comments.",
      "range": {
        "startLine": 56,
        "startChar": 8,
        "endLine": 114,
        "endChar": 9
      },
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04d627f5_71e2a49b",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 114,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dcafa50b_2c46117c",
      "range": {
        "startLine": 56,
        "startChar": 8,
        "endLine": 114,
        "endChar": 9
      },
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78eb39fd_aa4c493f",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 121,
      "author": {
        "id": 1130490
      },
      "writtenOn": "2017-10-17T21:04:14Z",
      "side": 1,
      "message": "is this different than \"return super.getOutputBuffer(index)\", maybe with a throw?",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c13659c8_7c2053b5",
        "filename": "media/base/android/java/src/org/chromium/media/MediaCodecEncoder.java",
        "patchSetId": 6
      },
      "lineNbr": 121,
      "author": {
        "id": 1126869
      },
      "writtenOn": "2017-10-18T16:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78eb39fd_aa4c493f",
      "revId": "2ac54c00f7dafc48c6921e794bb4623c6ca8e51b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}