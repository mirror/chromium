{
  "comments": [
    {
      "key": {
        "uuid": "b74f6b3d_2f1f339d",
        "filename": "third_party/WebKit/Tools/gdb/webkit.py",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1002481
      },
      "writtenOn": "2017-10-05T19:18:02Z",
      "side": 1,
      "message": "Can we just call Utf8(0).data()? It works for me in gdb command line, but I\u0027m not sure how to do it here.",
      "revId": "9034d96ffba50af1dbddf1e4402a31ff5063f5d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41203c0c_29727bda",
        "filename": "third_party/WebKit/Tools/gdb/webkit.py",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-10-05T20:05:41Z",
      "side": 1,
      "message": "I do not think so. Looks like there are two separate calls to this routine, one to get length, another to get the string.\n\nWhat class implements Utf8(0).data()?",
      "parentUuid": "b74f6b3d_2f1f339d",
      "revId": "9034d96ffba50af1dbddf1e4402a31ff5063f5d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db212a6b_7c10fb71",
        "filename": "third_party/WebKit/Tools/gdb/webkit.py",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1002481
      },
      "writtenOn": "2017-10-05T20:30:19Z",
      "side": 1,
      "message": "Utf8() is String\u0027s method which returns a CString. data() is CString\u0027s method which returns a const char*.\n\nI can print a WTF string in gdb command line, e.g.\n  String s(\"1234\");\n\n(gdb) p s.Utf8(0).data()\n... \"1234\"\n\nI think using the public API of WTF::String instead of internal data structures in these printers can avoid future breakage when internal data structure changes. I don\u0027t know how to do it here though.",
      "parentUuid": "41203c0c_29727bda",
      "revId": "9034d96ffba50af1dbddf1e4402a31ff5063f5d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad7035df_b585ad46",
        "filename": "third_party/WebKit/Tools/gdb/webkit.py",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1161294
      },
      "writtenOn": "2017-10-05T20:46:42Z",
      "side": 1,
      "message": "I agree that it is the right thing to do in theory.\n\nIn practice, there is an existing implementation that depends on access to StringImpl, and reworking it is not trivial.",
      "parentUuid": "db212a6b_7c10fb71",
      "revId": "9034d96ffba50af1dbddf1e4402a31ff5063f5d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}