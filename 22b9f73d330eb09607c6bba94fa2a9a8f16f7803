{
  "comments": [
    {
      "key": {
        "uuid": "dba12a25_957baef9",
        "filename": "content/common/page_state_serialization_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 553,
      "author": {
        "id": 1001216
      },
      "writtenOn": "2017-11-07T20:57:42Z",
      "side": 1,
      "message": "Minor nit: Let\u0027s add a blank line below here, to make the block stand apart from the test below.",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba2fc29e_ce96c506",
        "filename": "third_party/WebKit/Source/core/loader/FrameLoader.cpp",
        "patchSetId": 12
      },
      "lineNbr": 384,
      "author": {
        "id": 1115004
      },
      "writtenOn": "2017-11-08T03:04:50Z",
      "side": 1,
      "message": "Not directly relevant to this path since you\u0027re just adding it next to SaveScrollState, but this is not a reliable place to save state. Unload events don\u0027t fire in a bunch of scenarios, particularly on mobile.\n\nYou should instead do this in the place where we fire visibilitychange events with a value of \"hidden\".\n\nI don\u0027t think you need to do that in this patch, but a TODO is probably a good idea.",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bc42a8f_f39eb2df",
        "filename": "third_party/WebKit/Source/core/loader/FrameLoader.cpp",
        "patchSetId": 12
      },
      "lineNbr": 384,
      "author": {
        "id": 1116039
      },
      "writtenOn": "2017-11-08T20:51:24Z",
      "side": 1,
      "message": "Note that SaveScrollAnchor is also called from LocalFrameView::DidScrollTimerFired.  Would visibilitychange buy us anything we don\u0027t already capture from scroll timer callback + unload?",
      "parentUuid": "ba2fc29e_ce96c506",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "657f3141_20d98459",
        "filename": "third_party/WebKit/Source/core/loader/FrameLoader.cpp",
        "patchSetId": 12
      },
      "lineNbr": 384,
      "author": {
        "id": 1189064
      },
      "writtenOn": "2017-11-08T23:06:32Z",
      "side": 1,
      "message": "The intent of saving on unload is to capture a snapshot right before leaving the page, in case the timer hasn\u0027t fired yet. But unload doesn\u0027t fire reliably. IIUC, visibilitychange buys us an up to date snapshot in the scenarios where we\u0027re leaving the page but unload doesn\u0027t fire.",
      "parentUuid": "4bc42a8f_f39eb2df",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d19e9d25_7b99c16e",
        "filename": "third_party/WebKit/Source/core/loader/FrameLoader.cpp",
        "patchSetId": 12
      },
      "lineNbr": 384,
      "author": {
        "id": 1189064
      },
      "writtenOn": "2017-11-08T23:06:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba2fc29e_ce96c506",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1dcd3f94_d133ad93",
        "filename": "third_party/WebKit/Source/core/loader/FrameLoader.cpp",
        "patchSetId": 12
      },
      "lineNbr": 1180,
      "author": {
        "id": 1115004
      },
      "writtenOn": "2017-11-08T03:04:50Z",
      "side": 1,
      "message": "Should this also have a TODO to try this in more places during page load and abort if any one of them succeeded? Unlike the offset based scrolling, we can try earlier and later in the page load for a higher chance of success.",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70b91d08_b233876b",
        "filename": "third_party/WebKit/Source/core/loader/FrameLoader.cpp",
        "patchSetId": 12
      },
      "lineNbr": 1180,
      "author": {
        "id": 1189064
      },
      "writtenOn": "2017-11-08T23:06:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1dcd3f94_d133ad93",
      "revId": "22b9f73d330eb09607c6bba94fa2a9a8f16f7803",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}