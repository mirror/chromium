{
  "comments": [
    {
      "key": {
        "uuid": "02e948db_f20d105c",
        "filename": "third_party/WebKit/Source/core/workers/WorkerInstalledScriptsManager.h",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:13:25Z",
      "side": 1,
      "message": "Can you add class-level comments?",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c6cc0e9_417fa7c9",
        "filename": "third_party/WebKit/Source/core/workers/WorkerInstalledScriptsManager.h",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "Maybe easier to understand as just \"InstalledScriptsManager\"?",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "279cfbaa_aa6ba27b",
        "filename": "third_party/WebKit/Source/core/workers/WorkerInstalledScriptsManager.h",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-06-28T07:14:31Z",
      "side": 1,
      "message": "nit: \u003d default;",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35726e39_6826f6cc",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.cpp",
        "patchSetId": 2
      },
      "lineNbr": 471,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-06-28T07:14:31Z",
      "side": 1,
      "message": "Should check if GetInstalledScriptsManager returns nullptr?",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5993efba_1e83862d",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.cpp",
        "patchSetId": 2
      },
      "lineNbr": 478,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:59:47Z",
      "side": 1,
      "message": "Can you add DCHECKs conservatively, just in case?\n\nif (script_data) {\n  DCHECK(!source_code);\n  DCHECK(!cached_meta_data);\n  source_code \u003d std::move(script_data-\u003esource_text);\n  cached_meta_data \u003d std::move(script_data-\u003emeta_data);\n}\nDCHECK(source_code);\nDCHECK(cached_meta_data);",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "540ecd75_a90e1cff",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.cpp",
        "patchSetId": 2
      },
      "lineNbr": 479,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:13:25Z",
      "side": 1,
      "message": "Can we do these replacements immediately before script evaluation, that is, around line 525?",
      "range": {
        "startLine": 479,
        "startChar": 3,
        "endLine": 479,
        "endChar": 0
      },
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fe3f917_ae6baacb",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.cpp",
        "patchSetId": 2
      },
      "lineNbr": 479,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "Think this should be moved directly under line 460, to guard against using uninitialized |source_code| or |cached_meta_data|.",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ae05374_0b81b66d",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.cpp",
        "patchSetId": 2
      },
      "lineNbr": 479,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:59:47Z",
      "side": 1,
      "message": "+1 to falken\u0027s comment. It\u0027s nice to avoid the possibility to use uninitialized values.",
      "parentUuid": "0fe3f917_ae6baacb",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "291b14ef_48ecf498",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.h",
        "patchSetId": 2
      },
      "lineNbr": 182,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "Is there any class or interface called InstalledScriptsManager in the design? If not I recommend renaming WorkerInstalledScriptsManager to InstalledScriptsManager.",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4f3690c_d093f5ff",
        "filename": "third_party/WebKit/Source/core/workers/WorkerThread.h",
        "patchSetId": 2
      },
      "lineNbr": 183,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2017-06-28T07:14:31Z",
      "side": 1,
      "message": "nit: please note that this can return nullptr",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e5328fc_d3e01d71",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.cpp",
        "patchSetId": 2
      },
      "lineNbr": 337,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "grammar nit: \"Kick start\" or \"Kickstart\"",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "219878ec_f94d9daa",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.cpp",
        "patchSetId": 2
      },
      "lineNbr": 340,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:34:10Z",
      "side": 1,
      "message": "Should we do the same thing with line 395 and line 408-411?\n\n  worker_context_client_-\u003eWorkerScriptLoaded();\n\n  if (pause_after_download_state_ \u003d\u003d kDoPauseAfterDownload) {\n    pause_after_download_state_ \u003d kIsPausedAfterDownload;\n    return;\n  }",
      "range": {
        "startLine": 340,
        "startChar": 10,
        "endLine": 340,
        "endChar": 28
      },
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "274d3c56_5d05db15",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.cpp",
        "patchSetId": 2
      },
      "lineNbr": 448,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "The word \"script streaming\" doesn\u0027t seem to be used in other comments. Suggest aligning with the classes like \"if the InstalledScriptsManager had the script\".",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e10af9cf_f4c27c24",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.cpp",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:13:25Z",
      "side": 1,
      "message": "MakeUnique?",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "641b7dc7_08073c97",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.cpp",
        "patchSetId": 2
      },
      "lineNbr": 489,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:13:25Z",
      "side": 1,
      "message": "Can you factor out the common code among line 450-479 and line 481-498?",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd2a0f2a_ec9c6cf1",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.h",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "s/the creation/the worker thread is created/",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c42cf4bd_e09dba39",
        "filename": "third_party/WebKit/Source/modules/exported/WebEmbeddedWorkerImpl.h",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "s/will be/is",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63f1a5f4_e5c4174e",
        "filename": "third_party/WebKit/Source/modules/serviceworkers/ServiceWorkerInstalledScriptsManager.h",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:13:25Z",
      "side": 1,
      "message": "- \"the main script and imported scripts which are running\" sounds strange because they are NOT running at this point.\n- Can you explain about what \"installed scripts\" is and how this class work from a high-level POV?\n\nFor example,\n\n// ServiceWorkerInstalledScriptsManager provides the main script and imported scripts already installed in the service worker script cache. The scripts are streamed from the script cache in parallel with worker thread initialization.",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40c3b79d_608ec2d5",
        "filename": "third_party/WebKit/Source/modules/serviceworkers/ServiceWorkerInstalledScriptsManager.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1115976
      },
      "writtenOn": "2017-06-28T07:13:25Z",
      "side": 1,
      "message": "// This can be blocked if the script is not streamed yet.",
      "range": {
        "startLine": 25,
        "startChar": 5,
        "endLine": 25,
        "endChar": 14
      },
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed0b2ce7_42937135",
        "filename": "third_party/WebKit/Source/modules/serviceworkers/ServiceWorkerInstalledScriptsManager.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2017-06-28T07:44:57Z",
      "side": 1,
      "message": "\"even though it\u0027s installed\" is strange... I thought the manager can *only* serve installed scripts.",
      "revId": "8dbf65cae4e8346dff34a17c45a8d00cef70abd9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}