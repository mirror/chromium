{
  "comments": [
    {
      "key": {
        "uuid": "a9a496f2_fac69b60",
        "filename": "chrome/browser/ui/app_list/arc/arc_app_list_prefs.cc",
        "patchSetId": 2
      },
      "lineNbr": 884,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2017-10-18T10:18:27Z",
      "side": 1,
      "message": "Perhaps, it\u0027s better to just return if app_old_info is null?\nWDYT?",
      "revId": "a94970262fd611daf01dc0cc266cff09cfac2354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bae6915_da89abd8",
        "filename": "chrome/browser/ui/app_list/arc/arc_app_list_prefs.cc",
        "patchSetId": 2
      },
      "lineNbr": 884,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2017-10-18T14:36:28Z",
      "side": 1,
      "message": "It would be nice to discover what was wrong. tracked apps should have app representation. Adding check here may hide another problem.",
      "parentUuid": "a9a496f2_fac69b60",
      "revId": "a94970262fd611daf01dc0cc266cff09cfac2354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5678a418_bd71301e",
        "filename": "chrome/browser/ui/app_list/arc/arc_app_list_prefs.cc",
        "patchSetId": 2
      },
      "lineNbr": 884,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2017-10-19T05:21:22Z",
      "side": 1,
      "message": "This is the only place in this file where GetApp()\u0027s result is used unchecked.\nI agree hiding a problem is not the best solution, but at least it\u0027s already done at all the other places in this file.\n\nThis logic involves three different lists (i.e. tracked_apps_, default_apps_, and arc::prefs::kArcApps), and two global states (i.e. IsArcAlive() and IsArcAndroidEnabledForProfile(profile_)), but has no unit tests.\nIf we are to properly fix the logic, probably it might be nicer to extract the app tracking logic into a separate class and add unit tests for it.",
      "parentUuid": "5bae6915_da89abd8",
      "revId": "a94970262fd611daf01dc0cc266cff09cfac2354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba5680bd_885eb4a8",
        "filename": "chrome/browser/ui/app_list/arc/arc_app_list_prefs.cc",
        "patchSetId": 2
      },
      "lineNbr": 884,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2017-10-19T05:34:29Z",
      "side": 1,
      "message": "tracked apps must be present in system and this is goal of this check to validate this.\nIf this condition is not met that means some app in system in wrong state which may lead to crash in another place or system behaves wrongly.\nI see only 23 crashes https://crash.corp.google.com/browse?q\u003dcustom_data.ChromeCrashProto.magic_signature_1.name%3D%27ArcAppListPrefs%3A%3AAddAppAndShortcut%27\u0026sql_dialect\u003ddremelsql\u0026ignore_case\u003dfalse\u0026enable_rewrite\u003dtrue\u0026omit_field_name\u003d\u0026omit_field_value\u003d\u0026omit_field_opt\u003d%3D#-property-selector,+productversion\n57-62 version.\nThis looks not release blocker and it deserves to understand better.\ntracking set is not covered directly by unittest. However whole behavior is covered more-less, which also includes tracked set interaction. Xiyuan mentioned in bug his finding. Probably this might be the root of the problem.",
      "parentUuid": "5678a418_bd71301e",
      "revId": "a94970262fd611daf01dc0cc266cff09cfac2354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e12eb86_2dd602ae",
        "filename": "chrome/browser/ui/app_list/arc/arc_app_list_prefs.cc",
        "patchSetId": 2
      },
      "lineNbr": 884,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2017-10-23T07:46:01Z",
      "side": 1,
      "message": "How about landing this change to fix the crash on M-63, then fix the logic on master for M-64 and later?\n\nThere are already VLOGs and NOTREACHEDs in RequestIcon(), SetNotificationsEnabled(), NotifyRegisteredApps(), and MaybeShowPackageInAppLauncher() for GetApp() returning unexpected null so it seems the logic has been left broken for long, and I think fixing the crash is more important than fixing the logic.\nIf we are to fix the logic later, we\u0027ll be able to remove this check and the existing checks around GetApp() which must become unnecessary.",
      "parentUuid": "ba5680bd_885eb4a8",
      "revId": "a94970262fd611daf01dc0cc266cff09cfac2354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}