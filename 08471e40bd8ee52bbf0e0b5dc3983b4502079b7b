{
  "comments": [
    {
      "key": {
        "uuid": "a6ffaed9_cf79aeeb",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1232105
      },
      "writtenOn": "2017-07-17T21:11:35Z",
      "side": 1,
      "message": "I don\u0027t know if Scott knows a better way, but could you try to see if you can get it to work by returning nullptr here and then letting the dialog class handle key presses and discard key presses but tabs (which would then advance the focus to one of the keys)?",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "041a305f_fd1fcfcb",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-17T22:44:28Z",
      "side": 1,
      "message": "It\u0027s generally considered a bug if there is no view focused.\n\nHow does this dialog appear that you are worried about someone being in the middle of typing?",
      "parentUuid": "a6ffaed9_cf79aeeb",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00414c8b_a30e9bcc",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1232105
      },
      "writtenOn": "2017-07-17T22:51:44Z",
      "side": 1,
      "message": "This is a modal dialog that is shown some time after startup if Chrome detects that the user\u0027s computer is infected by unwanted software. Since displaying the dialog is triggered without any user action, the user may be in the middle of writing something when the dialog appears.",
      "parentUuid": "041a305f_fd1fcfcb",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91668a98_e13e06e2",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-17T23:01:52Z",
      "side": 1,
      "message": "I don\u0027t think we attempt to do anything like you are suggesting for other modal dialogs. For example, javascript dialogs may appear at any time and I don\u0027t believe they attempt to detect if the user is the middle of typing.",
      "parentUuid": "00414c8b_a30e9bcc",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bd6d2d1_1e7e73aa",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1223356
      },
      "writtenOn": "2017-07-18T13:51:59Z",
      "side": 1,
      "message": "Javascript dialogs are typically used in non-typing contexts involving user action, such as submitting a form or attempting to navigate away from an un-submitted form. \n\nThis modal dialog can appear any time. The user could be typing an URL in the address bar, get focus stolen by the dialog and have their space/enter key press misinterpreted as consenting to Chrome Cleanup and reporting data to Google. \n\nThis consent isn\u0027t reversible and puts the user in an unexpected state. I think avoiding these false prompt acceptance is worth deviating from the normal modal dialog behavior.",
      "parentUuid": "91668a98_e13e06e2",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf5bf324_8c435932",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-07-18T19:08:59Z",
      "side": 1,
      "message": "There is nothing stopping a javascript dialog from appearing at a similar time to this dialog. If you\u0027re assuming the user isn\u0027t looking at the keyboard, then they can certainly end up accepting this dialog.\n\nHave you run this by ux?",
      "parentUuid": "3bd6d2d1_1e7e73aa",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f97b656e_f57adcec",
        "filename": "chrome/browser/ui/views/chrome_cleaner_dialog_win.cc",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1223356
      },
      "writtenOn": "2017-07-18T19:28:24Z",
      "side": 1,
      "message": "\u003e I don\u0027t know if Scott knows a better way, but could you try to see if you can get it to work by returning nullptr here and then letting the dialog class handle key presses and discard key presses but tabs (which would then advance the focus to one of the keys)?\n\nI couldn\u0027t find a way. I tried intercepting OnKeyEvent, OnKeyPressed, OnKeyReleased or adding some validation to ButtonPressed. The enter key still presses one of the button and closes the dialog despite the interception.\n\n\u003e Have you run this by ux?\n\nI\u0027ll ask. In the meantime, is initially focusing on the checkbox acceptable?",
      "parentUuid": "bf5bf324_8c435932",
      "range": {
        "startLine": 102,
        "startChar": 35,
        "endLine": 102,
        "endChar": 0
      },
      "revId": "08471e40bd8ee52bbf0e0b5dc3983b4502079b7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}