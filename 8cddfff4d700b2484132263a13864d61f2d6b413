{
  "comments": [
    {
      "key": {
        "uuid": "bd81d1ab_65fbda56",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "nit: In fact I think it is too low of a number and would personally consider increasing it to 1000. You can think of it as \"anything beyond this number is so high for our measurement that we don\u0027t care knowing what it is\".",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c335db7f_887a67c1",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Done. \n\nMy original theory is that we would rarely see these exceed 10 (with the exception of zombies), and using a lower upper bound would allow us to have more granular buckets.",
      "parentUuid": "bd81d1ab_65fbda56",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9f0fad8_9f7fb7ca",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-07T18:47:25Z",
      "side": 1,
      "message": "Indeed, that makes sense. I specifically marked this as a nit to leave the decision up to you. :)",
      "parentUuid": "c335db7f_887a67c1",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8946efb8_e58c8e45",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-07T23:30:00Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b9f0fad8_9f7fb7ca",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1abe8a10_e62c16ef",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "A switch-case block would be more appropriate here. It is faster and as we are covering PrefetchItemState existing entries it would generate build errors in case new ones should be added.",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f18736c2_eaacc32a",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1abe8a10_e62c16ef",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5a30440_5ef90a02",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "I think a slightly better naming pattern would be something like: OfflinePages.Prefetching.StateCounts.[NewRequest, GeneratePageBundle, ...]. It allows us to use the state name as a histogram suffix construct and would group entries under a clear prefix.",
      "range": {
        "startLine": 100,
        "startChar": 30,
        "endLine": 100,
        "endChar": 70
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afaf5e73_8315777c",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c5a30440_5ef90a02",
      "range": {
        "startLine": 100,
        "startChar": 30,
        "endLine": 100,
        "endChar": 70
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a654669a_e442e3da",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "question: Why did you choose a multiple histograms approach instead of a single enumeration one?",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6306499_d047f526",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "I wanted to see the distribution of each individual count.  Can we do that with a single enumeration one?  I though we\u0027d only get relative totals with a single enumeration one.",
      "parentUuid": "a654669a_e442e3da",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93efa6b0_3b3ad30a",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-07T18:47:25Z",
      "side": 1,
      "message": "You are right, we don\u0027t have that with an enumeration. Looked good to me but with our offline conversation we should make the switch for simplification.",
      "parentUuid": "e6306499_d047f526",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f97b254b_f6f3ce79",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-07T23:30:00Z",
      "side": 1,
      "message": "Per our offline conversation, changed to use a single enum metric.",
      "parentUuid": "93efa6b0_3b3ad30a",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6387633e_81e9816f",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "What do you mean by \"know the code is correct\"?",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d5d080f_49c73caa",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Oops, old comment, I was planning to remove that before sending it out for review.  In this case, I wanted to make sure I was using the right column, when I wrote this, I wasn\u0027t sure whether the state would be in column 0 or 1.  \n\nChanged to a C++ cast, and TODO removed.",
      "parentUuid": "6387633e_81e9816f",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "511686f6_865995a0",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "Why the choice of state-counting before zombie-fication? And please add a specific note on that reasoning to the comment above.",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44068059_ca7cac4a",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Otherwise we only see zombies, we never see anything in the finished state.  It might be useful to see how many tasks were in the finished state when we collect metrics.  Comment  updated.",
      "parentUuid": "511686f6_865995a0",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59d73cd2_77ba4b22",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task.cc",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-07T18:47:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "44068059_ca7cac4a",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3cf5a242_5eaaef9f",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 263,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "It seems this comment needs updating.",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "103e8b4e_92f6be4e",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 263,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3cf5a242_5eaaef9f",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75f43754_76b92c8e",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "Why different number of items specifically for FINISHED and ZOMBIE?",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "503d99ca_d3dfb74c",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "I\u0027m being cautious in the test by not having everything with exactly one entry, otherwise code that always returned 1 item would be correct.  It could have been anything, finished and zombie seemed like two good ones to pick.  I can update the comment if that helps.",
      "parentUuid": "75f43754_76b92c8e",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f57176af_48cf5cba",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-07T18:47:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "503d99ca_d3dfb74c",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f61fd4a4_06a22900",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "nit/suggestion: to be extra sure you *could* add a different number of items at each state so that you can check for different buckets later. If you should chose to do so you could add an increasing number at each iteration of this loop instead of duplicating entries in the vector above.",
      "range": {
        "startLine": 285,
        "startChar": 30,
        "endLine": 285,
        "endChar": 48
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc0c9b1f_22ac5983",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f61fd4a4_06a22900",
      "range": {
        "startLine": 285,
        "startChar": 30,
        "endLine": 285,
        "endChar": 48
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70c65743_57cf67f4",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "Use HistogramTester::ExpectUniqueSample instead as it better reflects what you are trying to test for. This also allows you to remove the 3 double check tests in the end.",
      "range": {
        "startLine": 299,
        "startChar": 19,
        "endLine": 299,
        "endChar": 36
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76252c5f_bb57f55b",
        "filename": "components/offline_pages/core/prefetch/metrics_finalization_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70c65743_57cf67f4",
      "range": {
        "startLine": 299,
        "startChar": 19,
        "endLine": 299,
        "endChar": 36
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75055635_d10d50a2",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "Uneeded change.",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "395cbf12_0aac53c6",
        "filename": "components/offline_pages/core/prefetch/stale_entry_finalizer_task_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "True, but we are supposed to have blank lines between functions.  If you like, I can put this in a different changelist.",
      "parentUuid": "75055635_d10d50a2",
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdad555f_bf311f9e",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 50710,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-06T17:51:02Z",
      "side": 1,
      "message": "nit: Number of prefetch items in the \u0027AwaitingGcm\u0027 state reported when starting the background task.\nChange the following entries accordingly.",
      "range": {
        "startLine": 50710,
        "startChar": 11,
        "endLine": 50710,
        "endChar": 66
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65e0442c_9e2dff9c",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 50710,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-09-06T23:51:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cdad555f_bf311f9e",
      "range": {
        "startLine": 50710,
        "startChar": 11,
        "endLine": 50710,
        "endChar": 66
      },
      "revId": "8cddfff4d700b2484132263a13864d61f2d6b413",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}