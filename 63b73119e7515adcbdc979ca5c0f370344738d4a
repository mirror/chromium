{
  "comments": [
    {
      "key": {
        "uuid": "930a45c3_4ed5ae1f",
        "filename": "base/stl_util.h",
        "patchSetId": 1
      },
      "lineNbr": 335,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-10-20T20:20:51Z",
      "side": 1,
      "message": "members need underscore",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7961021a_b4552ea8",
        "filename": "base/stl_util.h",
        "patchSetId": 1
      },
      "lineNbr": 335,
      "author": {
        "id": 1105777
      },
      "writtenOn": "2017-10-20T20:56:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "930a45c3_4ed5ae1f",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a18f535_553f7b6d",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-10-20T16:28:46Z",
      "side": 1,
      "message": "This should be using count() not walking thru the whole container if it\u0027s going to be written as EraseIf(). One is |m * log n| and one is |m * n| work. I would write a lambda here and use that personally.\n\nExcept.. std::set_intersection is |m + n| work so I\u0027m not clear why we\u0027d want to change this?",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "defed03f_cccc2c10",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1105777
      },
      "writtenOn": "2017-10-20T16:48:19Z",
      "side": 1,
      "message": "\u003e This should be using count() not walking thru the whole container if it\u0027s going to be written as EraseIf(). One is |m * log n| and one is |m * n| work.\n\nIt sounds like you assumed \u0027IsNotIn\u0027 did a binary search? It doesn\u0027t. \u0027IsNotIn\u0027 is an object that keeps state, and only searches from the last call to it until the value exceeds what it\u0027s looking for. Overall, it\u0027s O(m + n).\n\n\u003e I would write a lambda here and use that personally.\n\nI considered this, but I didn\u0027t like how the keeping state worked. We\u0027d have to create an iterator externally and pass it by reference. It was quite unsightly.\n\n\u003e Except.. std::set_intersection is |m + n| work so I\u0027m not clear why we\u0027d want to change this?\n\nThe advantage of in-place intersection over \u0027create a new container\u0027 is that, if you don\u0027t need to keep the original container, then it doesn\u0027t have to allocate and construct a new one. This is both a speed improvement, as well as a memory fragmentation improvement.",
      "parentUuid": "6a18f535_553f7b6d",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7618309_afc5e6bf",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-10-20T20:20:51Z",
      "side": 1,
      "message": "Ah I see. I missed the state in the IsNotIn. Is there some promise that std::erase_if will walk in the same order that this requires? http://en.cppreference.com/w/cpp/experimental/vector/erase_if does not mention it for instance. base::EraseIf will be replaced with std::erase_if eventually, which will be implemented differently in diff libraries/platforms, so this is important.",
      "parentUuid": "defed03f_cccc2c10",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26645dc2_bf39e8ed",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1105777
      },
      "writtenOn": "2017-10-20T20:56:56Z",
      "side": 1,
      "message": "Your link says that it\u0027s equivalent to ::remove_if(c.begin(), c.end()...), necessitating forward iteration (and it would be n-squared any other way.)\n\nLikewise, list::erase_if says it\u0027s equivalent to list::remove_if which mandates a const_iterator that points to T.\n\nFinally, set::erase_if says that it iterates forwards. (I suspect that the actual standard says the same thing in more formal terms.)\n\nThere may still be a way for a conforming implementation to wiggle out of these constraints, but I don\u0027t see it.",
      "parentUuid": "a7618309_afc5e6bf",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53a8c175_65956d81",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1000887
      },
      "writtenOn": "2017-10-20T21:10:14Z",
      "side": 1,
      "message": "Hm, I took equivalent to mean the output, not the implementation.\n\nIn http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4562.html#container.erasure.erase_if it says\n\n\"Effects: Equivalent to: c.erase(remove_if(c.begin(), c.end(), pred), c.end());\"\n\n+jyasskin is it ok to assume erase_if\u0027s order?",
      "parentUuid": "26645dc2_bf39e8ed",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8af7f79_72610bd1",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1105777
      },
      "writtenOn": "2017-10-25T16:37:00Z",
      "side": 1,
      "message": "ping? It looks ok to me, but would be nice to know, since we\u0027re already doing this.",
      "parentUuid": "53a8c175_65956d81",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f89e9d7_98ea1aa7",
        "filename": "components/bookmarks/browser/titled_url_index.cc",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1001949
      },
      "writtenOn": "2017-10-25T20:01:21Z",
      "side": 1,
      "message": "\"Equivalent to\" does mean that operations have to happen in the same order, since doing them in a different order is user-visible.",
      "parentUuid": "f8af7f79_72610bd1",
      "revId": "63b73119e7515adcbdc979ca5c0f370344738d4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}