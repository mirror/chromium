{
  "comments": [
    {
      "key": {
        "uuid": "0f31632a_067feaea",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor.cc",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "Since DiscoveryNetworkMonitor is already conceptually a singleton, can we make the metric observer a member of DiscoveryNetworkMonitor instead of defining another global?",
      "range": {
        "startLine": 45,
        "startChar": 55,
        "endLine": 45,
        "endChar": 72
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b898ba52_3f04b12c",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor.cc",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f31632a_067feaea",
      "range": {
        "startLine": 45,
        "startChar": 55,
        "endLine": 45,
        "endChar": 72
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e60ff666_9a4debbb",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.cc",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "Please document what this constant means?",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "370d6b15_17db46ef",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.cc",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e60ff666_9a4debbb",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "440bd8b4_1ab64ef9",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "nit: network_id",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "382b0ba8_43ba8ccc",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "440bd8b4_1ab64ef9",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da0f3e32_5b0de3d6",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "Can you see if you can use a TestMockTimeTaskRunner to create a MockTickClock and pass it into the ctor for tests? That way I think we can get rid of this method and the need to have timer_override_.",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bb10495_b32547be",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da0f3e32_5b0de3d6",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7dc23e22_6ee2d0a0",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "Please add documentation about what this method is supposed to do.",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9dd50d51_4f621d92",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7dc23e22_6ee2d0a0",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "535f06ae_733e60ff",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "Is this supposed to track the latest network id? Maybe name this latest_network_id_. Actually, it isn\u0027t used in the .cc file, so maybe just remove it.",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80c1355b_90a1b7c1",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metric_observer.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Good catch.  I was thinking I would need it for some condition but never did and forgot to remove it.",
      "parentUuid": "535f06ae_733e60ff",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63e74393_f4cb4870",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metrics.cc",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-15T00:19:52Z",
      "side": 1,
      "message": "nit: There shouldn\u0027t be a need for static casts.s",
      "range": {
        "startLine": 26,
        "startChar": 76,
        "endLine": 26,
        "endChar": 0
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a31c205_fb01531d",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metrics.cc",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63e74393_f4cb4870",
      "range": {
        "startLine": 26,
        "startChar": 76,
        "endLine": 26,
        "endChar": 0
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1083e0ad_b51f0bb0",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metrics.h",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-15T00:19:52Z",
      "side": 1,
      "message": "nit: Please document that this enum is used to back an UMA histogram, and should therefore be treated as append-only.",
      "range": {
        "startLine": 16,
        "startChar": 8,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cad48992_e2431329",
        "filename": "chrome/browser/media/router/discovery/discovery_network_monitor_metrics.h",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1083e0ad_b51f0bb0",
      "range": {
        "startLine": 16,
        "startChar": 8,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "01889997_6abf8d00",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "nit: Rather than passing around a bool, define an enum SinkSource and use it here. That way the meaning of the parameter is more clear when read by itself. The enum can have values NETWORK_CACHE, MDNS, DIAL. Maybe we will need a special case for retries since it\u0027s a bit more tricky to pass in the original value in OnError. This can also be useful in UMA, say if we want to record the source from which a Cast MediaSink is obtained.",
      "range": {
        "startLine": 160,
        "startChar": 4,
        "endLine": 160,
        "endChar": 8
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8b7b400_8205b79d",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done.  I used a separate value for retries from OnError so we don\u0027t have to store the source with the sink.  LMK if you think that would be worthwhile though.",
      "parentUuid": "01889997_6abf8d00",
      "range": {
        "startLine": 160,
        "startChar": 4,
        "endLine": 160,
        "endChar": 8
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8543ab4_550e6ac5",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 332,
      "author": {
        "id": 1133789
      },
      "writtenOn": "2017-09-15T18:51:57Z",
      "side": 1,
      "message": "Slightly related to above and Ilya\u0027s comment, perhaps we can generalize the metric to record the method of device discovery that led to creation of this sink?",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ebc8c23_16d21c95",
        "filename": "chrome/browser/media/router/discovery/mdns/cast_media_sink_service_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 332,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f8543ab4_550e6ac5",
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb585092_6aa716d1",
        "filename": "chrome/browser/media/router/discovery/media_sink_discovery_metrics.cc",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-15T00:19:52Z",
      "side": 1,
      "message": "nit: The UMA_HISTOGRAM_* macros expand to a fair bit of C++ code, so it would be nice to coalesce these into a single wrapper function if it\u0027s not too annoying elsewhere.",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 81,
        "endChar": 1
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65a20fdd_16ff2409",
        "filename": "chrome/browser/media/router/discovery/media_sink_discovery_metrics.cc",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb585092_6aa716d1",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 81,
        "endChar": 1
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34f17ec2_39426d8f",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 33584,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-15T00:19:52Z",
      "side": 1,
      "message": "nit: Please document when this is recorded.",
      "range": {
        "startLine": 33584,
        "startChar": 64,
        "endLine": 33584,
        "endChar": 0
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35fa9dd2_6d1630e8",
        "filename": "tools/metrics/histograms/histograms.xml",
        "patchSetId": 1
      },
      "lineNbr": 33584,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2017-09-18T22:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "34f17ec2_39426d8f",
      "range": {
        "startLine": 33584,
        "startChar": 64,
        "endLine": 33584,
        "endChar": 0
      },
      "revId": "5f1143eb3d4258cbbd72b50497e97591a92c1670",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}