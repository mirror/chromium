{
  "comments": [
    {
      "key": {
        "uuid": "d1b3e0c2_6b7c0741",
        "filename": "third_party/WebKit/Source/bindings/core/v8/RejectedPromises.cpp",
        "patchSetId": 3
      },
      "lineNbr": 153,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2018-01-24T13:10:24Z",
      "side": 1,
      "message": "This is a speced task whose task source is not (yet) speced. Then should we use kMiskPlatformAPI?",
      "revId": "02049e85b5efda16690285b4c47a739d135d2d14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6fc6a2e_bbb73d41",
        "filename": "third_party/WebKit/Source/bindings/core/v8/RejectedPromises.cpp",
        "patchSetId": 3
      },
      "lineNbr": 153,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2018-01-24T14:00:10Z",
      "side": 1,
      "message": "I would suggest that we use kMiscPlatformAPI for the APIs that are not speced yet (e.g. new experimental component) and introduce a new task type for the tasks that are in the spec but do not have a task source explicitly stated and we\u0027re sure about them.",
      "parentUuid": "d1b3e0c2_6b7c0741",
      "revId": "02049e85b5efda16690285b4c47a739d135d2d14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb857ee2_4fdfbc50",
        "filename": "third_party/WebKit/Source/bindings/core/v8/RejectedPromises.cpp",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2018-01-24T13:10:24Z",
      "side": 1,
      "message": "This is a regression caused by this CL... right?\n\nWould it be hard to reorganize code so that one task processes all the messages? Before this CL, we had that behavior...",
      "revId": "02049e85b5efda16690285b4c47a739d135d2d14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abfdcedd_79aada7e",
        "filename": "third_party/WebKit/Source/bindings/core/v8/RejectedPromises.cpp",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1150969
      },
      "writtenOn": "2018-01-24T14:00:10Z",
      "side": 1,
      "message": "This is more or less intentional -- the previous implementation (and the current wording of the spec) require to post one task to handle all promises, including ones from different contexts. \n\nThis contradicts the basic idea of per-frame scheduling and we definitely should fix it (especially given that these handlers can execute javascript and disregard frame-level settings like pausing).\n\nThere are two different options -- post a task to each context with a queue of promises to each context or post a task for each promise. Provided that we have the same task source for all of them, no reordering will take place among promises belonging to the same context.",
      "parentUuid": "eb857ee2_4fdfbc50",
      "revId": "02049e85b5efda16690285b4c47a739d135d2d14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}