{
  "comments": [
    {
      "key": {
        "uuid": "032b3a4b_2226d41f",
        "filename": "build/android/gyp/copy_ex.py",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-10-05T01:49:28Z",
      "side": 1,
      "message": "nit: comment about the symlink trickery that makes this necessary (since shutil.copy overwrites destination)",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "286af910_6b9c2855",
        "filename": "build/android/gyp/copy_ex.py",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-10-05T14:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "032b3a4b_2226d41f",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "706e3096_eaaf576e",
        "filename": "build/android/update_deps/update_third_party_deps.py",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-10-05T01:49:28Z",
      "side": 1,
      "message": "Does this need to be recursive?",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09df1907_19cb5e3c",
        "filename": "build/android/update_deps/update_third_party_deps.py",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-10-05T14:42:48Z",
      "side": 1,
      "message": "Yeah, some of the cipd symlinks get dropped into subdirectories.",
      "parentUuid": "706e3096_eaaf576e",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14e33ffd_d046c228",
        "filename": "build/config/android/internal_rules.gni",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-10-05T01:49:28Z",
      "side": 1,
      "message": "nit: can you make it not define a stamp when the output is know (also remove --stamp in this case)",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10eeb865_3142ad13",
        "filename": "build/config/android/internal_rules.gni",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-10-05T14:42:48Z",
      "side": 1,
      "message": "copy_ex currently requires a stamp when we\u0027re using a depfile because it gets incorporated into the depfile as the first output. I suppose I could change copy_ex to take the outputs and incorporate the first of them into the depfile instead if outputs are provided and the stamp isn\u0027t. I don\u0027t think doing so is worth the effort or the increased complexity.",
      "parentUuid": "14e33ffd_d046c228",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f63e8de3_095c966e",
        "filename": "build/config/android/internal_rules.gni",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-10-05T15:01:48Z",
      "side": 1,
      "message": "Wow, looking at this a bit more, it looks like it\u0027s used in only one spot:\nhttps://cs.chromium.org/search/?q\u003dcopy_ex+file:%5C.gn\u0026sq\u003dpackage:chromium\u0026type\u003dcs\n\nThe one spot doesn\u0027t use many of the available options, and still ends up passing through --arguments directly anyways!\n\nI wonder if you\u0027d we willing to simplify this a bit by just defining an action() in both of these spots and removing this template? For your new usage, you actually don\u0027t need a depfile either since your list of inputs is known.\n\nAlternatively, I also wouldn\u0027t mind leaving this template here, but removing the ability to copy unknown inputs (remove stamp, clear, depfile). That\u0027s the main thing we\u0027ve tried to avoid in GN that existed in GYP (we use .zip instead of stamps+directories of uncertain contents)",
      "parentUuid": "10eeb865_3142ad13",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5cb49e22_9a80260b",
        "filename": "build/config/android/internal_rules.gni",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-10-05T16:44:02Z",
      "side": 1,
      "message": "\u003e Wow, looking at this a bit more, it looks like it\u0027s used in only one spot:\n\u003e https://cs.chromium.org/search/?q\u003dcopy_ex+file:%5C.gn\u0026sq\u003dpackage:chromium\u0026type\u003dcs\n\u003e \n\u003e The one spot doesn\u0027t use many of the available options, and still ends up passing through --arguments directly anyways!\n\u003e \n\u003e I wonder if you\u0027d we willing to simplify this a bit by just defining an action() in both of these spots and removing this template? For your new usage, you actually don\u0027t need a depfile either since your list of inputs is known.\n\u003e \n\u003e Alternatively, I also wouldn\u0027t mind leaving this template here, but removing the ability to copy unknown inputs (remove stamp, clear, depfile). That\u0027s the main thing we\u0027ve tried to avoid in GN that existed in GYP (we use .zip instead of stamps+directories of uncertain contents)\n\nI\u0027m not crazy about removing the template as I add a second use of it, so I\u0027ve done a version of this. The template itself no longer uses --depfile/--stamp/etc, but the existing use of it does by specifying those things explicitly.",
      "parentUuid": "f63e8de3_095c966e",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "058b00fe_0f7a194c",
        "filename": "build/config/android/internal_rules.gni",
        "patchSetId": 2
      },
      "lineNbr": 1341,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-10-05T01:49:28Z",
      "side": 1,
      "message": "nit: add comment about why this needs to be copy_ex instead of copy",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60ad1a15_f3184daa",
        "filename": "build/config/android/internal_rules.gni",
        "patchSetId": 2
      },
      "lineNbr": 1341,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-10-05T14:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "058b00fe_0f7a194c",
      "revId": "f14b500c7297d512358e8591be0aba59a6af37d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}