{
  "comments": [
    {
      "key": {
        "uuid": "62df2078_b8393caa",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "Add comment above on why using \u0027 base::Unretained\u0027 is safe here.  It should be safe since the lifetime of |file_proxy_wrapper_| is controlled by this instance and the callback cannot be run after this instance is destroyed.  Any time you don\u0027t use a WeakPtr or Refcounted object, it is good to describe why it is safe.",
      "range": {
        "startLine": 25,
        "startChar": 3,
        "endLine": 25,
        "endChar": 43
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff8f36d3_4940826f",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62df2078_b8393caa",
      "range": {
        "startLine": 25,
        "startChar": 3,
        "endLine": 25,
        "endChar": 43
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbf4dcbe_2fe114c7",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "nit, you could rewrite this to:\n  if (request_) {\n    // Comment\n    SendToFileProxy(std::move(buffer));\n  } else {\n    // Comment\n    ParseNewRequest(std::move(buffer));\n  }\n\nJust a style preference though : )",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 47,
        "endChar": 37
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4646ab6_5c9bac0f",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbf4dcbe_2fe114c7",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 47,
        "endChar": 37
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e12b99a2_f2a1d54f",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "You may want to add this above:\nDCHECK(file_proxy_wrapper_);",
      "range": {
        "startLine": 76,
        "startChar": 2,
        "endLine": 76,
        "endChar": 31
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a36428e_f7c5ea00",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "I\u0027ll add a DCHECK for file_proxy_wrapper_ to the constructor. FileProxyWrapper never deletes itself, so this way we always know that file_proxy_wrapper_ is valid.",
      "parentUuid": "e12b99a2_f2a1d54f",
      "range": {
        "startLine": 76,
        "startChar": 2,
        "endLine": 76,
        "endChar": 31
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0b87b1c_65ce2577",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 78,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "Based on Chromium style, if you DCHECK for a condition then you don\u0027t need to handle it (the expectation is that any errors will be found during testing with debug builds).\n\nYou can remove this line and one level of indentation.",
      "range": {
        "startLine": 78,
        "startChar": 2,
        "endLine": 78,
        "endChar": 71
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a1dbf16_2f9f240b",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 78,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c0b87b1c_65ce2577",
      "range": {
        "startLine": 78,
        "startChar": 2,
        "endLine": 78,
        "endChar": 71
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebbea114_fb4bce11",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 106,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "This code is duplicated below, would it make sense to add a CleanupAndClose(const std::string\u0026 error_message) helper method which logs the errors and closes / cancels the transfer?",
      "range": {
        "startLine": 101,
        "startChar": 0,
        "endLine": 106,
        "endChar": 37
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15d0e45b_d375147d",
        "filename": "remoting/host/file_transfer_message_handler.cc",
        "patchSetId": 5
      },
      "lineNbr": 106,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ebbea114_fb4bce11",
      "range": {
        "startLine": 101,
        "startChar": 0,
        "endLine": 106,
        "endChar": 37
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b374ca7e_3187ef4a",
        "filename": "remoting/host/file_transfer_message_handler.h",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "nit: Add IWYU headers:\n\n#include \u003ccstdint\u003e\n#include \u003cmemory\u003e\n#include \u003cstring\u003e",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 8,
        "endChar": 1
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c426f6c_57544f41",
        "filename": "remoting/host/file_transfer_message_handler.h",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b374ca7e_3187ef4a",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 8,
        "endChar": 1
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d17dcf7_6c5cd7f6",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "IWUY:\n\n#include \u003cmemory\u003e\n#include \u003cqueue\u003e\n#include \u003cstring\u003e\n#include \u003cutility\u003e\n#include \u003cvector\u003e",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 7,
        "endChar": 1
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c75cc83_0893313e",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9d17dcf7_6c5cd7f6",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 7,
        "endChar": 1
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5159b9f9_0166f91b",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "Generally only POD datatypes should be defined at global or file scope.  Can you make these protected members of your test fixture?",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 19,
        "endChar": 67
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "883a0965_c99c62df",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5159b9f9_0166f91b",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 19,
        "endChar": 67
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a47e5536_3df287a6",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 166,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "Can you add the following to make it explicit that the * is no longer valid after this call (same with your other test):\nfile_proxy_wrapper_ptr \u003d nullptr;",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 26
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e93523c_ef5cc6da",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 166,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a47e5536_3df287a6",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 26
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33338d1a_444a2a15",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 1133074
      },
      "writtenOn": "2017-08-28T18:31:57Z",
      "side": 1,
      "message": "If you need to switch the base::Unretained() bind calls in the FileTransferMessageHandler class to use a WeakPtr, you can use that mechanism here (expose a \u0027WeakPtrForTesting()\u0027 method) to guarantee that the instance is destroyed and not leaked.",
      "range": {
        "startLine": 199,
        "startChar": 2,
        "endLine": 199,
        "endChar": 68
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "617eaf65_09ca3bc2",
        "filename": "remoting/host/file_transfer_message_handler_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 1224704
      },
      "writtenOn": "2017-08-28T18:55:27Z",
      "side": 1,
      "message": "If its important to verify that FileTransferMessageHandler deletes itself I\u0027ll add a weak factory. Otherwise, I\u0027ll leave it as is. It also sounds like functionality which should go in a unit test for NamedMessagePipeHandler.",
      "parentUuid": "33338d1a_444a2a15",
      "range": {
        "startLine": 199,
        "startChar": 2,
        "endLine": 199,
        "endChar": 68
      },
      "revId": "50cbd6342012e31be90bf2a0b1a17a3446ab2007",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}