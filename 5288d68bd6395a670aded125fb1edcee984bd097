{
  "comments": [
    {
      "key": {
        "uuid": "1433aa22_9d850720",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/service/DownloadBackgroundTask.java",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "\"if an incognito profile exists.\"",
      "range": {
        "startLine": 17,
        "startChar": 84,
        "endLine": 17,
        "endChar": 85
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd4bff27_21030fe9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/service/DownloadBackgroundTask.java",
        "patchSetId": 5
      },
      "lineNbr": 44,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "Can\u0027t call this.  Native hasn\u0027t been loaded yet?",
      "range": {
        "startLine": 44,
        "startChar": 8,
        "endLine": 44,
        "endChar": 59
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92261cbe_7cbf5cc9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/service/DownloadBackgroundTask.java",
        "patchSetId": 5
      },
      "lineNbr": 57,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "This will be critical for any future updates to the underling BackgroundTask system.  Can you file a bug and set the milestone/assign it?  Thanks!",
      "range": {
        "startLine": 56,
        "startChar": 8,
        "endLine": 57,
        "endChar": 44
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5ae21f7_a3845f26",
        "filename": "chrome/browser/android/download/service/download_background_task.cc",
        "patchSetId": 5
      },
      "lineNbr": 52,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "Is this safe?  Do we need to wait for both to callback before notifying the Java layer to actually stop the task?",
      "range": {
        "startLine": 52,
        "startChar": 50,
        "endLine": 52,
        "endChar": 65
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ae854f9_7645ad9a",
        "filename": "chrome/browser/android/download/service/download_background_task.h",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "Doesn\u0027t seem like you need this class.  Just have the static register method in here?",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 28
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be1e2f3a_881c4390",
        "filename": "chrome/browser/android/download/service/download_task_scheduler.cc",
        "patchSetId": 5
      },
      "lineNbr": 13,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "\u003d default?",
      "range": {
        "startLine": 13,
        "startChar": 49,
        "endLine": 13,
        "endChar": 0
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09ac79a6_60a4fce5",
        "filename": "components/download/internal/controller_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 139,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "This won\u0027t ever bump startup_status_ to complete.  Should just early return here IMO?\n\nTo detect when startup failed, you would look at startup_status_.Complete() \u0026\u0026 !startup_status_.Ok().",
      "range": {
        "startLine": 139,
        "startChar": 4,
        "endLine": 139,
        "endChar": 29
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ded20763_a201df0f",
        "filename": "components/download/internal/controller_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 149,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "Maybe make a function called ProcessScheduledTasks that you call here and at the end of AttemptToFinalizeSetup()?",
      "range": {
        "startLine": 143,
        "startChar": 2,
        "endLine": 149,
        "endChar": 3
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "482ec7b0_572d9e32",
        "filename": "components/download/internal/controller_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 155,
      "author": {
        "id": 1197289
      },
      "writtenOn": "2017-06-06T20:50:34Z",
      "side": 1,
      "message": "nit: Not in this patch, but I guess there might be cases where we won\u0027t reschedule tasks. Like no files to clean up or no downloads.",
      "range": {
        "startLine": 155,
        "startChar": 9,
        "endLine": 155,
        "endChar": 13
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1164246c_858f10dc",
        "filename": "components/download/internal/controller_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 225,
      "author": {
        "id": 1197289
      },
      "writtenOn": "2017-06-06T20:50:34Z",
      "side": 1,
      "message": "nit: Just some discussion, this might trigger a loop if the model or history db is keep failing. Shall we do nothing here?",
      "range": {
        "startLine": 225,
        "startChar": 51,
        "endLine": 225,
        "endChar": 60
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d95c7f6_1b7c79a2",
        "filename": "components/download/internal/controller_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 225,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "If these things are failing to initialize, I\u0027d be okay with not restarting the task.",
      "parentUuid": "1164246c_858f10dc",
      "range": {
        "startLine": 225,
        "startChar": 51,
        "endLine": 225,
        "endChar": 60
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76ff5ae8_36d80715",
        "filename": "components/download/internal/controller_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 242,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "I don\u0027t think we can return here.  If we return and we\u0027re in the background we\u0027ll die immediately.  We need to trigger the callback when we have no more active downloads.",
      "range": {
        "startLine": 239,
        "startChar": 0,
        "endLine": 242,
        "endChar": 20
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7d07ee1_4e44d849",
        "filename": "components/download/internal/controller_impl.h",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "Do this as part of this CL IMO",
      "range": {
        "startLine": 113,
        "startChar": 2,
        "endLine": 114,
        "endChar": 21
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c296f0e9_ab1932de",
        "filename": "components/download/public/download_service.h",
        "patchSetId": 5
      },
      "lineNbr": 69,
      "author": {
        "id": 1107754
      },
      "writtenOn": "2017-06-07T07:03:29Z",
      "side": 1,
      "message": "Does it explicitly do this?  Or is that what the chrome/ layer does?",
      "range": {
        "startLine": 69,
        "startChar": 47,
        "endLine": 69,
        "endChar": 66
      },
      "revId": "5288d68bd6395a670aded125fb1edcee984bd097",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}