{
  "comments": [
    {
      "key": {
        "uuid": "4cf94ed8_25b89763",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 385,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-30T21:53:04Z",
      "side": 1,
      "message": "nit: May read more naturally to have:\n\nif (!IsCancelled()) {\n  RunTask()\n  return true;\n}\n\nDecrementHighResTaskCount()\n\nwhich avoids the need for continue, and matches Sweep...() below :)",
      "range": {
        "startLine": 385,
        "startChar": 21,
        "endLine": 385,
        "endChar": 25
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e90c7503_ecacddb1",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 385,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-31T17:34:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4cf94ed8_25b89763",
      "range": {
        "startLine": 385,
        "startChar": 21,
        "endLine": 385,
        "endChar": 25
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3002d438_c0725ecb",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 520,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-30T21:53:04Z",
      "side": 1,
      "message": "nit: Can/should this be folding into the if...else below, i.e:\n\nif (IsCancelled()) {\n  ...\n} else if (!is_null()) {\n  ...\n} else {\n  ...\n}\n\nfor consistency, since the existing !is_null() case is already a continue case, in effect?",
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4935f0a9_51d2118f",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 520,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-31T17:34:08Z",
      "side": 1,
      "message": "Done, though I\u0027m uncertain whether this actually makes it easier to read.",
      "parentUuid": "3002d438_c0725ecb",
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b00d51e4_57a1ccad",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 605,
      "author": {
        "id": 1103654
      },
      "writtenOn": "2017-05-26T17:01:59Z",
      "side": 1,
      "message": "Nit: ---pending_high_res_tasks_;",
      "range": {
        "startLine": 605,
        "startChar": 28,
        "endLine": 605,
        "endChar": 0
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f41e3ca_030138d0",
        "filename": "base/message_loop/message_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 605,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-31T17:34:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b00d51e4_57a1ccad",
      "range": {
        "startLine": 605,
        "startChar": 28,
        "endLine": 605,
        "endChar": 0
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4128c87f_260400b1",
        "filename": "base/message_loop/message_loop.h",
        "patchSetId": 7
      },
      "lineNbr": 368,
      "author": {
        "id": 1119250
      },
      "writtenOn": "2017-05-26T08:59:15Z",
      "side": 1,
      "message": "As an aside in the blink scheduler we had to go further than this, periodically removing all cancelled delayed tasks.  See https://bugs.chromium.org/p/chromium/issues/detail?id\u003d680815 for details.  Hopefully that\u0027s not needed here but I thought I\u0027d mention it.",
      "range": {
        "startLine": 368,
        "startChar": 41,
        "endLine": 368,
        "endChar": 46
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3591cac7_aa48c932",
        "filename": "base/message_loop/message_loop.h",
        "patchSetId": 7
      },
      "lineNbr": 368,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-05-30T21:53:04Z",
      "side": 1,
      "message": "Doesn\u0027t removing all delayed tasks from the queue risk pathological behaviour in the case in which there are very few/infrequent cancelled delayed tasks; you\u0027ll do an O(n) queue scan for them and achieve nothing? I notice that the fix in that bug employs an idle task to do the sweep, where this CL sweeps the front every time a delayed tasks is processed, which presumably mitigates that.",
      "parentUuid": "4128c87f_260400b1",
      "range": {
        "startLine": 368,
        "startChar": 41,
        "endLine": 368,
        "endChar": 46
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "289e34af_115401be",
        "filename": "base/message_loop/message_loop.h",
        "patchSetId": 7
      },
      "lineNbr": 368,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-31T17:34:08Z",
      "side": 1,
      "message": "Yeah, I\u0027d prefer not to do this as well unless there\u0027s a clear need to do this.\n\n(The proposed mitigation is quite complex and was previously unmergeable. I think this will be a strict improvement over what we previously had anyway)",
      "parentUuid": "3591cac7_aa48c932",
      "range": {
        "startLine": 368,
        "startChar": 41,
        "endLine": 368,
        "endChar": 46
      },
      "revId": "862b6c1aaff9a7d9c133ac2d309c35facb512a2a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}