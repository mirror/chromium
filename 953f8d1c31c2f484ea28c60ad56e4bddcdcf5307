{
  "comments": [
    {
      "key": {
        "uuid": "d7091563_7bda349b",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 31,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-12-11T06:35:19Z",
      "side": 1,
      "message": "I was under the impression that we weren\u0027t keeping the user gesture requirement?",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecd9479d_0dc213d9",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 31,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2017-12-12T00:36:07Z",
      "side": 1,
      "message": "Ack! Leftover text that I missed when cleaning up.",
      "parentUuid": "d7091563_7bda349b",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "246782a5_4c23d83f",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 31,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2017-12-14T02:16:13Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ecd9479d_0dc213d9",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1efa0bdd_729a41ef",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-12-11T06:35:19Z",
      "side": 1,
      "message": "Is there a strong reason not to keep the focus requirement here? Would it be better to be consistent?",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc621664_33e4e333",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2017-12-12T00:36:07Z",
      "side": 1,
      "message": "With remote access, if we wait until focus, then there\u0027s a much larger risk of a race condition if the user attempts to use the clipboard data immediately.\n\nE.g, if they click on a remote paste button. This will give focus locally and send the click to the remote machine with the same user action. In that case, the data on the remote clipboard is likely to be stale.",
      "parentUuid": "1efa0bdd_729a41ef",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "987776fc_505e598e",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-12-12T02:24:18Z",
      "side": 1,
      "message": "Thanks for explaining :) See my note below..",
      "parentUuid": "cc621664_33e4e333",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33432b38_62fbbb75",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 160,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-12-11T06:35:19Z",
      "side": 1,
      "message": "This seems more complicated than where I thought we landed. My understanding was that we basically got rid of the notion of \"full\" access. Could we solely rely on the focus requirement for clipboard write?",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc9f9169_69e8c6d3",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 160,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2017-12-12T00:36:07Z",
      "side": 1,
      "message": "In the privacy bug (comment #27), clipboard sync (without requiring focus) was listed as a valid use case that would be OK as long as full access had been granted.",
      "parentUuid": "33432b38_62fbbb75",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "badfb0b9_1ab368a0",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 160,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-12-12T02:24:18Z",
      "side": 1,
      "message": "Ah I see. This was a note from the privacy team, but I think this goes against the grain of what the permissions team was trying to avoid by removing the gesture requirement. Specifically, see the discussion and arguments in https://groups.google.com/a/google.com/d/msgid/chrome-permissions-team/CAEYdGOViAEBTJHoqqsbf4PzHJEauRuobmaS5F_dYt%3DNhnMHQGg%40mail.gmail.com?utm_medium\u003demail\u0026utm_source\u003dfooter\n\nThe worry was that it\u0027s unintuitive to tie whether or not clipboard write can happen in a particular context to whether clipboard read is granted. I feel like if we were going to do this, it wouldn\u0027t really be better than going back to the user gesture requirement.\n\nIs this something where we can try starting with the simple model and seeing if it turns out to be problematic in practice?",
      "parentUuid": "cc9f9169_69e8c6d3",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae6e8a81_c3846965",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 160,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2017-12-14T02:16:13Z",
      "side": 1,
      "message": "Updated to just require Focus for read and write (read still requires permission).\n\nNote that Focus implies Visible.",
      "parentUuid": "badfb0b9_1ab368a0",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be972ca5_7a82ba10",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 164,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-12-11T06:35:19Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s necessary to check this. If we do check it (for example if we wanted to allow other embedders to use the check) I would require it in addition to the focus check.",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5eb7c4bd_b7321e8a",
        "filename": "third_party/WebKit/Source/modules/clipboard/ClipboardPromise.cpp",
        "patchSetId": 3
      },
      "lineNbr": 164,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2017-12-14T02:16:13Z",
      "side": 1,
      "message": "The HasPermission check on write is used to handle the case where the user has perviously denied clipboard access to this site.",
      "parentUuid": "be972ca5_7a82ba10",
      "revId": "953f8d1c31c2f484ea28c60ad56e4bddcdcf5307",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}