{
  "comments": [
    {
      "key": {
        "uuid": "f7a2427b_aa42f76c",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "This makes sure we\u0027re not run using Python 3 if it\u0027s set as default.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2d92d73_2b477697",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T18:10:11Z",
      "side": 1,
      "message": "Consider adding a comment explaining why that\u0027s important.",
      "parentUuid": "f7a2427b_aa42f76c",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfec9941_1f0bb42a",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-28T18:58:54Z",
      "side": 1,
      "message": "To me, this feels pretty self-explanatory. (The script targets python 2.) What would you like to see clarified?",
      "parentUuid": "a2d92d73_2b477697",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f75fa9e6_71da08de",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T19:30:04Z",
      "side": 1,
      "message": "I was thinking something about what would break if we tried to use Python 3. If it\u0027s widely known that there are significant incompatibilities (such that shebang lines like this are common) then feel free to ignore this comment.",
      "parentUuid": "bfec9941_1f0bb42a",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3b7112d_5d18880d",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 826,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T18:10:11Z",
      "side": 1,
      "message": "\"running against |config_file|\"?\n\nMaybe add a caveat that it also detects legacy implementations that didn\u0027t supply a config file explicitly.",
      "range": {
        "startLine": 826,
        "startChar": 59,
        "endLine": 826,
        "endChar": 66
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a524480_b7361342",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 826,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-30T22:44:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c3b7112d_5d18880d",
      "range": {
        "startLine": 826,
        "startChar": 59,
        "endLine": 826,
        "endChar": 66
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e8843b1_af986c09",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 860,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "We don\u0027t really care if the exact same interpreter is being used.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc255f3e_2047076e",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "We also don\u0027t care whether the path to the script is the same and specified in the same way.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef6e33b8_5585732f",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 864,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "This makes sure the user can stop the existing daemon if they attempt to do so between installing a new version with this change and triggering the script to relaunch itself.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80710328_3741fc20",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 866,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T18:10:11Z",
      "side": 1,
      "message": "Would it make sense to have the fallback logic instead use the default config file path? It wouldn\u0027t match the current behaviour exactly, but I think the effect for end users would be the same, and it\u0027s something we\u0027d probably want to leave so that command-line users don\u0027t need to specify a config file explicitly. If you implemented it that way, then I think a better design would be to make parse_config_arg() return the default instead of None if there\u0027s no config file specified. It will also remove the need to re-exec ourselves with an explicit config file if none is specified.",
      "range": {
        "startLine": 866,
        "startChar": 23,
        "endLine": 866,
        "endChar": 0
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97af3673_6056840a",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 866,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-28T18:58:54Z",
      "side": 1,
      "message": "I don\u0027t have a strong opinion on which approach to fallback would be better. One advantage of the approach here is that it only applies on upgrade. Once the script has been updated and any existing sessions relaunched, the script will always use the new behavior. By having the fallback use the default config path, any Python script named chrome-remote-desktop running without a --config flag would be identified, which may not be desired.\n\nI\u0027d prefer not to remove re-execing, since it serves to normalize the config path. E.g., if the user starts the script with a relative config path and stops it with an absolute path (or even a relative path with a different starting directory), I\u0027d still like it to find the appropriate process.\n\nOne of the oddities of the old approach was that if you started the script using a relative path, you\u0027d have to stop it using the same relative path, unless the script had relaunched itself at some point, in which case you\u0027d have to use an absolute path. I\u0027d like to avoid weirdness like that, here.\n\nI suppose I could normalize the config path on start if specified, but leave it absent, if not, but I\u0027m not sure what the advantage would be, at that point.",
      "parentUuid": "80710328_3741fc20",
      "range": {
        "startLine": 866,
        "startChar": 23,
        "endLine": 866,
        "endChar": 0
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3797428_7144046a",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 866,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T19:30:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "97af3673_6056840a",
      "range": {
        "startLine": 866,
        "startChar": 23,
        "endLine": 866,
        "endChar": 0
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c46a4eae_ba9ad8a6",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1367,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "Since parse_config_arg uses argparse, might as well switch over from optparse here for consistency.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "437d2de1_0af7efe2",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1412,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "In argparse convention, this would be args or arguments, but I left it as options to avoid the churn of renaming it.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "079bf580_410c1556",
        "filename": "remoting/host/linux/linux_me2me_host.py",
        "patchSetId": 1
      },
      "lineNbr": 1523,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-26T02:16:28Z",
      "side": 1,
      "message": "I moved this from below. No point in doing extra work if we\u0027re just going to exit, anyway.",
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00f710f4_8c201a1c",
        "filename": "remoting/host/setup/daemon_controller_delegate_linux.cc",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T18:10:11Z",
      "side": 1,
      "message": "I don\u0027t think this is harmful, but since the script takes care of missing config arguments, it doesn\u0027t seem necessary either. Consider removing it so that there are few places where the default config path is made explicit (though I think it\u0027s already duplicated between Python and C++, so it\u0027s not a big deal).",
      "range": {
        "startLine": 224,
        "startChar": 74,
        "endLine": 224,
        "endChar": 0
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a82544d_51e7f0f0",
        "filename": "remoting/host/setup/daemon_controller_delegate_linux.cc",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 1144161
      },
      "writtenOn": "2017-08-28T18:58:54Z",
      "side": 1,
      "message": "This is important so we reload/stop the correct process, e.g., if we\u0027re running a host using test Gaia. We already unconditionally pass the config file for --start (see line 200), so this isn\u0027t adding any duplication that doesn\u0027t already exist.",
      "parentUuid": "00f710f4_8c201a1c",
      "range": {
        "startLine": 224,
        "startChar": 74,
        "endLine": 224,
        "endChar": 0
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7b4c883_6cc258f1",
        "filename": "remoting/host/setup/daemon_controller_delegate_linux.cc",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-28T19:30:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9a82544d_51e7f0f0",
      "range": {
        "startLine": 224,
        "startChar": 74,
        "endLine": 224,
        "endChar": 0
      },
      "revId": "de90e00ce84d54db517f8afcadf16b5062149626",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}