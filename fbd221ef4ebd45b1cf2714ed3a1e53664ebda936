{
  "comments": [
    {
      "key": {
        "uuid": "c6dc8602_998259d9",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-07T23:16:31Z",
      "side": 1,
      "message": "Why are we doing sheet-modal? We have machinery to do tab-modal dialogs, and building the dialogs that way would give much more code reuse + visual conformity to dialog standards.",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6861f446_80c0bd74",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-07T23:18:31Z",
      "side": 1,
      "message": "I meant \"window-modal\".\n\nI\u0027m not sure that window modal gains us anything over tab modal.",
      "parentUuid": "c6dc8602_998259d9",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e794ef82_e7ae0a1f",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1144209
      },
      "writtenOn": "2017-09-07T23:42:27Z",
      "side": 1,
      "message": "We don\u0027t want users to dismiss dialog by navigating away or switching tabs, because when they see this warning, they are under severe security risk (a.k.a being phished).\nAnd we\u0027re using same modality for other security related warnings, such as Foil\u0027s chrome cleanup warning on Windows.\n\nPlease refer to UI design deck for details:\nhttps://docs.google.com/presentation/d/19myBgS0O5CIXB4Rtz8qkWFo_bo1NnoHjWnlzTde09j0/edit?ts\u003d59a59ea6#slide\u003did.g1d8b6eb17f_0_63",
      "parentUuid": "6861f446_80c0bd74",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76350f9f_264ea3c1",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-07T23:47:15Z",
      "side": 1,
      "message": "OK, but the dialog as-is looks nothing like the mock. The button colors are wrong, and it\u0027s entirely in the spoofable area of the page.",
      "parentUuid": "e794ef82_e7ae0a1f",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fb70b1c_76d636df",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1135976
      },
      "writtenOn": "2017-09-07T23:57:03Z",
      "side": 1,
      "message": "The dialog is window modal so that the user cannot switch tabs or navigate away.",
      "parentUuid": "6861f446_80c0bd74",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "964cdc62_f4263de0",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-08T00:01:05Z",
      "side": 1,
      "message": "FYI, using a tab-modal dialog does NOT dismiss when switching away. If you use a tab-modal dialog it will be there when the user comes back.\n\nAlso, using a window-modal dialog does not prevent the user from switching away. The user can switch to a different window.",
      "parentUuid": "76350f9f_264ea3c1",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c1573e9_436698af",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1144209
      },
      "writtenOn": "2017-09-08T00:09:58Z",
      "side": 1,
      "message": "Maybe there\u0027s some platform-specific behavior here. I\u0027m not a Mac expert. But I\u0027m pretty sure on other desktop platforms if user switches tab or navigate away via address bar, tab-modal dialog goes away. And yes, you\u0027re right, motivated user can still switch window, though we feel that window-modal adds slightly higher friction for user to dismiss it.",
      "parentUuid": "964cdc62_f4263de0",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f8cf394_c520d915",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-08T00:13:29Z",
      "side": 1,
      "message": "If the user switches tabs, tab-modal dialogs do not go away. A variation of tab-modal dialogs called \"auto-dismissing dialogs\", used by JavaScript dialogs, does go away on switch, but the standard tab-modal dialogs do not.\n\nNavigation away indeed does dismiss tab-modal dialogs. I haven\u0027t done research to see if this can be disabled.",
      "parentUuid": "2c1573e9_436698af",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "094a2dd0_53db092a",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1135976
      },
      "writtenOn": "2017-09-08T00:54:30Z",
      "side": 1,
      "message": "I played around with ConstrainedWindowAlert and it looks like it\u0027s a tab modal dialog.\nI don\u0027t think we can disable navigation since it\u0027s supposed to be. Do you have a suggestion on what to use for window modal dialogs?",
      "parentUuid": "964cdc62_f4263de0",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 20
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c2ff661_c7a88c6b",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 82,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-07T23:16:31Z",
      "side": 1,
      "message": "This entire setup becomes about ten lines of code, as well as conformance with UI, with the use of ConstrainedWindowAlert. See the JavaScriptDialogCocoaImpl for an example.",
      "range": {
        "startLine": 82,
        "startChar": 8,
        "endLine": 82,
        "endChar": 19
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "367c56b1_0daa2b93",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 95,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2017-09-08T00:16:26Z",
      "side": 1,
      "message": "The mock shows the buttons with the default button on the left, but that is Windows ordering. On the Mac you need to put the default button on the right.",
      "range": {
        "startLine": 95,
        "startChar": 9,
        "endLine": 95,
        "endChar": 50
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "070bfbfc_060ceb21",
        "filename": "chrome/browser/ui/cocoa/password_reuse_warning_dialog_controller.mm",
        "patchSetId": 17
      },
      "lineNbr": 95,
      "author": {
        "id": 1135976
      },
      "writtenOn": "2017-09-08T00:54:30Z",
      "side": 1,
      "message": "Ah, thanks for pointing that out. I\u0027ll fix it",
      "parentUuid": "367c56b1_0daa2b93",
      "range": {
        "startLine": 95,
        "startChar": 9,
        "endLine": 95,
        "endChar": 50
      },
      "revId": "fbd221ef4ebd45b1cf2714ed3a1e53664ebda936",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}