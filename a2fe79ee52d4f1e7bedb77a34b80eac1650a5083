{
  "comments": [
    {
      "key": {
        "uuid": "0b5b09fe_0c9da4ad",
        "filename": "content/browser/media/capture/web_contents_video_capture_device.cc",
        "patchSetId": 22
      },
      "lineNbr": 689,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-19T18:53:36Z",
      "side": 1,
      "message": "I assume that means its pixels. If it does, please name the variable to physical_size_pixels to make that clearer.",
      "range": {
        "startLine": 689,
        "startChar": 18,
        "endLine": 689,
        "endChar": 31
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6da4bc75_de4473ef",
        "filename": "content/browser/media/capture/web_contents_video_capture_device.cc",
        "patchSetId": 22
      },
      "lineNbr": 689,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "Done, also updated the comment and log to match.  @miu, please reply if this isn\u0027t correct.",
      "parentUuid": "0b5b09fe_0c9da4ad",
      "range": {
        "startLine": 689,
        "startChar": 18,
        "endLine": 689,
        "endChar": 31
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2e346bd_19a46e1d",
        "filename": "content/browser/media/capture/web_contents_video_capture_device.cc",
        "patchSetId": 22
      },
      "lineNbr": 689,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-24T23:28:04Z",
      "side": 1,
      "message": "Resolved.",
      "parentUuid": "6da4bc75_de4473ef",
      "range": {
        "startLine": 689,
        "startChar": 18,
        "endLine": 689,
        "endChar": 31
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2609af9_d5d18a74",
        "filename": "ui/views/controls/native/native_view_host.cc",
        "patchSetId": 22
      },
      "lineNbr": 62,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-19T18:53:36Z",
      "side": 1,
      "message": "Early out if equal.",
      "range": {
        "startLine": 62,
        "startChar": 2,
        "endLine": 62,
        "endChar": 24
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c60bcb86_a9ffc68f",
        "filename": "ui/views/controls/native/native_view_host.cc",
        "patchSetId": 22
      },
      "lineNbr": 62,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c2609af9_d5d18a74",
      "range": {
        "startLine": 62,
        "startChar": 2,
        "endLine": 62,
        "endChar": 24
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24c3a6e2_c91ef6a8",
        "filename": "ui/views/controls/native/native_view_host.h",
        "patchSetId": 22
      },
      "lineNbr": 62,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-19T18:53:36Z",
      "side": 1,
      "message": "\u0027rendering\u0027 in this context is mildly confusing. This sets the *actual* size of the NativeView, right? Maybe SetNativeViewSize?",
      "range": {
        "startLine": 62,
        "startChar": 7,
        "endLine": 62,
        "endChar": 23
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05d70206_9dec22a0",
        "filename": "ui/views/controls/native/native_view_host.h",
        "patchSetId": 22
      },
      "lineNbr": 62,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "I agree it can be confusing.  I think it\u0027s actually only setting this if there is a capture going on.  In that case the capture size is the rendering size, but the local view size remains unchanged (hence the comment about scaling if needed).\n\nI\u0027ve tried to update the comments to clarify and added \u0027capture\u0027 to the name, but I\u0027m not sure my attempt is any better.\n\nSetNativeViewSize might work as well, but still felt ambiguous as to what was going on.",
      "parentUuid": "24c3a6e2_c91ef6a8",
      "range": {
        "startLine": 62,
        "startChar": 7,
        "endLine": 62,
        "endChar": 23
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48fef5ee_246ec52c",
        "filename": "ui/views/controls/native/native_view_host.h",
        "patchSetId": 22
      },
      "lineNbr": 128,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-18T18:02:47Z",
      "side": 1,
      "message": "This seeems easy to get out of sync with the bounds of this view. Can a scale factor be specified instead?",
      "range": {
        "startLine": 126,
        "startChar": 2,
        "endLine": 128,
        "endChar": 28
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f0c4a5c_1ebc202a",
        "filename": "ui/views/controls/native/native_view_host.h",
        "patchSetId": 22
      },
      "lineNbr": 128,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-18T23:09:40Z",
      "side": 1,
      "message": "Replied in wrong place, sorry for duplication.\n\nThe render size is supposed to be distinct from the local bounds.  The remote rendering size could be entirely different height and width (and overall resolution) than what is available locally.  I may be misunderstanding your question though...\n\nWe could maybe use a transform instead of the size here, but a straight scale factor doesn\u0027t sound like it would work to me.",
      "parentUuid": "48fef5ee_246ec52c",
      "range": {
        "startLine": 126,
        "startChar": 2,
        "endLine": 128,
        "endChar": 28
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "714ab154_3656ec68",
        "filename": "ui/views/controls/native/native_view_host.h",
        "patchSetId": 22
      },
      "lineNbr": 128,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-19T18:53:36Z",
      "side": 1,
      "message": "Interesting. Ok, an explicit size makes sense then.",
      "parentUuid": "0f0c4a5c_1ebc202a",
      "range": {
        "startLine": 126,
        "startChar": 2,
        "endLine": 128,
        "endChar": 28
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7eada382_8c87b627",
        "filename": "ui/views/controls/native/native_view_host.h",
        "patchSetId": 22
      },
      "lineNbr": 128,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "714ab154_3656ec68",
      "range": {
        "startLine": 126,
        "startChar": 2,
        "endLine": 128,
        "endChar": 28
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08b28b3c_c01541c8",
        "filename": "ui/views/controls/native/native_view_host_aura.cc",
        "patchSetId": 22
      },
      "lineNbr": 114,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-19T18:53:36Z",
      "side": 1,
      "message": "This makes me mildly nervous. In particular this code path could be hit even if the render size is never set. Please add a boolean member so that the transform is only reset if the transform is changed.",
      "range": {
        "startLine": 114,
        "startChar": 6,
        "endLine": 114,
        "endChar": 62
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c6a4e7c_3363f1c8",
        "filename": "ui/views/controls/native/native_view_host_aura.cc",
        "patchSetId": 22
      },
      "lineNbr": 114,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08b28b3c_c01541c8",
      "range": {
        "startLine": 114,
        "startChar": 6,
        "endLine": 114,
        "endChar": 62
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1d3113e_0d27e1ae",
        "filename": "ui/views/controls/native/native_view_host_aura.cc",
        "patchSetId": 22
      },
      "lineNbr": 189,
      "author": {
        "id": 1000763
      },
      "writtenOn": "2017-10-19T18:53:36Z",
      "side": 1,
      "message": "no {}",
      "range": {
        "startLine": 189,
        "startChar": 56,
        "endLine": 189,
        "endChar": 57
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc0fa963_ef9e67a7",
        "filename": "ui/views/controls/native/native_view_host_aura.cc",
        "patchSetId": 22
      },
      "lineNbr": 189,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "Added an extra line for the boolean member above so it\u0027s needed now.",
      "parentUuid": "d1d3113e_0d27e1ae",
      "range": {
        "startLine": 189,
        "startChar": 56,
        "endLine": 189,
        "endChar": 57
      },
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9495a6d2_771499e2",
        "filename": "ui/views/controls/native/native_view_host_mac.mm",
        "patchSetId": 22
      },
      "lineNbr": 138,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-10-18T23:45:08Z",
      "side": 1,
      "message": "something to try for Mac... \n\nThere\u0027s also\n\n[host_-\u003enative_view() setLayerContentsPlacement:NSViewLayerContentsPlacementScaleProportionallyToFit];\n\nwhich might just magically do what you\u0027re trying to achieve. But I that might only affect layer-backed NSViews (we use layer-hosting NSViews for WebContents).\n\nI suspect you actually need to change the contents gravity on the layer like we discussed over email. But setting this property on the NSView could be a way to communicate to AcceleratedWidgetMac what contentsGravity it should be using in GotIOSurfaceFrame()",
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c151462c_0b14f159",
        "filename": "ui/views/controls/native/native_view_host_mac.mm",
        "patchSetId": 22
      },
      "lineNbr": 138,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "Ack.  Will try in future change.",
      "parentUuid": "9495a6d2_771499e2",
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "091a621b_e31c7901",
        "filename": "ui/views/controls/native/native_view_host_mac_unittest.mm",
        "patchSetId": 22
      },
      "lineNbr": 113,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-10-18T23:45:08Z",
      "side": 1,
      "message": "The bounds of \n\n[[[native_view layer] subLayer] bounds] is probably the thing you\u0027re interested in to get the render size. AcceleratedWidgetMac automatically resizes that whenever a frame is swapped in from the GPU process (it will always match the renderer size). But that subLayer is only *created* once the first frame is received (since frames can be provided from different sources..), so you might need to pump some events.",
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5eec22cf_7f6354b2",
        "filename": "ui/views/controls/native/native_view_host_mac_unittest.mm",
        "patchSetId": 22
      },
      "lineNbr": 113,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-23T18:14:56Z",
      "side": 1,
      "message": "I\u0027ll take a pass at trying to do that, but as this is just a placeholder test for now I may just remove it and add it back in the proper way in the future change when I get mac working correctly.",
      "parentUuid": "091a621b_e31c7901",
      "revId": "a2fe79ee52d4f1e7bedb77a34b80eac1650a5083",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}