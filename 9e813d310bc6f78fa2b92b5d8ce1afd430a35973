{
  "comments": [
    {
      "key": {
        "uuid": "784c0084_b05f16a5",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Some of these #includes don\u0027t seem to be used.",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1455e797_b5e8c03a",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Done.  RenderFrameHost is actually used around line 239 but I removed the others.",
      "parentUuid": "784c0084_b05f16a5",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6991bb55_c8ba2b71",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "I presume that |web_contents| takes ownership of |this|?  Can you add a brief comment noting this?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67068a62_7870ed6a",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Sounds plausible, but I\u0027m still sketchy on what ownership means in c++.  Is this saying that the web_contents will have the main reference to the observer and will be responsible for cleaning up?  If so I\u0027m confused as to how to reconcile that with the cleanup calls in \u0027xStopLoading\u0027 and \u0027xStartNavxx\u0027 below, but I\u0027m probably misunderstanding something.",
      "parentUuid": "6991bb55_c8ba2b71",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "076465ef_699eaf16",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-27T18:28:54Z",
      "side": 1,
      "message": "The code below invokes this ctor without holding on to the returned pointer.  If the code reaches this branch, either something needs to hold onto |this| and delete it at the appropriate time, or there needs to be a guarantee that one of the observer methods below is called that in turn deletes |this|.  It looks like the latter is the case?\n\nMaybe s/if and when/after/ above, and adding a comment here like \"// Destroys self when loading is complete\" would make it clear the two paths.",
      "parentUuid": "67068a62_7870ed6a",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33e663d2_34c2252c",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Thanks for the explanation, yes one of the methods below being guaranteed of getting a call is what we are hoping for.  I tried to verify and it looks like they are always called, but there could be some edge case where we didn\u0027t finish loading and navigation never started.  However, it does look like we will reliably clean up when WebContents is destroyed (ie the tab is closed) so it shouldn\u0027t last longer than the tab.\n\nYour suggested wording sounds good, updated comment.",
      "parentUuid": "076465ef_699eaf16",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b2caa8a_40c960ea",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 200,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Will the conditions that enable fullscreen-in-tab behavior guaranteed to be active at the time you fullscreen the video element?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "176c5c14_70c8aea3",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 200,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "In my testing so far they always have been, but I\u0027ll look back through the implementation and see.  Since we are always initiating this through the mr ui I\u0027m assuming the answer is yes we will always be capturing the tab and therefore fs-in-tab will be applicable.\n\nI\u0027ll add a comment to clarify.",
      "parentUuid": "5b2caa8a_40c960ea",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cede72f_98269f8f",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 200,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "I added a check to make sure we have a capturer on the web contents just before requesting fullscreen on the main frame below.\n\nWhen testing I did run across one time where the cast failed and so it ended up fullscreening the video over the entire display (not fullscreen in tab since the capture failed).\n\nWith the check on capture this doesn\u0027t happen.",
      "parentUuid": "176c5c14_70c8aea3",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb63ab99_0f173d30",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "I believe it\u0027s documented that this entire class is only used from the UI thread in practice, and I don\u0027t see these checks elsewhere in the public API.  This is probably unnecessary.",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "558364bb_c86023da",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T04:43:28Z",
      "side": 1,
      "message": "That\u0027s correct: something that uses WebContents directly can only live on the UI thread, and it\u0027s guaranteed that the callbacks invoked on the observer will also be on the UI thread.",
      "parentUuid": "cb63ab99_0f173d30",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d6817ca_d9ad11aa",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Ack.  I\u0027ll remove the DCHECK.",
      "parentUuid": "558364bb_c86023da",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b87e966f_d4bbc7e0",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Does this happen after the \u003cvideo\u003e element has been created?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "721bd00c_91063687",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T04:43:28Z",
      "side": 1,
      "message": "Also, is it possible for the user to trigger this too early by clicking \u0027stop\u0027?",
      "parentUuid": "b87e966f_d4bbc7e0",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6983fd57_1486d89c",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Both good questions.  In my experiments it\u0027s worked fine (ie a video element has been created already by the time this runs).  I haven\u0027t tried to click stop to see what happens (but I will give it a try).",
      "parentUuid": "721bd00c_91063687",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef60b51e_e6ce0347",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "I wasn\u0027t able to react quickly enough before the loading finishes and click stop (in the cases I tried, perhaps I need a really large video file to try with)...",
      "parentUuid": "6983fd57_1486d89c",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "699c7585_a495d26a",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2018-01-05T20:24:50Z",
      "side": 1,
      "message": "Marking resolved.  There is room for further verifying here, but the order of things has been switched up a bit anyway and waiting for capture is the long tail now.",
      "parentUuid": "ef60b51e_e6ce0347",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6045e7d_903a5918",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Does it matter where the user is navigating to?  They could be navigating to another file: URL.",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc87ff0c_1eeb2199",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "I think in this case we don\u0027t care.  If they use the tab we created for anything at all we bail on this attempt and clean up.  If they initiated another local cast (via the mr ui) then we will create a new tab and observer there so we don\u0027t need to worry about the one that was created first.  (I\u0027ll try and test out some scenario\u0027s with this though to verify things).",
      "parentUuid": "e6045e7d_903a5918",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76c790b8_867a3b56",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-27T18:28:54Z",
      "side": 1,
      "message": "It seems like to preserve the integrity of the \"user gesture\" to initiate fullscreen, we need to verify that the navigation is indeed to the file:// URL that the user intended to cast.",
      "parentUuid": "cc87ff0c_1eeb2199",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb8924a2_27833bbb",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Done.  I save the url from when the observer is created.  I\u0027m looking at trying to get the url directly from the file picker step, but that involves some more wiring.",
      "parentUuid": "76c790b8_867a3b56",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37642332_ee49b3ee",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 233,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "It seems like we should be checking the full URL here (see comment above).",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1aed7839_165d5811",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 233,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Should we save the URL from when the file is selected?  Per my reply above, if the user actually did anything with this tab we want to bail anyway so this looks ok to me, but we could be more refined in the approach here.",
      "parentUuid": "37642332_ee49b3ee",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c17b4917_013d2bcc",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 233,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-27T18:28:54Z",
      "side": 1,
      "message": "It seems like this is trying to verify that the user didn\u0027t \"do anything with the tab,\" i.e. initiate a navigation, but the check is not strict enough.",
      "parentUuid": "1aed7839_165d5811",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14a8cf2b_407be0d6",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 233,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c17b4917_013d2bcc",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2101fcce_ad7d6cb7",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "This method, along with MaybeReportFileInformation, is specific to casting of local media files.  I think we should eventually split the logic for the local media casting flow into a separate class from MediaRouterUI.",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1a23149_dd3dfc62",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Sounds good to me.  I\u0027m less familiar with the class design here, I\u0027ll to look over it some more and come up with a proposal.",
      "parentUuid": "2101fcce_ad7d6cb7",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "785895e4_afdc7f72",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-27T18:28:54Z",
      "side": 1,
      "message": "IMO splitting up this class is better done in another patch, but thanks for looking into it - feel free to file a crbug with your thoughts and add a TODO(crbug.com/XXX) in the right place.",
      "parentUuid": "e1a23149_dd3dfc62",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b504e6b2_9e1fc257",
        "filename": "chrome/browser/ui/webui/media_router/media_router_ui.cc",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "785895e4_afdc7f72",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "097e9b83_f3779a25",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 249,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T04:43:28Z",
      "side": 1,
      "message": "Is this needed? Maybe just get rid of it?\n\n(I would have expected this in the header)",
      "range": {
        "startLine": 249,
        "startChar": 22,
        "endLine": 249,
        "endChar": 29
      },
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fb89244_0f106fd1",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 249,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Yea it does look odd here (copied from the original change).\n\nI\u0027ll verify what we need here and take it out or move it to the header.",
      "parentUuid": "097e9b83_f3779a25",
      "range": {
        "startLine": 249,
        "startChar": 22,
        "endLine": 249,
        "endChar": 29
      },
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19b613a8_5730a92c",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 249,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5fb89244_0f106fd1",
      "range": {
        "startLine": 249,
        "startChar": 22,
        "endLine": 249,
        "endChar": 29
      },
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7caa53d_186f0392",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "I tend to use ternary expressions where possible, but that\u0027s really just my personal preference for readability.",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa76ffb6_518404b0",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b7caa53d_186f0392",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adccab1a_65ea4f06",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 753,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "I couldn\u0027t quite follow this comment - what is \"it\"?  (Also applies below.)",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "519b9260_f77763bb",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 753,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "I\u0027ll take a pass at updating these comments.  I think it should say \u0027... because local media always opens in a new tab\u0027",
      "parentUuid": "adccab1a_65ea4f06",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f950430a_20279881",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 753,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Updated comments.  These were copies from the base test.",
      "parentUuid": "519b9260_f77763bb",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e05f2af1_3ae64c8a",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 761,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Is there any way to make this not time dependent?  Fixed timeouts are recipes for flaky tests.\n (Also applies below.)",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2f498e6_40d0a703",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 761,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2017-10-24T23:02:46Z",
      "side": 1,
      "message": "I\u0027d try to use  WaitForLoadStop from content/public/test/browser_test_utils.h.\n\nIf your IPC is routed via the frame\u0027s routing_id_, or the action is a frame-associated mojo interface, then waiting for LoadStop ought to ensure that the force-fullscreen IPC will arrive in the renderer prior to the IPC that results from the ExecuteScript call below.\n\nIf you don\u0027t want to rely on that subtle IPC ordering though, you could modify your kIsFullscreen script so that it waits for an onfullscreenchange DOM event.",
      "parentUuid": "e05f2af1_3ae64c8a",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d89d1fc_80fd24ce",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 761,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Thanks for the suggestions, I\u0027ll take a stab at trying them out.",
      "parentUuid": "e2f498e6_40d0a703",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3370b956_ac6222e5",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 761,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2018-01-05T20:24:50Z",
      "side": 1,
      "message": "Marking this resolved.  We still have some waits in the tests, but they aren\u0027t due to waiting for the fullscreen IPC as would be addressed by the suggestion here.",
      "parentUuid": "3d89d1fc_80fd24ce",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "394eec9f_a428924d",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 763,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Can you elaborate on this?  I think the important assertion is that the single tab is now showing a fullscreen-in-tab video element.\n\n(Similar comment applies below.)",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fc5b765_a51299c4",
        "filename": "chrome/test/media_router/media_router_integration_browsertest.cc",
        "patchSetId": 2
      },
      "lineNbr": 763,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "394eec9f_a428924d",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "60f5329b_266e08dc",
        "filename": "content/common/frame_messages.h",
        "patchSetId": 2
      },
      "lineNbr": 1584,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "What is \"tab fullscreen\"?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd27ef94_c8f8f759",
        "filename": "content/common/frame_messages.h",
        "patchSetId": 2
      },
      "lineNbr": 1584,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Not sure, I just copied from the comment below.  I was assuming it was for differentiating from browser fullscreen.  I\u0027ll try for a better comment.",
      "parentUuid": "60f5329b_266e08dc",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c880f252_a54f7714",
        "filename": "content/common/frame_messages.h",
        "patchSetId": 2
      },
      "lineNbr": 1584,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Removed as we don\u0027t need this anymore since we are using mojo instead of IPC messages.",
      "parentUuid": "bd27ef94_c8f8f759",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b43425a8_f6b679ed",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 1714,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Presumably, this will have a Mojo equivalent someday, but I don\u0027t know the status of servicification of RenderFrame/RenderFrameHost.  It\u0027s a big job :-)",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cde48e5_7af107e6",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 1714,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2017-10-24T22:36:30Z",
      "side": 1,
      "message": "mojofication of per-RenderFrame functionality is pretty far along. In fact, using mojo ought to simplify this CL a bit.\n\nThe reason you don\u0027t see a lot of methods on the Frame/FrameHost mojo interface yet is that for the most part, the work has proceeded by creating small frame-associated interfaces. With mojo, it\u0027s not necessary to route messages through render_frame_host_impl.cc and the content/public/browser interfaces -- instead, RenderFrameImpl (or even blink) is allowed to expose an interface, and chrome/ would be allowed to talk to it directly. In short, mojo lets us drop the old pattern of a huge frame_messages.h that spans everything because routing ids are expensive.\n\nI think RenderFrameImpl::SetEngagementLevel works similarly to what you need here, so you can look to it for how to structure this (though hopefully not the part where you have to cache the origin for later use... that\u0027s gross): https://cs.chromium.org/chromium/src/content/renderer/render_frame_impl.cc?l\u003d2928",
      "parentUuid": "b43425a8_f6b679ed",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ff6ca1c_7874b935",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 1714,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Thanks, will give this a try.",
      "parentUuid": "0cde48e5_7af107e6",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afa4d5af_5a51b416",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 1714,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Done.  This is removed now and I created a new mojo interface for fullscreening.",
      "parentUuid": "2ff6ca1c_7874b935",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78a48281_4715c8ce",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 4815,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T04:43:28Z",
      "side": 1,
      "message": "How about frame_-\u003eGetDocument().QuerySelector(\"video\")?\n\nIt\u0027s probably not worth putting the WebString in static storage... I think?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa301bb0_6d3f6080",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 4815,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Sounds good.  I was just trying to follow patterns I saw in the file (I\u0027m still very rough with c++).",
      "parentUuid": "78a48281_4715c8ce",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f6cf101_b508e833",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 4815,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "I removed the static storage, but I couldn\u0027t use QuerySelector as the type it returns doesn\u0027t have the \u0027FirstItem\u0027 method on it.  (I\u0027m not familiar enough with c++ typing to know why).",
      "parentUuid": "aa301bb0_6d3f6080",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c71e0141_c585d52e",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 4822,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-10-25T04:43:28Z",
      "side": 1,
      "message": "Is it possible to just instantiate this directly on the stack?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82146abe_fa2d2d38",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 4822,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "I\u0027ll try and see what happens. :)",
      "parentUuid": "c71e0141_c585d52e",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c12e50c4_82bd98b5",
        "filename": "content/renderer/render_frame_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 4822,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-12-06T18:49:37Z",
      "side": 1,
      "message": "Seems to work fine.",
      "parentUuid": "82146abe_fa2d2d38",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45883257_b43d02f8",
        "filename": "third_party/WebKit/Source/core/exported/WebElement.cpp",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2017-10-24T17:12:54Z",
      "side": 1,
      "message": "Extra blank line?",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7880fe39_10f5e5d4",
        "filename": "third_party/WebKit/Source/core/exported/WebElement.cpp",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1150437
      },
      "writtenOn": "2017-10-26T18:03:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "45883257_b43d02f8",
      "revId": "9e813d310bc6f78fa2b92b5d8ce1afd430a35973",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}