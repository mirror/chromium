{
  "comments": [
    {
      "key": {
        "uuid": "9e63bacf_ecf59a56",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 575,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "It seems you might want to group these specific checks into one method\n\nnamespace {\nenum LockedState {\n  NONE,\n  PERMISSION_UNAVAILABLE,\n  FEATURE_UNAVAILABLE,\n  LOCKED  \n};\n\nLockedState ParseLockedState(Extension* e, WindowState s) {\n  if (s !\u003d WINDOW_STATE_LOCKED) return NONE;\n  if (!e-\u003e..HasAPIPermission()) return PERMISSION_UNAVAILABLE;\n#if OS_CHROMEOS ..\n  if (FeatureSwitch..-\u003eIsEnabled()) return FEATURE_UNAVAILABLE;\n  return LOCKED;\n}\n}  // namespace\n\nAnd use it here and in WindowsUpdateFunction?",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f7f9ec7_9f60d545",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 575,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Good suggestion, I\u0027ve changed it up a bit tho. WDYT of such an approach?",
      "parentUuid": "9e63bacf_ecf59a56",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ecaafea5_731dc317",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 575,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T21:29:19Z",
      "side": 1,
      "message": "LG.",
      "parentUuid": "5f7f9ec7_9f60d545",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a99e866_d9ce30a8",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 576,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Should we also guard this with OS_CHROMEOS?",
      "range": {
        "startLine": 576,
        "startChar": 8,
        "endLine": 576,
        "endChar": 58
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a179c339_9bfdbeea",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 576,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Yeah why not, reduces code size on non-cros platforms.",
      "parentUuid": "5a99e866_d9ce30a8",
      "range": {
        "startLine": 576,
        "startChar": 8,
        "endLine": 576,
        "endChar": 58
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c72f7cde_f1af8119",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 589,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "So if the feature is not available, we silently ignore the request. Is this expected?",
      "range": {
        "startLine": 589,
        "startChar": 6,
        "endLine": 589,
        "endChar": 58
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c91997a2_60407313",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 589,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Yeah not the best response, atleast should do a LOG(ERROR), didn\u0027t cross my mind.\n\nRegarding this one, see my other comment on FeatureSwitch / Finch Experiment.",
      "parentUuid": "c72f7cde_f1af8119",
      "range": {
        "startLine": 589,
        "startChar": 6,
        "endLine": 589,
        "endChar": 58
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e02167a_da411812",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 589,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-11-08T16:42:22Z",
      "side": 1,
      "message": "Removed FeatureSwitch so this is gone as well.",
      "parentUuid": "c91997a2_60407313",
      "range": {
        "startLine": 589,
        "startChar": 6,
        "endLine": 589,
        "endChar": 58
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "934bf5a1_c0152921",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 590,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Unfortunately, I\u0027m not familiar with ash/aura. You might want to run these through some owners in the respective area.",
      "range": {
        "startLine": 590,
        "startChar": 0,
        "endLine": 590,
        "endChar": 67
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af80da77_c70e782a",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 590,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "934bf5a1_c0152921",
      "range": {
        "startLine": 590,
        "startChar": 0,
        "endLine": 590,
        "endChar": 67
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f160971_0fa02c69",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 684,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Should line 684-690 go under else clause of the if on line 680?",
      "range": {
        "startLine": 684,
        "startChar": 0,
        "endLine": 684,
        "endChar": 24
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b939b9a8_1c829093",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 684,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Not really.",
      "parentUuid": "1f160971_0fa02c69",
      "range": {
        "startLine": 684,
        "startChar": 0,
        "endLine": 684,
        "endChar": 24
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6bf891d_93d05c54",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 684,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T21:29:19Z",
      "side": 1,
      "message": "The reason I was saying this is because line 682 sets SetFullscreeMode(false, ..) so that and PinWindow would never be executed simultaneously...",
      "parentUuid": "b939b9a8_1c829093",
      "range": {
        "startLine": 684,
        "startChar": 0,
        "endLine": 684,
        "endChar": 24
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74bc8800_7167232d",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 684,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-11-08T16:42:22Z",
      "side": 1,
      "message": "On second thought, I put it below inside \"switch (show_state)\" - that seems better actually, right?",
      "parentUuid": "a6bf891d_93d05c54",
      "range": {
        "startLine": 684,
        "startChar": 0,
        "endLine": 684,
        "endChar": 24
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29216ea9_14991d85",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 684,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-11-09T02:21:55Z",
      "side": 1,
      "message": "Ya, tying it with *FULLSCREEN looks good.",
      "parentUuid": "74bc8800_7167232d",
      "range": {
        "startLine": 684,
        "startChar": 0,
        "endLine": 684,
        "endChar": 24
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18d4db8a_3f8ce234",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 771,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "If another extension calls chrome.windows.remove on a locked fullscreen window, should we allow it?",
      "range": {
        "startLine": 771,
        "startChar": 34,
        "endLine": 771,
        "endChar": 55
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4abc3cf6_0a85accd",
        "filename": "chrome/browser/extensions/api/tabs/tabs_api.cc",
        "patchSetId": 12
      },
      "lineNbr": 771,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Good point, put a check in.",
      "parentUuid": "18d4db8a_3f8ce234",
      "range": {
        "startLine": 771,
        "startChar": 34,
        "endLine": 771,
        "endChar": 55
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d61d4fe_5c32423d",
        "filename": "chrome/browser/extensions/window_open_apitest.cc",
        "patchSetId": 12
      },
      "lineNbr": 387,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Also add another test that exercises what happens when the feature is not available, i.e. the call to chrome.windows.create fails gracefully/as expected.\n\n\nAlso, a non-chromeos test that always fails on chrome.windows.create() with locked type.",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81059de4_ade532c4",
        "filename": "chrome/browser/extensions/window_open_apitest.cc",
        "patchSetId": 12
      },
      "lineNbr": 387,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Will do. Are you fine with me adding these tests in a follow-up CL in 10 days? I want to let Jimmy (he\u0027s working on the extension using this API) start testing as soon as possible, and I\u0027ll be OOO next week.",
      "parentUuid": "2d61d4fe_5c32423d",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7effd717_1e1c472d",
        "filename": "chrome/browser/extensions/window_open_apitest.cc",
        "patchSetId": 12
      },
      "lineNbr": 387,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T21:29:19Z",
      "side": 1,
      "message": "Please do. A TODO and bug is probably better so we don\u0027t forget.",
      "parentUuid": "81059de4_ade532c4",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a27826af_43da1cc5",
        "filename": "chrome/browser/extensions/window_open_apitest.cc",
        "patchSetId": 12
      },
      "lineNbr": 387,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-11-08T16:42:22Z",
      "side": 1,
      "message": "Added them here after all.",
      "parentUuid": "7effd717_1e1c472d",
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "224dc8eb_95eccd70",
        "filename": "chrome/common/extensions/api/windows.json",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Also note the availability restrictions?",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 113
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4fc996c_4b7b55c6",
        "filename": "chrome/common/extensions/api/windows.json",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "224dc8eb_95eccd70",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 113
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "415ca333_c563e4e0",
        "filename": "chrome/test/data/extensions/api_test/window_open/locked_fullscreen/manifest.json",
        "patchSetId": 12
      },
      "lineNbr": 8,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "You can specify \"scripts\": [\"test.js\"] and remove test.html.",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 8,
        "endChar": 23
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d598f1c0_675495f7",
        "filename": "chrome/test/data/extensions/api_test/window_open/locked_fullscreen/manifest.json",
        "patchSetId": 12
      },
      "lineNbr": 8,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "Done,thanks!",
      "parentUuid": "415ca333_c563e4e0",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 8,
        "endChar": 23
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4104c321_a51dfd93",
        "filename": "chrome/test/data/extensions/api_test/window_open/locked_fullscreen/test.js",
        "patchSetId": 12
      },
      "lineNbr": 8,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Should we be performing any other sanity check on |win|? Also maybe chrome.windows.get to verify that locked state applied?",
      "range": {
        "startLine": 8,
        "startChar": 46,
        "endLine": 8,
        "endChar": 47
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e59d627_535be277",
        "filename": "chrome/test/data/extensions/api_test/window_open/locked_fullscreen/test.js",
        "patchSetId": 12
      },
      "lineNbr": 8,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "I think we\u0027re fine, and I think checking the state itself here is a good idea. I found a bug where the WindowState was being returned as \u0027fullscreen\u0027, instead of \u0027locked\u0027 - fixed that now. Thanks.",
      "parentUuid": "4104c321_a51dfd93",
      "range": {
        "startLine": 8,
        "startChar": 46,
        "endLine": 8,
        "endChar": 47
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2be841e_21637dfd",
        "filename": "extensions/common/feature_switch.cc",
        "patchSetId": 12
      },
      "lineNbr": 71,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T00:27:08Z",
      "side": 1,
      "message": "Do you need a field trial, i.e. do you plan to control/rollout this feature as finch experiment?",
      "range": {
        "startLine": 71,
        "startChar": 12,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01294220_c00b3bb1",
        "filename": "extensions/common/feature_switch.cc",
        "patchSetId": 12
      },
      "lineNbr": 71,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-10-27T15:07:46Z",
      "side": 1,
      "message": "The reason why I included it was because it was mentioned here [1]:\nYour implementation must be kept behind its own feature flag until it works and is secure.  See chrome/common/extensions/feature_switch.h.\n\nI think it\u0027s actually better without it, would you be fine with me removing this whole feature_switch logic?\n\n[1] http://dev.chromium.org/developers/design-documents/extensions/proposed-changes/apis-under-development",
      "parentUuid": "f2be841e_21637dfd",
      "range": {
        "startLine": 71,
        "startChar": 12,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b52213a_130e5888",
        "filename": "extensions/common/feature_switch.cc",
        "patchSetId": 12
      },
      "lineNbr": 71,
      "author": {
        "id": 1001727
      },
      "writtenOn": "2017-10-27T21:29:19Z",
      "side": 1,
      "message": "Since this isn\u0027t a full API, and rather a small addition to a private API, it\u0027s probably fine without it.",
      "parentUuid": "01294220_c00b3bb1",
      "range": {
        "startLine": 71,
        "startChar": 12,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56a5ff13_63033116",
        "filename": "extensions/common/feature_switch.cc",
        "patchSetId": 12
      },
      "lineNbr": 71,
      "author": {
        "id": 1145669
      },
      "writtenOn": "2017-11-08T16:42:22Z",
      "side": 1,
      "message": "Ok, removed the FeatureSwitch.",
      "parentUuid": "7b52213a_130e5888",
      "range": {
        "startLine": 71,
        "startChar": 12,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "1d328ea410eb0d07539796c23bdbaedf1ffda0b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}