{
  "comments": [
    {
      "key": {
        "uuid": "ad51fa8f_63437a57",
        "filename": "net/http/http_cache.cc",
        "patchSetId": 64
      },
      "lineNbr": 1144,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-18T14:33:43Z",
      "side": 1,
      "message": "return entry-\u003ewriters; should suffice",
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3dfc697_f155f1f8",
        "filename": "net/http/http_cache.cc",
        "patchSetId": 64
      },
      "lineNbr": 1144,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-10-18T20:59:21Z",
      "side": 1,
      "message": "I thought so too but it gives an error:\nno viable conversion from returned value of type \u0027std::unique_ptr\u003cWriters\u003e\u0027 to function return type \u0027bool\u0027",
      "parentUuid": "ad51fa8f_63437a57",
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "554295a5_d1ebdcfb",
        "filename": "net/http/http_cache.cc",
        "patchSetId": 64
      },
      "lineNbr": 1144,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-19T21:06:35Z",
      "side": 1,
      "message": "Something I don\u0027t quite understand between explicit and implicit bool. Okay, thanks for trying!",
      "parentUuid": "a3dfc697_f155f1f8",
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0789214a_2a391935",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 445,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-18T14:33:43Z",
      "side": 1,
      "message": "Why these conditions? Why not just call StopCachingImpl?",
      "range": {
        "startLine": 443,
        "startChar": 2,
        "endLine": 445,
        "endChar": 25
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf533f3a_19cb8eb6",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 445,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-10-18T20:59:21Z",
      "side": 1,
      "message": "This is preserving the original condition that network transaction should be present in order to attempt stopcaching.",
      "parentUuid": "0789214a_2a391935",
      "range": {
        "startLine": 443,
        "startChar": 2,
        "endLine": 445,
        "endChar": 25
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "254d5474_4a398549",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 445,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-19T21:06:35Z",
      "side": 1,
      "message": "The entire second condition can be replaced with network_transaction(), so how about:\n\nif (cache_.get() \u0026\u0026 (mode_ \u0026 WRITE) \u0026\u0026 !is_sparse \u0026\u0026 !range_requested_ \u0026\u0026 network_transaction()) {\n  StopCachingImpl(false);\n}",
      "parentUuid": "bf533f3a_19cb8eb6",
      "range": {
        "startLine": 443,
        "startChar": 2,
        "endLine": 445,
        "endChar": 25
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac7c321d_3a20c5cf",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 2110,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-18T14:33:43Z",
      "side": 1,
      "message": "I must be missing something. If the writer that reads the last byte saves the transaction info and resets writer\u0027s network transaction, how are the other shared writer transactions supposed to save the network transaction info?",
      "range": {
        "startLine": 2109,
        "startChar": 0,
        "endLine": 2110,
        "endChar": 51
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "620a7566_2c337302",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 2110,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-18T21:09:04Z",
      "side": 1,
      "message": "Ping?",
      "parentUuid": "ac7c321d_3a20c5cf",
      "range": {
        "startLine": 2109,
        "startChar": 0,
        "endLine": 2110,
        "endChar": 51
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e4d18cc_5910fa09",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 2110,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-10-18T21:13:58Z",
      "side": 1,
      "message": "In this specific case, since it is partial, there is no other writer. \nFor non-partial cases:\n- 304 transactions reset their own network transactions and that\u0027s when we store the headers for them.\n- 200 transaction stores the header when network transaction is reset via WriterAboutToBeRemovedFromEntry",
      "parentUuid": "620a7566_2c337302",
      "range": {
        "startLine": 2109,
        "startChar": 0,
        "endLine": 2110,
        "endChar": 51
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1287ea52_e705a5e0",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 2110,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-19T21:06:35Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7e4d18cc_5910fa09",
      "range": {
        "startLine": 2109,
        "startChar": 0,
        "endLine": 2110,
        "endChar": 51
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91a12a47_c29e6084",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 2871,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2017-10-18T17:38:18Z",
      "side": 1,
      "message": "nit: If consuming code is relying on StopCachingImpl() returning true in certain circumstances, the fact that it returns true in those circumstances should be documented in the comment in the header file.  (Not a big deal, since it\u0027s part of the class implementation rather than the interface, but it\u0027s still a good rule of thumb.)",
      "range": {
        "startLine": 2871,
        "startChar": 11,
        "endLine": 2871,
        "endChar": 18
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "893e8345_f86fee69",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 2871,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-10-18T20:59:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91a12a47_c29e6084",
      "range": {
        "startLine": 2871,
        "startChar": 11,
        "endLine": 2871,
        "endChar": 18
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adab6110_39863e20",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 3327,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-18T14:33:43Z",
      "side": 1,
      "message": "Replace above with:\n\ntransaction.GetFullRequestHeaders(\u0026network_transaction_info.full_request_headers);\n\nMore succinct and saves a copy.",
      "range": {
        "startLine": 3325,
        "startChar": 0,
        "endLine": 3327,
        "endChar": 75
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30f42249_1eb1b99e",
        "filename": "net/http/http_cache_transaction.cc",
        "patchSetId": 64
      },
      "lineNbr": 3327,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-10-18T20:59:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "adab6110_39863e20",
      "range": {
        "startLine": 3325,
        "startChar": 0,
        "endLine": 3327,
        "endChar": 75
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b4616b5_f8118659",
        "filename": "net/http/http_cache_writers.cc",
        "patchSetId": 64
      },
      "lineNbr": 168,
      "author": {
        "id": 1116284
      },
      "writtenOn": "2017-10-18T14:33:43Z",
      "side": 1,
      "message": "need braces for this condition since it\u0027s more than one line",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 168,
        "endChar": 13
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e054d81d_fc020604",
        "filename": "net/http/http_cache_writers.cc",
        "patchSetId": 64
      },
      "lineNbr": 168,
      "author": {
        "id": 1172224
      },
      "writtenOn": "2017-10-18T20:59:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b4616b5_f8118659",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 168,
        "endChar": 13
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "347bd9dc_d628802d",
        "filename": "net/http/http_cache_writers.h",
        "patchSetId": 64
      },
      "lineNbr": 234,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2017-10-18T17:38:18Z",
      "side": 1,
      "message": "nit: I find \"this\" confusing in context (it\u0027s just been used in a different way), switch to \".. after calling this function\".",
      "range": {
        "startLine": 234,
        "startChar": 67,
        "endLine": 234,
        "endChar": 71
      },
      "revId": "bb98ba8a036994e5db091a34be3e40bf281bf392",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}