{
  "comments": [
    {
      "key": {
        "uuid": "ae1b61ac_24616bd7",
        "filename": "chrome/browser/chromeos/chrome_browser_main_chromeos.cc",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-24T22:10:52Z",
      "side": 1,
      "message": "did you mean to instantiate a second instance of ConsoleServiceProvider that gets added to display_service_providers? i only see the LibCrosService provider, unless i\u0027m missing it...",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47ac3b1d_461949c1",
        "filename": "chrome/browser/chromeos/chrome_browser_main_chromeos.cc",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-24T22:31:02Z",
      "side": 1,
      "message": "Yeah, I lost it during some rebase/squash shenanigans; it\u0027s back in PS2.",
      "parentUuid": "ae1b61ac_24616bd7",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2030825a_e54f9562",
        "filename": "chrome/browser/chromeos/chrome_browser_main_chromeos.cc",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:13:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47ac3b1d_461949c1",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8644ff1_5e64dedc",
        "filename": "chromeos/dbus/services/console_service_provider.h",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-24T22:10:52Z",
      "side": 1,
      "message": "nit: don\u0027t need \u0027explicit\u0027 anymore",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 10
      },
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1a8f913_bd1c51f2",
        "filename": "chromeos/dbus/services/console_service_provider.h",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:13:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8644ff1_5e64dedc",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 10
      },
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42668124_fc624fd1",
        "filename": "chromeos/dbus/services/console_service_provider.h",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-24T22:10:52Z",
      "side": 1,
      "message": "nit: add a brief comment here (e.g. \"// Weak pointer.\") or above the c\u0027tor documenting that ownership remains with the caller",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce7d25e9_dd6dd70b",
        "filename": "chromeos/dbus/services/console_service_provider.h",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:13:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "42668124_fc624fd1",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42685668_783be012",
        "filename": "chromeos/dbus/services/display_power_service_provider.h",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-24T22:10:52Z",
      "side": 1,
      "message": "nit: remove \u0027explicit\u0027",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 10
      },
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20876fcf_8d209597",
        "filename": "chromeos/dbus/services/display_power_service_provider.h",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:13:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "42685668_783be012",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 10
      },
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7dde7422_4889280a",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-24T22:10:52Z",
      "side": 1,
      "message": "is the \u0027root\u0027 here for frecon? powerd asks chrome to change the display power and dimming; it runs as the \u0027power\u0027 user.",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0a2200c_bfdc8690",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-24T22:31:02Z",
      "side": 1,
      "message": "Frecon does run as root. I\u0027m about to make the powerd change now and will update this if necessary.",
      "parentUuid": "7dde7422_4889280a",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c287834c_d16fa670",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:13:51Z",
      "side": 1,
      "message": "I just verified that powerd (patched to use DisplayService) works with this config. Is that surprising?",
      "parentUuid": "b0a2200c_bfdc8690",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da669e01_bdfdca44",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-25T17:24:01Z",
      "side": 1,
      "message": "a bit. how did you verify it? you mean that you can see that powerd is successfully making SetPower calls to org.chromium.DisplayService? you used cros_workon-\u003cboard\u003e to tell emerge to build the 9999 version of the power_manager package (i.e. your local source), right?",
      "parentUuid": "c287834c_d16fa670",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63abe6f9_30b6ed6f",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:29:10Z",
      "side": 1,
      "message": "I have cros_workon-pyro power_manager \u0026 system_api, deployed updated power_manager and chrome, verified that the power button toggles the backlight (also checked powerd logs, which confirm the new code is deployed).\n\nLooking just now I see that this file is *not* in /etc/dbus-1/system.d; would the permissions default to very open?",
      "parentUuid": "da669e01_bdfdca44",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8950b3f2_d9edd857",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-07-25T17:38:36Z",
      "side": 1,
      "message": "if you\u0027re using the simple chrome workflow to deploy your chrome changes, the file should be in /opt/google/chrome/dbus, which is included by /etc/dbus-1/system.d/chrome.conf.\n\ni thought the permissions default to closed. /usr/share/dbus-1/system.conf contains this:\n\n    \u003c!-- Holes must be punched in service configuration files for\n         name ownership and sending method calls --\u003e\n    \u003cdeny own\u003d\"*\"/\u003e\n    \u003cdeny send_type\u003d\"method_call\"/\u003e\n\ni don\u0027t know that i have any other theories here. :-/ what happens if you try to call the method as the chronos user via dbus-send?",
      "parentUuid": "63abe6f9_30b6ed6f",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c03d6ce_d563af6d",
        "filename": "chromeos/dbus/services/org.chromium.DisplayService.conf",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1210164
      },
      "writtenOn": "2017-07-25T17:44:13Z",
      "side": 1,
      "message": "Aha! Yeah, it\u0027s in /opt/...\n\ndbus-send to DisplayServiceInterface.SetPower works with chronos and sudo -u power",
      "parentUuid": "8950b3f2_d9edd857",
      "revId": "04a0243323fc0532a7cc4e49025da87055a98118",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}