{
  "comments": [
    {
      "key": {
        "uuid": "86e514b4_b4f92072",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-27T18:23:35Z",
      "side": 1,
      "message": "Why not use the same 12 second timeout as we have for normal advertisements?",
      "range": {
        "startLine": 22,
        "startChar": 49,
        "endLine": 22,
        "endChar": 51
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca7c8e1d_a0642d1a",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-27T23:30:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "86e514b4_b4f92072",
      "range": {
        "startLine": 22,
        "startChar": 49,
        "endLine": 22,
        "endChar": 51
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c514467_2f4df011",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-27T18:23:35Z",
      "side": 1,
      "message": "Is there any reason not to just inline:\n\nif (device_id_to_advertisement_with_timer_map.count(device_id) \u003d\u003d 0)",
      "range": {
        "startLine": 48,
        "startChar": 19,
        "endLine": 48,
        "endChar": 77
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f464c9e5_0c499658",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-27T18:23:35Z",
      "side": 1,
      "message": "Is there any reason not to just inline:\n\nif (device_id_to_advertisement_with_timer_map.count(device_id) !\u003d 0) {\n\n...\n}",
      "range": {
        "startLine": 48,
        "startChar": 19,
        "endLine": 48,
        "endChar": 78
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0139ce5_29a1a1b9",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-27T23:30:34Z",
      "side": 1,
      "message": "See other response.",
      "parentUuid": "4c514467_2f4df011",
      "range": {
        "startLine": 48,
        "startChar": 19,
        "endLine": 48,
        "endChar": 77
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f2e5390_61202241",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-27T23:30:34Z",
      "side": 1,
      "message": "Nope - previously, I was using the \"it\" variable twice, but I ended up changing the logic and not using it again.\n\nHowever, count() isn\u0027t the right function since it technically could match with another key. I used find() !\u003d end() instead.",
      "parentUuid": "f464c9e5_0c499658",
      "range": {
        "startLine": 48,
        "startChar": 19,
        "endLine": 48,
        "endChar": 78
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b37b293f_cbe4ecad",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-27T18:23:35Z",
      "side": 1,
      "message": "Is this callback always guaranteed to fire, even in error cases?",
      "range": {
        "startLine": 106,
        "startChar": 42,
        "endLine": 106,
        "endChar": 64
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6fabefa2_47b04b7e",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-28T01:01:21Z",
      "side": 1,
      "message": "ping",
      "parentUuid": "b37b293f_cbe4ecad",
      "range": {
        "startLine": 106,
        "startChar": 42,
        "endLine": 106,
        "endChar": 64
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d09adc9a_1d30fe7c",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-28T01:14:55Z",
      "side": 1,
      "message": "Sorry about that. No, the callback is not guaranteed to fire if the Bluetooth stack gets into some bad state where it cannot stop the advertisement. However:\n\n(1) According to metrics, it\u0027s extremely rare for that to occur. Most errors occur on registering, not unregistering.\n(2) If it gets stuck in that state, the normal BleAdvertiser is also broken by that point, so there\u0027s nothing we can do to recover anyway.",
      "parentUuid": "6fabefa2_47b04b7e",
      "range": {
        "startLine": 106,
        "startChar": 42,
        "endLine": 106,
        "endChar": 64
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e9185ee5_79d72ba1",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-28T01:18:39Z",
      "side": 1,
      "message": "Hmm... would we want to just remove the deviceID from the map or is there no point anyway because we can\u0027t stop the advertisement? Should we retry?",
      "parentUuid": "d09adc9a_1d30fe7c",
      "range": {
        "startLine": 106,
        "startChar": 42,
        "endLine": 106,
        "endChar": 64
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75195346_aee96f34",
        "filename": "chromeos/components/tether/ad_hoc_ble_advertiser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-28T01:20:46Z",
      "side": 1,
      "message": "Removing from the map is incorrect, since we would lose access to the ErrorTolerantBleAdvertisement object and would never be able to unregister the advertisement.\n\nRetrying already occurs as part of ErrorTolerantBleAdvertisement (hence the name \"error tolerant\" - it retries if there are errors).",
      "parentUuid": "e9185ee5_79d72ba1",
      "range": {
        "startLine": 106,
        "startChar": 42,
        "endLine": 106,
        "endChar": 64
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee97fb5c_03fed221",
        "filename": "chromeos/components/tether/asynchronous_shutdown_object_container_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 229,
      "author": {
        "id": 1128430
      },
      "writtenOn": "2017-11-27T18:23:35Z",
      "side": 1,
      "message": "nit: name",
      "range": {
        "startLine": 229,
        "startChar": 19,
        "endLine": 229,
        "endChar": 43
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "816227e8_08baa68d",
        "filename": "chromeos/components/tether/asynchronous_shutdown_object_container_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 229,
      "author": {
        "id": 1001529
      },
      "writtenOn": "2017-11-27T23:30:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee97fb5c_03fed221",
      "range": {
        "startLine": 229,
        "startChar": 19,
        "endLine": 229,
        "endChar": 43
      },
      "revId": "c0c7c065d3d3f0658b77cd8ca3d873a242122ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}