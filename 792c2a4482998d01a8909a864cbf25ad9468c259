{
  "comments": [
    {
      "key": {
        "uuid": "52ab4cb6_9916180b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "This is a sign your mojom is in the wrong place. //content/public isn\u0027t allowed to depend on non-public //content; otherwise, implementation details leak out.\n\nThe ColorSuggestion struct belongs in //content/public/common, while the chooser interfaces belong in //content/common.",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ff952d0_94be7a4e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "52ab4cb6_9916180b",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eaac6383_05fe8d8b",
        "filename": "components/web_contents_delegate_android/color_chooser_android.cc",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "const auto\u0026 suggestion \u003d *suggestions[i];",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc001ddd_79e0d1b5",
        "filename": "components/web_contents_delegate_android/color_chooser_android.cc",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eaac6383_05fe8d8b",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d842aa4d_e65e1642",
        "filename": "components/web_contents_delegate_android/color_chooser_android.h",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "Just include the mojom.h file.",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d35e3473_2ed9e8ea",
        "filename": "components/web_contents_delegate_android/color_chooser_android.h",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d842aa4d_e65e1642",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f4d0138_599d8118",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "is?",
      "range": {
        "startLine": 7,
        "startChar": 16,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df0bc6e9_48f549cf",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "Sorry, I\u0027m not sure what you mean by \u0027is?\u0027.  Probably if I could hear your voice intonation, I could work it out.  I think you are probably saying that my description is wrong.  But I think this is a good description.",
      "parentUuid": "4f4d0138_599d8118",
      "range": {
        "startLine": 7,
        "startChar": 16,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61e20134_20cc25f6",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-04T06:15:58Z",
      "side": 1,
      "message": "The ColorChooser interface as it previously existed wasn\u0027t the window shown since it could be reused for different windows with different IDs.",
      "parentUuid": "df0bc6e9_48f549cf",
      "range": {
        "startLine": 7,
        "startChar": 16,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54c214f1_62ba5cd4",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "Why associated?",
      "range": {
        "startLine": 12,
        "startChar": 6,
        "endLine": 12,
        "endChar": 16
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6def658c_e0afe7bf",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "I am sure that the interface is not required to be associated.  But the example that I copied from was associated, so it seemed easiest to go with that.  Given that I am using an associated interface for the main connection when it is not needed, I figured I might as well be consistent.",
      "parentUuid": "54c214f1_62ba5cd4",
      "range": {
        "startLine": 12,
        "startChar": 6,
        "endLine": 12,
        "endChar": 16
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0b2df04_d6239726",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "This shouldn\u0027t need to send any IDs across the wire. Use another interface to represent the per-colour-chooser connection from the renderer to the browser. Then this interface becomes just a factory interface:\n\ninterface ColorChooserFactory {\n  OpenColorChooser(\n      ColorChooser\u0026 chooser,\n      ColorChooserClient client,\n      uint32 color,\n      array\u003cColorSuggestion\u003e suggestions);\n};\n\ninterface ColorChooser {\n  SetSelectedColor(uint32 color);\n};\n\ninterface ColorChooserClient {\n  // Notifies the renderer that the user selected a color.\n  DidChooseColor(uint32 color);\n};\n\nClosing the per-chooser pipe informs the other end that the chooser was closed or should be closed depending on the direction.",
      "range": {
        "startLine": 13,
        "startChar": 13,
        "endLine": 13,
        "endChar": 15
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb492717_499ee213",
        "filename": "content/common/color_chooser.mojom",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "Thanks for this explanation.  I had suspected that I could do something like this, but I couldn\u0027t find documentation or understand other code examples well enough.",
      "parentUuid": "f0b2df04_d6239726",
      "range": {
        "startLine": 13,
        "startChar": 13,
        "endLine": 13,
        "endChar": 15
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43fe76b9_bb2e0ce9",
        "filename": "content/public/browser/web_contents_delegate.h",
        "patchSetId": 3
      },
      "lineNbr": 61,
      "author": {
        "id": 1116026
      },
      "writtenOn": "2017-12-01T02:55:37Z",
      "side": 1,
      "message": "Again, just include the mojom.",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b304c87_66a3e077",
        "filename": "content/public/browser/web_contents_delegate.h",
        "patchSetId": 3
      },
      "lineNbr": 61,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43fe76b9_bb2e0ce9",
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebafdb03_2afcd77b",
        "filename": "content/renderer/renderer_webcolorchooser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1210615
      },
      "writtenOn": "2017-12-01T02:35:39Z",
      "side": 1,
      "message": "Does this have problems if Open is called twice for the same WebColorChooser?",
      "range": {
        "startLine": 41,
        "startChar": 70,
        "endLine": 41,
        "endChar": 0
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b4c53d5_bb04596a",
        "filename": "content/renderer/renderer_webcolorchooser_impl.cc",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1186968
      },
      "writtenOn": "2017-12-04T05:37:10Z",
      "side": 1,
      "message": "In testing, it is not possible to have 2 windows open at once in the renderer.  I haven\u0027t been able to explicitly see in the code where this is controlled, but it seems that it is not possible to call Open twice for the same WebColorChooser.\n\nMy guess is that the current use of |identifier| is to resolve issues around the possibilities of race conditions with multiple ColorChooser windows.",
      "parentUuid": "ebafdb03_2afcd77b",
      "range": {
        "startLine": 41,
        "startChar": 70,
        "endLine": 41,
        "endChar": 0
      },
      "revId": "792c2a4482998d01a8909a864cbf25ad9468c259",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}