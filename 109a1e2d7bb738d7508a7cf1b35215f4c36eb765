{
  "comments": [
    {
      "key": {
        "uuid": "19c8df34_5bcf4328",
        "filename": "chromecast/chromecast.gni",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-07-28T01:13:08Z",
      "side": 1,
      "message": "Without also adding:\nconfigs +\u003d [ \"//build/config/android:hide_all_but_jni\" ]\n\nI think your library will a bit of bloat from unwanted exported symbols.",
      "revId": "109a1e2d7bb738d7508a7cf1b35215f4c36eb765",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eae043ef_c4f51dea",
        "filename": "chromecast/chromecast.gni",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1190898
      },
      "writtenOn": "2017-07-28T01:26:49Z",
      "side": 1,
      "message": "I\u0027m worried about the effect adding hide_all_but_jni will have on libcast_assistant, which uses cast_shared_library and appears to explicitly require certain perhaps-non-JNI exports.",
      "parentUuid": "19c8df34_5bcf4328",
      "revId": "109a1e2d7bb738d7508a7cf1b35215f4c36eb765",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e71a4783_8aa3afb2",
        "filename": "chromecast/chromecast.gni",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1126674
      },
      "writtenOn": "2017-07-28T01:33:26Z",
      "side": 1,
      "message": "I\u0027ll certainly defer to you. If you have symbols you need to export, then it\u0027s not appropriate. But as far as I can tell, the current state of cast_shared_library is \"hide_all_but_jni_onload\", so it\u0027s not currently exporting symbols.\n\nI\u0027d also advise using \"cast_loadable_module\" if you have a shared_library where you want to export non-JNI symbols (that\u0027s basically the only distinction between shared_libarary and loadable_module for target_os\u003d\"android\")",
      "parentUuid": "eae043ef_c4f51dea",
      "revId": "109a1e2d7bb738d7508a7cf1b35215f4c36eb765",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e400900c_a0208404",
        "filename": "chromecast/chromecast.gni",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1190898
      },
      "writtenOn": "2017-07-28T01:40:02Z",
      "side": 1,
      "message": "Right -- we have at least one shared library that was manually removing \"hide_all_but_jni_onload\" in its target specifically for symbol export reasons. Let me defer to Steve F. who knows a bit more about that specific case. I think, from your description of cast_loadable_module, that we can probably switch that library over and add the hide_all_but_jni config to cast_shared_library.",
      "parentUuid": "e71a4783_8aa3afb2",
      "revId": "109a1e2d7bb738d7508a7cf1b35215f4c36eb765",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}