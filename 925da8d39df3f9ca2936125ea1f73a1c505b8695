{
  "comments": [
    {
      "key": {
        "uuid": "fd98fcd6_1fe4a40b",
        "filename": "third_party/WebKit/Source/core/editing/markers/DocumentMarkerController.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-09-14T01:06:13Z",
      "side": 1,
      "message": "I think it\u0027s better to pass by value so that we can move the suggestion vector.\n\nIn most cases we are passing a temporary property to AddSuggestionMarker(), in which case copy elision can prevent copying the parameter.",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 60
      },
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcae10d8_8b9ca719",
        "filename": "third_party/WebKit/Source/core/editing/markers/DocumentMarkerController.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-09-14T03:58:42Z",
      "side": 1,
      "message": "I think |const T\u0026| is OK for |SuggetionMarkerProperties|.\nSee a comment L19 of \"base/string_pirce.h\" and visit discussion, sorry\ngooler only.\n\n[1] https://cs.chromium.org/chromium/src/base/strings/string_piece.h",
      "parentUuid": "fd98fcd6_1fe4a40b",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 60
      },
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "801e1843_f8cc91d7",
        "filename": "third_party/WebKit/Source/core/editing/markers/DocumentMarkerController.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-09-14T17:54:00Z",
      "side": 1,
      "message": "How can we move the suggestion vector from SuggestionMarkerProperties if it\u0027s passed by const reference?",
      "parentUuid": "bcae10d8_8b9ca719",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 60
      },
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bf4f2d5_b4a24d3c",
        "filename": "third_party/WebKit/Source/core/editing/markers/DocumentMarkerController.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-09-15T01:57:14Z",
      "side": 1,
      "message": "I see. I missed |Vector\u003cString\u003e suggestions_| in SMProps.\nIt is better to use |SuggetionMarkerProperites\u0026\u0026| to expression\nSMProps isn\u0027t light weight class?",
      "parentUuid": "801e1843_f8cc91d7",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 60
      },
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b303f60a_bfec8888",
        "filename": "third_party/WebKit/Source/core/editing/markers/DocumentMarkerController.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1229332
      },
      "writtenOn": "2017-09-15T19:04:23Z",
      "side": 1,
      "message": "Since we never actually need to copy SuggestionMarkerProperties, I think the only reason this would be helpful is if this lets us std::move() the suggestions_ member out of it to avoid a copy. But if SuggestionMarkerProperties::Suggestions() just returns suggestions_ by value, this still isn\u0027t possible, is it? (I\u0027m not 100% sure here, it\u0027s been a while since I\u0027ve used rvalue references and std::move()...)",
      "parentUuid": "3bf4f2d5_b4a24d3c",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 60
      },
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e3de84f_7eaa287d",
        "filename": "third_party/WebKit/Source/core/editing/markers/SuggestionMarker.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-09-14T01:06:13Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 24,
        "startChar": 19,
        "endLine": 24,
        "endChar": 52
      },
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c137340c_9b79a973",
        "filename": "third_party/WebKit/Source/core/editing/markers/SuggestionMarkerProperties.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-09-14T01:06:13Z",
      "side": 1,
      "message": "We should allow SuggestionMarker::ctor move suggestions SuggestionMarkerProperties.\n\nOne way is to add SuggestionMarker as a friend class.\n\nAnother way is to change return type of Suggestions() to Vector\u0026, which however breaks the immutability of the class.",
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62532633_222cd9a8",
        "filename": "third_party/WebKit/Source/core/editing/markers/SuggestionMarkerProperties.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-09-14T03:58:42Z",
      "side": 1,
      "message": "+tzik@ as C++ expert.",
      "parentUuid": "c137340c_9b79a973",
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa7e0c10_250aa92f",
        "filename": "third_party/WebKit/Source/core/editing/markers/SuggestionMarkerProperties.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-09-15T01:57:14Z",
      "side": 1,
      "message": "s/const Vector\u003cString\u003e\u0026/Vector\u003cString\u003e/\n\nWe should not ask caller to manage life time of suggestion marker.\nReturning |const Vect\u003cT\u003e\u0026| equivalents to returning pointer and\nthis function returns pointer of member variable. Thus, callers\nshould not use it when marker can be removed.\n\nIn general exposing pointer to member is not good idea since callers\nneed pay attention to lifetime. Other than extreme cases, optimization\nfor hot loop, we should avoid to return member pointer.",
      "parentUuid": "62532633_222cd9a8",
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "906ae0de_526c2b0e",
        "filename": "third_party/WebKit/Source/core/editing/markers/SuggestionMarkerProperties.h",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1002258
      },
      "writtenOn": "2017-09-15T01:57:14Z",
      "side": 1,
      "message": "Could you add a comment about we should use this class as value instead of\nref to utilize copy elision for |suggestions_| member.",
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "922ea434_884ed66b",
        "filename": "third_party/WebKit/Source/core/editing/markers/SuggestionMarkerProperties.h",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1229332
      },
      "writtenOn": "2017-09-15T19:04:23Z",
      "side": 1,
      "message": "I don\u0027t think this is necessary, since SuggestionMarkerProperties is never copied after it\u0027s constructed. We pass it into DMC::AddSuggestionMarker(), which can take it by const ref, then we pass it into SuggestionMarker\u0027s constructor, which can also take it by const ref, and then we unpack the fields without copying it.",
      "parentUuid": "906ae0de_526c2b0e",
      "revId": "925da8d39df3f9ca2936125ea1f73a1c505b8695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}