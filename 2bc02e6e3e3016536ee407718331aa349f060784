{
  "comments": [
    {
      "key": {
        "uuid": "f62037bc_8b2d0e2d",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-27T03:27:56Z",
      "side": 1,
      "message": "It would be better to pass a url::Origin here if possible.\n\nMoreover, this will be forgeable by a compromised renderer. That means compromised renderers will be able to set client hints for any origins they want. Is that problematic from a security perspective? An alternative approach would be to explore hooking into the net/ stack to parse the headers when they are processed in the browser process. That would avoid the need for these kinds of IPCs and may even simplify the code.. you may want to touch base with the net/ team to see how hard that would be.",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8a8e93f_712a0c6d",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T00:48:51Z",
      "side": 1,
      "message": "Thanks. I talked to a couple of //content security folks today about this. The conclusion was that this is okay as long as we are not exposing super sensitive information here.\n\nI will update the CL soon, and we can later loop in the //content folks to get more clarity on this.",
      "parentUuid": "f62037bc_8b2d0e2d",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27918534_5be00157",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T18:37:00Z",
      "side": 1,
      "message": "Done.\n\nAlso, wanted to mention that moving this code to \\\\net is almost impossible since the spec specifies that the client hints can be set using the http-equiv header. Handling that in \\\\net would require HTML parsing in the browser process.",
      "parentUuid": "c8a8e93f_712a0c6d",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99789a40_cb89dbaf",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-31T06:33:36Z",
      "side": 1,
      "message": "Getting approval from someone who knows more about that API sounds good. From briefly reading up on it though, it doesn\u0027t seem like an origin can do much wrong though.",
      "parentUuid": "27918534_5be00157",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f59f4af0_5e826889",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-08-09T06:19:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "99789a40_cb89dbaf",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1438bb78_a124f625",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-27T03:27:56Z",
      "side": 1,
      "message": "nit: can this happen?",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c5000af_0304264b",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T18:37:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1438bb78_a124f625",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7922829_502b6140",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.h",
        "patchSetId": 4
      },
      "lineNbr": 20,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-27T03:27:56Z",
      "side": 1,
      "message": "Hmm, I think ContentSettingsUpdateObserver is too generic. Maybe we should name this something specific to ClientHints? I also think it could be nice to move this code into its own directory specific to ClientHints in chrome/browser. You could become an owner of that directory too.",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1ccc6a4_5a049f8f",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.h",
        "patchSetId": 4
      },
      "lineNbr": 20,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T18:37:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7922829_502b6140",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59e140a9_e376567f",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.h",
        "patchSetId": 4
      },
      "lineNbr": 20,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-08-09T10:14:11Z",
      "side": 1,
      "message": "\u003e I also think it could be nice to move this code into its own directory specific to ClientHints in chrome/browser.\n\n^^^ This. I would just phrase it more strongly ðŸ˜ƒ: This code should not live in content_settings/, but in a layer above it.",
      "parentUuid": "c1ccc6a4_5a049f8f",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90810615_869f2b2c",
        "filename": "chrome/browser/content_settings/content_settings_update_observer.h",
        "patchSetId": 4
      },
      "lineNbr": 20,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-08-10T17:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59e140a9_e376567f",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84987de1_d9bafad1",
        "filename": "chrome/renderer/content_settings_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 470,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-27T03:27:56Z",
      "side": 1,
      "message": "What does this TODO mean? The bug isn\u0027t very specific.",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e011ae9_65f0c929",
        "filename": "chrome/renderer/content_settings_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 470,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T18:37:00Z",
      "side": 1,
      "message": "I have updated the text in the comment.",
      "parentUuid": "84987de1_d9bafad1",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed2d11f9_27bfb746",
        "filename": "chrome/renderer/content_settings_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 481,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-27T03:27:56Z",
      "side": 1,
      "message": "Is this different to sending an empty dictionary over? Should existing hints be overwritten?",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c23daaa_88303211",
        "filename": "chrome/renderer/content_settings_observer.cc",
        "patchSetId": 4
      },
      "lineNbr": 481,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T18:37:00Z",
      "side": 1,
      "message": "To be decided. The above TODO covers this. This CL is already big/substantial enough. I would prefer to handle this in the next CL unless you feel strongly against that.",
      "parentUuid": "ed2d11f9_27bfb746",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a4f9487_32dad35d",
        "filename": "components/content_settings/core/browser/content_settings_pref.cc",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1000602
      },
      "writtenOn": "2017-07-27T03:27:56Z",
      "side": 1,
      "message": "If you could pull these out of content_settings code and have them at the callsites of the HostContentSettingsMap, that would be better for modularity.",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b6b212c_a5b3c755",
        "filename": "components/content_settings/core/browser/content_settings_pref.cc",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1127744
      },
      "writtenOn": "2017-07-28T18:37:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a4f9487_32dad35d",
      "revId": "2bc02e6e3e3016536ee407718331aa349f060784",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}