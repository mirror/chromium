{
  "comments": [
    {
      "key": {
        "uuid": "58ece078_2a02060f",
        "filename": "third_party/WebKit/Source/core/dom/ScriptedIdleTaskController.cpp",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-12-19T14:18:23Z",
      "side": 1,
      "message": "Instead of rewriting the retention logic, can we use CallbackFunctionBase::Persistent?\n\nSomething like:\n\n  // TODO: Remove.\n  CallbackFunctionBase::Persistent\u003cIdleTask\u003e keep_alive(idle_task);",
      "revId": "19883156e8d401f330447cb015f5544ab13f6a82",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4608f7f_ec2615cc",
        "filename": "third_party/WebKit/Source/core/dom/ScriptedIdleTaskController.cpp",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 1002507
      },
      "writtenOn": "2017-12-19T14:30:08Z",
      "side": 1,
      "message": "I first thought that it\u0027s a good idea, however, it turned out that IdleTask is not a subclass of CallbackFunctionBase.  V8IdleTask is a subclass of CallbackFunctionBase, so we can write:\n\n  V8IdleTask::Persistent\u003cV8IdleTask\u003e keep_alive(idle_task);\n\nHowever, it doesn\u0027t work for IdleTask.  We need to invent another Persistent for IdleTask.",
      "parentUuid": "58ece078_2a02060f",
      "revId": "19883156e8d401f330447cb015f5544ab13f6a82",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7787aaf7_dc1d2cd8",
        "filename": "third_party/WebKit/Source/core/dom/ScriptedIdleTaskController.cpp",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-12-19T15:19:16Z",
      "side": 1,
      "message": "Then can we use:\n\n  // TODO: Remove\n  V8IdleRequestCallback::Persistent\u003cV8IdleRequestCallback\u003e keep_alive(idle_task-\u003eGetCallback());\n\n?\n\nThe programming pattern in this CL looks a bit too implicit and error-prone to me...",
      "parentUuid": "c4608f7f_ec2615cc",
      "revId": "19883156e8d401f330447cb015f5544ab13f6a82",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}