{
  "comments": [
    {
      "key": {
        "uuid": "42fd1326_8fed0c1f",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 189,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-09-13T22:12:12Z",
      "side": 1,
      "message": "Does the order of these matter here?  Please comment.",
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa42f9ad_af5e67bd",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 189,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "42fd1326_8fed0c1f",
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30374afb_8ef967f9",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 200,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-09-13T22:12:12Z",
      "side": 1,
      "message": "ditto",
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "426db34e_1fe2e504",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 200,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30374afb_8ef967f9",
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b22bc1d2_489f96ea",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 255,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-09-13T22:12:12Z",
      "side": 1,
      "message": "I wish you could have something there that makes sure all disable reasons are handled, i.e., something that would cause a DCHECK if someone later adds a disable reason without updating the proto or this code.",
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af7bc0ef_38208187",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 255,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done!  (static_assert instead of DCHECK, but I think that\u0027s probably better - ensures breakage.)",
      "parentUuid": "b22bc1d2_489f96ea",
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1c3c9cc_52b5b170",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 411,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-13T07:50:07Z",
      "side": 1,
      "message": "I would prefer not to rely on the metrics service to provide this time value, as it feels rather like exposing an implementation detail.  Could this provider simply record the last time that ProvideExtensionInstallsMetric was called, and compute based on that?",
      "range": {
        "startLine": 409,
        "startChar": 0,
        "endLine": 411,
        "endChar": 34
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c19941fc_2d294bd5",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 411,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1c3c9cc_52b5b170",
      "range": {
        "startLine": 409,
        "startChar": 0,
        "endLine": 411,
        "endChar": 34
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "839dc295_47ac4a57",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 413,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-09-13T22:12:12Z",
      "side": 1,
      "message": "optional nit: auto",
      "range": {
        "startLine": 413,
        "startChar": 4,
        "endLine": 413,
        "endChar": 38
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99d78954_580e41f3",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.cc",
        "patchSetId": 8
      },
      "lineNbr": 413,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "I\u0027d slightly prefer not, since it\u0027s not immediately obvious what the return type is.",
      "parentUuid": "839dc295_47ac4a57",
      "range": {
        "startLine": 413,
        "startChar": 4,
        "endLine": 413,
        "endChar": 38
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d6cb731_86ffe7fd",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.h",
        "patchSetId": 8
      },
      "lineNbr": 63,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-13T07:50:07Z",
      "side": 1,
      "message": "nit: Could you use protected members rather than friend classes for testing?",
      "range": {
        "startLine": 63,
        "startChar": 52,
        "endLine": 63,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20c0eced_f1966646",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.h",
        "patchSetId": 8
      },
      "lineNbr": 63,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-09-13T22:12:12Z",
      "side": 1,
      "message": "\u003e nit: Could you use protected members rather than friend classes for testing?\n\nProtected members are discouraged by the style guide.\n\"Make data members private, unless they are static const (and follow the naming convention for constants). For technical reasons, we allow data members of a test fixture class to be protected when using Google Test).\"\nhttps://google.github.io/styleguide/cppguide.html#Access_Control\n\nMaybe you can explicitly use FRIEND_TEST_ALL_PREFIXES?",
      "parentUuid": "1d6cb731_86ffe7fd",
      "range": {
        "startLine": 63,
        "startChar": 52,
        "endLine": 63,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d0bba37_fa57afc0",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.h",
        "patchSetId": 8
      },
      "lineNbr": 63,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-13T23:38:35Z",
      "side": 1,
      "message": "Apologies for my imprecise language.  I meant: Could you please use protected member functions rather than friend classes for testing?  I agree that it\u0027s best not to expose member variables directly, even with protected visibility.  And, for basically the same reason -- wanting tests to work with the same public API that non-test code has access to, rather than unfettered access to everything, up to and including member variables -- I prefer to avoid relying on friend declarations.  I find that explicitly exposing just the minimal set of necessary hooks via protected methods creates tests that are (a) less tightly coupled to the implementation details and (b) more likely to catch actual bugs in the public API.\n\nNote: I am even more strongly opposed to FRIEND_TEST_ALL_PREFIXES than I am to friending a test harness.  FRIEND_TEST_ALL_PREFIXES requires updating the non-test header every time you add a new test case, which is quite a drag.",
      "parentUuid": "20c0eced_f1966646",
      "range": {
        "startLine": 63,
        "startChar": 52,
        "endLine": 63,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02d9141c_a48b0f8c",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.h",
        "patchSetId": 8
      },
      "lineNbr": 63,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "7d0bba37_fa57afc0",
      "range": {
        "startLine": 63,
        "startChar": 52,
        "endLine": 63,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8a71e4b6_d20cadcf",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.h",
        "patchSetId": 8
      },
      "lineNbr": 79,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-13T07:50:07Z",
      "side": 1,
      "message": "nit: This provides multiple metrics, so I would name it \"...InstallMetrics\" or \"...InstallsData\" or something like that.",
      "range": {
        "startLine": 79,
        "startChar": 7,
        "endLine": 79,
        "endChar": 37
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e6c5052_4ac9b526",
        "filename": "chrome/browser/metrics/extensions_metrics_provider.h",
        "patchSetId": 8
      },
      "lineNbr": 79,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a71e4b6_d20cadcf",
      "range": {
        "startLine": 79,
        "startChar": 7,
        "endLine": 79,
        "endChar": 37
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "175b4f30_1c02623c",
        "filename": "components/metrics/metrics_service.h",
        "patchSetId": 8
      },
      "lineNbr": 152,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2017-09-13T07:50:07Z",
      "side": 1,
      "message": "As I mentioned elsewhere, I\u0027d prefer not to expose this information to consumers of this class.",
      "range": {
        "startLine": 152,
        "startChar": 73,
        "endLine": 152,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eed463a9_e5c37fcd",
        "filename": "components/metrics/metrics_service.h",
        "patchSetId": 8
      },
      "lineNbr": 152,
      "author": {
        "id": 1001310
      },
      "writtenOn": "2017-09-13T22:12:12Z",
      "side": 1,
      "message": "+1, please don\u0027t rely metrics_service uptime recording strategies.",
      "parentUuid": "175b4f30_1c02623c",
      "range": {
        "startLine": 152,
        "startChar": 73,
        "endLine": 152,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17541487_369f0514",
        "filename": "components/metrics/metrics_service.h",
        "patchSetId": 8
      },
      "lineNbr": 152,
      "author": {
        "id": 1115745
      },
      "writtenOn": "2017-09-14T22:56:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eed463a9_e5c37fcd",
      "range": {
        "startLine": 152,
        "startChar": 73,
        "endLine": 152,
        "endChar": 0
      },
      "revId": "bcdf751e1e7e7815c8223579e66048c79b9732a7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}