{
  "comments": [
    {
      "key": {
        "uuid": "189ab24c_49e0a577",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "Make this title more specific, e.g. ... in MediaDrmStorage",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffa4a1f5_ad48a61d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "189ab24c_49e0a577",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5cc10fa_5ddc39d6",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "Does it make sense to just use UnguessableToken::ToString and store the string? ToString() will return a string of 16 bytes which seems to be the best we can do (128/8\u003d16). But you can check which one uses less space on the disk.\n\nhttps://cs.chromium.org/chromium/src/third_party/googletest/src/googletest/include/gtest/gtest.h?l\u003d446\u0026ct\u003dxref_jump_to_def",
      "range": {
        "startLine": 47,
        "startChar": 12,
        "endLine": 47,
        "endChar": 0
      },
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "125b3bf1_bfa4f7d9",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "ToString can\u0027t be used for serialize UnguessableToken, because we don\u0027t have a method to deserialize it from string. I\u0027ll create another CL to add support to serialize it as string and rebase this one on top of that one.",
      "parentUuid": "d5cc10fa_5ddc39d6",
      "range": {
        "startLine": 47,
        "startChar": 12,
        "endLine": 47,
        "endChar": 0
      },
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fbb0edd_2c6e0add",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-26T21:34:14Z",
      "side": 1,
      "message": "That would be nice. In the worst case, you can construct two uint64s from the string and then deserialize from the two uint64s.",
      "parentUuid": "125b3bf1_bfa4f7d9",
      "range": {
        "startLine": 47,
        "startChar": 12,
        "endLine": 47,
        "endChar": 0
      },
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "138350f7_9c7231e4",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-08-01T15:57:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7fbb0edd_2c6e0add",
      "range": {
        "startLine": 47,
        "startChar": 12,
        "endLine": 47,
        "endChar": 0
      },
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31e43e0c_17c9ea52",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "Add a comment about what the return value is, e.g. conditions when the return value could be empty.",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c74db0cb_18c916f5",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "31e43e0c_17c9ea52",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6360507b_c11d483e",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "DCHECK(!origin_dict-\u003eHasKey(kOriginId))?",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "797cbf19_b68e26fa",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6360507b_c11d483e",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd210586_5a096582",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 172,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "You can do this now, which would require a change in the mojom interface because the origin ID is now optional. Or, you can just drop the |origin| parameter here since we should not trust it anyways.\n\n+dcheng since he needs to review the mojom changes",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32af9b3f_bdacd6c4",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 172,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Remove |origin|, given it\u0027s not used in the function.",
      "parentUuid": "bd210586_5a096582",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd32de8d_09a565c5",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 172,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-26T21:34:14Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "32af9b3f_bdacd6c4",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d434874a_bdb87767",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 251,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "The chance of this to happen is much smaller now (user deleted the profile after initialize/provisioning but before we store the session). Add a comment about this?",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0339e6ea_4806bbd8",
        "filename": "components/cdm/browser/media_drm_storage_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 251,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d434874a_bdb87767",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "585fd1cd_5eeba6e4",
        "filename": "components/cdm/browser/media_drm_storage_impl.h",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "nit: IsInitialized() or is_initialized(). I\u0027d prefer the former since this is not strictly an accessor.",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc2f6592_7e6c18e2",
        "filename": "components/cdm/browser/media_drm_storage_impl.h",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "585fd1cd_5eeba6e4",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a484f204_6fd9f0e5",
        "filename": "components/cdm/browser/media_drm_storage_impl_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "Add new test cases for origin_id?",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94661ea2_9b3e474e",
        "filename": "components/cdm/browser/media_drm_storage_impl_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-26T21:34:14Z",
      "side": 1,
      "message": "This is not resolved yet :)",
      "parentUuid": "a484f204_6fd9f0e5",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bf8d01f_f7ee5c3b",
        "filename": "components/cdm/browser/media_drm_storage_impl_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-08-01T15:57:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "94661ea2_9b3e474e",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1c28418_09386864",
        "filename": "media/base/android/media_drm_storage.h",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "Will our impl call this function multiple times? If not, just DCHECK and make our assumption simpler?",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "973a9564_8f8e0b4a",
        "filename": "media/base/android/media_drm_storage.h",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1c28418_09386864",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b7ebbf1_620ebfaf",
        "filename": "media/base/android/media_drm_storage.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "If user cleared media license which removed the entry for origin, we could get a different origin ID, which is okay.",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9a400a7_907fa87a",
        "filename": "media/base/android/media_drm_storage.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b7ebbf1_620ebfaf",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9be28f3f_1c09628f",
        "filename": "media/base/android/media_drm_storage_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 140,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "What if the called failed and we get an empty origin ID. Should we fail in that case?",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c845f04_69aa1c9a",
        "filename": "media/base/android/media_drm_storage_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 140,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "This should never fail unless mojo pipe is broken, in which case we should fail anyway. MediaDrmStorageImpl should clear the old map if new origin id is generated in OnProvisioned. I\u0027ll update the comment.",
      "parentUuid": "9be28f3f_1c09628f",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "356999e7_c1bfe4ef",
        "filename": "media/base/android/media_drm_storage_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 140,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-26T21:34:14Z",
      "side": 1,
      "message": "If the mojo pipe is broken, we\u0027ll return an empty origin id. Then in MediaDrmBridge use_origin_isolated_storage will be false and we\u0027ll continue without origin ID. This seems wrong to me.",
      "parentUuid": "6c845f04_69aa1c9a",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80daf554_abf81c4b",
        "filename": "media/base/android/media_drm_storage_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 140,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-08-01T15:57:00Z",
      "side": 1,
      "message": "MediaDrmBridge checks origin id and doesn\u0027t create MediaDrmBridge if empty.",
      "parentUuid": "356999e7_c1bfe4ef",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8af3dd2a_bfd51708",
        "filename": "media/base/android/media_drm_storage_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "ditto, when can Initialize() be called multiple times?",
      "range": {
        "startLine": 146,
        "startChar": 37,
        "endLine": 146,
        "endChar": 47
      },
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "860cfbb8_ddd4f439",
        "filename": "media/base/android/media_drm_storage_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "It\u0027s better to make Initialize called only once.",
      "parentUuid": "8af3dd2a_bfd51708",
      "range": {
        "startLine": 146,
        "startChar": 37,
        "endLine": 146,
        "endChar": 47
      },
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "905713e2_d76bee18",
        "filename": "media/base/android/media_drm_storage_bridge.h",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "nit: here and everywhere, s/on_init/init_cb",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8a86d8a_c3f7ab99",
        "filename": "media/base/android/media_drm_storage_bridge.h",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "905713e2_d76bee18",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4151173c_a0232c86",
        "filename": "media/mojo/interfaces/media_drm_storage.mojom",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "This is not accurate now.",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cc87280_81361494",
        "filename": "media/mojo/interfaces/media_drm_storage.mojom",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Initialize doesn\u0027t modify storage. It just generates a random id. The id is written to storage in other functions.",
      "parentUuid": "4151173c_a0232c86",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9aee684_95713b3c",
        "filename": "media/mojo/interfaces/media_drm_storage.mojom",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1002182
      },
      "writtenOn": "2017-07-24T19:09:09Z",
      "side": 1,
      "message": "Update comment to mention |origin_id|.",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c04c9bd7_b1405734",
        "filename": "media/mojo/interfaces/media_drm_storage.mojom",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1211592
      },
      "writtenOn": "2017-07-26T20:55:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9aee684_95713b3c",
      "revId": "4f45297de7c99f11c3298ef2cccc7556e3cbc841",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}