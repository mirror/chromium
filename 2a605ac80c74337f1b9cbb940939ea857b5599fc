{
  "comments": [
    {
      "key": {
        "uuid": "0e9d5ae9_8d6d78d6",
        "filename": "third_party/WebKit/Source/core/css/resolver/StyleResolver.cpp",
        "patchSetId": 4
      },
      "lineNbr": 575,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-22T08:02:47Z",
      "side": 1,
      "message": "Nit: \"layoutObject\" should now be \"LayoutObject\" or \"layout object\".",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "085f059c_9d270f02",
        "filename": "third_party/WebKit/Source/core/css/resolver/StyleResolver.cpp",
        "patchSetId": 4
      },
      "lineNbr": 575,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-22T13:55:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0e9d5ae9_8d6d78d6",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "506bf4c8_d7181028",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-22T08:02:47Z",
      "side": 1,
      "message": "Nit: don\u0027t we typically use capital first letter in test names?",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5723448a_eb858ff6",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-22T13:55:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "506bf4c8_d7181028",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24f498b5_7b817d36",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 443,
      "author": {
        "id": 1115594
      },
      "writtenOn": "2017-11-22T10:19:43Z",
      "side": 1,
      "message": "Since we\u0027re nit\u0027ing... this is not needed for the test.",
      "range": {
        "startLine": 443,
        "startChar": 10,
        "endLine": 443,
        "endChar": 70
      },
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "633f0fa9_e234e094",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 443,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-22T13:55:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "24f498b5_7b817d36",
      "range": {
        "startLine": 443,
        "startChar": 10,
        "endLine": 443,
        "endChar": 70
      },
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5126d2b_6eab9adb",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-22T08:02:47Z",
      "side": 1,
      "message": "Could this be done with GetDocument().LazyReattachIfAttached() instead?",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "230c3760_20b0871a",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-22T13:55:17Z",
      "side": 1,
      "message": "I gave it a shot but it is firing an assert in Document::DetachLayoutTree():\n\n\n[5497:5497:1122/085332.854510:511241175821:FATAL:Document.h(569)] Check failed: false.",
      "parentUuid": "e5126d2b_6eab9adb",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c01b0fb1_c88aee58",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-22T20:21:46Z",
      "side": 1,
      "message": "Right. GetDocument().documentElement()-\u003eLazyReattachIfAttached() then?\n\nOtherwise, just leave it as it is.",
      "parentUuid": "230c3760_20b0871a",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d0545b3_ec8d39d0",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-22T20:43:24Z",
      "side": 1,
      "message": "That goes through, but somehow doesn\u0027t force \u003cstop\u003e style calc in UpdateStyleAndLayout() - and we crash further down in element-\u003eComputedStyleRef():\n\n\n[12676:12676:1122/153730.070827:535478392182:FATAL:NodeComputedStyle.h(59)] Check failed: style. \n#0 0x7fe26d79cecd base::debug::StackTrace::StackTrace()\n#1 0x7fe26d79b2fc base::debug::StackTrace::StackTrace()\n#2 0x7fe26d822dba logging::LogMessage::~LogMessage()\n#3 0x00000189aec7 blink::Node::ComputedStyleRef()\n#4 0x000001b1d7a5 blink::DocumentLoadingRenderingTest_StableSVGStopStylingWhileLoadingImport_Test::TestBody()::$_0::operator()()\n#5 0x000001b1d570 blink::DocumentLoadingRenderingTest_StableSVGStopStylingWhileLoadingImport_Test::TestBody()\n\n\nIs this something unexpected that we need to worry about?  If so, I can investigate separately.",
      "parentUuid": "c01b0fb1_c88aee58",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a42c47b_3fd0dee8",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-22T21:07:55Z",
      "side": 1,
      "message": "Subtree or Reattach recalc on Document() is special because it triggers style recalc of every element through kForce (which might explain the difference here):\n\nhttps://cs.chromium.org/chromium/src/third_party/WebKit/Source/core/dom/Document.cpp?q\u003dkForce+Document\u0026sq\u003dpackage:chromium\u0026dr\u003dCSs\u0026l\u003d2213\n\nI\u0027m not sure I understand what real situation we\u0027re trying to mimic with kNeedsReattachStyleChange on Document here. This can never happen in production afaict. kNeedsReattachStyleChange is initially set on Document, but the only place we otherwise set it is during DetachLayoutTree, but as you figured out, that\u0027s not allowed on Document.",
      "parentUuid": "6d0545b3_ec8d39d0",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2db92bc4_b4ceb7b5",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-27T16:27:11Z",
      "side": 1,
      "message": "The test is trying to mimic the scenario in the linked bug, essentially triggering a \u003cstop\u003e recalc with pending sheets.\n\nSounds like kNeedsReattachStyleChange is a bigger hammer than needed, but for whatever reason all other things I tried don\u0027t seem to tickle the bug (or even leave \u003cstop\u003e without a non-layout style).\n\nSo I suspect there are more dragons looming with non-layout style, and I will keep investigating.  I\u0027m inclined to land this as is though, because it fixes a regression and the question marks are just around the test/repro.",
      "parentUuid": "5a42c47b_3fd0dee8",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6825609f_f98743a6",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 455,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-27T18:28:31Z",
      "side": 1,
      "message": "Feel free to land.",
      "parentUuid": "2db92bc4_b4ceb7b5",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "feb348b6_36a1cb08",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 461,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-22T08:02:47Z",
      "side": 1,
      "message": "The expectation is the first argument for EXPECT_* and ASSERT_*.",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb69d6e9_5596965c",
        "filename": "third_party/WebKit/Source/core/frame/DocumentLoadingRenderingTest.cpp",
        "patchSetId": 4
      },
      "lineNbr": 461,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-22T13:55:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "feb348b6_36a1cb08",
      "revId": "2a605ac80c74337f1b9cbb940939ea857b5599fc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}