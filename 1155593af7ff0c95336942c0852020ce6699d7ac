{
  "comments": [
    {
      "key": {
        "uuid": "b34828b2_e47d0946",
        "filename": "cc/layers/layer.cc",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-08-28T19:01:53Z",
      "side": 1,
      "message": "What if FilterOperations becomes empty? I think we should share and invoke a helper method to update the mask layer type when we get changes in background filters or filters.",
      "revId": "1155593af7ff0c95336942c0852020ce6699d7ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf9189ef_2c37ccf4",
        "filename": "cc/layers/layer.cc",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1157921
      },
      "writtenOn": "2017-08-30T06:51:01Z",
      "side": 1,
      "message": "I remember we have to actively discard all tiles to draw the correct content in this case, but I need to verify that. I believe mask with filters does not occur so often (even in the bug case, we end up without saving memory by tiling since the mask is small enough), so for simplicity if we do need to discard, we want to keep it single textured.",
      "parentUuid": "b34828b2_e47d0946",
      "revId": "1155593af7ff0c95336942c0852020ce6699d7ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a541c9ff_84795a0a",
        "filename": "cc/layers/layer.cc",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1001365
      },
      "writtenOn": "2017-08-30T16:21:42Z",
      "side": 1,
      "message": "But my concern is that it\u0027s inconsistent with the condition setting the type in Layer::SetMaskLayer.",
      "parentUuid": "bf9189ef_2c37ccf4",
      "revId": "1155593af7ff0c95336942c0852020ce6699d7ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27457238_0384f7d8",
        "filename": "cc/layers/layer.cc",
        "patchSetId": 2
      },
      "lineNbr": 486,
      "author": {
        "id": 1115895
      },
      "writtenOn": "2017-09-06T17:49:14Z",
      "side": 1,
      "message": "I think Layer::SetMaskLayer is inconsistent with PictureLayer::SetLayerMaskType because Layer::SetMaskLayer may be the first time that a layer is set as a mask layer, so it always sets the type, even if transitioning to that type is not a valid state change.  It could probably use a comment that says something like this to avoid confusion that SetLayerMaskType will clobber the mask type.",
      "parentUuid": "a541c9ff_84795a0a",
      "revId": "1155593af7ff0c95336942c0852020ce6699d7ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}