{
  "comments": [
    {
      "key": {
        "uuid": "f0ebef3d_ab2763d4",
        "filename": "third_party/WebKit/Source/core/dom/Element.h",
        "patchSetId": 3
      },
      "lineNbr": 929,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-17T15:52:20Z",
      "side": 1,
      "message": "ContainedStyle wasn\u0027t a term I immediately understood. I think this is shadow-including descendants[1], so RecalcShadowIncludingDescendantStylesForReattach() would be correct if not too long?\n\n[1] https://dom.spec.whatwg.org/#concept-shadow-including-descendant",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddf26d68_98a23be3",
        "filename": "third_party/WebKit/Source/core/dom/Element.h",
        "patchSetId": 3
      },
      "lineNbr": 929,
      "author": {
        "id": 1140584
      },
      "writtenOn": "2017-11-20T05:57:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0ebef3d_ab2763d4",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21e66508_cfaadff7",
        "filename": "third_party/WebKit/Source/core/dom/LayoutTreeBuilder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1003156
      },
      "writtenOn": "2017-11-17T15:53:23Z",
      "side": 1,
      "message": "Shouldn\u0027t this be predicated on (!style_) also?  Are we now ignoring the passed in style_?",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc3ba18a_3be1211a",
        "filename": "third_party/WebKit/Source/core/dom/LayoutTreeBuilder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1140584
      },
      "writtenOn": "2017-11-20T05:57:41Z",
      "side": 1,
      "message": "We try to get a new style here always post reattach to make sure that the ComputedStyle we have isn\u0027t stale.",
      "parentUuid": "21e66508_cfaadff7",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "572d6d7b_82217d50",
        "filename": "third_party/WebKit/Source/core/dom/LayoutTreeBuilder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-20T12:58:56Z",
      "side": 1,
      "message": "Under what circumstances could it be stale?",
      "parentUuid": "fc3ba18a_3be1211a",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce1de015_2258d0c6",
        "filename": "third_party/WebKit/Source/core/dom/LayoutTreeBuilder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1140584
      },
      "writtenOn": "2017-11-21T00:06:06Z",
      "side": 1,
      "message": "At the end of the style recalc stage the new ComputedStyle information should be the nonAttachedStyle and that is the immutable information that we should carry ahead in the Layout tree construction phase. Right?",
      "parentUuid": "572d6d7b_82217d50",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4f7e3e5_ea2ae4c7",
        "filename": "third_party/WebKit/Source/core/dom/LayoutTreeBuilder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-21T07:56:06Z",
      "side": 1,
      "message": "Yes, but the point is that if style_ is non-null at the beginning of this method, it\u0027s already the non-attached style that we try to retrieve here. I went through the initialization of resolved_style passed into LayoutTreeBuilderForElement and the only exception I found was for options (take a look at HTMLOptionElement::AttachLayoutTree). Could the missing if-check here actually be the reason for the option test failure?\n\nIf it weren\u0027t for the option case, I think you could\u0027ve added this DCHECK here:\n\nDCHECK(!style_ || style_ \u003d\u003d node_-\u003eGetNonAttachedStyle());",
      "parentUuid": "ce1de015_2258d0c6",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "041331c3_92e8687f",
        "filename": "third_party/WebKit/Source/core/editing/EditingUtilities.cpp",
        "patchSetId": 3
      },
      "lineNbr": 366,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-17T15:52:20Z",
      "side": 1,
      "message": "Why did this change? Would this style previously always be calculated from AttachLayoutTree()?",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0124833f_6bb5e873",
        "filename": "third_party/WebKit/Source/core/editing/EditingUtilities.cpp",
        "patchSetId": 3
      },
      "lineNbr": 366,
      "author": {
        "id": 1140584
      },
      "writtenOn": "2017-11-20T05:57:41Z",
      "side": 1,
      "message": "This gets called in through needsStyleRecalc and we may not have a layoutObject at this stage. So we changed this to get the ComputedStyle the generic catch-all way GetComputedStyle.",
      "parentUuid": "041331c3_92e8687f",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73ae3a9e_372f9783",
        "filename": "third_party/WebKit/Source/core/editing/EditingUtilities.cpp",
        "patchSetId": 3
      },
      "lineNbr": 366,
      "author": {
        "id": 1251514
      },
      "writtenOn": "2017-11-20T12:58:56Z",
      "side": 1,
      "message": "Right, this will now happen during style recalc for a sub-tree being attached, in which case we won\u0027t have a LayoutObject yet, while it might have one after RebuildLayoutTree.",
      "parentUuid": "0124833f_6bb5e873",
      "revId": "f552484bd980156894d05353981a54d90bbd3816",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}