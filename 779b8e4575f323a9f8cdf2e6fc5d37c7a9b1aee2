{
  "comments": [
    {
      "key": {
        "uuid": "01e2dd8d_47aa27f9",
        "filename": "content/browser/renderer_host/render_widget_host_view_aura.cc",
        "patchSetId": 2
      },
      "lineNbr": 1501,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-11-16T23:29:06Z",
      "side": 1,
      "message": "Should this return an empty GURL for users that haven\u0027t opted into UMA? I also asked on the bug: Was any thought put into collecting urls from incognito windows/tabs?",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25a879c8_b136aa51",
        "filename": "content/browser/renderer_host/render_widget_host_view_aura.cc",
        "patchSetId": 2
      },
      "lineNbr": 1501,
      "author": {
        "id": 1163499
      },
      "writtenOn": "2017-11-17T13:13:23Z",
      "side": 1,
      "message": "I added UKM enabled check in the user of this method. You can see it in crrev.com/c/758024.\n\nThank you for raising a question about incognito windows/tabs! I\u0027m waiting for the feedback from glevin@.",
      "parentUuid": "01e2dd8d_47aa27f9",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e0a27d0_4eb9db95",
        "filename": "content/browser/renderer_host/render_widget_host_view_aura.cc",
        "patchSetId": 2
      },
      "lineNbr": 1501,
      "author": {
        "id": 1163499
      },
      "writtenOn": "2017-11-21T10:36:17Z",
      "side": 1,
      "message": "Whether incognito windows is used or not and whether a user opts in to UMA or not is also checked in UKM collection class as you can see in https://chromium-review.googlesource.com/c/537774/",
      "parentUuid": "25a879c8_b136aa51",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61784414_a0a78428",
        "filename": "content/browser/renderer_host/render_widget_host_view_aura.cc",
        "patchSetId": 2
      },
      "lineNbr": 1501,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-11-21T17:56:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3e0a27d0_4eb9db95",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9eac49f7_a78bacf3",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-11-16T23:29:06Z",
      "side": 1,
      "message": "I\u0027m not sure it makes sense to collect this information directly through TextInputClient, were any alternative approaches considered? Perhaps the Virtual Keyboard already knows the window/content with keyboard focus and can get the URL that way? I\u0027d defer to others here.",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ee350d5_32c5f062",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-11-17T11:42:15Z",
      "side": 1,
      "message": "I would be interested to see where this is called from, because as msw@ mentions, there may be a better way to get this information.\n\nIt doesn\u0027t sound too bad to get this info from the TextInputClient though. But I am not sure a GURL is the best format for that. Maybe just a \u0027std::string GetClientSourceId()\u0027, or something like that, so that native textfields (e.g. omnibox) can also identify themselves.",
      "parentUuid": "9eac49f7_a78bacf3",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e26de12_781fcb17",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1163499
      },
      "writtenOn": "2017-11-17T13:13:23Z",
      "side": 1,
      "message": "The controller of the Virtual Keyboard, which is KeyboardController in ui/keyboard, interacts with the window with keyboard focus only via TextInputClient interface, so I added this method to TextInputClient.\n\nI changed a return value to std::string to implement this method on native views.",
      "parentUuid": "8ee350d5_32c5f062",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b73da26_476670d8",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-11-21T17:56:22Z",
      "side": 1,
      "message": "I\u0027m on the fence now that I\u0027ve seen the calling code in https://chromium-review.googlesource.com/c/chromium/src/+/758024. If we don\u0027t imminently plan to provide non-url string context for browser ui text elements etc., then it seems silly to return the string spec from the GURL and immediately convert that to a GURL and check for validity. I\u0027m curious what Sadrul thinks about just passing a GURL and being more explicit that function is *just* for web content text input elements URL-Keyed Metrics.",
      "parentUuid": "8e26de12_781fcb17",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d849c0f8_7ecbaff7",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1163499
      },
      "writtenOn": "2017-11-22T12:42:47Z",
      "side": 1,
      "message": "I start with collecting metrics for web pages, but plan to collect the metrics for Android apps and system UI elements. Due to the restriction of the key of UKM, I may have to make them an URL like \u0027android-app://[package name of an app]\u0027. In this case, does it make sense to change it to GURL?\n\nsadrul@: WDYT?",
      "parentUuid": "7b73da26_476670d8",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5820f517_72a86a92",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-11-22T16:31:37Z",
      "side": 1,
      "message": "FWIW, I suggest returning a URL; just revise the comment, consider:\n  // Returns a URL description of the view hosting this text input element, used\n  // to record URL-Keyed Metrics for web content and other text input clients.",
      "parentUuid": "d849c0f8_7ecbaff7",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0054f44_b57f3e59",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2017-11-22T17:35:45Z",
      "side": 1,
      "message": "I still kind of think a string probably makes more sense. The caller (ukm-recorder, from what I understand) can then construct the URL as appropriate (e.g. if the info is not a valid URL, then use chrome-ui:// scheme, or android-app:// scheme, etc.). So each client separately does not need to figure out how to construct the URL.\n\nThis is somewhat nitty though maybe. I don\u0027t feel too strongly about this.",
      "parentUuid": "5820f517_72a86a92",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc9e6ed7_3556f556",
        "filename": "ui/base/ime/text_input_client.h",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1001118
      },
      "writtenOn": "2017-11-22T18:17:58Z",
      "side": 1,
      "message": "I don\u0027t think the ukm-recorder or KeyboardController know if the text input client belongs to web content, an android app, or chrome browser ui; so the client may need to provide the scheme itself, and at that point it may as well provide a fully-formed url. Just noting my thoughts before the timezone round-trip and thanksgiving break. lgtm either way, it can always be changed later on.",
      "parentUuid": "e0054f44_b57f3e59",
      "revId": "779b8e4575f323a9f8cdf2e6fc5d37c7a9b1aee2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}