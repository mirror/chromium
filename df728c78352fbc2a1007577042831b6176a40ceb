{
  "comments": [
    {
      "key": {
        "uuid": "513cc1a4_19f7de01",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 82,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2018-01-10T16:43:43Z",
      "side": 1,
      "message": "Does this count as 100 duck-sized horses?",
      "range": {
        "startLine": 82,
        "startChar": 23,
        "endLine": 82,
        "endChar": 39
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51a540c8_fb5e4d43",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 82,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2018-01-10T18:24:00Z",
      "side": 1,
      "message": "More like 10,000 squirrel-sized horses, I think.",
      "parentUuid": "513cc1a4_19f7de01",
      "range": {
        "startLine": 82,
        "startChar": 23,
        "endLine": 82,
        "endChar": 39
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c29d93e_7b97f286",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 591,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2018-01-10T16:43:43Z",
      "side": 1,
      "message": "Can you do an extra assert in these two that the redirect actually happened, to ease my paranoid soul?",
      "range": {
        "startLine": 591,
        "startChar": 28,
        "endLine": 591,
        "endChar": 57
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "403393b5_c140d0f4",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 591,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2018-01-10T18:24:00Z",
      "side": 1,
      "message": "Done.  (Also removed the retry and 5xx, which I think was inherited from the next set of tests)",
      "parentUuid": "5c29d93e_7b97f286",
      "range": {
        "startLine": 591,
        "startChar": 28,
        "endLine": 591,
        "endChar": 57
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eacb9fa1_d5f73889",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 927,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2018-01-10T16:43:43Z",
      "side": 1,
      "message": "nit, suggestion: Any reason not to just use it directly in the call to AttachStringForUpload?",
      "range": {
        "startLine": 927,
        "startChar": 28,
        "endLine": 927,
        "endChar": 45
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "964c2a52_4479476b",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 927,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2018-01-10T18:24:00Z",
      "side": 1,
      "message": "Done.  Was thinking it saved us creating a long string twice, and made it a bit clearer the string was reused, but don\u0027t have much of a preference, either way.",
      "parentUuid": "eacb9fa1_d5f73889",
      "range": {
        "startLine": 927,
        "startChar": 28,
        "endLine": 927,
        "endChar": 45
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24028ce9_0944b612",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 959,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2018-01-10T16:43:43Z",
      "side": 1,
      "message": "Huh.  It looks like SimpleURLLoader doesn\u0027t have a way for consumers to discover if retries occurred.  If I\u0027m wrong on that, could you also confirm that retries happened in these two tests?  (If I\u0027m right, ignore this comment.)",
      "range": {
        "startLine": 959,
        "startChar": 28,
        "endLine": 959,
        "endChar": 54
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9507274c_4f38974d",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 959,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2018-01-10T18:24:00Z",
      "side": 1,
      "message": "Correct.  There\u0027s no way to do that, currently, mirroring the URLFetcher interface.  If consumers want it, I\u0027d be fine with providing it, but don\u0027t think it\u0027s worth a test-only method, though we could add a counter to FailOnceThenEchoBody, if we really wanted (Not done, but am open to doing - feel free to ask for it, if you feel it\u0027s worth doing)",
      "parentUuid": "24028ce9_0944b612",
      "range": {
        "startLine": 959,
        "startChar": 28,
        "endLine": 959,
        "endChar": 54
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26fe0af7_8c0f6fd6",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 1093,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2018-01-10T16:43:43Z",
      "side": 1,
      "message": "nit: \":\" -\u003e \".\"?",
      "range": {
        "startLine": 1093,
        "startChar": 62,
        "endLine": 1093,
        "endChar": 76
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "755334fc_56f55cb2",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 1093,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2018-01-10T18:24:00Z",
      "side": 1,
      "message": "Done (Almost reformatted)",
      "parentUuid": "26fe0af7_8c0f6fd6",
      "range": {
        "startLine": 1093,
        "startChar": 62,
        "endLine": 1093,
        "endChar": 76
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "165c3a02_8c49dfac",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 2049,
      "author": {
        "id": 1001809
      },
      "writtenOn": "2018-01-10T16:43:43Z",
      "side": 1,
      "message": "Is this just making sure the DataPipeGetter interface is implemented correctly, or do you expect these cases to actually occur in normal operation?",
      "range": {
        "startLine": 2049,
        "startChar": 23,
        "endLine": 2049,
        "endChar": 28
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d594d187_ee9e358b",
        "filename": "content/public/common/simple_url_loader_unittest.cc",
        "patchSetId": 9
      },
      "lineNbr": 2049,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2018-01-10T18:24:00Z",
      "side": 1,
      "message": "This can happen.  If we get a ERR_CONNECTION_RESET in HttpNetworkTransaciton on a resused socket while sending the headers (Which is after we\u0027ve initialized the body, but before we\u0027ve read from it), we\u0027ll retry the request, re-initializing the upload stream in the process.\n\nWe could UploadDataStream::Init do nothing if there were no reads since the last Init call, but even then, I\u0027m not convinced it can\u0027t happen (Though even then I\u0027m not sure, either way).\n\nAlso, with retries, the first request could fail due to a network change at the right time, and we\u0027d get a somewhat similar access pattern from the StringUploadDataPipeGetter\u0027s standpoint, though I don\u0027t think it\u0027s worth also having a test for that case.",
      "parentUuid": "165c3a02_8c49dfac",
      "range": {
        "startLine": 2049,
        "startChar": 23,
        "endLine": 2049,
        "endChar": 28
      },
      "revId": "df728c78352fbc2a1007577042831b6176a40ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}