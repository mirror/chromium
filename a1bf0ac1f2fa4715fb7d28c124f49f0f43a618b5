{
  "comments": [
    {
      "key": {
        "uuid": "d733563b_ab14a0fc",
        "filename": "content/common/service_worker/controller_service_worker.mojom",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "Maybe now move the |response_callback| documentation away and replace \"There is also a separate |response_callback| in |params|, see the DispatchFetchEventParams documentation.\"",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0678fc7b_fcf1713f",
        "filename": "content/common/service_worker/controller_service_worker.mojom",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d733563b_ab14a0fc",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4438b2ea_2a49e321",
        "filename": "content/common/service_worker/controller_service_worker.mojom",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "Would expand this as: \"The client being controlled, used for FetchEvent#clientId.\"",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36a67f10_fcb17f24",
        "filename": "content/common/service_worker/controller_service_worker.mojom",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done.\n\nProbably I should put a comment to describe something like \"if you plan to add more parameters here for subresource loading, consider creating a separate struct.\" WDYT?",
      "parentUuid": "4438b2ea_2a49e321",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "949da3da_da131e6d",
        "filename": "content/common/service_worker/controller_service_worker.mojom",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-07T03:53:01Z",
      "side": 1,
      "message": "I think it\u0027s not needed since this struct is used only for subresource loading anyway. Maybe I\u0027m missing something.",
      "parentUuid": "36a67f10_fcb17f24",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6aafc8da_d305bd84",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 16,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "Given the  DispatchFetchEventParams documentation I think this can just be // Used for service worker navigation preload, to create FetchEvent#preloadResponse.",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16617187_c68a512a",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 16,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6aafc8da_d305bd84",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "76214f0d_c885dd81",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "I\u0027d just simplify this as // Parameters used for dispatching a FetchEvent.\n\n(The mojom files ideally can be separate from the implementation details).",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e6644e7_7e54b8f0",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "76214f0d_c885dd81",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98711d91_8e657938",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "We could document these like this:\n\n// FetchEvent#request.",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46ddb70a_2f70a6f9",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98711d91_8e657938",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0723003f_6ba7280c",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "// FetchEvent#clientId.",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f78b036_6e5ff72f",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0723003f_6ba7280c",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff2c0ac4_535bae92",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "// FetchEvent#preloadResponse.",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a20321d4_c0566f06",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff2c0ac4_535bae92",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "679be351_228091c0",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "// Called once the promise to respondWith() settles, or when the event handler ran without calling respondWith().",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fafc130_802633d4",
        "filename": "content/common/service_worker/dispatch_fetch_event_params.mojom",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "679be351_228091c0",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4f6793e_d9b61f94",
        "filename": "content/renderer/service_worker/controller_service_worker_connector.h",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "This comment might be worthwhile:\n\n// The web-exposed client id, used for FetchEvent#clientId (i.e., ServiceWorkerProviderHost::client_uuid and not ServiceWorkerProviderHost::provider_id).",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08502ace_501758b4",
        "filename": "content/renderer/service_worker/controller_service_worker_connector.h",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Done.\n\nRegarding provider_id vs client_uuid, probably I should file a new bug to follow-up?",
      "parentUuid": "b4f6793e_d9b61f94",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e96edc4_21a63f7c",
        "filename": "content/renderer/service_worker/controller_service_worker_connector.h",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-07T03:53:01Z",
      "side": 1,
      "message": "Mmm, either way is fine. There\u0027s no immediately easy solution since provider_id is also used for non-clients, and we mint a provider_id by incrementing/decrementing a counter (and sometimes it\u0027s created by the renderer, and sometimes by the browser).",
      "parentUuid": "08502ace_501758b4",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3a4bf9b_f25b6baa",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "nit: prefer `const network::ResourceRequest\u0026` so the reader knows the type",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d0415b7_e5eca6e0",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Changed to pass |request| and |client_id| as suggested below.",
      "parentUuid": "b3a4bf9b_f25b6baa",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88825a17_c9cf4009",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 4
      },
      "lineNbr": 1664,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "Since we already consumed some of the |params| in line 1647 and 1659, I think we should instead pass just |params-\u003erequest| and |params-\u003eclientId| here, instead |params|.",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb4db29e_bb2a0125",
        "filename": "content/renderer/service_worker/service_worker_context_client.cc",
        "patchSetId": 4
      },
      "lineNbr": 1664,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "Yeah, agreed. Done.",
      "parentUuid": "88825a17_c9cf4009",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef69b409_86325dbe",
        "filename": "content/renderer/service_worker/service_worker_context_client_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-06T08:32:44Z",
      "side": 1,
      "message": "Q: Does std::move(fetch_callback_ptr) work instead?",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44da8970_21ade8de",
        "filename": "content/renderer/service_worker/service_worker_context_client_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1115863
      },
      "writtenOn": "2018-02-06T09:27:07Z",
      "side": 1,
      "message": "I tried std::move first but looks like InterfacePtrInfo cannot be created by moving an InterfacePtr.\n\nActually I\u0027m not 100% sure I\u0027m doing a right thing here. I think I should add a reviewer for mojo use. Probably dcheng@?",
      "parentUuid": "ef69b409_86325dbe",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db16e367_de9145a9",
        "filename": "content/renderer/service_worker/service_worker_context_client_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1000128
      },
      "writtenOn": "2018-02-07T03:53:01Z",
      "side": 1,
      "message": "Hm, I\u0027m not sure. dcheng@ do you know why std::move(fetch_callback_ptr) works before this patch, but we need to do fetch_callback_ptr.PassInterface() now? See the related change in controller_service_worker.mojom, we just moved `ServiceWorkerFetchResponseCallback response_callback` from a direct method param to a member of a struct of params.\n\nIn any case, we could just revert that change for this CL, and keep FetchResposneCallback as a direct method param separate from the struct.",
      "parentUuid": "44da8970_21ade8de",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ab25932_afefc3cd",
        "filename": "content/renderer/service_worker/service_worker_context_client_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1001472
      },
      "writtenOn": "2018-02-07T04:59:03Z",
      "side": 1,
      "message": "The Mojo call takes the Ptr itself (this internally actually makes a mojo call), while the struct needs PtrInfo (by definition this should be in a portable form), is my understanding. (You can check what the code that\u0027s generated by binding does)",
      "parentUuid": "db16e367_de9145a9",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf2ae323_5723c283",
        "filename": "content/renderer/service_worker/service_worker_context_client_unittest.cc",
        "patchSetId": 4
      },
      "lineNbr": 322,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2018-02-07T23:15:06Z",
      "side": 1,
      "message": "What kinuko said. rockot changed this behavior awhile back, because it was painful to pass Mojo structs across threads otherwise. See https://chromium-review.googlesource.com/c/chromium/src/+/764988.",
      "parentUuid": "0ab25932_afefc3cd",
      "revId": "a1bf0ac1f2fa4715fb7d28c124f49f0f43a618b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}