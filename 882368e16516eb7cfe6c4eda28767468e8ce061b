{
  "comments": [
    {
      "key": {
        "uuid": "9bd40f99_5fc2c84d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-05-26T09:48:48Z",
      "side": 1,
      "message": "The first paragraph of the commit message should only consist of a single line, because it will end up as the title in a lot of places. See https://chris.beams.io/posts/git-commit/ for some advice.\n\nAlso, add a Bug: label so you can group your commits together and better keep track of them?",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "412f7562_fac5356c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1123275
      },
      "writtenOn": "2017-05-26T09:52:04Z",
      "side": 1,
      "message": "wrap to 72 character lines and leave an empty line between the title and the commit description. see https://chris.beams.io/posts/git-commit/",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44f7935a_81ea233a",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProvider.java",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-05-26T09:48:48Z",
      "side": 1,
      "message": "This comment is now out of date. Also, you should at least mention that the callback will be called immediately if there is a thumbnail available, so callers know to watch out for reentrancy issues.",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e461079e_1dbc0483",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProvider.java",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1195464
      },
      "writtenOn": "2017-05-31T09:42:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "44f7935a_81ea233a",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b1a489b_a426aba3",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProviderImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-05-26T09:48:48Z",
      "side": 1,
      "message": "I think my comment from https://codereview.chromium.org/2896853003/diff/100001/chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProviderImpl.java#newcode112 still applies: What if two clients request the same file at different sizes?",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b576aee_2184874b",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProviderImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1195464
      },
      "writtenOn": "2017-05-26T10:28:33Z",
      "side": 1,
      "message": "This is a problem and there are a few ways we could fix this:\n - cache the image in different sizes.\n - have the thumbnail provider return the original image and let the thumbnail request resize it to the wanted dimensions. \n - store the image which is returned from the native call (it will be resized according to that request) and then when the next request comes in, we can check if the cached image is bigger than the required size. If it is, resize it down to the required size and return the resized image, keeping the bigger one in the cache. If it is not, then fetch the the image from the native call with the newly required size (which is bigger than the cached one) and then replace the cached image with the new (bigger) image.\n\nIt seems like the second option is most neat, but will need more space to cache the images. What do you think?",
      "parentUuid": "2b1a489b_a426aba3",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "999d99a9_7f4fd9a9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProviderImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2017-05-26T10:58:09Z",
      "side": 1,
      "message": "Hm, the second option seems somewhat suboptimal -- we\u0027d have a larger memory footprint from caching images at a potentially unnecessarily large size, and we\u0027d have to make copies and resize them any time we need an image, which would somewhat defeat the purpose of a cache.\n\nCould we keep the image size as part of the ThumbnailProvider and just pass in a different ThumbnailProvider if we need the images at a different size?",
      "parentUuid": "8b576aee_2184874b",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fa1a472_8d42c4ae",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/download/ui/ThumbnailProviderImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1195464
      },
      "writtenOn": "2017-05-31T09:42:18Z",
      "side": 1,
      "message": "As discussed offline, solved by having the key in the cache be a pair of the filepath and size of image (in terms of height/width).",
      "parentUuid": "999d99a9_7f4fd9a9",
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "880867be_8919fe27",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/snippets/SnippetArticleViewHolder.java",
        "patchSetId": 2
      },
      "lineNbr": 593,
      "author": {
        "id": 1123275
      },
      "writtenOn": "2017-05-26T09:52:04Z",
      "side": 1,
      "message": "can be final",
      "range": {
        "startLine": 593,
        "startChar": 16,
        "endLine": 593,
        "endChar": 19
      },
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f0f21e6_d416cee6",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/ntp/snippets/SnippetArticleViewHolder.java",
        "patchSetId": 2
      },
      "lineNbr": 593,
      "author": {
        "id": 1195464
      },
      "writtenOn": "2017-05-31T09:42:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "880867be_8919fe27",
      "range": {
        "startLine": 593,
        "startChar": 16,
        "endLine": 593,
        "endChar": 19
      },
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6b0da3e_f60f531a",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/suggestions/SuggestionsUiDelegateImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1123275
      },
      "writtenOn": "2017-05-26T09:52:04Z",
      "side": 1,
      "message": "can be final",
      "range": {
        "startLine": 40,
        "startChar": 30,
        "endLine": 40,
        "endChar": 48
      },
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d0d931e_6454d008",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/suggestions/SuggestionsUiDelegateImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1195464
      },
      "writtenOn": "2017-05-31T09:42:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d6b0da3e_f60f531a",
      "range": {
        "startLine": 40,
        "startChar": 30,
        "endLine": 40,
        "endChar": 48
      },
      "revId": "882368e16516eb7cfe6c4eda28767468e8ce061b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}