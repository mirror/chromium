{
  "comments": [
    {
      "key": {
        "uuid": "7c4620b0_bf917cb2",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 38,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "nit: remove this",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3120829_51f21a40",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 38,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-13T04:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7c4620b0_bf917cb2",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "186780d6_ab219bcf",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 167,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-12T20:15:00Z",
      "side": 1,
      "message": "Instead of using fileinput.input which could be unsafe as a re-opened instance, change it to use the temporary file.",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0322c35_465322e6",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 176,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "Any reason for using tempfile.mkstemp instead of tempfile.NamedTemporaryFile?",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56af2453_b82e8e94",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 176,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-13T04:30:53Z",
      "side": 1,
      "message": "The reason is: I didn\u0027t realize that NamedTemporaryFile is much better here...\n\nThanks for the hint. Changed!",
      "parentUuid": "e0322c35_465322e6",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28fa6eee_f0dcd9e4",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 207,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "As discussed offline: just have dry_run print the command you would run rather than accumulating a list of packages and printing it at the end.",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99741404_11274600",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 207,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-13T04:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28fa6eee_f0dcd9e4",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe8c3fea_acd1edaf",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 210,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-12T20:15:00Z",
      "side": 1,
      "message": "Last patch you mentioned if we could detect/update .yaml file, if the package contents changes in a way that requires a .yaml file update. I think these .yaml files data has dir name, and don\u0027t contain version information, so I am not sure what kinds of changes would require a .yaml file update?",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2450ca80_e2d615c1",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 210,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "Yeah, I\u0027m not sure what I said makes sense given how you\u0027ve got the .yaml files laid out w/ one top-level directory per package. Ignore my previous comment.",
      "parentUuid": "fe8c3fea_acd1edaf",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84cc27a3_b99ce76b",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 257,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-12T20:15:00Z",
      "side": 1,
      "message": "By looking into the tools/lib files history, maybe could check \u0027common*.jar\u0027 as it is consistently existing as a \u0027common\u0027 jar. Found that the name could have 3 possible options:\n  1) \u0027common.jar\u0027,\n  2) \u0027common-\u003cversion\u003e-dev.jar\u0027 and\n  3) \u0027common-\u003cversion\u003e.jar\u0027.\n\nBack to our logic here, probably we can use -\u003cthe version in \u0027sdkmanager\u0027\u003e when 1), and use \u0027-\u003cversion\u003e-dev\u0027 when 2), and use -\u003cversion\u003e when 3)",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58c60a86_0bce19fb",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 257,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "This seems fine.",
      "parentUuid": "84cc27a3_b99ce76b",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57d82524_cebb31dc",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 258,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "nit: compile this as a constant at module scope",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0925b80_2d39ba98",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 258,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-13T04:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57d82524_cebb31dc",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e040c567_b3561025",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 260,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "I think this can just look for everything between common and \\.jar and take that as the suffix -- something like \u0027^common(.*)\\.jar$\u0027",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc3039cb_8f32c69d",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 260,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-13T04:30:53Z",
      "side": 1,
      "message": "Just tried that way and found it not that reliable: there are jar files like \u0027commons-codec-1.6.jar\u0027, and the version would become \u0027s-codec-1.6\u0027 by capturing group. I think it is better to remain the old way.",
      "parentUuid": "e040c567_b3561025",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e8a5588_3c548286",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 269,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-12T20:15:00Z",
      "side": 1,
      "message": "Check if the new version is the same as old version in file first, if it remains the same, skip dry run or replace version.",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8616a0a_b7752e04",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 328,
      "author": {
        "id": 1181690
      },
      "writtenOn": "2017-12-13T00:35:52Z",
      "side": 1,
      "message": "super nit: this should be -n/--dry-run",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0cb6fdc_9c1ab77b",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 328,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-13T04:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e8616a0a_b7752e04",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30661aba_17ffe379",
        "filename": "tools/android/sdk_updater/update_sdk.py",
        "patchSetId": 11
      },
      "lineNbr": 329,
      "author": {
        "id": 1205294
      },
      "writtenOn": "2017-12-12T20:15:00Z",
      "side": 1,
      "message": "I suppose the dry run option could:\n1) be triggered by calling an argument with \u0027package\u0027 command like \u0027-d\u0027/\u0027--dry-run\u0027\n2) print out what packages instances would be created and uploaded to CIPD, also show the version\n3) remind there will be an update of package version in config.gni if applicable (later adding ensure file update notice)",
      "revId": "69c832c68581497537ca35c66f3709af79d2cdd8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}