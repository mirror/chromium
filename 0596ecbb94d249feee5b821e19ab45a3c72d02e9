{
  "comments": [
    {
      "key": {
        "uuid": "2593d492_5a31f2d3",
        "filename": "media/gpu/gpu_video_encode_accelerator_factory.cc",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1001027
      },
      "writtenOn": "2017-07-20T03:57:49Z",
      "side": 1,
      "message": "It looks like we need to keep OS_CHROMEOS here, as if it\u0027s not defined, this will fail on missing headers, which are only included above if OS_CHROMEOS.\n\nThis is actually an issue in some other places in this CL, could you recheck other files for this please?",
      "revId": "0596ecbb94d249feee5b821e19ab45a3c72d02e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac29de78_68b204a1",
        "filename": "media/gpu/gpu_video_encode_accelerator_factory.cc",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1196204
      },
      "writtenOn": "2017-07-20T04:01:20Z",
      "side": 1,
      "message": "Here I\u0027d say the correct fix is the remove the includes from the #if defined(OS_CHROMEOS), so that we are consistent with the intent of use_vaapi. Do you agree?",
      "parentUuid": "2593d492_5a31f2d3",
      "revId": "0596ecbb94d249feee5b821e19ab45a3c72d02e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df3c0e67_16313335",
        "filename": "media/gpu/gpu_video_encode_accelerator_factory.cc",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1001027
      },
      "writtenOn": "2017-07-20T04:16:06Z",
      "side": 1,
      "message": "I think the simplest solution could possibly be to:\n- add is_chromeos to media/gpu/BUILD.gn for USE_VAAPI as well\n- check for USE_VAAPI only and consistently across all files and keep that outside of arch/os-specific conditionals.\n- and similarly, since USE_V4L2_CODEC is already under is_chromeos in media/gpu/BUILD.gn, there should be no need to check for OS_CHROMEOS \u0026\u0026 USE_V4L2_CODEC, just the latter.",
      "parentUuid": "ac29de78_68b204a1",
      "revId": "0596ecbb94d249feee5b821e19ab45a3c72d02e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dcff747_eb0b0277",
        "filename": "media/gpu/gpu_video_encode_accelerator_factory.cc",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1196204
      },
      "writtenOn": "2017-07-20T05:10:25Z",
      "side": 1,
      "message": "I am not really fond of mixing improvements of USE_V4L2_CODEC with this VAAPI removal. USE_V4L2_CODEC is used in quite a few places, and if this breaks something we would need to revert this whole change. Do you agree to move this part to another CL? (I can and will make sure USE_VAAPI is never dependent on OS_CHROMEOS though).",
      "parentUuid": "df3c0e67_16313335",
      "revId": "0596ecbb94d249feee5b821e19ab45a3c72d02e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "706944a9_bfec0099",
        "filename": "media/gpu/gpu_video_encode_accelerator_factory.cc",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1001027
      },
      "writtenOn": "2017-07-20T07:58:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1dcff747_eb0b0277",
      "revId": "0596ecbb94d249feee5b821e19ab45a3c72d02e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}