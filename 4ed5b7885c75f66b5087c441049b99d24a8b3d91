{
  "comments": [
    {
      "key": {
        "uuid": "f06629e3_c9cbc098",
        "filename": "ash/system/power/power_button_display_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-10-24T23:18:42Z",
      "side": 1,
      "message": "We should always call this since we don\u0027t all it in the constructor. (We might want to log an error if is_forced_off is null). This is a great example of a surprising result if a callback never gets called - a bug in GetBacklightsForcedOff() in the power manager could cause the touch devices controller to behave unexpectedly.",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2f62f98_76380b28",
        "filename": "ash/system/power/power_button_display_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-25T13:14:14Z",
      "side": 1,
      "message": "Done. I assumed that the default value is false (in case of error).",
      "parentUuid": "f06629e3_c9cbc098",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87864e9a_1d023f19",
        "filename": "ash/wm/tablet_mode/tablet_mode_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 477,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-10-24T23:18:42Z",
      "side": 1,
      "message": "Is this the correct behavior on a power manager failure, or should we call the methods below with default values?",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0294c35_67514b55",
        "filename": "ash/wm/tablet_mode/tablet_mode_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 477,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-25T13:14:14Z",
      "side": 1,
      "message": "Hmm. I couldn\u0027t figure out.\nNote that this keeps the current behavior as is, so no regression.\n\nOshima-san, what\u0027s the expected behavior here when power_manager reports an error for the request of GetSwitchStates() initiated in ctor?",
      "parentUuid": "87864e9a_1d023f19",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d48b0e0_7af099ce",
        "filename": "ash/wm/tablet_mode/tablet_mode_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 477,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-10-25T14:23:34Z",
      "side": 1,
      "message": "what you have here seems correct. tab_mode_switch_is_on_ and lid_is_closed_ are already both initialized to false, which is the correct default for both. (in practice, this is expected to never fail.)",
      "parentUuid": "d0294c35_67514b55",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b1b0755_7ac6c0d3",
        "filename": "chrome/browser/chromeos/lock_screen_apps/state_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 527,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-10-24T23:18:42Z",
      "side": 1,
      "message": "We probably want to set an initial screen state in this case to a default value?",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d060cf16_4103042f",
        "filename": "chrome/browser/chromeos/lock_screen_apps/state_controller.cc",
        "patchSetId": 2
      },
      "lineNbr": 527,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-25T13:14:14Z",
      "side": 1,
      "message": "It is initialized to kUnknown on construction, and we actually don\u0027t know the value,\nbecause power_manager reports an error.\nSo, keeping kUnknown may be an expected behavior?\n\ntbarzic@, could you kindly tell us what is the design here?",
      "parentUuid": "3b1b0755_7ac6c0d3",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b71220f_85c0e3b3",
        "filename": "chromeos/dbus/power_manager_client.cc",
        "patchSetId": 2
      },
      "lineNbr": 567,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-10-24T21:54:51Z",
      "side": 1,
      "message": "feel free to say no if you think it\u0027s out of scope for this change, but all of these could probably be functions in the anon namespace, or maybe even lambda expressions, instead of methods, right?",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a5b6943_2c6dddbd",
        "filename": "chromeos/dbus/power_manager_client.cc",
        "patchSetId": 2
      },
      "lineNbr": 567,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-25T13:14:14Z",
      "side": 1,
      "message": "I think it is out of scope of this scope, but I\u0027m happy to figure out what we should do separately.\n\nSo, the difference is; in this way, if this Client class is destroyed before callback is called, the passed callback will never be called. If we move this kind of things into anonymous namespace, then the callback will be still called after Client class is destroyed if the original thread is still running.\n\nPractically, both are equivalent, because the client is destroyed from https://cs.chromium.org/chromium/src/chrome/browser/chromeos/chrome_browser_main_chromeos.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d1226 via DBusThreadManager, which is after UI thread is stopped.\nAnyway, because currently the style is mixed across Client classes, so, although it is small-stuff, it\u0027s nice to have some style guide here, I think.\n\nWDYT?",
      "parentUuid": "9b71220f_85c0e3b3",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9e03f7f_a4d7e768",
        "filename": "chromeos/dbus/power_manager_client.cc",
        "patchSetId": 2
      },
      "lineNbr": 567,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2017-10-25T14:23:34Z",
      "side": 1,
      "message": "thanks for the analysis. in dbus_in_chrome.md, i used a function in the anon namespace in some example code, because i think we\u0027ve historically advocated using those instead of instance methods whenever possible.",
      "parentUuid": "5a5b6943_2c6dddbd",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a62bb3b9_e9ecaede",
        "filename": "components/arc/power/arc_power_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 220,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-10-24T23:18:42Z",
      "side": 1,
      "message": "Probably worth logging an error here to make it clear that the DBus error caused us not to call UpdateScreenBrightnessSettings for Arc.",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c513d39a_a2094e9f",
        "filename": "components/arc/power/arc_power_bridge.cc",
        "patchSetId": 2
      },
      "lineNbr": 220,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2017-10-25T13:14:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a62bb3b9_e9ecaede",
      "revId": "4ed5b7885c75f66b5087c441049b99d24a8b3d91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}