{
  "comments": [
    {
      "key": {
        "uuid": "aa05212e_a78209d4",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 122,
      "author": {
        "id": 1123405
      },
      "writtenOn": "2017-06-26T18:27:49Z",
      "side": 1,
      "message": "Does this imply RENDERING?",
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6fd43aba_07248bd3",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 122,
      "author": {
        "id": 1149774
      },
      "writtenOn": "2017-06-26T20:41:29Z",
      "side": 1,
      "message": "If the buffer is a used as a render target or texture, we should add GBM_BO_USE_RENDERING.",
      "range": {
        "startLine": 122,
        "startChar": 6,
        "endLine": 122,
        "endChar": 33
      },
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d54f27e_a8203053",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1107749
      },
      "writtenOn": "2017-06-26T18:42:57Z",
      "side": 1,
      "message": "Is this ok?\n\nGBM_BO_USE_RENDERING was removed in https://codereview.chromium.org/1339443002/ since it was causing performance issues with CPU mapping. I know we\u0027re not using VGEM, but presumably it would cause the same performance issues for other use cases where the buffer is mapped by the CPU.",
      "range": {
        "startLine": 129,
        "startChar": 14,
        "endLine": 129,
        "endChar": 34
      },
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed303f85_38efd294",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1149774
      },
      "writtenOn": "2017-06-26T20:41:29Z",
      "side": 1,
      "message": "If GBM_BO_USE_LINEAR is passed in (even when rendering flags), we\u0027ll allocate a linear buffer.  GBM_BO_USE_RENDERING just means a it\u0027s a linear buffer that\u0027s used as a render target or texture.",
      "parentUuid": "9d54f27e_a8203053",
      "range": {
        "startLine": 129,
        "startChar": 14,
        "endLine": 129,
        "endChar": 34
      },
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbd46c2f_731baf05",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1107749
      },
      "writtenOn": "2017-06-26T20:44:20Z",
      "side": 1,
      "message": "Ack. Thanks for confirming.",
      "parentUuid": "ed303f85_38efd294",
      "range": {
        "startLine": 129,
        "startChar": 14,
        "endLine": 129,
        "endChar": 34
      },
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ebdf017_9d07566d",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1112153
      },
      "writtenOn": "2017-06-26T23:38:10Z",
      "side": 1,
      "message": "Gurchetan, thx for answering. In addition, when i915 allocates tiling buffer, mmap requires gtt mapping, which is very slow.\nGBM_BO_USE_RENDERING had used to create tiling buffer, but the flag of minigbm symentic has changed as time goes on. GBM_BO_USE_LINEAR guarantees to create linear buffer.",
      "parentUuid": "bbd46c2f_731baf05",
      "range": {
        "startLine": 129,
        "startChar": 14,
        "endLine": 129,
        "endChar": 34
      },
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b831ed2d_bb5c5d4f",
        "filename": "ui/ozone/platform/drm/gpu/drm_thread.cc",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1000313
      },
      "writtenOn": "2017-06-29T18:05:23Z",
      "side": 1,
      "message": "I just found out about https://codereview.chromium.org/1339443002/ ; this CL is very wrong for multiple reasons, mostly because it is intel-specific (set tiling mode, work around an intel problem etc) but affects code for all platforms.\n\nI see that you wanted me to weigh in on it, but I wasn\u0027t CC\u0027d so I never noticed it :(",
      "parentUuid": "9d54f27e_a8203053",
      "range": {
        "startLine": 129,
        "startChar": 14,
        "endLine": 129,
        "endChar": 34
      },
      "revId": "d822a4f2dc5b12dbe3645c4773300e45adc0da0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}