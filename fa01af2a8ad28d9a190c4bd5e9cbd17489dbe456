{
  "comments": [
    {
      "key": {
        "uuid": "f9e91bad_2a06fa2a",
        "filename": "content/browser/loader/cross_site_document_resource_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1001500
      },
      "writtenOn": "2017-12-18T22:47:28Z",
      "side": 1,
      "message": "This will aggregate all of the UKM based on the main frame URL. We could pass in the RenderFrameHost routing id and process id, which will allow to look up the frame that is requesting the blocked resource. This might be a bit more actionable, as embedded iframes will be properly accounted for.",
      "revId": "fa01af2a8ad28d9a190c4bd5e9cbd17489dbe456",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e443b8c7_074ea44f",
        "filename": "content/browser/loader/cross_site_document_resource_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-18T23:10:13Z",
      "side": 1,
      "message": "AFAIK UKM is only meant to be used with main frame\u0027s URL:\n\n1. “New UKM collection review” doc explicitly asks to confirm that we are \"only collecting metrics keyed by main frame URLs\".\n\n2. UKM data is collected from users who are both A) opted into metrics collection (UMA/crash)\nand B) syncing their browsing history without a Sync passphrase,  The browsing history already includes top-level / main frame URLs, and therefore (B) is assumed to mean that the URLs can be also associated with UKM data.  There is no such assumption/consent for either 1) non-main-frame URLs or 2) resource URLs.\n\n\nI hope that the main frame\u0027s URL will be sufficient for investigating most-blocked resource types and/or most-blocked content types, but let\u0027s see what UKM folks say (per go/ukm guidance, this CL needs a CR from either rkaplow@ or holte@).",
      "parentUuid": "f9e91bad_2a06fa2a",
      "revId": "fa01af2a8ad28d9a190c4bd5e9cbd17489dbe456",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7ab6673_29c6cc09",
        "filename": "content/browser/loader/cross_site_document_resource_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-18T23:14:08Z",
      "side": 1,
      "message": "Steven, would it be possible to use UKM to associate an event with a URL of a subframe?  Based on what I wrote, I assume the answer is \"no\", but I still wanted to double-check.  Having the subframe URL might make it easier to find a repro of undesirable XSDB, but hopefully having the main frame URL will also be sufficient for the XSDB debugging efforts.",
      "parentUuid": "e443b8c7_074ea44f",
      "revId": "fa01af2a8ad28d9a190c4bd5e9cbd17489dbe456",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "616c6f09_a20746c2",
        "filename": "content/browser/loader/cross_site_document_resource_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1001500
      },
      "writtenOn": "2017-12-18T22:47:28Z",
      "side": 1,
      "message": "nit: No need for an empty line.",
      "revId": "fa01af2a8ad28d9a190c4bd5e9cbd17489dbe456",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bab95c37_015d18f6",
        "filename": "content/browser/loader/cross_site_document_resource_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1130134
      },
      "writtenOn": "2017-12-18T23:10:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "616c6f09_a20746c2",
      "revId": "fa01af2a8ad28d9a190c4bd5e9cbd17489dbe456",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}