{
  "comments": [
    {
      "key": {
        "uuid": "f3e84da8_fbbb3c5b",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 297,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "reffed \u003d\u003e referenced",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9dcf7e10_0bf563c4",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 297,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3e84da8_fbbb3c5b",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f918cb1_03db92e8",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 298,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "referenced",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f81e356_a70250a4",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 298,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1f918cb1_03db92e8",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "728a5443_49876514",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "disappeared",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba76f8ee_f6a0c8f5",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "728a5443_49876514",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0c19be_71fa9387",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 303,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "I guess this will be a real problem. There are many cases where Document is kept alive without JS holding a direct reference to Document\u0027s wrapper. If JS has a reference to Window\u0027s wrapper in some way (note that this happens in many cases -- if JS has a reference to some V8 object, the V8 object has a strong reference to the window that instantiated the V8 object), the Document will be kept alive because window.document is strongly traced by V8\u0027s GC.\n\nI think what we should really check is HasWrapper(Window*) (instead of HasWrapper(Document*)). If Window\u0027s wrapper is gone and the Document remains, I think we can confidently say that it will be a leak.",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2f6418f_b1e256e1",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 303,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done; I removed the comment because detecting the window wrapper should cover the case in the comment.\n\nBTW, is there a case where a document wrapper exists and a window wrapper doesn\u0027t exist? If so, HasWrapper(Window*) might not be enough.",
      "parentUuid": "5c0c19be_71fa9387",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cf873d0_2b5e28a4",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 304,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "Can we use !gc_age_when_document_detached_ instead of introducing start_count_?",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ea76a40_6f796046",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 304,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7cf873d0_2b5e28a4",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "937600bc_6c045bf1",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "if (outlive_time_count \u003d\u003d 5)\n  gc_count \u003d ...;\nelse if (...)\n  ...;",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1d678b0_b7a782a4",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "937600bc_6c045bf1",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3db35dc9_deb79f3c",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 337,
      "author": {
        "id": 1115916
      },
      "writtenOn": "2017-08-21T09:53:58Z",
      "side": 1,
      "message": "Can you introduce a helper method to DOMWrapperWorld? You can introduce:\n\n  DOMWrapperWorld::HasWrapperInAnyWorld(ScriptWrappable*);",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d60a61b3_de567dc4",
        "filename": "third_party/WebKit/Source/core/dom/Document.cpp",
        "patchSetId": 1
      },
      "lineNbr": 337,
      "author": {
        "id": 1115913
      },
      "writtenOn": "2017-08-21T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3db35dc9_deb79f3c",
      "revId": "485d4e7c6a016fe6e0856f9b189d49506de59e7a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}