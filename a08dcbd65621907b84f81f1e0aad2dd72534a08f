{
  "comments": [
    {
      "key": {
        "uuid": "e3a77c9b_5e667c04",
        "filename": "chrome/browser/chromeos/net/network_portal_detector_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 529,
      "author": {
        "id": 1147616
      },
      "writtenOn": "2017-12-05T23:18:36Z",
      "side": 0,
      "message": "hmm.. I start to feel it is not a chrome side bug. If shill state is \u0027online\u0027, we would not stop chrome portal detection.\nAnd if shill state is not online here (and later becomes online, a bug here that shill doesn\u0027t do connection state change?), it should trigger chrome portal detection because of connection state changed.",
      "revId": "a08dcbd65621907b84f81f1e0aad2dd72534a08f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f40bb7f6_e59bf158",
        "filename": "chrome/browser/chromeos/net/network_portal_detector_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 529,
      "author": {
        "id": 1123084
      },
      "writtenOn": "2017-12-05T23:22:04Z",
      "side": 0,
      "message": "Are we missing a shill state change?\n\nThe bug report is pretty confusing and it would be helpful to look at an affected machine in person, if at all possible.",
      "parentUuid": "e3a77c9b_5e667c04",
      "revId": "a08dcbd65621907b84f81f1e0aad2dd72534a08f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34f68ed8_61a51939",
        "filename": "chrome/browser/chromeos/net/network_portal_detector_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 529,
      "author": {
        "id": 1147616
      },
      "writtenOn": "2017-12-05T23:27:04Z",
      "side": 0,
      "message": "To me, I feel so. The false positive \"behind-portal-chrome-sees\" but shill is online state wouldn\u0027t stop chrome portal detection. Maybe we can log the shill state here.\n\nSorry for the confusion in #107 in the bug thread.\n\nSadly, I asked aashutoshk@. There is no successful in-house repro",
      "parentUuid": "f40bb7f6_e59bf158",
      "revId": "a08dcbd65621907b84f81f1e0aad2dd72534a08f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d718891_692a1057",
        "filename": "chrome/browser/chromeos/net/network_portal_detector_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 529,
      "author": {
        "id": 1123084
      },
      "writtenOn": "2017-12-05T23:40:12Z",
      "side": 0,
      "message": "If we have a net.log from the same system, the shill service state changes will be logged there.  Search for /service/123 (or whatever ID it is).",
      "parentUuid": "34f68ed8_61a51939",
      "revId": "a08dcbd65621907b84f81f1e0aad2dd72534a08f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb2d3e78_e24db9e7",
        "filename": "chrome/browser/chromeos/net/network_portal_detector_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 529,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2017-12-05T23:40:14Z",
      "side": 0,
      "message": "Hmm, good point. Unfortunately we don\u0027t appear to log this state change? We really need to improve the logging, e.g. we should have a log entry in StartDetection().\n\nWe may be able to reproduce this with a device policy for an open network.\n\nSee my speculation in comment #103.",
      "parentUuid": "f40bb7f6_e59bf158",
      "revId": "a08dcbd65621907b84f81f1e0aad2dd72534a08f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0abd4a81_fc5b833c",
        "filename": "chrome/browser/chromeos/net/network_portal_detector_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 529,
      "author": {
        "id": 1147616
      },
      "writtenOn": "2017-12-06T00:39:25Z",
      "side": 0,
      "message": "Logs in #103 are from net_log. We logged state here: [1]. It should be fairly enough though. Another caller could be [2] but we don\u0027t log \"Restarting portal detection due to auth change\". I don\u0027t know why there are no more chrome attempts logged...\n\nBtw, this log is the only log that having captive portal detection behave abnormally among the many logs in this bug. Portal detection might be not the root cause.\n\n[1] https://cs.chromium.org/chromium/src/chrome/browser/chromeos/net/network_portal_detector_impl.cc?type\u003dcs\u0026q\u003dnetwork_portal_detector_im\u0026sq\u003dpackage:chromium\u0026l\u003d376\n[2] https://cs.chromium.org/chromium/src/chrome/browser/chromeos/net/network_portal_detector_impl.cc?type\u003dcs\u0026q\u003dnetwork_portal_detector_im\u0026sq\u003dpackage:chromium\u0026l\u003d613",
      "parentUuid": "eb2d3e78_e24db9e7",
      "revId": "a08dcbd65621907b84f81f1e0aad2dd72534a08f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}