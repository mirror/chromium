{
  "comments": [
    {
      "key": {
        "uuid": "ef994e18_63908651",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T20:22:50Z",
      "side": 1,
      "message": "Nit: remove extra to",
      "range": {
        "startLine": 27,
        "startChar": 48,
        "endLine": 27,
        "endChar": 51
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c24fd078_49629996",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef994e18_63908651",
      "range": {
        "startLine": 27,
        "startChar": 48,
        "endLine": 27,
        "endChar": 51
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a35b7ce6_437bb5f5",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T20:22:50Z",
      "side": 1,
      "message": "I would rather avoid using singleton, because of global state.\nSince we want to remove noise from unwanted operations (see comment in zucchini_main.cc), I would suggest the following:\n - Keep state as member data.\n - Explicitly make appropriate calls (start and finnish) from CommandRegistry::Run()",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 27
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f24c4c86_2c43c22c",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Nice! Done.",
      "parentUuid": "a35b7ce6_437bb5f5",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 27
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "903bdd64_1309561e",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T20:22:50Z",
      "side": 1,
      "message": "Not sure what chromium code style says, but I don\u0027t think std::unique_ptr is POD (it has a user-defined destructor).",
      "range": {
        "startLine": 44,
        "startChar": 14,
        "endLine": 44,
        "endChar": 24
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adb7f082_16c4a440",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Removed now, but FYI \"static std::unique_ptr\" does appear quite a bit in Chromium source.",
      "parentUuid": "903bdd64_1309561e",
      "range": {
        "startLine": 44,
        "startChar": 14,
        "endLine": 44,
        "endChar": 24
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98d546de_3793b35e",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T23:38:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "adb7f082_16c4a440",
      "range": {
        "startLine": 44,
        "startChar": 14,
        "endLine": 44,
        "endChar": 24
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "156b6bf3_5d6e325a",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "can you use a simple function pointer here rather than a callback? if you did so, could you make the Command ctor constexpr? if so, maybe you can have the Command instances in static initialization, but do the registration in the RegisterAll fn.",
      "range": {
        "startLine": 49,
        "startChar": 20,
        "endLine": 49,
        "endChar": 28
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "765eb3b9_67d5b5eb",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "\"Fun\" alone is an abbreviation, which is anti-style.\n\nalternatively, i suppose you could have been making a statement that commands are Fun! :-)",
      "range": {
        "startLine": 49,
        "startChar": 8,
        "endLine": 49,
        "endChar": 11
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e7a8b73_8f032a9a",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Ah I thought we should not use function pointers. But since we can, I\u0027m using it to reduce complexity involving base::Bind()!\n\nRe. static initialization: When I tried that (making ctor constexpr) I got:\n\n../../chrome/installer/zucchini/main_utils.cc(18): warning C4592: \u0027`anonymous-namespace\u0027::kCommandGen\u0027: symbol will be dynamically initialized (implementation l\nimitation)\n../../chrome/installer/zucchini/main_utils.cc(18): note: to simplify migration, consider the temporary use of /Wv:18 flag with the version of the compiler with\nwhich you used to build without warnings\n\nSo looks like we should not do this (yet)?",
      "parentUuid": "156b6bf3_5d6e325a",
      "range": {
        "startLine": 49,
        "startChar": 20,
        "endLine": 49,
        "endChar": 28
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "658b9f51_ee3027ad",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Renamed to CommandFunction, and moved to zucchini_commands.h.  :)",
      "parentUuid": "765eb3b9_67d5b5eb",
      "range": {
        "startLine": 49,
        "startChar": 8,
        "endLine": 49,
        "endChar": 11
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "58f33f79_a09b2b56",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T23:38:26Z",
      "side": 1,
      "message": "I experimented a bit with VC 2015 and I think it is possible to have constexpr constructor and global constexpr command variable. For that to work:\n- destructor can not be user defined, or at least, it can not be defined out of line, even with \u003d default.\n- seems like constructor has to be defined in .h too.",
      "parentUuid": "0e7a8b73_8f032a9a",
      "range": {
        "startLine": 49,
        "startChar": 20,
        "endLine": 49,
        "endChar": 28
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd8f843b_e488d415",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "?  const char* const name;?\n\n(below for \"usage\" too)",
      "range": {
        "startLine": 61,
        "startChar": 2,
        "endLine": 61,
        "endChar": 18
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98232c68_ae43b277",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd8f843b_e488d415",
      "range": {
        "startLine": 61,
        "startChar": 2,
        "endLine": 61,
        "endChar": 18
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62271dfc_40190d98",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T20:22:50Z",
      "side": 1,
      "message": "This can be private and called from constructor.",
      "range": {
        "startLine": 80,
        "startChar": 7,
        "endLine": 80,
        "endChar": 18
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60231a52_6c017de9",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62271dfc_40190d98",
      "range": {
        "startLine": 80,
        "startChar": 7,
        "endLine": 80,
        "endChar": 18
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be6ffc75_6311d31c",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T20:22:50Z",
      "side": 1,
      "message": "Shouldn\u0027t we return status::Code?",
      "range": {
        "startLine": 85,
        "startChar": 2,
        "endLine": 85,
        "endChar": 6
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28474856_8b086d96",
        "filename": "chrome/installer/zucchini/main_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be6ffc75_6311d31c",
      "range": {
        "startLine": 85,
        "startChar": 2,
        "endLine": 85,
        "endChar": 6
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c79d044a_fe04b103",
        "filename": "chrome/installer/zucchini/zucchini.h",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "the \u00270\u0027 code represents success, so how about calling this \"Zucchini process exit codes.\"?",
      "range": {
        "startLine": 14,
        "startChar": 12,
        "endLine": 14,
        "endChar": 18
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1596de24_5d2111c0",
        "filename": "chrome/installer/zucchini/zucchini.h",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c79d044a_fe04b103",
      "range": {
        "startLine": 14,
        "startChar": 12,
        "endLine": 14,
        "endChar": 18
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2dd0632_fae5e6e6",
        "filename": "chrome/installer/zucchini/zucchini_commands.cc",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "i think chromium generally prefers {static,reinterpret}_cast over function-style casting",
      "range": {
        "startLine": 21,
        "startChar": 11,
        "endLine": 21,
        "endChar": 17
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f302c5f9_e7eb8866",
        "filename": "chrome/installer/zucchini/zucchini_commands.cc",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c2dd0632_fae5e6e6",
      "range": {
        "startLine": 21,
        "startChar": 11,
        "endLine": 21,
        "endChar": 17
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa97cef8_15a81226",
        "filename": "chrome/installer/zucchini/zucchini_commands.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "why the new namespace? why isn\u0027t this in the zucchini namespace?",
      "range": {
        "startLine": 21,
        "startChar": 10,
        "endLine": 21,
        "endChar": 17
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14bd229a_98a161be",
        "filename": "chrome/installer/zucchini/zucchini_commands.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Not Zucchini namespace to be consistent with existing style (from Courgette), which uses zucchini namespace only for the library, and keep main() (e.g., stuff that Installer won\u0027t need) outside of Zucchini.\n\nUsing command namespace to keep command names short and without redundant qualifiers (e.g., CommandGen(), CommandApply()).\n\nLet me know if you want this changed!",
      "parentUuid": "aa97cef8_15a81226",
      "range": {
        "startLine": 21,
        "startChar": 10,
        "endLine": 21,
        "endChar": 17
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80c21944_954efe5e",
        "filename": "chrome/installer/zucchini/zucchini_main.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1218025
      },
      "writtenOn": "2017-07-24T20:22:50Z",
      "side": 1,
      "message": "I\u0027m ok with explicitly defining start time (instead of using base::CurrentProcessInfo::CreationTime()), but I feel like if we\u0027re trying to remove noise, it would make more sense to also explicitly define stop time (with a call to ResourceUsageTracker::finnish(), cancel would then be irrelevant), and to make those calls from CommandRegistry::Run.",
      "range": {
        "startLine": 56,
        "startChar": 24,
        "endLine": 56,
        "endChar": 29
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd006551_6c52d7df",
        "filename": "chrome/installer/zucchini/zucchini_main.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "since you prefer to skip the process creation time, i think it\u0027s best to use a stack-based object rather than the AtExit approach. it seems cleaner to me to have:\n\n  ResourceUsageTracker resource_usage_tracker;\n  ...\n  if (something bad happened)\n    resource_usage_tracker.Cancel();\n\nand avoid globals",
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3ee7c19_11b36c89",
        "filename": "chrome/installer/zucchini/zucchini_main.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done. Also following etiennep@\u0027s recommendation to move it inside CommandRegistry::Run(), and now we won\u0027t need to expose it in the .h file!",
      "parentUuid": "dd006551_6c52d7df",
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4be86c2_55ea3792",
        "filename": "chrome/installer/zucchini/zucchini_main.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "80c21944_954efe5e",
      "range": {
        "startLine": 56,
        "startChar": 24,
        "endLine": 56,
        "endChar": 29
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50a19fa3_d01c6e5f",
        "filename": "chrome/installer/zucchini/zucchini_main.cc",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1178124
      },
      "writtenOn": "2017-07-24T20:27:57Z",
      "side": 1,
      "message": "ret -\u003e exit_code or something else that isn\u0027t an abbreviation",
      "range": {
        "startLine": 57,
        "startChar": 7,
        "endLine": 57,
        "endChar": 10
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9811985_2e43b09a",
        "filename": "chrome/installer/zucchini/zucchini_main.cc",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1001928
      },
      "writtenOn": "2017-07-24T22:02:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "50a19fa3_d01c6e5f",
      "range": {
        "startLine": 57,
        "startChar": 7,
        "endLine": 57,
        "endChar": 10
      },
      "revId": "bba7f82e3f7b284074609c5ad0ed03721cf3724d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}