{
  "comments": [
    {
      "key": {
        "uuid": "1e53803a_1f2121a7",
        "filename": "components/arc/arc_session.h",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "1) before StartMiniInstance() is called, or 2) after OnSessionStopped() ...",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa010039_4b1654e9",
        "filename": "components/arc/arc_session.h",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e53803a_1f2121a7",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e7b4434a_ab065f3b",
        "filename": "components/arc/arc_session.h",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "nit: s/Send/Sends/",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d88e62c_c758b64d",
        "filename": "components/arc/arc_session.h",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e7b4434a_ab065f3b",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fa66831_aa04a035",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "(off topic): Considering the implementation in the session_manager, I think it is an option split StartArcInstance D-Bus call into two, too. (surely, later :-)",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11e39cb8_c6b4ef4f",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2018-01-17T00:18:46Z",
      "side": 1,
      "message": "+1, maybe add a TODO here?",
      "parentUuid": "0fa66831_aa04a035",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80bb5499_f460bee5",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "Agreed, I\u0027ve been wanting to do that. I don\u0027t think adding a TODO here really makes sense, since this is just one such usage of of StartArcInstance, but I\u0027ll open a bug for it.",
      "parentUuid": "11e39cb8_c6b4ef4f",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54048a6f_2f0e331e",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 341,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "Let\u0027s DCHECK_EQ(state_, State::RUNNING_MINI_INSTANCE);",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ce35cfd_26a11efe",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 341,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54048a6f_2f0e331e",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c70296f_45896b66",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 371,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "nit/style: two spaces before \"//\"",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10158faa_aed89101",
        "filename": "components/arc/arc_session_impl.cc",
        "patchSetId": 6
      },
      "lineNbr": 371,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c70296f_45896b66",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "944f26b9_9d619729",
        "filename": "components/arc/arc_session_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "optional/suggestion: how about |upgrade_requested_| ?",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf59dc32_8bf1e7fc",
        "filename": "components/arc/arc_session_impl.h",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "I prefer your suggestion. I\u0027ll change it.",
      "parentUuid": "944f26b9_9d619729",
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0748de17_50e64691",
        "filename": "components/arc/test/fake_arc_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-16T14:00:06Z",
      "side": 1,
      "message": "This should be moved to StartMiniInstance() ?\nOr, could you change them to upgrade_failure_ ... upgrade_suspend_ etc.?",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 40
      },
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d84fea67_c3ecc67f",
        "filename": "components/arc/test/fake_arc_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-23T06:09:49Z",
      "side": 1,
      "message": "It is in EmulateMiniContainerStart also (instead of StartMiniInstance). I created this function so that the mock behaves more like the real thing, that is the boot failure notification occurs asynchronously. boot_failure_emulated_enabled_ will cause starting the mini and doing the upgrade to fail, as how it behaved before.",
      "parentUuid": "0748de17_50e64691",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 40
      },
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120a655a_fc75c0cd",
        "filename": "components/arc/test/fake_arc_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-24T07:50:23Z",
      "side": 1,
      "message": "With the change, starting mini instance won\u0027t cause fail.\n\nI found that it changes the test meaning of\nhttps://cs.chromium.org/chromium/src/components/arc/arc_session_runner_unittest.cc?type\u003dcs\u0026q\u003dEnableBootFailureEmulation\u0026sq\u003dpackage:chromium\u0026l\u003d228\nthough the test still passes. (Sorry, I overlooked this in the previous iteration).",
      "parentUuid": "d84fea67_c3ecc67f",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 40
      },
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52501f74_e125b183",
        "filename": "components/arc/test/fake_arc_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-25T04:18:06Z",
      "side": 1,
      "message": "\u003e With the change, starting mini instance won\u0027t cause fail.\n\nIt won\u0027t cause a failure synchronously, just as how the real ArcSession works. It will however cause a failure later, we simulate this with the EmulateMiniContainerStart.\n\n\u003e I found that it changes the test meaning of\n\u003e https://cs.chromium.org/chromium/src/components/arc/arc_session_runner_unittest.cc?type\u003dcs\u0026q\u003dEnableBootFailureEmulation\u0026sq\u003dpackage:chromium\u0026l\u003d228\n\u003e though the test still passes. (Sorry, I overlooked this in the previous iteration).\n\nWhy does it change the meaning? We still test the mini container start failure, it\u0027s just that this time,the failure occurs after we call EmulateMiniContainerStart.",
      "parentUuid": "120a655a_fc75c0cd",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 40
      },
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9399c966_a547701c",
        "filename": "components/arc/test/fake_arc_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-01-25T04:48:08Z",
      "side": 1,
      "message": "Thank you for the offline discussion.\nAs we agreed, let\u0027s move forward with TODO here.\n\nAlso, could you add comment to EmulateMiniContainerStart() that;\n\nCurrently, this is just for emulating boot failure on mini container start.\nConceptually this should be called for each StartMiniInstance(),\nand upgrading should be blocked even if RequestUpgrade is called until this is called.\nHowever, these are not implemented.\nAlso, there is some overlapping semantics with |boot_suspended_|.\nTODO(cmtm,hidehiko): Clean up them, and tests using this.",
      "parentUuid": "52501f74_e125b183",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 40
      },
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "984215ce_e9e9ccaf",
        "filename": "components/arc/test/fake_arc_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1228980
      },
      "writtenOn": "2018-01-25T04:55:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9399c966_a547701c",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 40
      },
      "revId": "3ea063844e5fa0628b21ea08f4890d43ce06cb79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}