{
  "comments": [
    {
      "key": {
        "uuid": "bd1ceee8_04cd7462",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 483,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Maybe mention these 2 parse functions only work for the new ZRAM sysfs interface?",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8da535f4_d278f7ad",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 483,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd1ceee8_04cd7462",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a31cb097_2a5bf560",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 484,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Capitalize. Ditto below.",
      "range": {
        "startLine": 484,
        "startChar": 3,
        "endLine": 484,
        "endChar": 4
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8515c6a2_20c19658",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 484,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a31cb097_2a5bf560",
      "range": {
        "startLine": 484,
        "startChar": 3,
        "endLine": 484,
        "endChar": 4
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c62c2bf3_9736a871",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 496,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Since we are doing this, we may want to also check the return value in the caller and not use the info if it\u0027s invalid.",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1733861_b4efde71",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 496,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:47:42Z",
      "side": 1,
      "message": "This function is used in these place: https://cs.chromium.org/chromium/src/base/process/process_metrics.cc?l\u003d33\u0026dr\u003dC\nhttps://cs.chromium.org/chromium/src/base/process/process_metrics.cc?l\u003d33\u0026dr\u003dC\n\nNot only they store the value and do not do anything else, but |GetSwapInfo| either give 0 or a valid value, I thought it is OK to change void to bool.\n\nBy the way, many methods like |SystemMetrics SystemMetrics::Sample()| did not check the return value of the parsing methods even if they already have return boolean value.\nEx:\nhttps://cs.chromium.org/chromium/src/base/process/process_metrics_linux.cc?dr\u003dC\u0026l\u003d696",
      "parentUuid": "c62c2bf3_9736a871",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b6b93e7_aa7e06fa",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 496,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-18T00:10:37Z",
      "side": 1,
      "message": "Previously GetSwapInfo() returned void. Thus callers can only call GetSwapInfo() and hope the output is sane. Of course, GetSwapInfo() does behave sanely and either returns all zeros, or all valid values for the SwapInfo.\n\nNow, GetSwapInfo() has to read both /sys/block/zram0/mm_stat and /sys/block/zram0/stat, so there is potential for first read+parse to succeed and for the other to fail. This could potentially leave the SwapInfo in a partially filled state.\n\nGiven this, it makes sense to have a bool return value, where it would never return true if the SwapInfo is in a partially filled state. Now the callers need to check the return value.\n\nAs for the other calls in SystemMetrics::Sample() - If one looks closely, they never return partially filled structs. So not checking the return value works, but it is fragile and not the best practice.",
      "parentUuid": "c1733861_b4efde71",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6a0dd6e_333f270b",
        "filename": "base/process/process_metrics.h",
        "patchSetId": 7
      },
      "lineNbr": 496,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-18T07:28:38Z",
      "side": 1,
      "message": "Yes, I agree.\nBut I want to say that the original |GetSwapInfo()| read values from files separately, so I think it may return some valid values and some zeros, not all zeros. (It only sets all values to zero if |orig_data_size| \u003c\u003d 4096)\n\nThe new |GetSwapInfo()| still has this behavior since it may use the old interfaces.\n\nAnd I think check the return values is another issue since these callers do not handle any failure situations from these apis.\nIs it OK that I only check the return value of |GetSwapInfo()| in its callers?\n\nPS: |GetSystemMemoryInfo()| at least reads two file(/proc/meminfo and /proc/vmstat) and will reads another file on CrOS.(https://cs.chromium.org/chromium/src/base/process/process_metrics_linux.cc?rcl\u003d5325997f23e67dcda053d4e7b6b56fe6d20ae65d\u0026l\u003d750)\nI think it will return a partially filled structs when it failed on reading the second file.\nBecause of this, I don\u0027t know how is the right way to handle the failure situations of |GetSwapInfo()| in these callers. (Maybe sets all values to zeros when it fail?)",
      "parentUuid": "4b6b93e7_aa7e06fa",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8fb0c18_5aea27c1",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 7
      },
      "lineNbr": 1019,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "I realized I put this in the example, but it\u0027s not needed here since we are already in namespace base.",
      "range": {
        "startLine": 1019,
        "startChar": 9,
        "endLine": 1019,
        "endChar": 15
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f707994c_060f8ed5",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 7
      },
      "lineNbr": 1019,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T03:58:12Z",
      "side": 1,
      "message": "Oops my fault.",
      "parentUuid": "a8fb0c18_5aea27c1",
      "range": {
        "startLine": 1019,
        "startChar": 9,
        "endLine": 1019,
        "endChar": 15
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31444e65_b60b19be",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 7
      },
      "lineNbr": 1019,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:47:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f707994c_060f8ed5",
      "range": {
        "startLine": 1019,
        "startChar": 9,
        "endLine": 1019,
        "endChar": 15
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b5eafcd_5aa8afc1",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 7
      },
      "lineNbr": 1025,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Since the old interface case is so short, instead of having a long if-statement, you can do:\n\nif (!use_new_zram_interface) {\n  ParseZramPath(swap_info);\n  return true;\n}\n\n// use_new_zram_interface code goes here.",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39f84023_a47b4bec",
        "filename": "base/process/process_metrics_linux.cc",
        "patchSetId": 7
      },
      "lineNbr": 1025,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:47:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b5eafcd_5aa8afc1",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a3eded9_23af3362",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 399,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "nit: remove blank line, since you didn\u0027t put one above the matching #endif.",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fc4e27e_74ae0b6b",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 399,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a3eded9_23af3362",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "832813c9_ed92ab87",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "You don\u0027t need the \"struct\" keyword since this is C++. Same on line 417.",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4687c383_f172966b",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Just call the variable swapinfo. This isn\u0027t 1970s UNIX and we can afford vowels now. ;)",
      "range": {
        "startLine": 401,
        "startChar": 18,
        "endLine": 401,
        "endChar": 25
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f587c4c_8c5056d4",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T03:58:12Z",
      "side": 1,
      "message": "I misunderstood it is a part of coding style since line 130 is \"struct SystemMemoryInfoKB meminfo;\"",
      "parentUuid": "4687c383_f172966b",
      "range": {
        "startLine": 401,
        "startChar": 18,
        "endLine": 401,
        "endChar": 25
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e03ca208_73ab50ac",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "832813c9_ed92ab87",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "985f13bb_3f230b93",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f587c4c_8c5056d4",
      "range": {
        "startLine": 401,
        "startChar": 18,
        "endLine": 401,
        "endChar": 25
      },
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d6351ab_25a50da2",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 403,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Since the parsing functions take StringPieces, you can do const char foo[] \u003d \"foo\", which is a) const, and b) avoids creating a std::string object.",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5dec649c_aa02d50f",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 403,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T07:19:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4d6351ab_25a50da2",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb2c5a94_d1a54d7f",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 404,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-07-13T23:40:56Z",
      "side": 1,
      "message": "Another invalid input would be \"1 2 3 4 5 6 a\"",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b44ab11_d5fb2f49",
        "filename": "base/process/process_metrics_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 404,
      "author": {
        "id": 1230199
      },
      "writtenOn": "2017-07-14T03:58:12Z",
      "side": 1,
      "message": "I only need the first three number of this line, so I do not check the rest value.\nShould I modify |ParseZramMmStat| to check if all the value are integers?",
      "parentUuid": "bb2c5a94_d1a54d7f",
      "revId": "3c1059efb662bd726e2af94f244612efb366b52e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}