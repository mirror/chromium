{
  "comments": [
    {
      "key": {
        "uuid": "1a9bcbda_acdedf3f",
        "filename": "third_party/WebKit/Source/core/html/forms/TextControlElement.cpp",
        "patchSetId": 2
      },
      "lineNbr": 522,
      "author": {
        "id": 1116070
      },
      "writtenOn": "2017-11-27T05:22:06Z",
      "side": 0,
      "message": "Since we assign selection with granularity which already has updated start/end following\ngranularity, |FS.ComputeVS().AsSelection()| \u003d\u003d |FS.GetSelectionInDOMTree()| is always true?\nIf so, could you DCHECK() in FS.ComputeVS() and comment it?",
      "revId": "8085bb1d7bb78c7a9689c19af2b76ac53d07763a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04215156_1e4f499b",
        "filename": "third_party/WebKit/Source/core/html/forms/TextControlElement.cpp",
        "patchSetId": 2
      },
      "lineNbr": 522,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-11-27T21:21:59Z",
      "side": 0,
      "message": "Not true.\n\nEven with plain text, selection canonicalization can still move selection boundary. Example:\n\n\u003cdiv\u003efoo\u003c/div\u003e\n\nSelectionInDOMTree: base \u003d DIV@BeforeChildren, extent \u003d DIV@AfterChildren\n\nVisibleSelection: base \u003d \"foo\"@0, extent \u003d \"foo\"@3",
      "parentUuid": "1a9bcbda_acdedf3f",
      "revId": "8085bb1d7bb78c7a9689c19af2b76ac53d07763a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a616dc17_959b55be",
        "filename": "third_party/WebKit/Source/core/html/forms/TextControlElement.cpp",
        "patchSetId": 2
      },
      "lineNbr": 522,
      "author": {
        "id": 1116070
      },
      "writtenOn": "2017-11-28T01:51:56Z",
      "side": 0,
      "message": "This patch changes behavior from:\nif(frame-\u003eSelection().Granularity() \u003d\u003d kChar)\n return IndexForPositin(FS.GEtSelectionInDOM());\nreturn IndexForPosition(FS.ComputeVSInDOM());\n\nto:\nif(frame-\u003eSelection().Granularity() \u003d\u003d kChar)\n return IndexForPosition(FS.GEtSelectionInDOM());\nreturn IndexForPosition(FS.GEtSelectionInDOM());\n\nThus you need to proof\n|IndexForPosition(FS.ComputeVSInDOM()) \u003d\u003d IndexForPosition(FS.GEtSelectionInDOM())|\nRight? Could you comment the proof in description?",
      "parentUuid": "04215156_1e4f499b",
      "revId": "8085bb1d7bb78c7a9689c19af2b76ac53d07763a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e2f97a6_70fa07f0",
        "filename": "third_party/WebKit/Source/core/html/forms/TextControlElement.cpp",
        "patchSetId": 2
      },
      "lineNbr": 522,
      "author": {
        "id": 1144165
      },
      "writtenOn": "2017-11-28T02:27:10Z",
      "side": 0,
      "message": "Yes, there is such a difference -- we are now passing un-canonicalized position, while we used to pass canonicalized position.\n\nThe result should still be the same, because IndexForPosition() counts the number of plain text characters before the passed position, while canonicalization shouldn\u0027t skip any plain text character (unless there\u0027s bug in it).\n\nUpdated patch description accordingly.",
      "parentUuid": "a616dc17_959b55be",
      "revId": "8085bb1d7bb78c7a9689c19af2b76ac53d07763a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}