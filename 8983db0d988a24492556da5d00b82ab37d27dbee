{
  "comments": [
    {
      "key": {
        "uuid": "b7801c67_bf245114",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-24T22:37:17Z",
      "side": 1,
      "message": "Actually, based on the replies, I\u0027m led to believe this should always be true right? Should we be DCHECKing this instead?",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "299b515e_94619be0",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1002681
      },
      "writtenOn": "2017-05-25T12:14:32Z",
      "side": 1,
      "message": "Yeah, ResizeViewportAnchor is only used in WebViewImpl which, if I understand correctly, implies we\u0027re in the process that contains the main frame. Is that right?",
      "parentUuid": "b7801c67_bf245114",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57875cf8_8eca58f6",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-25T19:51:50Z",
      "side": 1,
      "message": "Well, just WebViewImpl itself doesn\u0027t imply a main frame necessarily. When frame trees are mirrored between renderers in OOPIF, each renderer also has a WebViewImpl (to hold the Page itself). We\u0027ve fixed a lot of \"local main frame\" only things to only route to the right renderer to begin with, but there are likely some lingering issues as well, so I\u0027m trying to understand this particular issue better.",
      "parentUuid": "299b515e_94619be0",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27fcdaf4_9423d7a6",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1002681
      },
      "writtenOn": "2017-05-25T22:02:49Z",
      "side": 1,
      "message": "Ah, ok thanks - my understanding was incorrect. As Steve mentioned, this gets called from layout though so it should be local.",
      "parentUuid": "57875cf8_8eca58f6",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98a48bfd_5f599f60",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-26T23:27:16Z",
      "side": 1,
      "message": "Based on the stack in the crash reports, I guess I don\u0027t understand how we can hit this state. From the stack, it doesn\u0027t look like iframes are involved. So we can assume that this is a WebAXObject for the main frame. In WebAXObject::UpdateLayoutAndCheckValidity(), we check if the document has a FrameView before continuing. Presumably, the LayoutView is the layout view for the main frame--so how can the FrameView here possibly be null?",
      "parentUuid": "27fcdaf4_9423d7a6",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6751c136_672c747f",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1001706
      },
      "writtenOn": "2017-05-27T00:12:11Z",
      "side": 1,
      "message": "I don\u0027t know why we hit this state.  I think adding a DCHECK is a fine idea, which can be done in a follow-up CL.",
      "parentUuid": "98a48bfd_5f599f60",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3b9709b_315e48c2",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1001168
      },
      "writtenOn": "2017-05-27T00:18:38Z",
      "side": 1,
      "message": "OK, will there be any followup work to figure out what\u0027s going on here? This might fix the null pointer deref, but it\u0027s pretty clear something else is busted I think.",
      "parentUuid": "6751c136_672c747f",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2526f74_8fd2407c",
        "filename": "third_party/WebKit/Source/core/frame/ResizeViewportAnchor.cpp",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1001706
      },
      "writtenOn": "2017-05-27T00:40:19Z",
      "side": 1,
      "message": "The only follow up I have in mind is adding a DCHECK.  ResizeViewportAnchor::EndScope has always had a null check for GetRootFrameViewport(), so it\u0027s not like this is breaking new ground.  I\u0027m not convinced that anything is broken, and I\u0027m not going to spend time getting to the bottom of something that\u0027s not a problem.",
      "parentUuid": "b3b9709b_315e48c2",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d766758_a9aa6ef0",
        "filename": "third_party/WebKit/Source/web/WebAXObject.cpp",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1116039
      },
      "writtenOn": "2017-05-24T22:00:01Z",
      "side": 1,
      "message": "Is this change related to the one in ResizeViewportAnchor?  The change description doesn\u0027t mention it.",
      "range": {
        "startLine": 163,
        "startChar": 22,
        "endLine": 163,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7243f1b1_618a1f05",
        "filename": "third_party/WebKit/Source/web/WebAXObject.cpp",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1001706
      },
      "writtenOn": "2017-05-24T22:17:35Z",
      "side": 1,
      "message": "I added the document-\u003eIsDetached() check in the same commit where I added the CHECK(frame_view) to ResizeFrameView(), that\u0027s they only reason why it\u0027s in this patch.",
      "parentUuid": "2d766758_a9aa6ef0",
      "range": {
        "startLine": 163,
        "startChar": 22,
        "endLine": 163,
        "endChar": 30
      },
      "revId": "8983db0d988a24492556da5d00b82ab37d27dbee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}