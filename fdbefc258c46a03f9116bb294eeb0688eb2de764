{
  "comments": [
    {
      "key": {
        "uuid": "88cc4732_1cf336ea",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-28T20:50:54Z",
      "side": 1,
      "message": "nit: this word seems out of place.",
      "range": {
        "startLine": 36,
        "startChar": 38,
        "endLine": 36,
        "endChar": 41
      },
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1ecbbfe_9a257257",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-03T23:47:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88cc4732_1cf336ea",
      "range": {
        "startLine": 36,
        "startChar": 38,
        "endLine": 36,
        "endChar": 41
      },
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86a1a696_f8a28453",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1002700
      },
      "writtenOn": "2017-09-28T19:10:52Z",
      "side": 1,
      "message": "There are already test helpers that can respond from the network, so you should not need to friend the class.  https://cs.chromium.org/chromium/src/components/offline_pages/core/prefetch/prefetch_request_test_base.h?rcl\u003dc91d4ca6224b4284a6ae14c08efddbb1144de67d\u0026l\u003d23",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6cac43a8_e8155f6f",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-03T23:47:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "86a1a696_f8a28453",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faf349dd_0c1cd14a",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 247,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-28T20:50:54Z",
      "side": 1,
      "message": "As these are the only tests that check what\u0027s done with the callbacks form the conclusion of network operations, could you also check that the operation names have been properly cleaned up from the pending requests list? Test names should probably be more generic then.\n\nFor another CL: we should also test that when the maximum concurrent requests has been reached, operations resumes to normal once they are handled.",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1cc542f_28266497",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 247,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-03T23:47:56Z",
      "side": 1,
      "message": "The first suggestion has been done.  However, doing it revealed a bug that I needed to fix with the operation name not being sent down properly.  Fixing that bug required then modifying the tests in prefetch_request_operation_response_unittest.cc, and removing the operation name check, since the different types now return the operation name differently.\n\nI added a TODO for the second part of your comment above.",
      "parentUuid": "faf349dd_0c1cd14a",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e637271_039adab6",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 249,
      "author": {
        "id": 1002700
      },
      "writtenOn": "2017-09-28T19:10:52Z",
      "side": 1,
      "message": "this should probably be ExpectUniqueSample since we don\u0027t expect any other buckets to have data.",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3754aff_46025288",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 249,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-03T23:47:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e637271_039adab6",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59c99fe3_731b2fe6",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1002700
      },
      "writtenOn": "2017-09-28T19:10:52Z",
      "side": 1,
      "message": "Could you please have separate histograms for GetOperation and for GeneratePageBundle?",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48c6a5a5_97cb49b8",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-09-28T20:50:54Z",
      "side": 1,
      "message": "We _could_ reuse the existing OfflinePrefechRetriableAction histogram suffix defined for all 3 existing retry-able pipeline actions. It includes these two but also DownloadInitiation. I personally don\u0027t think it would be bad to not have the latter used and, in fact, given the issues we\u0027re having with download initiation we might even chose to report that status too at some point.\n\nNot sure if this is a good idea but I wanted to offer this alternative to adding another mostly repeated entry in histograms.xml.",
      "parentUuid": "59c99fe3_731b2fe6",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf817e4d_8e5c08d0",
        "filename": "components/offline_pages/core/prefetch/prefetch_network_request_factory_impl_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-03T23:47:56Z",
      "side": 1,
      "message": "Done as Justin suggests for now.",
      "parentUuid": "48c6a5a5_97cb49b8",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50f8390d_1f4e9455",
        "filename": "components/offline_pages/core/prefetch/prefetch_request_operation_response_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-04T01:13:21Z",
      "side": 1,
      "message": "IIUC the operation name will be set to something (kTestOperationName maybe). Can\u0027t we keep checking for that (here in the the other tests below)? \n\nAnd specifically for this test, should it be renamed or does \"EmptyOperation\" still makes sense?",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40bf69b4_cc66738b",
        "filename": "components/offline_pages/core/prefetch/prefetch_request_operation_response_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-05T21:55:22Z",
      "side": 1,
      "message": "This is a bit more complicated.  First off, the name should be fine as it, it is checking for an empty operation, not a missing operation name.\n\nSecondly, this TYPED_TEST is used on multiple objects, including both GetOperations and GeneratePageBundles.  While the operation_name does in fact get set now for the GetOperation, it is not getting set for the GeneratePageBundle.  So, there is no one value that is correct for both, I ended up removing the call above in the latest version of the patch.\n\nAn alternative to removing it might be to split all these tests, one set of tests for GetOperation, and one for GeneratePageBundle. I thought that it would be better to keep the tests cleaner to just remove the operation name check, and live with the small loss of test coverage.",
      "parentUuid": "50f8390d_1f4e9455",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b796da0_b0443730",
        "filename": "components/offline_pages/core/prefetch/prefetch_request_operation_response_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1134722
      },
      "writtenOn": "2017-10-05T22:56:46Z",
      "side": 1,
      "message": "Acknowledged IRT the test name.\n\nI am concerned about removing these checks because of them being related to the bug you just fixed while working on this. We could instead change the custom classes used as tested types to add information about regarding the operation name check (if it should be tested or not; what should be the expected value for the check; or something like that). That shouldn\u0027t require much duplication or complex changes.",
      "parentUuid": "40bf69b4_cc66738b",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8dd3900c_d7bc186a",
        "filename": "components/offline_pages/core/prefetch/prefetch_request_operation_response_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-06T18:31:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b796da0_b0443730",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66f94055_4ee82df4",
        "filename": "components/offline_pages/core/prefetch/prefetch_types.h",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1002700
      },
      "writtenOn": "2017-09-28T19:10:52Z",
      "side": 1,
      "message": "please use COUNT \u003d SHOULD_SUSPEND + 1, not MAX, since the histogram requires MAX + 1 as an argument. (from comments: The value in |sample| must be strictly less than |enum_max|)\n\nnit: please assign explicit numbers to the entries here, eg (success \u003d 0, should_retry_without_backoff \u003d 1, etc.",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e54cbcd_37e549eb",
        "filename": "components/offline_pages/core/prefetch/prefetch_types.h",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1002546
      },
      "writtenOn": "2017-10-03T23:47:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66f94055_4ee82df4",
      "revId": "fdbefc258c46a03f9116bb294eeb0688eb2de764",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}