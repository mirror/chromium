{
  "comments": [
    {
      "key": {
        "uuid": "2047210d_2e51b1bc",
        "filename": "components/url_log/url_log.cc",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T17:05:29Z",
      "side": 1,
      "message": "Should this just be leaky?",
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b45ee24_e5cbb01d",
        "filename": "components/url_log/url_log.cc",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-10T20:10:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2047210d_2e51b1bc",
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2dc40858_7aeff044",
        "filename": "components/url_log/url_log.cc",
        "patchSetId": 12
      },
      "lineNbr": 49,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T17:05:29Z",
      "side": 1,
      "message": "Since this is a Singleton...I don\u0027t think we have any guarantee it will be destroyed on the thread it\u0027s created on?\n\nHrm...Do we run multiple tests in the same process on any platform?  If we do, this class potentially breaks that, particularly for any tests that actually test this class.",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 33
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7728b2a_12b078a8",
        "filename": "components/url_log/url_log.cc",
        "patchSetId": 12
      },
      "lineNbr": 49,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-10T20:10:47Z",
      "side": 1,
      "message": "\u003e Hrm...Do we run multiple tests in the same process on any platform?\n\nI don\u0027t quite understand it. Could you elaborate more? (In any case, I\u0027ve added the unit tests for this class.)\n\nI guess all tests on this file should be run on the same process.",
      "parentUuid": "2dc40858_7aeff044",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 33
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6823d0b0_95be9081",
        "filename": "components/url_log/url_log.cc",
        "patchSetId": 12
      },
      "lineNbr": 49,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T20:14:25Z",
      "side": 1,
      "message": "Suppose we have two tests that use this run in the same process (Maybe they\u0027re testing this, maybe they use it incidentally):  If one test uses it on the main thread, and another uses it on another thread, we\u0027re in trouble.\n\nMoreover, since this is a singleton, if one test doesn\u0027t set the command line flag to enable it, but uses a class that calls into it on another thread, and another test sets the command line flag to enable it, and uses it on the main thread, the first test passes as long as it\u0027s either run in another process, or run before the second test.  Otherwise, it fails.",
      "parentUuid": "d7728b2a_12b078a8",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 33
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1e89ddd_fcaffeac",
        "filename": "components/url_log/url_log.cc",
        "patchSetId": 12
      },
      "lineNbr": 49,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-11T00:39:13Z",
      "side": 1,
      "message": "Yes, it will be troublesome if we run tests (using UrlLog) on multiple threads within the same process.\n\nI\u0027ve moved away from testing the singleton. However, the new approach doesn\u0027t test UrlLog::AddEntry (though its code is probably touched by ChromeNetworkDelegate\u0027s test).",
      "parentUuid": "6823d0b0_95be9081",
      "range": {
        "startLine": 49,
        "startChar": 2,
        "endLine": 49,
        "endChar": 33
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad90f21c_2bf19bfc",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 19,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T17:05:29Z",
      "side": 1,
      "message": "on creation -\u003e via a command line switch.\nhappens immediately -\u003e happens on the current thread and is immediately flushed to disk",
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdc82690_a9d07010",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 19,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-10T20:10:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad90f21c_2bf19bfc",
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e62b303_bb570641",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 20,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T17:05:29Z",
      "side": 1,
      "message": "This is crash-resistant and critical -\u003e This means that even if the browser subsequently crashes, the output file will contain all fetched URLs, and is critical\n\n(\"Crash-resistant\" is confusing - \"crash resistant\" to me implies to code resists crashes, which it doesn\u0027t.  It\u0027s the log that resists them.",
      "range": {
        "startLine": 20,
        "startChar": 9,
        "endLine": 20,
        "endChar": 19
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5618a307_4fe2df8c",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 20,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-10T20:10:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e62b303_bb570641",
      "range": {
        "startLine": 20,
        "startChar": 9,
        "endLine": 20,
        "endChar": 19
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d548062_5fbc547f",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 30,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T17:05:29Z",
      "side": 1,
      "message": "These should be documented, and have blank lines between methods, unless they\u0027re very closely related (like set_foo() and foo() related, or a constructor and destructor that both don\u0027t need documentation)",
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b83e111d_dd5e2de2",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 30,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-10T20:10:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8d548062_5fbc547f",
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00723945_40754b9a",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 38,
      "author": {
        "id": 1115968
      },
      "writtenOn": "2017-07-10T17:05:29Z",
      "side": 1,
      "message": "I\u0027d suggest just inlining this, though if you prefer to keep it, it should be base::FilePath\u0026 path",
      "range": {
        "startLine": 38,
        "startChar": 27,
        "endLine": 38,
        "endChar": 36
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5377b4e_6b797a8b",
        "filename": "components/url_log/url_log.h",
        "patchSetId": 12
      },
      "lineNbr": 38,
      "author": {
        "id": 1160021
      },
      "writtenOn": "2017-07-10T20:10:47Z",
      "side": 1,
      "message": "Actually, there\u0027s no reason for this class to exist. I\u0027ll just merge it with the constructor.",
      "parentUuid": "00723945_40754b9a",
      "range": {
        "startLine": 38,
        "startChar": 27,
        "endLine": 38,
        "endChar": 36
      },
      "revId": "8a83e1ca466e2c5f2a037a9b44f608f5a259961d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}