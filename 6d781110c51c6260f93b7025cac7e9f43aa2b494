{
  "comments": [
    {
      "key": {
        "uuid": "3c36b152_f37afe59",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 7,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-10-26T01:34:39Z",
      "side": 1,
      "message": "As I suggest previously, the key should be VoiceCommand, not SpeechInputToggle.",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e86db2ea_07587424",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 7,
      "author": {
        "id": 1232844
      },
      "writtenOn": "2017-11-07T19:48:44Z",
      "side": 1,
      "message": "Changed commit message",
      "parentUuid": "3c36b152_f37afe59",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7eb1f727_e65498c3",
        "filename": "tools/metrics/actions/actions.xml",
        "patchSetId": 14
      },
      "lineNbr": 18540,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-10-26T01:34:39Z",
      "side": 1,
      "message": "Presumably it is a pain to change the names of these action metrics, but let\u0027s at least mention in the description that this means an assistant interaction, not actually voice.",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e192ec5c_b311f5b9",
        "filename": "tools/metrics/actions/actions.xml",
        "patchSetId": 14
      },
      "lineNbr": 18540,
      "author": {
        "id": 1232844
      },
      "writtenOn": "2017-11-07T19:48:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7eb1f727_e65498c3",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e9433ef_0cfcfe1a",
        "filename": "ui/events/keycodes/dom_us_layout_data.h",
        "patchSetId": 14
      },
      "lineNbr": 401,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-10-26T01:34:39Z",
      "side": 1,
      "message": "You will need to replace this with an entry in the DomCodeToKeyboardCodeEntry table, below, since you\u0027re defining a DomCode for this but no corresponding DomKey value.",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7663d7c8_0a5849be",
        "filename": "ui/events/keycodes/dom_us_layout_data.h",
        "patchSetId": 14
      },
      "lineNbr": 401,
      "author": {
        "id": 1232844
      },
      "writtenOn": "2017-11-07T19:48:44Z",
      "side": 1,
      "message": "It seems that placing this in the DomCodeToKeyboardCodeEntry just does not work.. see the latest patchset.. I have to add DomCode::VOICE_COMMAND -\u003e DomKey::SPEECH_INPUT_TOGGLE and then DomKey::SPEECH_INPUT_TOGGLE -\u003e VKEY_VOICE_COMMAND to get it work.. Is there any other way?",
      "parentUuid": "3e9433ef_0cfcfe1a",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39050a7d_dbb15b3b",
        "filename": "ui/events/keycodes/dom_us_layout_data.h",
        "patchSetId": 14
      },
      "lineNbr": 401,
      "author": {
        "id": 1001385
      },
      "writtenOn": "2017-11-08T00:34:32Z",
      "side": 1,
      "message": "The dom_us_layout_data.h file is used by the UsLayout functions in keyboard_code_conversion.cc.  We have tables for DomCode-\u003eDomKey, DomKey-\u003eVKEY and DomCode-\u003eVKEY; so long as the ChromeOS input pipeline is using the DomCode-\u003eVKEY table, we should be able to generate events with no DomKey, but valid DomCode and VKEY set.\n\nI\u0027m not familiar with how this ended up being wired-up for ChromeOS, but the InputMethodEngine::SendKeyEvent() method does check the incoming event\u0027s |key_code|, and applies the US English DomCode-\u003eVKEY mapping if it is \"UNKNOWN\" - so if this isn\u0027t working with just a DomCode::VOICE_COMMAND-\u003eVKEY_VOICE_COMMAND mapping then we\u0027re either not hitting SendKeyEvent, or we\u0027re reaching it but somehow already have a different key_code set?\n\nSimilarly, there is code in XkbKeyboardLayoutEngine::Lookup() which performs the same lookup - do you know which path we\u0027re hitting, which is failing?",
      "parentUuid": "7663d7c8_0a5849be",
      "revId": "6d781110c51c6260f93b7025cac7e9f43aa2b494",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}