{
  "comments": [
    {
      "key": {
        "uuid": "09e57e91_1d5c2efb",
        "filename": "chrome/browser/ui/app_list/search/answer_card/answer_card_search_provider.cc",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1116056
      },
      "writtenOn": "2017-11-01T00:22:46Z",
      "side": 1,
      "message": "I skimmed through the CL, sorry didn\u0027t get to depth.\nAre you relying on the fact that the web contents will get a \"resize\" event at the end of loading, at which point you are loading?\nI used to rely on this too, but discovered that resizing event is not guaranteed to come. IIRC, it may not come if the previous contents of the card has same dimensions as the new contents.\nDoes you CL do something to guarantee the ResizeDueToAutoResize event?\n\nThanks!",
      "range": {
        "startLine": 52,
        "startChar": 53,
        "endLine": 52,
        "endChar": 79
      },
      "revId": "59bb76f92a6ffa518def6f3fb686f1bbeed1c61e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20935835_6650ff4d",
        "filename": "chrome/browser/ui/app_list/search/answer_card/answer_card_search_provider.cc",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1147616
      },
      "writtenOn": "2017-11-01T00:51:11Z",
      "side": 1,
      "message": "I think it will guarantee since the loading buffer is set to have view size zero, which must have dimension difference if the query has answer card result. This change is to let loading buffer to load view from size zero to its preferred size (it is the same effect for loading the first answer card when opening launcher and typing the query).\n\nWe may want to use DidFirstVisuallyNonEmptyPaint() signal to wait until is painted to layout, however, it is generated only when the webview is added as child view, and not invisible from my investigation. I am blocked with this. We don\u0027t want to show the view until DidFirstVisuallyNonEmptyPaint() is received, but looks like it has to been shown to get DidFirstVisuallyNonEmptyPaint.",
      "parentUuid": "09e57e91_1d5c2efb",
      "range": {
        "startLine": 52,
        "startChar": 53,
        "endLine": 52,
        "endChar": 79
      },
      "revId": "59bb76f92a6ffa518def6f3fb686f1bbeed1c61e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1b9c202_31fbdd92",
        "filename": "chrome/browser/ui/app_list/search/answer_card/answer_card_search_provider.cc",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1116056
      },
      "writtenOn": "2017-11-01T00:59:45Z",
      "side": 1,
      "message": "I can\u0027t tell. I feel that you are just setting the size of the view to empty, not necessarily the size of WebContents. I\u0027ll ping xiyuan@ for a definitive answer.",
      "parentUuid": "20935835_6650ff4d",
      "range": {
        "startLine": 52,
        "startChar": 53,
        "endLine": 52,
        "endChar": 79
      },
      "revId": "59bb76f92a6ffa518def6f3fb686f1bbeed1c61e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33bbffa3_7f98f390",
        "filename": "chrome/browser/ui/app_list/search/answer_card/answer_card_search_provider.cc",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2017-11-01T16:02:21Z",
      "side": 1,
      "message": "Only tracing in code would tell the truth. I agree with Vadim from just looking at the code, i.e. setting views::WebView bounds does not necessary changes the WebContents.\n\nWebView::OnBoundsChanged would get this size change. But holder_-\u003eSetNativeViewSize() at the end does not necessary change the hosted WebContentsView to an empty size.\n\nHave you tried to the hacky way to set aura::client::kMirroringEnabledKey window property to see whether that\u0027s enough to trigger DidFirstVisuallyNonEmptyPaint() ?",
      "parentUuid": "a1b9c202_31fbdd92",
      "range": {
        "startLine": 52,
        "startChar": 53,
        "endLine": 52,
        "endChar": 79
      },
      "revId": "59bb76f92a6ffa518def6f3fb686f1bbeed1c61e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}