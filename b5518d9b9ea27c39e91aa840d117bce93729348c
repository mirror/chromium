{
  "comments": [
    {
      "key": {
        "uuid": "737a9450_bcc4f660",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "nit: braces",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e9526c4_b5b803d1",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "737a9450_bcc4f660",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7700d91_343a3b79",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "Design question - we don\u0027t differentiate between timeouts and all subframes rendered. Would that result in potentially missing content. i.e. Computer with very slow (and/or busy) CPU and a very complicated print job.",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62d932f9_1c85aa08",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Yes, I was thinking we should not wait forever in case one subframe has any trouble rendering or delivering. Maybe the timeout value can be larger to accommodate slower machine?",
      "parentUuid": "a7700d91_343a3b79",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bac50341_96c8986b",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-14T00:13:23Z",
      "side": 1,
      "message": "So the possibilities for the renderer are:\n1) crashed, will never send data.\n2) hung, will never send data.\n3) slow, will send data, but maybe not in a reasonable amount of time.\n4) behaving normally, will send data within the timeout value.\n\nI\u0027m wondering if the browser does (will do) detection for cases (1) and (2), so the compositor can get a notification, instead of waiting for the timeout.\n\nFor (3), we need to figure out how to adjust the timeout accordingly. Maybe a static timeout value is ok for now.",
      "parentUuid": "62d932f9_1c85aa08",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d01efce0_bedf58b7",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-14T20:53:36Z",
      "side": 1,
      "message": "I feel that the chance of 1) or 2) happening is so slim that it is not worth extra complication of browser side monitoring. \n\nnow I think since the chance is so small, maybe we should set the timeout to a bigger value to accommodate slow machines and/or large pdfs?",
      "parentUuid": "bac50341_96c8986b",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8da273bd_d6a95f49",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-16T00:58:41Z",
      "side": 1,
      "message": "I agree (1) and (2) should be rare, but it would be nice to handle them gracefully. We can probably detect (1) easily. Not sure about (2). Maybe add a TODO for this?\n\nFor (3), one way to accomodate slow machines is to have a per-page timeout instead of a per-print-job timeout. Since the time it takes to generate print data corrolates with the number of pages. If the renderer can send a keep-alive message after each page to reset the timeout, then the timeout won\u0027t have to be too large. If we do this, the compositor needs to know to expect N pages from a renderer, and the keep-alive messages need to have their page numbers in order.",
      "parentUuid": "d01efce0_bedf58b7",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67016c24_00ddd4d3",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 244,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "You can initialize |composited| in the header where it\u0027s declared. Since it\u0027s initial value doesn\u0027t depend on any of the ctor params.",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4217f956_a716c0b9",
        "filename": "components/printing/service/pdf_compositor_impl.cc",
        "patchSetId": 12
      },
      "lineNbr": 244,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Thanks for the info. I will keep this way so it is more consistent without mixed default initializer and ctor.",
      "parentUuid": "67016c24_00ddd4d3",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d23e535b_8e6d7416",
        "filename": "components/printing/service/pdf_compositor_impl.h",
        "patchSetId": 12
      },
      "lineNbr": 84,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "This is the frame ID, right? Add a comment?",
      "range": {
        "startLine": 84,
        "startChar": 28,
        "endLine": 84,
        "endChar": 31
      },
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "369a1152_e8288e29",
        "filename": "components/printing/service/pdf_compositor_impl.h",
        "patchSetId": 12
      },
      "lineNbr": 84,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d23e535b_8e6d7416",
      "range": {
        "startLine": 84,
        "startChar": 28,
        "endLine": 84,
        "endChar": 31
      },
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3105d1fb_4cb5e6f8",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 20,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "std::make_unique, also line 30.",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2bd20d9_42c558e2",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 20,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3105d1fb_4cb5e6f8",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "38027947_cb7e6b1a",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 37,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "|status_| needs to become |is_ready_| here as well.",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bf5f6fe_de83f563",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 37,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "38027947_cb7e6b1a",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0dd4b68_df55ee9e",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "Use a base::TimeDelta, and don\u0027t bother with the default argument. Just pass it in on line 60.",
      "range": {
        "startLine": 45,
        "startChar": 40,
        "endLine": 45,
        "endChar": 56
      },
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88a37abc_a5c7aefb",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c0dd4b68_df55ee9e",
      "range": {
        "startLine": 45,
        "startChar": 40,
        "endLine": 45,
        "endChar": 56
      },
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f803e35c_10f06db3",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 49,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "Not called.",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76e3c3e8_f9b0fe8d",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 49,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Added a unittest which uses this.",
      "parentUuid": "f803e35c_10f06db3",
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be5b240a_12eda440",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 64,
      "author": {
        "id": 1001934
      },
      "writtenOn": "2017-12-07T02:42:34Z",
      "side": 1,
      "message": "This should be signed, since it\u0027s a frame id.",
      "range": {
        "startLine": 64,
        "startChar": 22,
        "endLine": 64,
        "endChar": 24
      },
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe6efef0_00b993c5",
        "filename": "components/printing/service/pdf_compositor_impl_unittest.cc",
        "patchSetId": 12
      },
      "lineNbr": 64,
      "author": {
        "id": 1002198
      },
      "writtenOn": "2017-12-08T16:46:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be5b240a_12eda440",
      "range": {
        "startLine": 64,
        "startChar": 22,
        "endLine": 64,
        "endChar": 24
      },
      "revId": "b5518d9b9ea27c39e91aa840d117bce93729348c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}