{
  "comments": [
    {
      "key": {
        "uuid": "f0b18823_1e5b3bfa",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 43,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Use camel case (outputStream) in names of Objective C method parameters:\nhttps://github.com/google/styleguide/blob/gh-pages/objcguide.md",
      "range": {
        "startLine": 43,
        "startChar": 41,
        "endLine": 43,
        "endChar": 54
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d9e6931_b65cc2d3",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 43,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0b18823_1e5b3bfa",
      "range": {
        "startLine": 43,
        "startChar": 41,
        "endLine": 43,
        "endChar": 54
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54703a1c_ef74e5c4",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Don\u0027t need {0}.",
      "range": {
        "startLine": 59,
        "startChar": 48,
        "endLine": 59,
        "endChar": 54
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b582ae5d_30d1e6c9",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54703a1c_ef74e5c4",
      "range": {
        "startLine": 59,
        "startChar": 48,
        "endLine": 59,
        "endChar": 54
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7256715_f090299f",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 61,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Could you add an assert to verify that this method returns value equal to kRequestBodyBufferLength?",
      "range": {
        "startLine": 61,
        "startChar": 8,
        "endLine": 61,
        "endChar": 65
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7745fc2_91048110",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 61,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7256715_f090299f",
      "range": {
        "startLine": 61,
        "startChar": 8,
        "endLine": 61,
        "endChar": 65
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59aebeaa_22299339",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 490,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "[[StreamBodyRequestDelegate alloc] init]?",
      "range": {
        "startLine": 490,
        "startChar": 6,
        "endLine": 490,
        "endChar": 39
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bf063dd_e7c73530",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 490,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59aebeaa_22299339",
      "range": {
        "startLine": 490,
        "startChar": 6,
        "endLine": 490,
        "endChar": 39
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1dd8722a_935380ad",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 499,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Not sure that the \"run\" method should be used here. It creates an infinite loop that may never stop if there are other input sources associated with this global_queue loop. Also, what will happen if the request fail for some reason before all data is read from |output_stream|? Will it be ever closed? If not, the output stream will never be unscheduled and the run loop will never stop.",
      "range": {
        "startLine": 499,
        "startChar": 47,
        "endLine": 499,
        "endChar": 50
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3bc55a0_348a4613",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 499,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "I have to call \"run\" because the stream delegate method will be run at the run loop. The run loop will stop after the stream is closed. Both NSStreamEventErrorOccurred and NSStreamEventEndEncountered will trigger the stream to be closed. Also, I move the global_queue to a self-created dispatch_queue, and the case will wait for the run loop stop.",
      "parentUuid": "1dd8722a_935380ad",
      "range": {
        "startLine": 499,
        "startChar": 47,
        "endLine": 499,
        "endChar": 50
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "513bd801_6f54f862",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 499,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-05T20:59:18Z",
      "side": 1,
      "message": "Please take a look at the \"run\" method documentation: https://developer.apple.com/documentation/foundation/nsrunloop/1412430-run?language\u003dobjc\n\nSpecifically it says: \"Manually removing all known input sources and timers from the run loop is not a guarantee that the run loop will exit.\" \u0026 \"If you want the run loop to terminate, you shouldn\u0027t use this method.\"\n\nThe loop should stop running if the output stream is closed or some time has passed (e.g. 10 seconds).",
      "parentUuid": "e3bc55a0_348a4613",
      "range": {
        "startLine": 499,
        "startChar": 47,
        "endLine": 499,
        "endChar": 50
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad81c277_23c7afcc",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 499,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-06T08:45:44Z",
      "side": 1,
      "message": "Thanks to point out the mistake. I will use runUntilDate instead.",
      "parentUuid": "513bd801_6f54f862",
      "range": {
        "startLine": 499,
        "startChar": 47,
        "endLine": 499,
        "endChar": 50
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d97cbab0_c4dfc949",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 526,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Don\u0027t need it here.",
      "range": {
        "startLine": 526,
        "startChar": 44,
        "endLine": 526,
        "endChar": 50
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4448c28_1b7b0ead",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 526,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d97cbab0_c4dfc949",
      "range": {
        "startLine": 526,
        "startChar": 44,
        "endLine": 526,
        "endChar": 50
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e2532b7_de38c815",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 532,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Instead of this loop, could you add an NSMutableString member variable to StreamBodyRequestDelegate that holds the actual the request value. StreamBodyRequestDelegate should have a corresponding getter to return NSString, e.g. -(NSString*)requestBody;",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 532,
        "endChar": 3
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4309c6c8_55f8a7af",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 532,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e2532b7_de38c815",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 532,
        "endChar": 3
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6f0fc65_c9eb53a6",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 556,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "I think these lines can be removed because the loop is not actually run in this method.",
      "range": {
        "startLine": 551,
        "startChar": 0,
        "endLine": 556,
        "endChar": 57
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "728d16e9_64d4d49a",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 556,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6f0fc65_c9eb53a6",
      "range": {
        "startLine": 551,
        "startChar": 0,
        "endLine": 556,
        "endChar": 57
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac0c7e9f_76baf815",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 559,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Not needed",
      "range": {
        "startLine": 559,
        "startChar": 47,
        "endLine": 559,
        "endChar": 53
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6ce5ee4_c52117b4",
        "filename": "components/cronet/ios/test/cronet_http_test.mm",
        "patchSetId": 9
      },
      "lineNbr": 559,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ac0c7e9f_76baf815",
      "range": {
        "startLine": 559,
        "startChar": 47,
        "endLine": 559,
        "endChar": 53
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbf12563_33135ac9",
        "filename": "ios/net/crn_http_protocol_handler.mm",
        "patchSetId": 9
      },
      "lineNbr": 892,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Why can\u0027t this code be executed when \"NSStreamEventEndEncountered\" stream event is received? Based on your previous comment \"NSStreamEventEndEncountered\" is issued only when all data has been read from the stream. In that case, there is no need in OnFinishUpload() and it can be removed from ChunkedDataStreamUploader::Delegate.",
      "range": {
        "startLine": 891,
        "startChar": 0,
        "endLine": 892,
        "endChar": 24
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d350164_8e9877fd",
        "filename": "ios/net/crn_http_protocol_handler.mm",
        "patchSetId": 9
      },
      "lineNbr": 892,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Yes, this can be removed to NSStreamEventEndEncountered.",
      "parentUuid": "dbf12563_33135ac9",
      "range": {
        "startLine": 891,
        "startChar": 0,
        "endLine": 892,
        "endChar": 24
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46a7e7c0_6eca1de2",
        "filename": "ios/net/crn_http_protocol_handler.mm",
        "patchSetId": 9
      },
      "lineNbr": 904,
      "author": {
        "id": 1143554
      },
      "writtenOn": "2018-02-01T23:20:05Z",
      "side": 1,
      "message": "Should \"pending_stream_ \u003d nil\" be moved to StopListeningStream()? Looks like they always executed together.",
      "range": {
        "startLine": 904,
        "startChar": 2,
        "endLine": 904,
        "endChar": 23
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3478fc9_d3af8e7c",
        "filename": "ios/net/crn_http_protocol_handler.mm",
        "patchSetId": 9
      },
      "lineNbr": 904,
      "author": {
        "id": 1255203
      },
      "writtenOn": "2018-02-05T06:36:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46a7e7c0_6eca1de2",
      "range": {
        "startLine": 904,
        "startChar": 2,
        "endLine": 904,
        "endChar": 23
      },
      "revId": "7a89e0741ebbc615b97b9e6e0b60765a2f87fb01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}