{
  "comments": [
    {
      "key": {
        "uuid": "45db3f30_a103ad69",
        "filename": "components/exo/file_helper.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1000539
      },
      "writtenOn": "2017-11-15T05:17:33Z",
      "side": 1,
      "message": "Does it really make sense to have two different APIs for this? I prefer to see the current ConvertPathToUrl logic generalized so it can be used for all apps and not only arc. If we need to special case arc for now then I\u0027d add a \"const char* app_id\" argument to ConvertPathToUrl for now.",
      "revId": "dc959d5f49b9bc45003e6444177971e7026c4452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37672bf0_e72d201e",
        "filename": "components/exo/file_helper.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1002736
      },
      "writtenOn": "2018-01-05T08:06:18Z",
      "side": 1,
      "message": "The name ConvertFileSystemUrlForContainer was confusing. Actually both ConvertPathToUrl and ConvertFileSystemUrlForContainer returns ARC-specific URL and GetMimeTypeForUriList returns ARC specific mimetype for now.\n\nI think we have two problems here.\n\nOne is native file v.s. filesystem API file.\n\nThe reason we need to have two APIs are Chrome treats two types of files: one is a native file, and another is file which is backed by HTML5 file system API [1]. The later one can be a file generated by JavaScript API, or a virtual file on Google Drive, MTP, FSP... We use filesystem:// URL to identify filesystem API files instead of file path.\n[1] https://www.w3.org/TR/file-system-api/\n\nThe other problem is that how to map the identifies (file path, filesystem URL) to output URI is container-specific. For example, we may mount a host directory on the different location in each container\u0027s namespace. We may use a URI which is container-specific (e.g. content://).\n\nI think I have two ToDos here.\n\n1. Rename ConvertFileSystemUrlForContainer with ConvertFileSystemUrl.\n2. Add app_id argument to both ConvertPathToUrl and ConvertFileSystemUrl.\n\nWDYT?",
      "parentUuid": "45db3f30_a103ad69",
      "revId": "dc959d5f49b9bc45003e6444177971e7026c4452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}