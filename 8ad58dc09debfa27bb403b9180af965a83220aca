{
  "comments": [
    {
      "key": {
        "uuid": "4b14cf9d_8361cd00",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/SelectionClientManager.java",
        "patchSetId": 20
      },
      "lineNbr": 29,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-10-04T22:42:54Z",
      "side": 1,
      "message": "I think this is one more level of indirection than necessary, in the worst case, you could have\nSelectionClientManager -\u003e SelectionClientBridge -\u003e actual implementation.\n\nYou only really one level of indirection to deal with potentially having two clients.",
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1efb1c71_09619fc9",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/SelectionClientManager.java",
        "patchSetId": 20
      },
      "lineNbr": 29,
      "author": {
        "id": 1107894
      },
      "writtenOn": "2017-10-04T23:43:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b14cf9d_8361cd00",
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "caf91ed2_deb63233",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchFieldTrial.java",
        "patchSetId": 20
      },
      "lineNbr": 80,
      "author": {
        "id": 1116193
      },
      "writtenOn": "2017-10-06T17:48:44Z",
      "side": 1,
      "message": "I still think that we should try to control the overall experience with one switch.\nWhat should happen when we want to turn off smart selection remotely? (e.g. critical bug)\nThen we need to turn off DISABLE_SUPPRESS_FOR_SMART_SELECTION and we\u0027ll need another way to control smart selection.\n\nAs Theresa mentioned earlier, I think we need one switch to control the UX flow. And a chrome feature would do the job. Then we will need to combine the flag with VERSION \u003e\u003d O check to determine whether we want to use SS or CS on long press / tap on CS.",
      "range": {
        "startLine": 80,
        "startChar": 32,
        "endLine": 80,
        "endChar": 68
      },
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31385c97_57e4c4a5",
        "filename": "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchFieldTrial.java",
        "patchSetId": 20
      },
      "lineNbr": 80,
      "author": {
        "id": 1107894
      },
      "writtenOn": "2017-10-06T19:06:45Z",
      "side": 1,
      "message": "OK, I agree that it would be good to have one switch.  Filed crbug.com/772467 to address this, but I think it\u0027s fine to do this in a separate CL.  \n\nNote that the current code has one place where the decision is made about Smart Selection being available for any of our builds (see comment in SmartSelectionClient).  If the SmartSelectionClient decides to return null from create() then we won\u0027t have smart selection enabled for either Chrome or WebView.  \n\nI just added a separate disable switch for Chrome that is finch-controlled.",
      "parentUuid": "caf91ed2_deb63233",
      "range": {
        "startLine": 80,
        "startChar": 32,
        "endLine": 80,
        "endChar": 68
      },
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba2e2706_d8afdf5b",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManagerTest.java",
        "patchSetId": 20
      },
      "lineNbr": 113,
      "author": {
        "id": 1116193
      },
      "writtenOn": "2017-10-06T17:48:44Z",
      "side": 1,
      "message": "As we talked offline, we need to add some tests around the new code flow, but I don\u0027t mind seeing it in the next patch if we don\u0027t have enough time for now.\n\nIs there a good way to test that CS is not triggered?",
      "range": {
        "startLine": 113,
        "startChar": 13,
        "endLine": 113,
        "endChar": 40
      },
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "305e4649_52654e64",
        "filename": "chrome/android/javatests/src/org/chromium/chrome/browser/contextualsearch/ContextualSearchManagerTest.java",
        "patchSetId": 20
      },
      "lineNbr": 113,
      "author": {
        "id": 1107894
      },
      "writtenOn": "2017-10-06T19:06:45Z",
      "side": 1,
      "message": "Yes, I\u0027m pretty sure I can add instrumentation tests that will manipulate CS to think that Smart Selection is enabled and verify the behavior of the Bar not showing.  That will be done in a separate CL.",
      "parentUuid": "ba2e2706_d8afdf5b",
      "range": {
        "startLine": 113,
        "startChar": 13,
        "endLine": 113,
        "endChar": 40
      },
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8de2a075_ab215628",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ContentViewCore.java",
        "patchSetId": 20
      },
      "lineNbr": 58,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-10-04T22:42:54Z",
      "side": 1,
      "message": "don\u0027t import this, and qualify as SelectionClient.ResultCallback below",
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fba1e12_814021bd",
        "filename": "content/public/android/java/src/org/chromium/content/browser/ContentViewCore.java",
        "patchSetId": 20
      },
      "lineNbr": 58,
      "author": {
        "id": 1107894
      },
      "writtenOn": "2017-10-04T23:43:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8de2a075_ab215628",
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f004f67_e4dd8477",
        "filename": "content/public/android/java/src/org/chromium/content/browser/SmartSelectionClient.java",
        "patchSetId": 20
      },
      "lineNbr": 53,
      "author": {
        "id": 1002725
      },
      "writtenOn": "2017-10-04T22:42:54Z",
      "side": 1,
      "message": "again, this shouldn\u0027t be imported/called directly by content embedder. probably should just add a SmartSelectionClientFactory in content_public that has a static create method that returns SelectionClient type",
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee1cf4cd_4c673412",
        "filename": "content/public/android/java/src/org/chromium/content/browser/SmartSelectionClient.java",
        "patchSetId": 20
      },
      "lineNbr": 53,
      "author": {
        "id": 1107894
      },
      "writtenOn": "2017-10-04T23:43:05Z",
      "side": 1,
      "message": "Done -- I think.",
      "parentUuid": "6f004f67_e4dd8477",
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad30ce4_8bd0f259",
        "filename": "content/public/android/java/src/org/chromium/content/browser/SmartSelectionClient.java",
        "patchSetId": 20
      },
      "lineNbr": 55,
      "author": {
        "id": 1107894
      },
      "writtenOn": "2017-10-06T19:06:45Z",
      "side": 1,
      "message": "Here\u0027s where the system decides if Smart Selection should be enabled or not, for both Chrome and WebView.",
      "range": {
        "startLine": 55,
        "startChar": 26,
        "endLine": 55,
        "endChar": 33
      },
      "revId": "8ad58dc09debfa27bb403b9180af965a83220aca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}