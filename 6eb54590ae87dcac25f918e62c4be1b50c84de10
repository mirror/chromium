{
  "comments": [
    {
      "key": {
        "uuid": "0048ddbc_4d283f3e",
        "filename": "chrome/browser/banners/app_banner_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 275,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-11-30T05:51:53Z",
      "side": 1,
      "message": "This won\u0027t compile on Android (where AppBannerManagerDesktop doesn\u0027t exist). You\u0027ll want to\n\n#include \"build/build_config.h\"\n\n...\n\n#if defined(OS_ANDROID)\n AppBannerManager* manager \u003d AppBannerManagerAndroid::FromWebContents(web_contents);\n#else\n AppBannerManager* manager \u003d AppBannerManagerDesktop::FromWebContents(web_contents);\n#end\n\n(and similar for the #include tags. chrome/browser/engagement/site_engagement_service.cc has an example of this exact pattern; it\u0027s reasonably common).",
      "range": {
        "startLine": 275,
        "startChar": 15,
        "endLine": 275,
        "endChar": 38
      },
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a031e8e4_bf756000",
        "filename": "chrome/browser/banners/app_banner_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 275,
      "author": {
        "id": 1174915
      },
      "writtenOn": "2017-11-30T09:51:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0048ddbc_4d283f3e",
      "range": {
        "startLine": 275,
        "startChar": 15,
        "endLine": 275,
        "endChar": 38
      },
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3cb1ab1_966399d7",
        "filename": "chrome/browser/banners/app_banner_manager.h",
        "patchSetId": 3
      },
      "lineNbr": 334,
      "author": {
        "id": 1186534
      },
      "writtenOn": "2017-11-30T05:51:53Z",
      "side": 1,
      "message": "Nit: This private can be deleted. :)",
      "range": {
        "startLine": 334,
        "startChar": 1,
        "endLine": 334,
        "endChar": 8
      },
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08e8da98_33299247",
        "filename": "chrome/browser/banners/app_banner_manager.h",
        "patchSetId": 3
      },
      "lineNbr": 334,
      "author": {
        "id": 1174915
      },
      "writtenOn": "2017-11-30T09:51:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3cb1ab1_966399d7",
      "range": {
        "startLine": 334,
        "startChar": 1,
        "endLine": 334,
        "endChar": 8
      },
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a8e929e1_64e333a5",
        "filename": "chrome/browser/ui/toolbar/app_menu_model.cc",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-11-30T07:52:34Z",
      "side": 1,
      "message": "is this used?",
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae10ee26_023a285a",
        "filename": "chrome/browser/ui/toolbar/app_menu_model.cc",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1174915
      },
      "writtenOn": "2017-11-30T09:51:57Z",
      "side": 1,
      "message": "It was; it is no longer. Removed.",
      "parentUuid": "a8e929e1_64e333a5",
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f48bb3d_d1d64b94",
        "filename": "chrome/browser/ui/toolbar/app_menu_model.cc",
        "patchSetId": 3
      },
      "lineNbr": 722,
      "author": {
        "id": 1002092
      },
      "writtenOn": "2017-11-30T07:52:34Z",
      "side": 1,
      "message": "I think AppMenuModel is cached on each browser window. It doesn\u0027t make sense to get the active web contents here, since it won\u0027t be rebuilt when the webcontents changes.\n\nI think you want IsItemForCommandIdDynamic and GetLabelForCommandId\n\nAlso AppMenuModel::UpdateZoomControls() checks for a valid tab_strip_model() -- do you need to do that?",
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76c90cf6_345f1bc0",
        "filename": "chrome/browser/ui/toolbar/app_menu_model.cc",
        "patchSetId": 3
      },
      "lineNbr": 722,
      "author": {
        "id": 1174915
      },
      "writtenOn": "2017-12-05T02:42:08Z",
      "side": 1,
      "message": "\u003e I think AppMenuModel is cached on each browser window\n\nThis doesn\u0027t match my experience testing this out manually (the menu is updated if I load a different site in an existing or new tab).  It also looks from the code like a new AppMenuModel is created each time the menu button is clicked:  see\n\n  https://cs.chromium.org/chromium/src/chrome/browser/ui/views/toolbar/app_menu_button.cc?rcl\u003d35dc4286e0ae33eb52d15c6fcffc4980140ec3c0\u0026l\u003d107\n\ncalled from\n\nhttps://cs.chromium.org/chromium/src/chrome/browser/ui/views/toolbar/toolbar_view.cc?rcl\u003d35dc4286e0ae33eb52d15c6fcffc4980140ec3c0\u0026l\u003d369\n\nMaking it dynamic therefore seems to be unnecessary; would you still prefer that I do it?",
      "parentUuid": "4f48bb3d_d1d64b94",
      "revId": "6eb54590ae87dcac25f918e62c4be1b50c84de10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}