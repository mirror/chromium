{
  "comments": [
    {
      "key": {
        "uuid": "1a44f2ac_c9adbfd7",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: Mebbe name this consistently with the similar param in CreateFilePathWriterDelegate()?  (Either name is fine, I just think it would be clearer to the reader if they matched, since they represent the same concept.)",
      "range": {
        "startLine": 37,
        "startChar": 43,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38ee985b_cdac7553",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: Please provide a brief docstring for this function.",
      "range": {
        "startLine": 37,
        "startChar": 5,
        "endLine": 37,
        "endChar": 20
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91eaa766_5578849e",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: Ditto",
      "range": {
        "startLine": 92,
        "startChar": 32,
        "endLine": 92,
        "endChar": 60
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b214bb14_c4b4ac20",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: Maybe order this so that it is adjacent to CreateDirectory?",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 1
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72aa9bbe_4f980027",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: It\u0027s a bit of a bummer to lose the extra info of which file failed to be opened.  Is it infeasible/too annoying to get a path from the |src_file| param?",
      "range": {
        "startLine": 195,
        "startChar": 37,
        "endLine": 195,
        "endChar": 45
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb60b158_6a2de58b",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1116066
      },
      "writtenOn": "2018-01-18T19:26:11Z",
      "side": 1,
      "message": "Yeah, unfortunately if we open the file descriptor out of process, we won\u0027t be able to trace it back to a file path. (Well, maybe we can on some platforms, but I\u0027d rather not write a bunch of platform-specific code for a DLOG.)",
      "parentUuid": "72aa9bbe_4f980027",
      "range": {
        "startLine": 195,
        "startChar": 37,
        "endLine": 195,
        "endChar": 45
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3df04007_99ffbb19",
        "filename": "third_party/zlib/google/zip.cc",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "This code is getting rather heavily nested, which makes it harder to follow IMO.  WDYT of extracting this portion out into a helper function?",
      "range": {
        "startLine": 199,
        "startChar": 0,
        "endLine": 222,
        "endChar": 5
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0127cbb_52c57976",
        "filename": "third_party/zlib/google/zip_reader.cc",
        "patchSetId": 1
      },
      "lineNbr": 292,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "Why does this compare against the Unix epoch specifically?  Is that documented in the ZIP file standard somewhere?\n\nI\u0027m a little unsure of what this is doing in general – why would we want to set non-current timestamps on the extracted files?  I think this is probably just a detail of how ZIP files work that I\u0027m not familiar with, so apologies for the ignorance!",
      "range": {
        "startLine": 292,
        "startChar": 59,
        "endLine": 292,
        "endChar": 68
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1460f314_11ea2a1b",
        "filename": "third_party/zlib/google/zip_reader.cc",
        "patchSetId": 1
      },
      "lineNbr": 292,
      "author": {
        "id": 1116066
      },
      "writtenOn": "2018-01-18T19:26:11Z",
      "side": 1,
      "message": "Usually entries in a ZIP file have a file-modified timestamp stored in them. Typical practice is to extract the file with that modified timestamp (and indeed, existing unit tests check that we do.) (Note: We will extract with the current time as the file _access_ time.) However, entries in the archive can lack this metadata altogether, which appears to be tested here with the UnixEpoch check - I think the implementation of this check is a detail of our underlying zip library, not of the file format, but to be honest, I just moved it from just had to move this code from old line :353 and would rather not modify it, even if the old way wasn\u0027t super readable.",
      "parentUuid": "f0127cbb_52c57976",
      "range": {
        "startLine": 292,
        "startChar": 59,
        "endLine": 292,
        "endChar": 68
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edb81b18_f79ec1ec",
        "filename": "third_party/zlib/google/zip_reader.cc",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: CodeSearch suggests that this code is unused...",
      "range": {
        "startLine": 299,
        "startChar": 0,
        "endLine": 300,
        "endChar": 51
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fe63dd2_bb001b13",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1170239
      },
      "writtenOn": "2018-01-16T22:02:30Z",
      "side": 1,
      "message": "this seems to be an additional feature. please also mention it in CL description, and add a unit test.",
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b290f67d_8d809f8e",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1116066
      },
      "writtenOn": "2018-01-18T19:26:11Z",
      "side": 1,
      "message": "This is actually an existing feature and is covered by existing unit tests; but previously it was done as a part of ExtractEntryIntoDirectory, and now has to be done by the delegate (because how we do it differs depending on whether we have a file path or file descriptor).",
      "parentUuid": "5fe63dd2_bb001b13",
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a93e770_b0ff927e",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "Optional nit: I\u0027d omit this newline.",
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb3e659a_285fe414",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-12T21:58:26Z",
      "side": 1,
      "message": "nit: Mebbe document how these two member vars are used / how they differ?",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 285,
        "endChar": 42
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "020c82ef_f9e6c850",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1170239
      },
      "writtenOn": "2018-01-16T22:02:30Z",
      "side": 1,
      "message": "+1. Is it possible to unify them into one member (and one constructor, instead of two)",
      "parentUuid": "cb3e659a_285fe414",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 285,
        "endChar": 42
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4db301d9_c5f0ad89",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1116066
      },
      "writtenOn": "2018-01-18T19:26:11Z",
      "side": 1,
      "message": "Yeah this is definitely the worst part of this CL. The issue is this: some call sites that use a FileWriterDelegate need to retain ownership of the base::File, but the new call sites won\u0027t (because they don\u0027t survive as long as the FileWriterDelegate does).\n\nA couple other solutions would be:\n(1) Push the problem to the call site: in this case we\u0027ll wind up keeping some sort of table of file descriptors to destroy... somewhere (?)\n(2) Create a OwnedFileWriterDelegate, which will contain a FileWriterDelegate to dispatch most operations to, as well as a unique_ptr for owned_file_.\n\nDoes (2) sound OK to you?",
      "parentUuid": "020c82ef_f9e6c850",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 285,
        "endChar": 42
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7332768e_d854ba74",
        "filename": "third_party/zlib/google/zip_reader.h",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1002410
      },
      "writtenOn": "2018-01-18T21:13:01Z",
      "side": 1,
      "message": "I\u0027m personally ok with the current approach plus documentation.  I\u0027m also ok with (2) if others prefer it.",
      "parentUuid": "4db301d9_c5f0ad89",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 285,
        "endChar": 42
      },
      "revId": "cb458e1734f9115fc5da9c8acecfd0cdf91856df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}