{
  "comments": [
    {
      "key": {
        "uuid": "935604a8_ccea506a",
        "filename": "third_party/WebKit/Source/core/dom/DocumentWriteIntervention.cpp",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2017-10-17T03:09:39Z",
      "side": 1,
      "message": "This CL doesn\u0027t hold a reference to ScriptResource, just like the previous code doesn\u0027t hold a reference to the newly created ScriptLoader in FetchBlockedDocWriteScript() in HTMLParserScriptRunner. Resource loading is kept alive because no one cancels it, right?",
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cf2d7a9_7b149f1b",
        "filename": "third_party/WebKit/Source/core/dom/DocumentWriteIntervention.cpp",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 1115949
      },
      "writtenOn": "2017-10-17T03:56:44Z",
      "side": 1,
      "message": "If the intention is only to send GET, Can we avoid full ScriptResource::Fetch?\n(If so, please just leave a comment)",
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef7c1be9_6ed50b60",
        "filename": "third_party/WebKit/Source/core/dom/DocumentWriteIntervention.cpp",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2017-10-17T20:35:42Z",
      "side": 1,
      "message": "Then, what should we use instead of ScriptResource::Fetch()?\n\nIIUC the intention is only to send GET and fill a disk cache entry.\n(According to the original implementation this does NOT intend to fill a MemoryCache entry)",
      "parentUuid": "0cf2d7a9_7b149f1b",
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7abba427_3870acdb",
        "filename": "third_party/WebKit/Source/core/dom/DocumentWriteIntervention.cpp",
        "patchSetId": 5
      },
      "lineNbr": 233,
      "author": {
        "id": 1115949
      },
      "writtenOn": "2017-10-19T16:29:13Z",
      "side": 1,
      "message": "IIUC, the intention is to send GET to notify the page authors.\nIdeally we don\u0027t even want to fill disk cache.\n\nI was wondering if we could move this to use RawResource::Fetch or PingLoader or some other generic \"report-only\" fetch.",
      "parentUuid": "ef7c1be9_6ed50b60",
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a28d9aba_01896ee0",
        "filename": "third_party/WebKit/Source/core/dom/DocumentWriteIntervention.h",
        "patchSetId": 5
      },
      "lineNbr": 52,
      "author": {
        "id": 1114080
      },
      "writtenOn": "2017-10-18T10:33:36Z",
      "side": 1,
      "message": "Is just returning ScriptOwner\u003cScriptResource\u003e enough?",
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e9e9e5c_8492dcd4",
        "filename": "third_party/WebKit/Source/core/dom/ScriptLoader.cpp",
        "patchSetId": 5
      },
      "lineNbr": 742,
      "author": {
        "id": 1114080
      },
      "writtenOn": "2017-10-18T10:33:36Z",
      "side": 1,
      "message": "client_for_intervention is not strongly referenced by anyone, so it will be collected, right?",
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0a9a7b2_4b28d393",
        "filename": "third_party/WebKit/Source/core/html/parser/PreloadRequest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1115949
      },
      "writtenOn": "2017-10-17T03:56:44Z",
      "side": 1,
      "message": "Why is this code (L113-117) needed?",
      "range": {
        "startLine": 114,
        "startChar": 48,
        "endLine": 114,
        "endChar": 49
      },
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "348be46c_8387c650",
        "filename": "third_party/WebKit/Source/core/html/parser/PreloadRequest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1115924
      },
      "writtenOn": "2017-10-17T20:35:42Z",
      "side": 1,
      "message": "This is to intervene preloading request as well (|params| is modified).",
      "parentUuid": "c0a9a7b2_4b28d393",
      "range": {
        "startLine": 114,
        "startChar": 48,
        "endLine": 114,
        "endChar": 49
      },
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c231006_462e931a",
        "filename": "third_party/WebKit/Source/core/html/parser/PreloadRequest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 114,
      "author": {
        "id": 1115949
      },
      "writtenOn": "2017-10-19T16:29:13Z",
      "side": 1,
      "message": "Thanks for clarifying.\nCodesearched and now I understand. We run HTMLPreloadScanner for document.write contents, and this block forbids preloading script from that.",
      "parentUuid": "348be46c_8387c650",
      "range": {
        "startLine": 114,
        "startChar": 48,
        "endLine": 114,
        "endChar": 49
      },
      "revId": "f1802ec88edb207bb0a29440cb6613c2452fee76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}