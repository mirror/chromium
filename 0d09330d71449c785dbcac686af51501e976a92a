{
  "comments": [
    {
      "key": {
        "uuid": "a8ff5cae_fefc9ff2",
        "filename": "content/browser/renderer_host/media/audio_input_sync_writer.h",
        "patchSetId": 4
      },
      "lineNbr": 170,
      "author": {
        "id": 1153409
      },
      "writtenOn": "2017-08-08T15:22:59Z",
      "side": 1,
      "message": "nit: As a parameter |capture_time| is passed after |key_pressed| everywhere. It would be easier on the eyes if the member order in the struct matches the parameter order. (Up to you)",
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1c4ae2c_328003d5",
        "filename": "media/audio/alsa/alsa_input.cc",
        "patchSetId": 4
      },
      "lineNbr": 221,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2017-08-08T01:57:37Z",
      "side": 1,
      "message": "Should this Now() call be made up on L207? I ask just in case there are locks or other significant time-consuming operations.\n\nAlso, it seems this loop could call OnData() multiple times. Should |capture_time| be incremented for each loop, like you did for the other platform glue?",
      "range": {
        "startLine": 221,
        "startChar": 24,
        "endLine": 221,
        "endChar": 46
      },
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b4c642b_ae191095",
        "filename": "media/audio/audio_input_device.cc",
        "patchSetId": 4
      },
      "lineNbr": 445,
      "author": {
        "id": 1153409
      },
      "writtenOn": "2017-08-08T15:22:59Z",
      "side": 1,
      "message": "DCHECK_GE(base::TimeTicks::Now(), capture_time)?",
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab2019da_fd7d60dc",
        "filename": "media/audio/audio_io.h",
        "patchSetId": 4
      },
      "lineNbr": 123,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2017-08-08T01:57:37Z",
      "side": 1,
      "message": "For exactness, can we state that this is the time at which the first sample in the |source| bus was received? (And, are we actually doing that in the platform impls?)",
      "range": {
        "startLine": 123,
        "startChar": 43,
        "endLine": 123,
        "endChar": 57
      },
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b7188f36_6d638dba",
        "filename": "media/audio/audio_io.h",
        "patchSetId": 4
      },
      "lineNbr": 123,
      "author": {
        "id": 1153409
      },
      "writtenOn": "2017-08-08T15:22:59Z",
      "side": 1,
      "message": "Is |capture_time| guaranteed to be monotonic? Could you add that to the comment?",
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9175cb2f_6e670e61",
        "filename": "media/audio/cras/cras_input.cc",
        "patchSetId": 4
      },
      "lineNbr": 301,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2017-08-08T01:57:37Z",
      "side": 1,
      "message": "nit: As I\u0027ve been cleaning up time code elsewhere in the code base (recent fixits), I\u0027ve been adding a comment and DCHECK() when we assume a platform timestamp is from the same clock as TimeTicks\u0027, mostly for documentative purposes. Example: https://cs.chromium.org/chromium/src/ui/ozone/platform/drm/gpu/drm_device.cc?rcl\u003d9cd680e72a411c5a565098251d42863c43aef17f\u0026l\u003d100\n\nIMHO, this is not an issue in Win/Mac code since base::TimeTicks provides a QPC/MachAbsoluteTime converter for that; and using those methods makes the code self-documented.",
      "range": {
        "startLine": 301,
        "startChar": 26,
        "endLine": 301,
        "endChar": 67
      },
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce942fc8_7f5f5233",
        "filename": "media/audio/mac/audio_low_latency_input_mac.cc",
        "patchSetId": 4
      },
      "lineNbr": 1096,
      "author": {
        "id": 1153409
      },
      "writtenOn": "2017-08-08T15:22:59Z",
      "side": 1,
      "message": "This is very helpful!",
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18f77c98_6c738de1",
        "filename": "media/audio/win/audio_low_latency_input_win.cc",
        "patchSetId": 4
      },
      "lineNbr": 421,
      "author": {
        "id": 1153409
      },
      "writtenOn": "2017-08-08T15:22:59Z",
      "side": 1,
      "message": "So, we do not have a guarantee that |capture_time| is monotonic?",
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2935730_d6be0e67",
        "filename": "media/base/audio_parameters.h",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2017-08-08T01:57:37Z",
      "side": 1,
      "message": "Thinking a bit about this: What happens if you use base::TimeTicks instead of the int64_t here? I could be misunderstanding something, but since these are direct read/writes on shared memory, it should \"just work\" right? This would save you from having to convert in AudioInputSyncWriter.\n\nGranted, I can see a concern about whether base::TimeTicks\u0027 internal representation is changed to something other than POD in the future (e.g., a pointer to some other struct), which could break this code. Either way, I\u0027ll need to consider this serialization use case in my fixit crbug (getting rid of To/FromInternalValue()).",
      "range": {
        "startLine": 38,
        "startChar": 2,
        "endLine": 38,
        "endChar": 22
      },
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "428dd993_f8b59e4a",
        "filename": "media/base/audio_parameters.h",
        "patchSetId": 4
      },
      "lineNbr": 38,
      "author": {
        "id": 1153409
      },
      "writtenOn": "2017-08-08T15:22:59Z",
      "side": 1,
      "message": "|capture_time_microseconds| is a bit ugly but much more informative, and would help to avoid/catch bugs when wrong precision is used.",
      "revId": "0d09330d71449c785dbcac686af51501e976a92a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}